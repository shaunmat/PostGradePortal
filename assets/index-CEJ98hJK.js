var B0=Object.defineProperty;var vm=ot=>{throw TypeError(ot)};var U0=(ot,rt,at)=>rt in ot?B0(ot,rt,{enumerable:!0,configurable:!0,writable:!0,value:at}):ot[rt]=at;var zr=(ot,rt,at)=>U0(ot,typeof rt!="symbol"?rt+"":rt,at),gp=(ot,rt,at)=>rt.has(ot)||vm("Cannot "+at);var Ft=(ot,rt,at)=>(gp(ot,rt,"read from private field"),at?at.call(ot):rt.get(ot)),Wn=(ot,rt,at)=>rt.has(ot)?vm("Cannot add the same private member more than once"):rt instanceof WeakSet?rt.add(ot):rt.set(ot,at),qn=(ot,rt,at,lt)=>(gp(ot,rt,"write to private field"),lt?lt.call(ot,at):rt.set(ot,at),at),On=(ot,rt,at)=>(gp(ot,rt,"access private method"),at);var xu=(ot,rt,at,lt)=>({set _(ct){qn(ot,rt,ct,at)},get _(){return Ft(ot,rt,lt)}});import require$$0 from"apexcharts";function _mergeNamespaces(ot,rt){for(var at=0;at<rt.length;at++){const lt=rt[at];if(typeof lt!="string"&&!Array.isArray(lt)){for(const ct in lt)if(ct!=="default"&&!(ct in ot)){const ut=Object.getOwnPropertyDescriptor(lt,ct);ut&&Object.defineProperty(ot,ct,ut.get?ut:{enumerable:!0,get:()=>lt[ct]})}}}return Object.freeze(Object.defineProperty(ot,Symbol.toStringTag,{value:"Module"}))}(function(){const rt=document.createElement("link").relList;if(rt&&rt.supports&&rt.supports("modulepreload"))return;for(const ct of document.querySelectorAll('link[rel="modulepreload"]'))lt(ct);new MutationObserver(ct=>{for(const ut of ct)if(ut.type==="childList")for(const dt of ut.addedNodes)dt.tagName==="LINK"&&dt.rel==="modulepreload"&&lt(dt)}).observe(document,{childList:!0,subtree:!0});function at(ct){const ut={};return ct.integrity&&(ut.integrity=ct.integrity),ct.referrerPolicy&&(ut.referrerPolicy=ct.referrerPolicy),ct.crossOrigin==="use-credentials"?ut.credentials="include":ct.crossOrigin==="anonymous"?ut.credentials="omit":ut.credentials="same-origin",ut}function lt(ct){if(ct.ep)return;ct.ep=!0;const ut=at(ct);fetch(ct.href,ut)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ot){return ot&&ot.__esModule&&Object.prototype.hasOwnProperty.call(ot,"default")?ot.default:ot}function getAugmentedNamespace(ot){if(ot.__esModule)return ot;var rt=ot.default;if(typeof rt=="function"){var at=function lt(){return this instanceof lt?Reflect.construct(rt,arguments,this.constructor):rt.apply(this,arguments)};at.prototype=rt.prototype}else at={};return Object.defineProperty(at,"__esModule",{value:!0}),Object.keys(ot).forEach(function(lt){var ct=Object.getOwnPropertyDescriptor(ot,lt);Object.defineProperty(at,lt,ct.get?ct:{enumerable:!0,get:function(){return ot[lt]}})}),at}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$5=Symbol.for("react.fragment"),q$4=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$5=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(ot){return ot===null||typeof ot!="object"?null:(ot=z$4&&ot[z$4]||ot["@@iterator"],typeof ot=="function"?ot:null)}var B$5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$6=Object.assign,D$6={};function E$3(ot,rt,at){this.props=ot,this.context=rt,this.refs=D$6,this.updater=at||B$5}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(ot,rt){if(typeof ot!="object"&&typeof ot!="function"&&ot!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ot,rt,"setState")};E$3.prototype.forceUpdate=function(ot){this.updater.enqueueForceUpdate(this,ot,"forceUpdate")};function F$3(){}F$3.prototype=E$3.prototype;function G$4(ot,rt,at){this.props=ot,this.context=rt,this.refs=D$6,this.updater=at||B$5}var H$5=G$4.prototype=new F$3;H$5.constructor=G$4;C$6(H$5,E$3.prototype);H$5.isPureReactComponent=!0;var I$5=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$5={key:!0,ref:!0,__self:!0,__source:!0};function M$4(ot,rt,at){var lt,ct={},ut=null,dt=null;if(rt!=null)for(lt in rt.ref!==void 0&&(dt=rt.ref),rt.key!==void 0&&(ut=""+rt.key),rt)J$2.call(rt,lt)&&!L$5.hasOwnProperty(lt)&&(ct[lt]=rt[lt]);var ht=arguments.length-2;if(ht===1)ct.children=at;else if(1<ht){for(var ft=Array(ht),pt=0;pt<ht;pt++)ft[pt]=arguments[pt+2];ct.children=ft}if(ot&&ot.defaultProps)for(lt in ht=ot.defaultProps,ht)ct[lt]===void 0&&(ct[lt]=ht[lt]);return{$$typeof:l$4,type:ot,key:ut,ref:dt,props:ct,_owner:K$3.current}}function N$4(ot,rt){return{$$typeof:l$4,type:ot.type,key:rt,ref:ot.ref,props:ot.props,_owner:ot._owner}}function O$4(ot){return typeof ot=="object"&&ot!==null&&ot.$$typeof===l$4}function escape$1(ot){var rt={"=":"=0",":":"=2"};return"$"+ot.replace(/[=:]/g,function(at){return rt[at]})}var P$5=/\/+/g;function Q$4(ot,rt){return typeof ot=="object"&&ot!==null&&ot.key!=null?escape$1(""+ot.key):rt.toString(36)}function R$3(ot,rt,at,lt,ct){var ut=typeof ot;(ut==="undefined"||ut==="boolean")&&(ot=null);var dt=!1;if(ot===null)dt=!0;else switch(ut){case"string":case"number":dt=!0;break;case"object":switch(ot.$$typeof){case l$4:case n$3:dt=!0}}if(dt)return dt=ot,ct=ct(dt),ot=lt===""?"."+Q$4(dt,0):lt,I$5(ct)?(at="",ot!=null&&(at=ot.replace(P$5,"$&/")+"/"),R$3(ct,rt,at,"",function(pt){return pt})):ct!=null&&(O$4(ct)&&(ct=N$4(ct,at+(!ct.key||dt&&dt.key===ct.key?"":(""+ct.key).replace(P$5,"$&/")+"/")+ot)),rt.push(ct)),1;if(dt=0,lt=lt===""?".":lt+":",I$5(ot))for(var ht=0;ht<ot.length;ht++){ut=ot[ht];var ft=lt+Q$4(ut,ht);dt+=R$3(ut,rt,at,ft,ct)}else if(ft=A$4(ot),typeof ft=="function")for(ot=ft.call(ot),ht=0;!(ut=ot.next()).done;)ut=ut.value,ft=lt+Q$4(ut,ht++),dt+=R$3(ut,rt,at,ft,ct);else if(ut==="object")throw rt=String(ot),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(ot).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.");return dt}function S$5(ot,rt,at){if(ot==null)return ot;var lt=[],ct=0;return R$3(ot,lt,"","",function(ut){return rt.call(at,ut,ct++)}),lt}function T$5(ot){if(ot._status===-1){var rt=ot._result;rt=rt(),rt.then(function(at){(ot._status===0||ot._status===-1)&&(ot._status=1,ot._result=at)},function(at){(ot._status===0||ot._status===-1)&&(ot._status=2,ot._result=at)}),ot._status===-1&&(ot._status=0,ot._result=rt)}if(ot._status===1)return ot._result.default;throw ot._result}var U$3={current:null},V$3={transition:null},W$2={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$2(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$5,forEach:function(ot,rt,at){S$5(ot,function(){rt.apply(this,arguments)},at)},count:function(ot){var rt=0;return S$5(ot,function(){rt++}),rt},toArray:function(ot){return S$5(ot,function(rt){return rt})||[]},only:function(ot){if(!O$4(ot))throw Error("React.Children.only expected to receive a single React element child.");return ot}};react_production_min.Component=E$3;react_production_min.Fragment=p$5;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$4;react_production_min.Suspense=w$5;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$2;react_production_min.act=X$2;react_production_min.cloneElement=function(ot,rt,at){if(ot==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ot+".");var lt=C$6({},ot.props),ct=ot.key,ut=ot.ref,dt=ot._owner;if(rt!=null){if(rt.ref!==void 0&&(ut=rt.ref,dt=K$3.current),rt.key!==void 0&&(ct=""+rt.key),ot.type&&ot.type.defaultProps)var ht=ot.type.defaultProps;for(ft in rt)J$2.call(rt,ft)&&!L$5.hasOwnProperty(ft)&&(lt[ft]=rt[ft]===void 0&&ht!==void 0?ht[ft]:rt[ft])}var ft=arguments.length-2;if(ft===1)lt.children=at;else if(1<ft){ht=Array(ft);for(var pt=0;pt<ft;pt++)ht[pt]=arguments[pt+2];lt.children=ht}return{$$typeof:l$4,type:ot.type,key:ct,ref:ut,props:lt,_owner:dt}};react_production_min.createContext=function(ot){return ot={$$typeof:u$4,_currentValue:ot,_currentValue2:ot,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ot.Provider={$$typeof:t$2,_context:ot},ot.Consumer=ot};react_production_min.createElement=M$4;react_production_min.createFactory=function(ot){var rt=M$4.bind(null,ot);return rt.type=ot,rt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ot){return{$$typeof:v$6,render:ot}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(ot){return{$$typeof:y$3,_payload:{_status:-1,_result:ot},_init:T$5}};react_production_min.memo=function(ot,rt){return{$$typeof:x$4,type:ot,compare:rt===void 0?null:rt}};react_production_min.startTransition=function(ot){var rt=V$3.transition;V$3.transition={};try{ot()}finally{V$3.transition=rt}};react_production_min.unstable_act=X$2;react_production_min.useCallback=function(ot,rt){return U$3.current.useCallback(ot,rt)};react_production_min.useContext=function(ot){return U$3.current.useContext(ot)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ot){return U$3.current.useDeferredValue(ot)};react_production_min.useEffect=function(ot,rt){return U$3.current.useEffect(ot,rt)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(ot,rt,at){return U$3.current.useImperativeHandle(ot,rt,at)};react_production_min.useInsertionEffect=function(ot,rt){return U$3.current.useInsertionEffect(ot,rt)};react_production_min.useLayoutEffect=function(ot,rt){return U$3.current.useLayoutEffect(ot,rt)};react_production_min.useMemo=function(ot,rt){return U$3.current.useMemo(ot,rt)};react_production_min.useReducer=function(ot,rt,at){return U$3.current.useReducer(ot,rt,at)};react_production_min.useRef=function(ot){return U$3.current.useRef(ot)};react_production_min.useState=function(ot){return U$3.current.useState(ot)};react_production_min.useSyncExternalStore=function(ot,rt,at){return U$3.current.useSyncExternalStore(ot,rt,at)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$4=reactExports,k$4=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$2=f$4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$4={key:!0,ref:!0,__self:!0,__source:!0};function q$3(ot,rt,at){var lt,ct={},ut=null,dt=null;at!==void 0&&(ut=""+at),rt.key!==void 0&&(ut=""+rt.key),rt.ref!==void 0&&(dt=rt.ref);for(lt in rt)m$5.call(rt,lt)&&!p$4.hasOwnProperty(lt)&&(ct[lt]=rt[lt]);if(ot&&ot.defaultProps)for(lt in rt=ot.defaultProps,rt)ct[lt]===void 0&&(ct[lt]=rt[lt]);return{$$typeof:k$4,type:ot,key:ut,ref:dt,props:ct,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$3;reactJsxRuntime_production_min.jsxs=q$3;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ot){function rt(sn,Gt){var Wt=sn.length;sn.push(Gt);e:for(;0<Wt;){var pn=Wt-1>>>1,rn=sn[pn];if(0<ct(rn,Gt))sn[pn]=Gt,sn[Wt]=rn,Wt=pn;else break e}}function at(sn){return sn.length===0?null:sn[0]}function lt(sn){if(sn.length===0)return null;var Gt=sn[0],Wt=sn.pop();if(Wt!==Gt){sn[0]=Wt;e:for(var pn=0,rn=sn.length,Vt=rn>>>1;pn<Vt;){var $t=2*(pn+1)-1,Xt=sn[$t],Zt=$t+1,Jt=sn[Zt];if(0>ct(Xt,Wt))Zt<rn&&0>ct(Jt,Xt)?(sn[pn]=Jt,sn[Zt]=Wt,pn=Zt):(sn[pn]=Xt,sn[$t]=Wt,pn=$t);else if(Zt<rn&&0>ct(Jt,Wt))sn[pn]=Jt,sn[Zt]=Wt,pn=Zt;else break e}}return Gt}function ct(sn,Gt){var Wt=sn.sortIndex-Gt.sortIndex;return Wt!==0?Wt:sn.id-Gt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ut=performance;ot.unstable_now=function(){return ut.now()}}else{var dt=Date,ht=dt.now();ot.unstable_now=function(){return dt.now()-ht}}var ft=[],pt=[],mt=1,gt=null,yt=3,xt=!1,bt=!1,Et=!1,Rt=typeof setTimeout=="function"?setTimeout:null,wt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function At(sn){for(var Gt=at(pt);Gt!==null;){if(Gt.callback===null)lt(pt);else if(Gt.startTime<=sn)lt(pt),Gt.sortIndex=Gt.expirationTime,rt(ft,Gt);else break;Gt=at(pt)}}function kt(sn){if(Et=!1,At(sn),!bt)if(at(ft)!==null)bt=!0,qt(It);else{var Gt=at(pt);Gt!==null&&Kt(kt,Gt.startTime-sn)}}function It(sn,Gt){bt=!1,Et&&(Et=!1,wt(Tt),Tt=-1),xt=!0;var Wt=yt;try{for(At(Gt),gt=at(ft);gt!==null&&(!(gt.expirationTime>Gt)||sn&&!Dt());){var pn=gt.callback;if(typeof pn=="function"){gt.callback=null,yt=gt.priorityLevel;var rn=pn(gt.expirationTime<=Gt);Gt=ot.unstable_now(),typeof rn=="function"?gt.callback=rn:gt===at(ft)&&lt(ft),At(Gt)}else lt(ft);gt=at(ft)}if(gt!==null)var Vt=!0;else{var $t=at(pt);$t!==null&&Kt(kt,$t.startTime-Gt),Vt=!1}return Vt}finally{gt=null,yt=Wt,xt=!1}}var Nt=!1,Pt=null,Tt=-1,Ct=5,Ot=-1;function Dt(){return!(ot.unstable_now()-Ot<Ct)}function jt(){if(Pt!==null){var sn=ot.unstable_now();Ot=sn;var Gt=!0;try{Gt=Pt(!0,sn)}finally{Gt?Mt():(Nt=!1,Pt=null)}}else Nt=!1}var Mt;if(typeof _t=="function")Mt=function(){_t(jt)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,Qt=zt.port2;zt.port1.onmessage=jt,Mt=function(){Qt.postMessage(null)}}else Mt=function(){Rt(jt,0)};function qt(sn){Pt=sn,Nt||(Nt=!0,Mt())}function Kt(sn,Gt){Tt=Rt(function(){sn(ot.unstable_now())},Gt)}ot.unstable_IdlePriority=5,ot.unstable_ImmediatePriority=1,ot.unstable_LowPriority=4,ot.unstable_NormalPriority=3,ot.unstable_Profiling=null,ot.unstable_UserBlockingPriority=2,ot.unstable_cancelCallback=function(sn){sn.callback=null},ot.unstable_continueExecution=function(){bt||xt||(bt=!0,qt(It))},ot.unstable_forceFrameRate=function(sn){0>sn||125<sn?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ct=0<sn?Math.floor(1e3/sn):5},ot.unstable_getCurrentPriorityLevel=function(){return yt},ot.unstable_getFirstCallbackNode=function(){return at(ft)},ot.unstable_next=function(sn){switch(yt){case 1:case 2:case 3:var Gt=3;break;default:Gt=yt}var Wt=yt;yt=Gt;try{return sn()}finally{yt=Wt}},ot.unstable_pauseExecution=function(){},ot.unstable_requestPaint=function(){},ot.unstable_runWithPriority=function(sn,Gt){switch(sn){case 1:case 2:case 3:case 4:case 5:break;default:sn=3}var Wt=yt;yt=sn;try{return Gt()}finally{yt=Wt}},ot.unstable_scheduleCallback=function(sn,Gt,Wt){var pn=ot.unstable_now();switch(typeof Wt=="object"&&Wt!==null?(Wt=Wt.delay,Wt=typeof Wt=="number"&&0<Wt?pn+Wt:pn):Wt=pn,sn){case 1:var rn=-1;break;case 2:rn=250;break;case 5:rn=1073741823;break;case 4:rn=1e4;break;default:rn=5e3}return rn=Wt+rn,sn={id:mt++,callback:Gt,priorityLevel:sn,startTime:Wt,expirationTime:rn,sortIndex:-1},Wt>pn?(sn.sortIndex=Wt,rt(pt,sn),at(ft)===null&&sn===at(pt)&&(Et?(wt(Tt),Tt=-1):Et=!0,Kt(kt,Wt-pn))):(sn.sortIndex=rn,rt(ft,sn),bt||xt||(bt=!0,qt(It))),sn},ot.unstable_shouldYield=Dt,ot.unstable_wrapCallback=function(sn){var Gt=yt;return function(){var Wt=yt;yt=Gt;try{return sn.apply(this,arguments)}finally{yt=Wt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$3(ot){for(var rt="https://reactjs.org/docs/error-decoder.html?invariant="+ot,at=1;at<arguments.length;at++)rt+="&args[]="+encodeURIComponent(arguments[at]);return"Minified React error #"+ot+"; visit "+rt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(ot,rt){ha(ot,rt),ha(ot+"Capture",rt)}function ha(ot,rt){for(ea[ot]=rt,ot=0;ot<rt.length;ot++)da.add(rt[ot])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(ot){return ja.call(ma,ot)?!0:ja.call(la,ot)?!1:ka.test(ot)?ma[ot]=!0:(la[ot]=!0,!1)}function pa(ot,rt,at,lt){if(at!==null&&at.type===0)return!1;switch(typeof rt){case"function":case"symbol":return!0;case"boolean":return lt?!1:at!==null?!at.acceptsBooleans:(ot=ot.toLowerCase().slice(0,5),ot!=="data-"&&ot!=="aria-");default:return!1}}function qa(ot,rt,at,lt){if(rt===null||typeof rt>"u"||pa(ot,rt,at,lt))return!0;if(lt)return!1;if(at!==null)switch(at.type){case 3:return!rt;case 4:return rt===!1;case 5:return isNaN(rt);case 6:return isNaN(rt)||1>rt}return!1}function v$5(ot,rt,at,lt,ct,ut,dt){this.acceptsBooleans=rt===2||rt===3||rt===4,this.attributeName=lt,this.attributeNamespace=ct,this.mustUseProperty=at,this.propertyName=ot,this.type=rt,this.sanitizeURL=ut,this.removeEmptyString=dt}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ot){z$3[ot]=new v$5(ot,0,!1,ot,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ot){var rt=ot[0];z$3[rt]=new v$5(rt,1,!1,ot[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ot){z$3[ot]=new v$5(ot,2,!1,ot.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ot){z$3[ot]=new v$5(ot,2,!1,ot,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ot){z$3[ot]=new v$5(ot,3,!1,ot.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ot){z$3[ot]=new v$5(ot,3,!0,ot,null,!1,!1)});["capture","download"].forEach(function(ot){z$3[ot]=new v$5(ot,4,!1,ot,null,!1,!1)});["cols","rows","size","span"].forEach(function(ot){z$3[ot]=new v$5(ot,6,!1,ot,null,!1,!1)});["rowSpan","start"].forEach(function(ot){z$3[ot]=new v$5(ot,5,!1,ot.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(ot){return ot[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ot){var rt=ot.replace(ra,sa);z$3[rt]=new v$5(rt,1,!1,ot,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ot){var rt=ot.replace(ra,sa);z$3[rt]=new v$5(rt,1,!1,ot,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ot){var rt=ot.replace(ra,sa);z$3[rt]=new v$5(rt,1,!1,ot,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ot){z$3[ot]=new v$5(ot,1,!1,ot.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$5("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ot){z$3[ot]=new v$5(ot,1,!1,ot.toLowerCase(),null,!0,!0)});function ta(ot,rt,at,lt){var ct=z$3.hasOwnProperty(rt)?z$3[rt]:null;(ct!==null?ct.type!==0:lt||!(2<rt.length)||rt[0]!=="o"&&rt[0]!=="O"||rt[1]!=="n"&&rt[1]!=="N")&&(qa(rt,at,ct,lt)&&(at=null),lt||ct===null?oa(rt)&&(at===null?ot.removeAttribute(rt):ot.setAttribute(rt,""+at)):ct.mustUseProperty?ot[ct.propertyName]=at===null?ct.type===3?!1:"":at:(rt=ct.attributeName,lt=ct.attributeNamespace,at===null?ot.removeAttribute(rt):(ct=ct.type,at=ct===3||ct===4&&at===!0?"":""+at,lt?ot.setAttributeNS(lt,rt,at):ot.setAttribute(rt,at))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(ot){return ot===null||typeof ot!="object"?null:(ot=Ja&&ot[Ja]||ot["@@iterator"],typeof ot=="function"?ot:null)}var A$3=Object.assign,La;function Ma(ot){if(La===void 0)try{throw Error()}catch(at){var rt=at.stack.trim().match(/\n( *(at )?)/);La=rt&&rt[1]||""}return`
`+La+ot}var Na=!1;function Oa(ot,rt){if(!ot||Na)return"";Na=!0;var at=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(rt)if(rt=function(){throw Error()},Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(pt){var lt=pt}Reflect.construct(ot,[],rt)}else{try{rt.call()}catch(pt){lt=pt}ot.call(rt.prototype)}else{try{throw Error()}catch(pt){lt=pt}ot()}}catch(pt){if(pt&&lt&&typeof pt.stack=="string"){for(var ct=pt.stack.split(`
`),ut=lt.stack.split(`
`),dt=ct.length-1,ht=ut.length-1;1<=dt&&0<=ht&&ct[dt]!==ut[ht];)ht--;for(;1<=dt&&0<=ht;dt--,ht--)if(ct[dt]!==ut[ht]){if(dt!==1||ht!==1)do if(dt--,ht--,0>ht||ct[dt]!==ut[ht]){var ft=`
`+ct[dt].replace(" at new "," at ");return ot.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",ot.displayName)),ft}while(1<=dt&&0<=ht);break}}}finally{Na=!1,Error.prepareStackTrace=at}return(ot=ot?ot.displayName||ot.name:"")?Ma(ot):""}function Pa(ot){switch(ot.tag){case 5:return Ma(ot.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ot=Oa(ot.type,!1),ot;case 11:return ot=Oa(ot.type.render,!1),ot;case 1:return ot=Oa(ot.type,!0),ot;default:return""}}function Qa(ot){if(ot==null)return null;if(typeof ot=="function")return ot.displayName||ot.name||null;if(typeof ot=="string")return ot;switch(ot){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof ot=="object")switch(ot.$$typeof){case Ca:return(ot.displayName||"Context")+".Consumer";case Ba:return(ot._context.displayName||"Context")+".Provider";case Da:var rt=ot.render;return ot=ot.displayName,ot||(ot=rt.displayName||rt.name||"",ot=ot!==""?"ForwardRef("+ot+")":"ForwardRef"),ot;case Ga:return rt=ot.displayName||null,rt!==null?rt:Qa(ot.type)||"Memo";case Ha:rt=ot._payload,ot=ot._init;try{return Qa(ot(rt))}catch{}}return null}function Ra(ot){var rt=ot.type;switch(ot.tag){case 24:return"Cache";case 9:return(rt.displayName||"Context")+".Consumer";case 10:return(rt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ot=rt.render,ot=ot.displayName||ot.name||"",rt.displayName||(ot!==""?"ForwardRef("+ot+")":"ForwardRef");case 7:return"Fragment";case 5:return rt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(rt);case 8:return rt===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof rt=="function")return rt.displayName||rt.name||null;if(typeof rt=="string")return rt}return null}function Sa(ot){switch(typeof ot){case"boolean":case"number":case"string":case"undefined":return ot;case"object":return ot;default:return""}}function Ta(ot){var rt=ot.type;return(ot=ot.nodeName)&&ot.toLowerCase()==="input"&&(rt==="checkbox"||rt==="radio")}function Ua(ot){var rt=Ta(ot)?"checked":"value",at=Object.getOwnPropertyDescriptor(ot.constructor.prototype,rt),lt=""+ot[rt];if(!ot.hasOwnProperty(rt)&&typeof at<"u"&&typeof at.get=="function"&&typeof at.set=="function"){var ct=at.get,ut=at.set;return Object.defineProperty(ot,rt,{configurable:!0,get:function(){return ct.call(this)},set:function(dt){lt=""+dt,ut.call(this,dt)}}),Object.defineProperty(ot,rt,{enumerable:at.enumerable}),{getValue:function(){return lt},setValue:function(dt){lt=""+dt},stopTracking:function(){ot._valueTracker=null,delete ot[rt]}}}}function Va(ot){ot._valueTracker||(ot._valueTracker=Ua(ot))}function Wa(ot){if(!ot)return!1;var rt=ot._valueTracker;if(!rt)return!0;var at=rt.getValue(),lt="";return ot&&(lt=Ta(ot)?ot.checked?"true":"false":ot.value),ot=lt,ot!==at?(rt.setValue(ot),!0):!1}function Xa(ot){if(ot=ot||(typeof document<"u"?document:void 0),typeof ot>"u")return null;try{return ot.activeElement||ot.body}catch{return ot.body}}function Ya(ot,rt){var at=rt.checked;return A$3({},rt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:at??ot._wrapperState.initialChecked})}function Za(ot,rt){var at=rt.defaultValue==null?"":rt.defaultValue,lt=rt.checked!=null?rt.checked:rt.defaultChecked;at=Sa(rt.value!=null?rt.value:at),ot._wrapperState={initialChecked:lt,initialValue:at,controlled:rt.type==="checkbox"||rt.type==="radio"?rt.checked!=null:rt.value!=null}}function ab(ot,rt){rt=rt.checked,rt!=null&&ta(ot,"checked",rt,!1)}function bb(ot,rt){ab(ot,rt);var at=Sa(rt.value),lt=rt.type;if(at!=null)lt==="number"?(at===0&&ot.value===""||ot.value!=at)&&(ot.value=""+at):ot.value!==""+at&&(ot.value=""+at);else if(lt==="submit"||lt==="reset"){ot.removeAttribute("value");return}rt.hasOwnProperty("value")?cb(ot,rt.type,at):rt.hasOwnProperty("defaultValue")&&cb(ot,rt.type,Sa(rt.defaultValue)),rt.checked==null&&rt.defaultChecked!=null&&(ot.defaultChecked=!!rt.defaultChecked)}function db$3(ot,rt,at){if(rt.hasOwnProperty("value")||rt.hasOwnProperty("defaultValue")){var lt=rt.type;if(!(lt!=="submit"&&lt!=="reset"||rt.value!==void 0&&rt.value!==null))return;rt=""+ot._wrapperState.initialValue,at||rt===ot.value||(ot.value=rt),ot.defaultValue=rt}at=ot.name,at!==""&&(ot.name=""),ot.defaultChecked=!!ot._wrapperState.initialChecked,at!==""&&(ot.name=at)}function cb(ot,rt,at){(rt!=="number"||Xa(ot.ownerDocument)!==ot)&&(at==null?ot.defaultValue=""+ot._wrapperState.initialValue:ot.defaultValue!==""+at&&(ot.defaultValue=""+at))}var eb=Array.isArray;function fb(ot,rt,at,lt){if(ot=ot.options,rt){rt={};for(var ct=0;ct<at.length;ct++)rt["$"+at[ct]]=!0;for(at=0;at<ot.length;at++)ct=rt.hasOwnProperty("$"+ot[at].value),ot[at].selected!==ct&&(ot[at].selected=ct),ct&&lt&&(ot[at].defaultSelected=!0)}else{for(at=""+Sa(at),rt=null,ct=0;ct<ot.length;ct++){if(ot[ct].value===at){ot[ct].selected=!0,lt&&(ot[ct].defaultSelected=!0);return}rt!==null||ot[ct].disabled||(rt=ot[ct])}rt!==null&&(rt.selected=!0)}}function gb(ot,rt){if(rt.dangerouslySetInnerHTML!=null)throw Error(p$3(91));return A$3({},rt,{value:void 0,defaultValue:void 0,children:""+ot._wrapperState.initialValue})}function hb(ot,rt){var at=rt.value;if(at==null){if(at=rt.children,rt=rt.defaultValue,at!=null){if(rt!=null)throw Error(p$3(92));if(eb(at)){if(1<at.length)throw Error(p$3(93));at=at[0]}rt=at}rt==null&&(rt=""),at=rt}ot._wrapperState={initialValue:Sa(at)}}function ib(ot,rt){var at=Sa(rt.value),lt=Sa(rt.defaultValue);at!=null&&(at=""+at,at!==ot.value&&(ot.value=at),rt.defaultValue==null&&ot.defaultValue!==at&&(ot.defaultValue=at)),lt!=null&&(ot.defaultValue=""+lt)}function jb(ot){var rt=ot.textContent;rt===ot._wrapperState.initialValue&&rt!==""&&rt!==null&&(ot.value=rt)}function kb(ot){switch(ot){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(ot,rt){return ot==null||ot==="http://www.w3.org/1999/xhtml"?kb(rt):ot==="http://www.w3.org/2000/svg"&&rt==="foreignObject"?"http://www.w3.org/1999/xhtml":ot}var mb,nb=function(ot){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(rt,at,lt,ct){MSApp.execUnsafeLocalFunction(function(){return ot(rt,at,lt,ct)})}:ot}(function(ot,rt){if(ot.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ot)ot.innerHTML=rt;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+rt.valueOf().toString()+"</svg>",rt=mb.firstChild;ot.firstChild;)ot.removeChild(ot.firstChild);for(;rt.firstChild;)ot.appendChild(rt.firstChild)}});function ob(ot,rt){if(rt){var at=ot.firstChild;if(at&&at===ot.lastChild&&at.nodeType===3){at.nodeValue=rt;return}}ot.textContent=rt}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(ot){qb.forEach(function(rt){rt=rt+ot.charAt(0).toUpperCase()+ot.substring(1),pb[rt]=pb[ot]})});function rb(ot,rt,at){return rt==null||typeof rt=="boolean"||rt===""?"":at||typeof rt!="number"||rt===0||pb.hasOwnProperty(ot)&&pb[ot]?(""+rt).trim():rt+"px"}function sb(ot,rt){ot=ot.style;for(var at in rt)if(rt.hasOwnProperty(at)){var lt=at.indexOf("--")===0,ct=rb(at,rt[at],lt);at==="float"&&(at="cssFloat"),lt?ot.setProperty(at,ct):ot[at]=ct}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(ot,rt){if(rt){if(tb[ot]&&(rt.children!=null||rt.dangerouslySetInnerHTML!=null))throw Error(p$3(137,ot));if(rt.dangerouslySetInnerHTML!=null){if(rt.children!=null)throw Error(p$3(60));if(typeof rt.dangerouslySetInnerHTML!="object"||!("__html"in rt.dangerouslySetInnerHTML))throw Error(p$3(61))}if(rt.style!=null&&typeof rt.style!="object")throw Error(p$3(62))}}function vb(ot,rt){if(ot.indexOf("-")===-1)return typeof rt.is=="string";switch(ot){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(ot){return ot=ot.target||ot.srcElement||window,ot.correspondingUseElement&&(ot=ot.correspondingUseElement),ot.nodeType===3?ot.parentNode:ot}var yb=null,zb=null,Ab=null;function Bb(ot){if(ot=Cb(ot)){if(typeof yb!="function")throw Error(p$3(280));var rt=ot.stateNode;rt&&(rt=Db(rt),yb(ot.stateNode,ot.type,rt))}}function Eb(ot){zb?Ab?Ab.push(ot):Ab=[ot]:zb=ot}function Fb(){if(zb){var ot=zb,rt=Ab;if(Ab=zb=null,Bb(ot),rt)for(ot=0;ot<rt.length;ot++)Bb(rt[ot])}}function Gb(ot,rt){return ot(rt)}function Hb(){}var Ib=!1;function Jb(ot,rt,at){if(Ib)return ot(rt,at);Ib=!0;try{return Gb(ot,rt,at)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(ot,rt){var at=ot.stateNode;if(at===null)return null;var lt=Db(at);if(lt===null)return null;at=lt[rt];e:switch(rt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(lt=!lt.disabled)||(ot=ot.type,lt=!(ot==="button"||ot==="input"||ot==="select"||ot==="textarea")),ot=!lt;break e;default:ot=!1}if(ot)return null;if(at&&typeof at!="function")throw Error(p$3(231,rt,typeof at));return at}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(ot,rt,at,lt,ct,ut,dt,ht,ft){var pt=Array.prototype.slice.call(arguments,3);try{rt.apply(at,pt)}catch(mt){this.onError(mt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(ot){Ob=!0,Pb=ot}};function Tb(ot,rt,at,lt,ct,ut,dt,ht,ft){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(ot,rt,at,lt,ct,ut,dt,ht,ft){if(Tb.apply(this,arguments),Ob){if(Ob){var pt=Pb;Ob=!1,Pb=null}else throw Error(p$3(198));Qb||(Qb=!0,Rb=pt)}}function Vb(ot){var rt=ot,at=ot;if(ot.alternate)for(;rt.return;)rt=rt.return;else{ot=rt;do rt=ot,rt.flags&4098&&(at=rt.return),ot=rt.return;while(ot)}return rt.tag===3?at:null}function Wb(ot){if(ot.tag===13){var rt=ot.memoizedState;if(rt===null&&(ot=ot.alternate,ot!==null&&(rt=ot.memoizedState)),rt!==null)return rt.dehydrated}return null}function Xb(ot){if(Vb(ot)!==ot)throw Error(p$3(188))}function Yb(ot){var rt=ot.alternate;if(!rt){if(rt=Vb(ot),rt===null)throw Error(p$3(188));return rt!==ot?null:ot}for(var at=ot,lt=rt;;){var ct=at.return;if(ct===null)break;var ut=ct.alternate;if(ut===null){if(lt=ct.return,lt!==null){at=lt;continue}break}if(ct.child===ut.child){for(ut=ct.child;ut;){if(ut===at)return Xb(ct),ot;if(ut===lt)return Xb(ct),rt;ut=ut.sibling}throw Error(p$3(188))}if(at.return!==lt.return)at=ct,lt=ut;else{for(var dt=!1,ht=ct.child;ht;){if(ht===at){dt=!0,at=ct,lt=ut;break}if(ht===lt){dt=!0,lt=ct,at=ut;break}ht=ht.sibling}if(!dt){for(ht=ut.child;ht;){if(ht===at){dt=!0,at=ut,lt=ct;break}if(ht===lt){dt=!0,lt=ut,at=ct;break}ht=ht.sibling}if(!dt)throw Error(p$3(189))}}if(at.alternate!==lt)throw Error(p$3(190))}if(at.tag!==3)throw Error(p$3(188));return at.stateNode.current===at?ot:rt}function Zb(ot){return ot=Yb(ot),ot!==null?$b(ot):null}function $b(ot){if(ot.tag===5||ot.tag===6)return ot;for(ot=ot.child;ot!==null;){var rt=$b(ot);if(rt!==null)return rt;ot=ot.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$4=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(ot){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,ot,void 0,(ot.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(ot){return ot>>>=0,ot===0?32:31-(pc(ot)/qc|0)|0}var rc=64,sc=4194304;function tc(ot){switch(ot&-ot){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ot&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ot&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ot}}function uc(ot,rt){var at=ot.pendingLanes;if(at===0)return 0;var lt=0,ct=ot.suspendedLanes,ut=ot.pingedLanes,dt=at&268435455;if(dt!==0){var ht=dt&~ct;ht!==0?lt=tc(ht):(ut&=dt,ut!==0&&(lt=tc(ut)))}else dt=at&~ct,dt!==0?lt=tc(dt):ut!==0&&(lt=tc(ut));if(lt===0)return 0;if(rt!==0&&rt!==lt&&!(rt&ct)&&(ct=lt&-lt,ut=rt&-rt,ct>=ut||ct===16&&(ut&4194240)!==0))return rt;if(lt&4&&(lt|=at&16),rt=ot.entangledLanes,rt!==0)for(ot=ot.entanglements,rt&=lt;0<rt;)at=31-oc(rt),ct=1<<at,lt|=ot[at],rt&=~ct;return lt}function vc(ot,rt){switch(ot){case 1:case 2:case 4:return rt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return rt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(ot,rt){for(var at=ot.suspendedLanes,lt=ot.pingedLanes,ct=ot.expirationTimes,ut=ot.pendingLanes;0<ut;){var dt=31-oc(ut),ht=1<<dt,ft=ct[dt];ft===-1?(!(ht&at)||ht&lt)&&(ct[dt]=vc(ht,rt)):ft<=rt&&(ot.expiredLanes|=ht),ut&=~ht}}function xc(ot){return ot=ot.pendingLanes&-1073741825,ot!==0?ot:ot&1073741824?1073741824:0}function yc(){var ot=rc;return rc<<=1,!(rc&4194240)&&(rc=64),ot}function zc(ot){for(var rt=[],at=0;31>at;at++)rt.push(ot);return rt}function Ac(ot,rt,at){ot.pendingLanes|=rt,rt!==536870912&&(ot.suspendedLanes=0,ot.pingedLanes=0),ot=ot.eventTimes,rt=31-oc(rt),ot[rt]=at}function Bc(ot,rt){var at=ot.pendingLanes&~rt;ot.pendingLanes=rt,ot.suspendedLanes=0,ot.pingedLanes=0,ot.expiredLanes&=rt,ot.mutableReadLanes&=rt,ot.entangledLanes&=rt,rt=ot.entanglements;var lt=ot.eventTimes;for(ot=ot.expirationTimes;0<at;){var ct=31-oc(at),ut=1<<ct;rt[ct]=0,lt[ct]=-1,ot[ct]=-1,at&=~ut}}function Cc(ot,rt){var at=ot.entangledLanes|=rt;for(ot=ot.entanglements;at;){var lt=31-oc(at),ct=1<<lt;ct&rt|ot[lt]&rt&&(ot[lt]|=rt),at&=~ct}}var C$5=0;function Dc(ot){return ot&=-ot,1<ot?4<ot?ot&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(ot,rt){switch(ot){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(rt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(rt.pointerId)}}function Tc(ot,rt,at,lt,ct,ut){return ot===null||ot.nativeEvent!==ut?(ot={blockedOn:rt,domEventName:at,eventSystemFlags:lt,nativeEvent:ut,targetContainers:[ct]},rt!==null&&(rt=Cb(rt),rt!==null&&Fc(rt)),ot):(ot.eventSystemFlags|=lt,rt=ot.targetContainers,ct!==null&&rt.indexOf(ct)===-1&&rt.push(ct),ot)}function Uc(ot,rt,at,lt,ct){switch(rt){case"focusin":return Lc=Tc(Lc,ot,rt,at,lt,ct),!0;case"dragenter":return Mc=Tc(Mc,ot,rt,at,lt,ct),!0;case"mouseover":return Nc=Tc(Nc,ot,rt,at,lt,ct),!0;case"pointerover":var ut=ct.pointerId;return Oc.set(ut,Tc(Oc.get(ut)||null,ot,rt,at,lt,ct)),!0;case"gotpointercapture":return ut=ct.pointerId,Pc.set(ut,Tc(Pc.get(ut)||null,ot,rt,at,lt,ct)),!0}return!1}function Vc(ot){var rt=Wc(ot.target);if(rt!==null){var at=Vb(rt);if(at!==null){if(rt=at.tag,rt===13){if(rt=Wb(at),rt!==null){ot.blockedOn=rt,Ic(ot.priority,function(){Gc(at)});return}}else if(rt===3&&at.stateNode.current.memoizedState.isDehydrated){ot.blockedOn=at.tag===3?at.stateNode.containerInfo:null;return}}}ot.blockedOn=null}function Xc(ot){if(ot.blockedOn!==null)return!1;for(var rt=ot.targetContainers;0<rt.length;){var at=Yc(ot.domEventName,ot.eventSystemFlags,rt[0],ot.nativeEvent);if(at===null){at=ot.nativeEvent;var lt=new at.constructor(at.type,at);wb=lt,at.target.dispatchEvent(lt),wb=null}else return rt=Cb(at),rt!==null&&Fc(rt),ot.blockedOn=at,!1;rt.shift()}return!0}function Zc(ot,rt,at){Xc(ot)&&at.delete(rt)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(ot,rt){ot.blockedOn===rt&&(ot.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(ot){function rt(ct){return ad(ct,ot)}if(0<Kc.length){ad(Kc[0],ot);for(var at=1;at<Kc.length;at++){var lt=Kc[at];lt.blockedOn===ot&&(lt.blockedOn=null)}}for(Lc!==null&&ad(Lc,ot),Mc!==null&&ad(Mc,ot),Nc!==null&&ad(Nc,ot),Oc.forEach(rt),Pc.forEach(rt),at=0;at<Qc.length;at++)lt=Qc[at],lt.blockedOn===ot&&(lt.blockedOn=null);for(;0<Qc.length&&(at=Qc[0],at.blockedOn===null);)Vc(at),at.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(ot,rt,at,lt){var ct=C$5,ut=cd.transition;cd.transition=null;try{C$5=1,fd(ot,rt,at,lt)}finally{C$5=ct,cd.transition=ut}}function gd(ot,rt,at,lt){var ct=C$5,ut=cd.transition;cd.transition=null;try{C$5=4,fd(ot,rt,at,lt)}finally{C$5=ct,cd.transition=ut}}function fd(ot,rt,at,lt){if(dd){var ct=Yc(ot,rt,at,lt);if(ct===null)hd(ot,rt,lt,id$2,at),Sc(ot,lt);else if(Uc(ct,ot,rt,at,lt))lt.stopPropagation();else if(Sc(ot,lt),rt&4&&-1<Rc.indexOf(ot)){for(;ct!==null;){var ut=Cb(ct);if(ut!==null&&Ec(ut),ut=Yc(ot,rt,at,lt),ut===null&&hd(ot,rt,lt,id$2,at),ut===ct)break;ct=ut}ct!==null&&lt.stopPropagation()}else hd(ot,rt,lt,null,at)}}var id$2=null;function Yc(ot,rt,at,lt){if(id$2=null,ot=xb(lt),ot=Wc(ot),ot!==null)if(rt=Vb(ot),rt===null)ot=null;else if(at=rt.tag,at===13){if(ot=Wb(rt),ot!==null)return ot;ot=null}else if(at===3){if(rt.stateNode.current.memoizedState.isDehydrated)return rt.tag===3?rt.stateNode.containerInfo:null;ot=null}else rt!==ot&&(ot=null);return id$2=ot,null}function jd(ot){switch(ot){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var ot,rt=ld,at=rt.length,lt,ct="value"in kd?kd.value:kd.textContent,ut=ct.length;for(ot=0;ot<at&&rt[ot]===ct[ot];ot++);var dt=at-ot;for(lt=1;lt<=dt&&rt[at-lt]===ct[ut-lt];lt++);return md=ct.slice(ot,1<lt?1-lt:void 0)}function od(ot){var rt=ot.keyCode;return"charCode"in ot?(ot=ot.charCode,ot===0&&rt===13&&(ot=13)):ot=rt,ot===10&&(ot=13),32<=ot||ot===13?ot:0}function pd(){return!0}function qd(){return!1}function rd(ot){function rt(at,lt,ct,ut,dt){this._reactName=at,this._targetInst=ct,this.type=lt,this.nativeEvent=ut,this.target=dt,this.currentTarget=null;for(var ht in ot)ot.hasOwnProperty(ht)&&(at=ot[ht],this[ht]=at?at(ut):ut[ht]);return this.isDefaultPrevented=(ut.defaultPrevented!=null?ut.defaultPrevented:ut.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$3(rt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var at=this.nativeEvent;at&&(at.preventDefault?at.preventDefault():typeof at.returnValue!="unknown"&&(at.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var at=this.nativeEvent;at&&(at.stopPropagation?at.stopPropagation():typeof at.cancelBubble!="unknown"&&(at.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),rt}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ot){return ot.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$3({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$3({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(ot){return ot.relatedTarget===void 0?ot.fromElement===ot.srcElement?ot.toElement:ot.fromElement:ot.relatedTarget},movementX:function(ot){return"movementX"in ot?ot.movementX:(ot!==yd&&(yd&&ot.type==="mousemove"?(wd=ot.screenX-yd.screenX,xd=ot.screenY-yd.screenY):xd=wd=0,yd=ot),wd)},movementY:function(ot){return"movementY"in ot?ot.movementY:xd}}),Bd=rd(Ad),Cd=A$3({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$3({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$3({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$3({},sd,{clipboardData:function(ot){return"clipboardData"in ot?ot.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$3({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(ot){var rt=this.nativeEvent;return rt.getModifierState?rt.getModifierState(ot):(ot=Od[ot])?!!rt[ot]:!1}function zd(){return Pd}var Qd=A$3({},ud,{key:function(ot){if(ot.key){var rt=Md[ot.key]||ot.key;if(rt!=="Unidentified")return rt}return ot.type==="keypress"?(ot=od(ot),ot===13?"Enter":String.fromCharCode(ot)):ot.type==="keydown"||ot.type==="keyup"?Nd[ot.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(ot){return ot.type==="keypress"?od(ot):0},keyCode:function(ot){return ot.type==="keydown"||ot.type==="keyup"?ot.keyCode:0},which:function(ot){return ot.type==="keypress"?od(ot):ot.type==="keydown"||ot.type==="keyup"?ot.keyCode:0}}),Rd=rd(Qd),Sd=A$3({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$3({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$3({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$3({},Ad,{deltaX:function(ot){return"deltaX"in ot?ot.deltaX:"wheelDeltaX"in ot?-ot.wheelDeltaX:0},deltaY:function(ot){return"deltaY"in ot?ot.deltaY:"wheelDeltaY"in ot?-ot.wheelDeltaY:"wheelDelta"in ot?-ot.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee=" ",fe$1=!1;function ge$1(ot,rt){switch(ot){case"keyup":return $d.indexOf(rt.keyCode)!==-1;case"keydown":return rt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(ot){return ot=ot.detail,typeof ot=="object"&&"data"in ot?ot.data:null}var ie=!1;function je(ot,rt){switch(ot){case"compositionend":return he(rt);case"keypress":return rt.which!==32?null:(fe$1=!0,ee);case"textInput":return ot=rt.data,ot===ee&&fe$1?null:ot;default:return null}}function ke(ot,rt){if(ie)return ot==="compositionend"||!ae$1&&ge$1(ot,rt)?(ot=nd(),md=ld=kd=null,ie=!1,ot):null;switch(ot){case"paste":return null;case"keypress":if(!(rt.ctrlKey||rt.altKey||rt.metaKey)||rt.ctrlKey&&rt.altKey){if(rt.char&&1<rt.char.length)return rt.char;if(rt.which)return String.fromCharCode(rt.which)}return null;case"compositionend":return de&&rt.locale!=="ko"?null:rt.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(ot){var rt=ot&&ot.nodeName&&ot.nodeName.toLowerCase();return rt==="input"?!!le$1[ot.type]:rt==="textarea"}function ne$1(ot,rt,at,lt){Eb(lt),rt=oe$1(rt,"onChange"),0<rt.length&&(at=new td("onChange","change",null,at,lt),ot.push({event:at,listeners:rt}))}var pe$1=null,qe=null;function re$1(ot){se$1(ot,0)}function te(ot){var rt=ue$1(ot);if(Wa(rt))return ot}function ve(ot,rt){if(ot==="change")return rt}var we=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(ot){if(ot.propertyName==="value"&&te(qe)){var rt=[];ne$1(rt,qe,ot,xb(ot)),Jb(re$1,rt)}}function Ce(ot,rt,at){ot==="focusin"?(Ae(),pe$1=rt,qe=at,pe$1.attachEvent("onpropertychange",Be)):ot==="focusout"&&Ae()}function De(ot){if(ot==="selectionchange"||ot==="keyup"||ot==="keydown")return te(qe)}function Ee$1(ot,rt){if(ot==="click")return te(rt)}function Fe(ot,rt){if(ot==="input"||ot==="change")return te(rt)}function Ge(ot,rt){return ot===rt&&(ot!==0||1/ot===1/rt)||ot!==ot&&rt!==rt}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(ot,rt){if(He(ot,rt))return!0;if(typeof ot!="object"||ot===null||typeof rt!="object"||rt===null)return!1;var at=Object.keys(ot),lt=Object.keys(rt);if(at.length!==lt.length)return!1;for(lt=0;lt<at.length;lt++){var ct=at[lt];if(!ja.call(rt,ct)||!He(ot[ct],rt[ct]))return!1}return!0}function Je(ot){for(;ot&&ot.firstChild;)ot=ot.firstChild;return ot}function Ke(ot,rt){var at=Je(ot);ot=0;for(var lt;at;){if(at.nodeType===3){if(lt=ot+at.textContent.length,ot<=rt&&lt>=rt)return{node:at,offset:rt-ot};ot=lt}e:{for(;at;){if(at.nextSibling){at=at.nextSibling;break e}at=at.parentNode}at=void 0}at=Je(at)}}function Le(ot,rt){return ot&&rt?ot===rt?!0:ot&&ot.nodeType===3?!1:rt&&rt.nodeType===3?Le(ot,rt.parentNode):"contains"in ot?ot.contains(rt):ot.compareDocumentPosition?!!(ot.compareDocumentPosition(rt)&16):!1:!1}function Me(){for(var ot=window,rt=Xa();rt instanceof ot.HTMLIFrameElement;){try{var at=typeof rt.contentWindow.location.href=="string"}catch{at=!1}if(at)ot=rt.contentWindow;else break;rt=Xa(ot.document)}return rt}function Ne(ot){var rt=ot&&ot.nodeName&&ot.nodeName.toLowerCase();return rt&&(rt==="input"&&(ot.type==="text"||ot.type==="search"||ot.type==="tel"||ot.type==="url"||ot.type==="password")||rt==="textarea"||ot.contentEditable==="true")}function Oe(ot){var rt=Me(),at=ot.focusedElem,lt=ot.selectionRange;if(rt!==at&&at&&at.ownerDocument&&Le(at.ownerDocument.documentElement,at)){if(lt!==null&&Ne(at)){if(rt=lt.start,ot=lt.end,ot===void 0&&(ot=rt),"selectionStart"in at)at.selectionStart=rt,at.selectionEnd=Math.min(ot,at.value.length);else if(ot=(rt=at.ownerDocument||document)&&rt.defaultView||window,ot.getSelection){ot=ot.getSelection();var ct=at.textContent.length,ut=Math.min(lt.start,ct);lt=lt.end===void 0?ut:Math.min(lt.end,ct),!ot.extend&&ut>lt&&(ct=lt,lt=ut,ut=ct),ct=Ke(at,ut);var dt=Ke(at,lt);ct&&dt&&(ot.rangeCount!==1||ot.anchorNode!==ct.node||ot.anchorOffset!==ct.offset||ot.focusNode!==dt.node||ot.focusOffset!==dt.offset)&&(rt=rt.createRange(),rt.setStart(ct.node,ct.offset),ot.removeAllRanges(),ut>lt?(ot.addRange(rt),ot.extend(dt.node,dt.offset)):(rt.setEnd(dt.node,dt.offset),ot.addRange(rt)))}}for(rt=[],ot=at;ot=ot.parentNode;)ot.nodeType===1&&rt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof at.focus=="function"&&at.focus(),at=0;at<rt.length;at++)ot=rt[at],ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se$1=null,Te$1=!1;function Ue(ot,rt,at){var lt=at.window===at?at.document:at.nodeType===9?at:at.ownerDocument;Te$1||Qe==null||Qe!==Xa(lt)||(lt=Qe,"selectionStart"in lt&&Ne(lt)?lt={start:lt.selectionStart,end:lt.selectionEnd}:(lt=(lt.ownerDocument&&lt.ownerDocument.defaultView||window).getSelection(),lt={anchorNode:lt.anchorNode,anchorOffset:lt.anchorOffset,focusNode:lt.focusNode,focusOffset:lt.focusOffset}),Se$1&&Ie$1(Se$1,lt)||(Se$1=lt,lt=oe$1(Re,"onSelect"),0<lt.length&&(rt=new td("onSelect","select",null,rt,at),ot.push({event:rt,listeners:lt}),rt.target=Qe)))}function Ve$1(ot,rt){var at={};return at[ot.toLowerCase()]=rt.toLowerCase(),at["Webkit"+ot]="webkit"+rt,at["Moz"+ot]="moz"+rt,at}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(ot){if(Xe[ot])return Xe[ot];if(!We[ot])return ot;var rt=We[ot],at;for(at in rt)if(rt.hasOwnProperty(at)&&at in Ye)return Xe[ot]=rt[at];return ot}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(ot,rt){df.set(ot,rt),fa(rt,[ot])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(ot,rt,at){var lt=ot.type||"unknown-event";ot.currentTarget=at,Ub(lt,rt,void 0,ot),ot.currentTarget=null}function se$1(ot,rt){rt=(rt&4)!==0;for(var at=0;at<ot.length;at++){var lt=ot[at],ct=lt.event;lt=lt.listeners;e:{var ut=void 0;if(rt)for(var dt=lt.length-1;0<=dt;dt--){var ht=lt[dt],ft=ht.instance,pt=ht.currentTarget;if(ht=ht.listener,ft!==ut&&ct.isPropagationStopped())break e;nf(ct,ht,pt),ut=ft}else for(dt=0;dt<lt.length;dt++){if(ht=lt[dt],ft=ht.instance,pt=ht.currentTarget,ht=ht.listener,ft!==ut&&ct.isPropagationStopped())break e;nf(ct,ht,pt),ut=ft}}}if(Qb)throw ot=Rb,Qb=!1,Rb=null,ot}function D$5(ot,rt){var at=rt[of];at===void 0&&(at=rt[of]=new Set);var lt=ot+"__bubble";at.has(lt)||(pf(rt,ot,2,!1),at.add(lt))}function qf(ot,rt,at){var lt=0;rt&&(lt|=4),pf(at,ot,lt,rt)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(ot){if(!ot[rf]){ot[rf]=!0,da.forEach(function(at){at!=="selectionchange"&&(mf.has(at)||qf(at,!1,ot),qf(at,!0,ot))});var rt=ot.nodeType===9?ot:ot.ownerDocument;rt===null||rt[rf]||(rt[rf]=!0,qf("selectionchange",!1,rt))}}function pf(ot,rt,at,lt){switch(jd(rt)){case 1:var ct=ed;break;case 4:ct=gd;break;default:ct=fd}at=ct.bind(null,rt,at,ot),ct=void 0,!Lb||rt!=="touchstart"&&rt!=="touchmove"&&rt!=="wheel"||(ct=!0),lt?ct!==void 0?ot.addEventListener(rt,at,{capture:!0,passive:ct}):ot.addEventListener(rt,at,!0):ct!==void 0?ot.addEventListener(rt,at,{passive:ct}):ot.addEventListener(rt,at,!1)}function hd(ot,rt,at,lt,ct){var ut=lt;if(!(rt&1)&&!(rt&2)&&lt!==null)e:for(;;){if(lt===null)return;var dt=lt.tag;if(dt===3||dt===4){var ht=lt.stateNode.containerInfo;if(ht===ct||ht.nodeType===8&&ht.parentNode===ct)break;if(dt===4)for(dt=lt.return;dt!==null;){var ft=dt.tag;if((ft===3||ft===4)&&(ft=dt.stateNode.containerInfo,ft===ct||ft.nodeType===8&&ft.parentNode===ct))return;dt=dt.return}for(;ht!==null;){if(dt=Wc(ht),dt===null)return;if(ft=dt.tag,ft===5||ft===6){lt=ut=dt;continue e}ht=ht.parentNode}}lt=lt.return}Jb(function(){var pt=ut,mt=xb(at),gt=[];e:{var yt=df.get(ot);if(yt!==void 0){var xt=td,bt=ot;switch(ot){case"keypress":if(od(at)===0)break e;case"keydown":case"keyup":xt=Rd;break;case"focusin":bt="focus",xt=Fd;break;case"focusout":bt="blur",xt=Fd;break;case"beforeblur":case"afterblur":xt=Fd;break;case"click":if(at.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=Vd;break;case $e:case af:case bf:xt=Hd;break;case cf:xt=Xd;break;case"scroll":xt=vd;break;case"wheel":xt=Zd;break;case"copy":case"cut":case"paste":xt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=Td}var Et=(rt&4)!==0,Rt=!Et&&ot==="scroll",wt=Et?yt!==null?yt+"Capture":null:yt;Et=[];for(var _t=pt,At;_t!==null;){At=_t;var kt=At.stateNode;if(At.tag===5&&kt!==null&&(At=kt,wt!==null&&(kt=Kb(_t,wt),kt!=null&&Et.push(tf(_t,kt,At)))),Rt)break;_t=_t.return}0<Et.length&&(yt=new xt(yt,bt,null,at,mt),gt.push({event:yt,listeners:Et}))}}if(!(rt&7)){e:{if(yt=ot==="mouseover"||ot==="pointerover",xt=ot==="mouseout"||ot==="pointerout",yt&&at!==wb&&(bt=at.relatedTarget||at.fromElement)&&(Wc(bt)||bt[uf]))break e;if((xt||yt)&&(yt=mt.window===mt?mt:(yt=mt.ownerDocument)?yt.defaultView||yt.parentWindow:window,xt?(bt=at.relatedTarget||at.toElement,xt=pt,bt=bt?Wc(bt):null,bt!==null&&(Rt=Vb(bt),bt!==Rt||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(xt=null,bt=pt),xt!==bt)){if(Et=Bd,kt="onMouseLeave",wt="onMouseEnter",_t="mouse",(ot==="pointerout"||ot==="pointerover")&&(Et=Td,kt="onPointerLeave",wt="onPointerEnter",_t="pointer"),Rt=xt==null?yt:ue$1(xt),At=bt==null?yt:ue$1(bt),yt=new Et(kt,_t+"leave",xt,at,mt),yt.target=Rt,yt.relatedTarget=At,kt=null,Wc(mt)===pt&&(Et=new Et(wt,_t+"enter",bt,at,mt),Et.target=At,Et.relatedTarget=Rt,kt=Et),Rt=kt,xt&&bt)t:{for(Et=xt,wt=bt,_t=0,At=Et;At;At=vf(At))_t++;for(At=0,kt=wt;kt;kt=vf(kt))At++;for(;0<_t-At;)Et=vf(Et),_t--;for(;0<At-_t;)wt=vf(wt),At--;for(;_t--;){if(Et===wt||wt!==null&&Et===wt.alternate)break t;Et=vf(Et),wt=vf(wt)}Et=null}else Et=null;xt!==null&&wf(gt,yt,xt,Et,!1),bt!==null&&Rt!==null&&wf(gt,Rt,bt,Et,!0)}}e:{if(yt=pt?ue$1(pt):window,xt=yt.nodeName&&yt.nodeName.toLowerCase(),xt==="select"||xt==="input"&&yt.type==="file")var It=ve;else if(me$1(yt))if(we)It=Fe;else{It=De;var Nt=Ce}else(xt=yt.nodeName)&&xt.toLowerCase()==="input"&&(yt.type==="checkbox"||yt.type==="radio")&&(It=Ee$1);if(It&&(It=It(ot,pt))){ne$1(gt,It,at,mt);break e}Nt&&Nt(ot,yt,pt),ot==="focusout"&&(Nt=yt._wrapperState)&&Nt.controlled&&yt.type==="number"&&cb(yt,"number",yt.value)}switch(Nt=pt?ue$1(pt):window,ot){case"focusin":(me$1(Nt)||Nt.contentEditable==="true")&&(Qe=Nt,Re=pt,Se$1=null);break;case"focusout":Se$1=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(gt,at,mt);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(gt,at,mt)}var Pt;if(ae$1)e:{switch(ot){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else ie?ge$1(ot,at)&&(Tt="onCompositionEnd"):ot==="keydown"&&at.keyCode===229&&(Tt="onCompositionStart");Tt&&(de&&at.locale!=="ko"&&(ie||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&ie&&(Pt=nd()):(kd=mt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Nt=oe$1(pt,Tt),0<Nt.length&&(Tt=new Ld(Tt,ot,null,at,mt),gt.push({event:Tt,listeners:Nt}),Pt?Tt.data=Pt:(Pt=he(at),Pt!==null&&(Tt.data=Pt)))),(Pt=ce$1?je(ot,at):ke(ot,at))&&(pt=oe$1(pt,"onBeforeInput"),0<pt.length&&(mt=new Ld("onBeforeInput","beforeinput",null,at,mt),gt.push({event:mt,listeners:pt}),mt.data=Pt))}se$1(gt,rt)})}function tf(ot,rt,at){return{instance:ot,listener:rt,currentTarget:at}}function oe$1(ot,rt){for(var at=rt+"Capture",lt=[];ot!==null;){var ct=ot,ut=ct.stateNode;ct.tag===5&&ut!==null&&(ct=ut,ut=Kb(ot,at),ut!=null&&lt.unshift(tf(ot,ut,ct)),ut=Kb(ot,rt),ut!=null&&lt.push(tf(ot,ut,ct))),ot=ot.return}return lt}function vf(ot){if(ot===null)return null;do ot=ot.return;while(ot&&ot.tag!==5);return ot||null}function wf(ot,rt,at,lt,ct){for(var ut=rt._reactName,dt=[];at!==null&&at!==lt;){var ht=at,ft=ht.alternate,pt=ht.stateNode;if(ft!==null&&ft===lt)break;ht.tag===5&&pt!==null&&(ht=pt,ct?(ft=Kb(at,ut),ft!=null&&dt.unshift(tf(at,ft,ht))):ct||(ft=Kb(at,ut),ft!=null&&dt.push(tf(at,ft,ht)))),at=at.return}dt.length!==0&&ot.push({event:rt,listeners:dt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(ot){return(typeof ot=="string"?ot:""+ot).replace(xf,`
`).replace(yf,"")}function Af(ot,rt,at){if(rt=zf(rt),zf(ot)!==rt&&at)throw Error(p$3(425))}function Bf(){}var Cf=null,Df=null;function Ef(ot,rt){return ot==="textarea"||ot==="noscript"||typeof rt.children=="string"||typeof rt.children=="number"||typeof rt.dangerouslySetInnerHTML=="object"&&rt.dangerouslySetInnerHTML!==null&&rt.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(ot){return Hf.resolve(null).then(ot).catch(If)}:Ff;function If(ot){setTimeout(function(){throw ot})}function Kf(ot,rt){var at=rt,lt=0;do{var ct=at.nextSibling;if(ot.removeChild(at),ct&&ct.nodeType===8)if(at=ct.data,at==="/$"){if(lt===0){ot.removeChild(ct),bd(rt);return}lt--}else at!=="$"&&at!=="$?"&&at!=="$!"||lt++;at=ct}while(at);bd(rt)}function Lf(ot){for(;ot!=null;ot=ot.nextSibling){var rt=ot.nodeType;if(rt===1||rt===3)break;if(rt===8){if(rt=ot.data,rt==="$"||rt==="$!"||rt==="$?")break;if(rt==="/$")return null}}return ot}function Mf(ot){ot=ot.previousSibling;for(var rt=0;ot;){if(ot.nodeType===8){var at=ot.data;if(at==="$"||at==="$!"||at==="$?"){if(rt===0)return ot;rt--}else at==="/$"&&rt++}ot=ot.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(ot){var rt=ot[Of];if(rt)return rt;for(var at=ot.parentNode;at;){if(rt=at[uf]||at[Of]){if(at=rt.alternate,rt.child!==null||at!==null&&at.child!==null)for(ot=Mf(ot);ot!==null;){if(at=ot[Of])return at;ot=Mf(ot)}return rt}ot=at,at=ot.parentNode}return null}function Cb(ot){return ot=ot[Of]||ot[uf],!ot||ot.tag!==5&&ot.tag!==6&&ot.tag!==13&&ot.tag!==3?null:ot}function ue$1(ot){if(ot.tag===5||ot.tag===6)return ot.stateNode;throw Error(p$3(33))}function Db(ot){return ot[Pf]||null}var Sf=[],Tf=-1;function Uf(ot){return{current:ot}}function E$2(ot){0>Tf||(ot.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$3(ot,rt){Tf++,Sf[Tf]=ot.current,ot.current=rt}var Vf={},H$4=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(ot,rt){var at=ot.type.contextTypes;if(!at)return Vf;var lt=ot.stateNode;if(lt&&lt.__reactInternalMemoizedUnmaskedChildContext===rt)return lt.__reactInternalMemoizedMaskedChildContext;var ct={},ut;for(ut in at)ct[ut]=rt[ut];return lt&&(ot=ot.stateNode,ot.__reactInternalMemoizedUnmaskedChildContext=rt,ot.__reactInternalMemoizedMaskedChildContext=ct),ct}function Zf(ot){return ot=ot.childContextTypes,ot!=null}function $f(){E$2(Wf),E$2(H$4)}function ag(ot,rt,at){if(H$4.current!==Vf)throw Error(p$3(168));G$3(H$4,rt),G$3(Wf,at)}function bg(ot,rt,at){var lt=ot.stateNode;if(rt=rt.childContextTypes,typeof lt.getChildContext!="function")return at;lt=lt.getChildContext();for(var ct in lt)if(!(ct in rt))throw Error(p$3(108,Ra(ot)||"Unknown",ct));return A$3({},at,lt)}function cg(ot){return ot=(ot=ot.stateNode)&&ot.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$4.current,G$3(H$4,ot),G$3(Wf,Wf.current),!0}function dg(ot,rt,at){var lt=ot.stateNode;if(!lt)throw Error(p$3(169));at?(ot=bg(ot,rt,Xf),lt.__reactInternalMemoizedMergedChildContext=ot,E$2(Wf),E$2(H$4),G$3(H$4,ot)):E$2(Wf),G$3(Wf,at)}var eg=null,fg=!1,gg=!1;function hg(ot){eg===null?eg=[ot]:eg.push(ot)}function ig(ot){fg=!0,hg(ot)}function jg(){if(!gg&&eg!==null){gg=!0;var ot=0,rt=C$5;try{var at=eg;for(C$5=1;ot<at.length;ot++){var lt=at[ot];do lt=lt(!0);while(lt!==null)}eg=null,fg=!1}catch(ct){throw eg!==null&&(eg=eg.slice(ot+1)),ac(fc,jg),ct}finally{C$5=rt,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(ot,rt){kg[lg++]=ng,kg[lg++]=mg,mg=ot,ng=rt}function ug(ot,rt,at){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=ot;var lt=rg;ot=sg;var ct=32-oc(lt)-1;lt&=~(1<<ct),at+=1;var ut=32-oc(rt)+ct;if(30<ut){var dt=ct-ct%5;ut=(lt&(1<<dt)-1).toString(32),lt>>=dt,ct-=dt,rg=1<<32-oc(rt)+ct|at<<ct|lt,sg=ut+ot}else rg=1<<ut|at<<ct|lt,sg=ot}function vg(ot){ot.return!==null&&(tg(ot,1),ug(ot,1,0))}function wg(ot){for(;ot===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;ot===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$4=!1,zg=null;function Ag(ot,rt){var at=Bg(5,null,null,0);at.elementType="DELETED",at.stateNode=rt,at.return=ot,rt=ot.deletions,rt===null?(ot.deletions=[at],ot.flags|=16):rt.push(at)}function Cg(ot,rt){switch(ot.tag){case 5:var at=ot.type;return rt=rt.nodeType!==1||at.toLowerCase()!==rt.nodeName.toLowerCase()?null:rt,rt!==null?(ot.stateNode=rt,xg=ot,yg=Lf(rt.firstChild),!0):!1;case 6:return rt=ot.pendingProps===""||rt.nodeType!==3?null:rt,rt!==null?(ot.stateNode=rt,xg=ot,yg=null,!0):!1;case 13:return rt=rt.nodeType!==8?null:rt,rt!==null?(at=qg!==null?{id:rg,overflow:sg}:null,ot.memoizedState={dehydrated:rt,treeContext:at,retryLane:1073741824},at=Bg(18,null,null,0),at.stateNode=rt,at.return=ot,ot.child=at,xg=ot,yg=null,!0):!1;default:return!1}}function Dg(ot){return(ot.mode&1)!==0&&(ot.flags&128)===0}function Eg(ot){if(I$4){var rt=yg;if(rt){var at=rt;if(!Cg(ot,rt)){if(Dg(ot))throw Error(p$3(418));rt=Lf(at.nextSibling);var lt=xg;rt&&Cg(ot,rt)?Ag(lt,at):(ot.flags=ot.flags&-4097|2,I$4=!1,xg=ot)}}else{if(Dg(ot))throw Error(p$3(418));ot.flags=ot.flags&-4097|2,I$4=!1,xg=ot}}}function Fg(ot){for(ot=ot.return;ot!==null&&ot.tag!==5&&ot.tag!==3&&ot.tag!==13;)ot=ot.return;xg=ot}function Gg(ot){if(ot!==xg)return!1;if(!I$4)return Fg(ot),I$4=!0,!1;var rt;if((rt=ot.tag!==3)&&!(rt=ot.tag!==5)&&(rt=ot.type,rt=rt!=="head"&&rt!=="body"&&!Ef(ot.type,ot.memoizedProps)),rt&&(rt=yg)){if(Dg(ot))throw Hg(),Error(p$3(418));for(;rt;)Ag(ot,rt),rt=Lf(rt.nextSibling)}if(Fg(ot),ot.tag===13){if(ot=ot.memoizedState,ot=ot!==null?ot.dehydrated:null,!ot)throw Error(p$3(317));e:{for(ot=ot.nextSibling,rt=0;ot;){if(ot.nodeType===8){var at=ot.data;if(at==="/$"){if(rt===0){yg=Lf(ot.nextSibling);break e}rt--}else at!=="$"&&at!=="$!"&&at!=="$?"||rt++}ot=ot.nextSibling}yg=null}}else yg=xg?Lf(ot.stateNode.nextSibling):null;return!0}function Hg(){for(var ot=yg;ot;)ot=Lf(ot.nextSibling)}function Ig(){yg=xg=null,I$4=!1}function Jg(ot){zg===null?zg=[ot]:zg.push(ot)}var Kg=ua.ReactCurrentBatchConfig;function Lg(ot,rt,at){if(ot=at.ref,ot!==null&&typeof ot!="function"&&typeof ot!="object"){if(at._owner){if(at=at._owner,at){if(at.tag!==1)throw Error(p$3(309));var lt=at.stateNode}if(!lt)throw Error(p$3(147,ot));var ct=lt,ut=""+ot;return rt!==null&&rt.ref!==null&&typeof rt.ref=="function"&&rt.ref._stringRef===ut?rt.ref:(rt=function(dt){var ht=ct.refs;dt===null?delete ht[ut]:ht[ut]=dt},rt._stringRef=ut,rt)}if(typeof ot!="string")throw Error(p$3(284));if(!at._owner)throw Error(p$3(290,ot))}return ot}function Mg(ot,rt){throw ot=Object.prototype.toString.call(rt),Error(p$3(31,ot==="[object Object]"?"object with keys {"+Object.keys(rt).join(", ")+"}":ot))}function Ng(ot){var rt=ot._init;return rt(ot._payload)}function Og(ot){function rt(wt,_t){if(ot){var At=wt.deletions;At===null?(wt.deletions=[_t],wt.flags|=16):At.push(_t)}}function at(wt,_t){if(!ot)return null;for(;_t!==null;)rt(wt,_t),_t=_t.sibling;return null}function lt(wt,_t){for(wt=new Map;_t!==null;)_t.key!==null?wt.set(_t.key,_t):wt.set(_t.index,_t),_t=_t.sibling;return wt}function ct(wt,_t){return wt=Pg(wt,_t),wt.index=0,wt.sibling=null,wt}function ut(wt,_t,At){return wt.index=At,ot?(At=wt.alternate,At!==null?(At=At.index,At<_t?(wt.flags|=2,_t):At):(wt.flags|=2,_t)):(wt.flags|=1048576,_t)}function dt(wt){return ot&&wt.alternate===null&&(wt.flags|=2),wt}function ht(wt,_t,At,kt){return _t===null||_t.tag!==6?(_t=Qg(At,wt.mode,kt),_t.return=wt,_t):(_t=ct(_t,At),_t.return=wt,_t)}function ft(wt,_t,At,kt){var It=At.type;return It===ya?mt(wt,_t,At.props.children,kt,At.key):_t!==null&&(_t.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&Ng(It)===_t.type)?(kt=ct(_t,At.props),kt.ref=Lg(wt,_t,At),kt.return=wt,kt):(kt=Rg(At.type,At.key,At.props,null,wt.mode,kt),kt.ref=Lg(wt,_t,At),kt.return=wt,kt)}function pt(wt,_t,At,kt){return _t===null||_t.tag!==4||_t.stateNode.containerInfo!==At.containerInfo||_t.stateNode.implementation!==At.implementation?(_t=Sg(At,wt.mode,kt),_t.return=wt,_t):(_t=ct(_t,At.children||[]),_t.return=wt,_t)}function mt(wt,_t,At,kt,It){return _t===null||_t.tag!==7?(_t=Tg(At,wt.mode,kt,It),_t.return=wt,_t):(_t=ct(_t,At),_t.return=wt,_t)}function gt(wt,_t,At){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return _t=Qg(""+_t,wt.mode,At),_t.return=wt,_t;if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case va:return At=Rg(_t.type,_t.key,_t.props,null,wt.mode,At),At.ref=Lg(wt,null,_t),At.return=wt,At;case wa:return _t=Sg(_t,wt.mode,At),_t.return=wt,_t;case Ha:var kt=_t._init;return gt(wt,kt(_t._payload),At)}if(eb(_t)||Ka(_t))return _t=Tg(_t,wt.mode,At,null),_t.return=wt,_t;Mg(wt,_t)}return null}function yt(wt,_t,At,kt){var It=_t!==null?_t.key:null;if(typeof At=="string"&&At!==""||typeof At=="number")return It!==null?null:ht(wt,_t,""+At,kt);if(typeof At=="object"&&At!==null){switch(At.$$typeof){case va:return At.key===It?ft(wt,_t,At,kt):null;case wa:return At.key===It?pt(wt,_t,At,kt):null;case Ha:return It=At._init,yt(wt,_t,It(At._payload),kt)}if(eb(At)||Ka(At))return It!==null?null:mt(wt,_t,At,kt,null);Mg(wt,At)}return null}function xt(wt,_t,At,kt,It){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return wt=wt.get(At)||null,ht(_t,wt,""+kt,It);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return wt=wt.get(kt.key===null?At:kt.key)||null,ft(_t,wt,kt,It);case wa:return wt=wt.get(kt.key===null?At:kt.key)||null,pt(_t,wt,kt,It);case Ha:var Nt=kt._init;return xt(wt,_t,At,Nt(kt._payload),It)}if(eb(kt)||Ka(kt))return wt=wt.get(At)||null,mt(_t,wt,kt,It,null);Mg(_t,kt)}return null}function bt(wt,_t,At,kt){for(var It=null,Nt=null,Pt=_t,Tt=_t=0,Ct=null;Pt!==null&&Tt<At.length;Tt++){Pt.index>Tt?(Ct=Pt,Pt=null):Ct=Pt.sibling;var Ot=yt(wt,Pt,At[Tt],kt);if(Ot===null){Pt===null&&(Pt=Ct);break}ot&&Pt&&Ot.alternate===null&&rt(wt,Pt),_t=ut(Ot,_t,Tt),Nt===null?It=Ot:Nt.sibling=Ot,Nt=Ot,Pt=Ct}if(Tt===At.length)return at(wt,Pt),I$4&&tg(wt,Tt),It;if(Pt===null){for(;Tt<At.length;Tt++)Pt=gt(wt,At[Tt],kt),Pt!==null&&(_t=ut(Pt,_t,Tt),Nt===null?It=Pt:Nt.sibling=Pt,Nt=Pt);return I$4&&tg(wt,Tt),It}for(Pt=lt(wt,Pt);Tt<At.length;Tt++)Ct=xt(Pt,wt,Tt,At[Tt],kt),Ct!==null&&(ot&&Ct.alternate!==null&&Pt.delete(Ct.key===null?Tt:Ct.key),_t=ut(Ct,_t,Tt),Nt===null?It=Ct:Nt.sibling=Ct,Nt=Ct);return ot&&Pt.forEach(function(Dt){return rt(wt,Dt)}),I$4&&tg(wt,Tt),It}function Et(wt,_t,At,kt){var It=Ka(At);if(typeof It!="function")throw Error(p$3(150));if(At=It.call(At),At==null)throw Error(p$3(151));for(var Nt=It=null,Pt=_t,Tt=_t=0,Ct=null,Ot=At.next();Pt!==null&&!Ot.done;Tt++,Ot=At.next()){Pt.index>Tt?(Ct=Pt,Pt=null):Ct=Pt.sibling;var Dt=yt(wt,Pt,Ot.value,kt);if(Dt===null){Pt===null&&(Pt=Ct);break}ot&&Pt&&Dt.alternate===null&&rt(wt,Pt),_t=ut(Dt,_t,Tt),Nt===null?It=Dt:Nt.sibling=Dt,Nt=Dt,Pt=Ct}if(Ot.done)return at(wt,Pt),I$4&&tg(wt,Tt),It;if(Pt===null){for(;!Ot.done;Tt++,Ot=At.next())Ot=gt(wt,Ot.value,kt),Ot!==null&&(_t=ut(Ot,_t,Tt),Nt===null?It=Ot:Nt.sibling=Ot,Nt=Ot);return I$4&&tg(wt,Tt),It}for(Pt=lt(wt,Pt);!Ot.done;Tt++,Ot=At.next())Ot=xt(Pt,wt,Tt,Ot.value,kt),Ot!==null&&(ot&&Ot.alternate!==null&&Pt.delete(Ot.key===null?Tt:Ot.key),_t=ut(Ot,_t,Tt),Nt===null?It=Ot:Nt.sibling=Ot,Nt=Ot);return ot&&Pt.forEach(function(jt){return rt(wt,jt)}),I$4&&tg(wt,Tt),It}function Rt(wt,_t,At,kt){if(typeof At=="object"&&At!==null&&At.type===ya&&At.key===null&&(At=At.props.children),typeof At=="object"&&At!==null){switch(At.$$typeof){case va:e:{for(var It=At.key,Nt=_t;Nt!==null;){if(Nt.key===It){if(It=At.type,It===ya){if(Nt.tag===7){at(wt,Nt.sibling),_t=ct(Nt,At.props.children),_t.return=wt,wt=_t;break e}}else if(Nt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Ha&&Ng(It)===Nt.type){at(wt,Nt.sibling),_t=ct(Nt,At.props),_t.ref=Lg(wt,Nt,At),_t.return=wt,wt=_t;break e}at(wt,Nt);break}else rt(wt,Nt);Nt=Nt.sibling}At.type===ya?(_t=Tg(At.props.children,wt.mode,kt,At.key),_t.return=wt,wt=_t):(kt=Rg(At.type,At.key,At.props,null,wt.mode,kt),kt.ref=Lg(wt,_t,At),kt.return=wt,wt=kt)}return dt(wt);case wa:e:{for(Nt=At.key;_t!==null;){if(_t.key===Nt)if(_t.tag===4&&_t.stateNode.containerInfo===At.containerInfo&&_t.stateNode.implementation===At.implementation){at(wt,_t.sibling),_t=ct(_t,At.children||[]),_t.return=wt,wt=_t;break e}else{at(wt,_t);break}else rt(wt,_t);_t=_t.sibling}_t=Sg(At,wt.mode,kt),_t.return=wt,wt=_t}return dt(wt);case Ha:return Nt=At._init,Rt(wt,_t,Nt(At._payload),kt)}if(eb(At))return bt(wt,_t,At,kt);if(Ka(At))return Et(wt,_t,At,kt);Mg(wt,At)}return typeof At=="string"&&At!==""||typeof At=="number"?(At=""+At,_t!==null&&_t.tag===6?(at(wt,_t.sibling),_t=ct(_t,At),_t.return=wt,wt=_t):(at(wt,_t),_t=Qg(At,wt.mode,kt),_t.return=wt,wt=_t),dt(wt)):at(wt,_t)}return Rt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(ot){var rt=Wg.current;E$2(Wg),ot._currentValue=rt}function bh(ot,rt,at){for(;ot!==null;){var lt=ot.alternate;if((ot.childLanes&rt)!==rt?(ot.childLanes|=rt,lt!==null&&(lt.childLanes|=rt)):lt!==null&&(lt.childLanes&rt)!==rt&&(lt.childLanes|=rt),ot===at)break;ot=ot.return}}function ch(ot,rt){Xg=ot,Zg=Yg=null,ot=ot.dependencies,ot!==null&&ot.firstContext!==null&&(ot.lanes&rt&&(dh=!0),ot.firstContext=null)}function eh(ot){var rt=ot._currentValue;if(Zg!==ot)if(ot={context:ot,memoizedValue:rt,next:null},Yg===null){if(Xg===null)throw Error(p$3(308));Yg=ot,Xg.dependencies={lanes:0,firstContext:ot}}else Yg=Yg.next=ot;return rt}var fh=null;function gh(ot){fh===null?fh=[ot]:fh.push(ot)}function hh(ot,rt,at,lt){var ct=rt.interleaved;return ct===null?(at.next=at,gh(rt)):(at.next=ct.next,ct.next=at),rt.interleaved=at,ih(ot,lt)}function ih(ot,rt){ot.lanes|=rt;var at=ot.alternate;for(at!==null&&(at.lanes|=rt),at=ot,ot=ot.return;ot!==null;)ot.childLanes|=rt,at=ot.alternate,at!==null&&(at.childLanes|=rt),at=ot,ot=ot.return;return at.tag===3?at.stateNode:null}var jh=!1;function kh(ot){ot.updateQueue={baseState:ot.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(ot,rt){ot=ot.updateQueue,rt.updateQueue===ot&&(rt.updateQueue={baseState:ot.baseState,firstBaseUpdate:ot.firstBaseUpdate,lastBaseUpdate:ot.lastBaseUpdate,shared:ot.shared,effects:ot.effects})}function mh(ot,rt){return{eventTime:ot,lane:rt,tag:0,payload:null,callback:null,next:null}}function nh(ot,rt,at){var lt=ot.updateQueue;if(lt===null)return null;if(lt=lt.shared,K$2&2){var ct=lt.pending;return ct===null?rt.next=rt:(rt.next=ct.next,ct.next=rt),lt.pending=rt,ih(ot,at)}return ct=lt.interleaved,ct===null?(rt.next=rt,gh(lt)):(rt.next=ct.next,ct.next=rt),lt.interleaved=rt,ih(ot,at)}function oh(ot,rt,at){if(rt=rt.updateQueue,rt!==null&&(rt=rt.shared,(at&4194240)!==0)){var lt=rt.lanes;lt&=ot.pendingLanes,at|=lt,rt.lanes=at,Cc(ot,at)}}function ph(ot,rt){var at=ot.updateQueue,lt=ot.alternate;if(lt!==null&&(lt=lt.updateQueue,at===lt)){var ct=null,ut=null;if(at=at.firstBaseUpdate,at!==null){do{var dt={eventTime:at.eventTime,lane:at.lane,tag:at.tag,payload:at.payload,callback:at.callback,next:null};ut===null?ct=ut=dt:ut=ut.next=dt,at=at.next}while(at!==null);ut===null?ct=ut=rt:ut=ut.next=rt}else ct=ut=rt;at={baseState:lt.baseState,firstBaseUpdate:ct,lastBaseUpdate:ut,shared:lt.shared,effects:lt.effects},ot.updateQueue=at;return}ot=at.lastBaseUpdate,ot===null?at.firstBaseUpdate=rt:ot.next=rt,at.lastBaseUpdate=rt}function qh(ot,rt,at,lt){var ct=ot.updateQueue;jh=!1;var ut=ct.firstBaseUpdate,dt=ct.lastBaseUpdate,ht=ct.shared.pending;if(ht!==null){ct.shared.pending=null;var ft=ht,pt=ft.next;ft.next=null,dt===null?ut=pt:dt.next=pt,dt=ft;var mt=ot.alternate;mt!==null&&(mt=mt.updateQueue,ht=mt.lastBaseUpdate,ht!==dt&&(ht===null?mt.firstBaseUpdate=pt:ht.next=pt,mt.lastBaseUpdate=ft))}if(ut!==null){var gt=ct.baseState;dt=0,mt=pt=ft=null,ht=ut;do{var yt=ht.lane,xt=ht.eventTime;if((lt&yt)===yt){mt!==null&&(mt=mt.next={eventTime:xt,lane:0,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null});e:{var bt=ot,Et=ht;switch(yt=rt,xt=at,Et.tag){case 1:if(bt=Et.payload,typeof bt=="function"){gt=bt.call(xt,gt,yt);break e}gt=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Et.payload,yt=typeof bt=="function"?bt.call(xt,gt,yt):bt,yt==null)break e;gt=A$3({},gt,yt);break e;case 2:jh=!0}}ht.callback!==null&&ht.lane!==0&&(ot.flags|=64,yt=ct.effects,yt===null?ct.effects=[ht]:yt.push(ht))}else xt={eventTime:xt,lane:yt,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null},mt===null?(pt=mt=xt,ft=gt):mt=mt.next=xt,dt|=yt;if(ht=ht.next,ht===null){if(ht=ct.shared.pending,ht===null)break;yt=ht,ht=yt.next,yt.next=null,ct.lastBaseUpdate=yt,ct.shared.pending=null}}while(!0);if(mt===null&&(ft=gt),ct.baseState=ft,ct.firstBaseUpdate=pt,ct.lastBaseUpdate=mt,rt=ct.shared.interleaved,rt!==null){ct=rt;do dt|=ct.lane,ct=ct.next;while(ct!==rt)}else ut===null&&(ct.shared.lanes=0);rh|=dt,ot.lanes=dt,ot.memoizedState=gt}}function sh(ot,rt,at){if(ot=rt.effects,rt.effects=null,ot!==null)for(rt=0;rt<ot.length;rt++){var lt=ot[rt],ct=lt.callback;if(ct!==null){if(lt.callback=null,lt=at,typeof ct!="function")throw Error(p$3(191,ct));ct.call(lt)}}}var th={},uh=Uf(th),vh$1=Uf(th),wh=Uf(th);function xh(ot){if(ot===th)throw Error(p$3(174));return ot}function yh(ot,rt){switch(G$3(wh,rt),G$3(vh$1,ot),G$3(uh,th),ot=rt.nodeType,ot){case 9:case 11:rt=(rt=rt.documentElement)?rt.namespaceURI:lb(null,"");break;default:ot=ot===8?rt.parentNode:rt,rt=ot.namespaceURI||null,ot=ot.tagName,rt=lb(rt,ot)}E$2(uh),G$3(uh,rt)}function zh(){E$2(uh),E$2(vh$1),E$2(wh)}function Ah(ot){xh(wh.current);var rt=xh(uh.current),at=lb(rt,ot.type);rt!==at&&(G$3(vh$1,ot),G$3(uh,at))}function Bh(ot){vh$1.current===ot&&(E$2(uh),E$2(vh$1))}var L$4=Uf(0);function Ch(ot){for(var rt=ot;rt!==null;){if(rt.tag===13){var at=rt.memoizedState;if(at!==null&&(at=at.dehydrated,at===null||at.data==="$?"||at.data==="$!"))return rt}else if(rt.tag===19&&rt.memoizedProps.revealOrder!==void 0){if(rt.flags&128)return rt}else if(rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===ot)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===ot)return null;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}return null}var Dh=[];function Eh(){for(var ot=0;ot<Dh.length;ot++)Dh[ot]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$3=null,N$3=null,O$3=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$4(){throw Error(p$3(321))}function Mh(ot,rt){if(rt===null)return!1;for(var at=0;at<rt.length&&at<ot.length;at++)if(!He(ot[at],rt[at]))return!1;return!0}function Nh(ot,rt,at,lt,ct,ut){if(Hh=ut,M$3=rt,rt.memoizedState=null,rt.updateQueue=null,rt.lanes=0,Fh.current=ot===null||ot.memoizedState===null?Oh:Ph,ot=at(lt,ct),Jh){ut=0;do{if(Jh=!1,Kh=0,25<=ut)throw Error(p$3(301));ut+=1,O$3=N$3=null,rt.updateQueue=null,Fh.current=Qh,ot=at(lt,ct)}while(Jh)}if(Fh.current=Rh,rt=N$3!==null&&N$3.next!==null,Hh=0,O$3=N$3=M$3=null,Ih=!1,rt)throw Error(p$3(300));return ot}function Sh(){var ot=Kh!==0;return Kh=0,ot}function Th(){var ot={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$3===null?M$3.memoizedState=O$3=ot:O$3=O$3.next=ot,O$3}function Uh(){if(N$3===null){var ot=M$3.alternate;ot=ot!==null?ot.memoizedState:null}else ot=N$3.next;var rt=O$3===null?M$3.memoizedState:O$3.next;if(rt!==null)O$3=rt,N$3=ot;else{if(ot===null)throw Error(p$3(310));N$3=ot,ot={memoizedState:N$3.memoizedState,baseState:N$3.baseState,baseQueue:N$3.baseQueue,queue:N$3.queue,next:null},O$3===null?M$3.memoizedState=O$3=ot:O$3=O$3.next=ot}return O$3}function Vh(ot,rt){return typeof rt=="function"?rt(ot):rt}function Wh(ot){var rt=Uh(),at=rt.queue;if(at===null)throw Error(p$3(311));at.lastRenderedReducer=ot;var lt=N$3,ct=lt.baseQueue,ut=at.pending;if(ut!==null){if(ct!==null){var dt=ct.next;ct.next=ut.next,ut.next=dt}lt.baseQueue=ct=ut,at.pending=null}if(ct!==null){ut=ct.next,lt=lt.baseState;var ht=dt=null,ft=null,pt=ut;do{var mt=pt.lane;if((Hh&mt)===mt)ft!==null&&(ft=ft.next={lane:0,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null}),lt=pt.hasEagerState?pt.eagerState:ot(lt,pt.action);else{var gt={lane:mt,action:pt.action,hasEagerState:pt.hasEagerState,eagerState:pt.eagerState,next:null};ft===null?(ht=ft=gt,dt=lt):ft=ft.next=gt,M$3.lanes|=mt,rh|=mt}pt=pt.next}while(pt!==null&&pt!==ut);ft===null?dt=lt:ft.next=ht,He(lt,rt.memoizedState)||(dh=!0),rt.memoizedState=lt,rt.baseState=dt,rt.baseQueue=ft,at.lastRenderedState=lt}if(ot=at.interleaved,ot!==null){ct=ot;do ut=ct.lane,M$3.lanes|=ut,rh|=ut,ct=ct.next;while(ct!==ot)}else ct===null&&(at.lanes=0);return[rt.memoizedState,at.dispatch]}function Xh(ot){var rt=Uh(),at=rt.queue;if(at===null)throw Error(p$3(311));at.lastRenderedReducer=ot;var lt=at.dispatch,ct=at.pending,ut=rt.memoizedState;if(ct!==null){at.pending=null;var dt=ct=ct.next;do ut=ot(ut,dt.action),dt=dt.next;while(dt!==ct);He(ut,rt.memoizedState)||(dh=!0),rt.memoizedState=ut,rt.baseQueue===null&&(rt.baseState=ut),at.lastRenderedState=ut}return[ut,lt]}function Yh(){}function Zh(ot,rt){var at=M$3,lt=Uh(),ct=rt(),ut=!He(lt.memoizedState,ct);if(ut&&(lt.memoizedState=ct,dh=!0),lt=lt.queue,$h(ai.bind(null,at,lt,ot),[ot]),lt.getSnapshot!==rt||ut||O$3!==null&&O$3.memoizedState.tag&1){if(at.flags|=2048,bi(9,ci.bind(null,at,lt,ct,rt),void 0,null),Q$3===null)throw Error(p$3(349));Hh&30||di(at,rt,ct)}return ct}function di(ot,rt,at){ot.flags|=16384,ot={getSnapshot:rt,value:at},rt=M$3.updateQueue,rt===null?(rt={lastEffect:null,stores:null},M$3.updateQueue=rt,rt.stores=[ot]):(at=rt.stores,at===null?rt.stores=[ot]:at.push(ot))}function ci(ot,rt,at,lt){rt.value=at,rt.getSnapshot=lt,ei(rt)&&fi(ot)}function ai(ot,rt,at){return at(function(){ei(rt)&&fi(ot)})}function ei(ot){var rt=ot.getSnapshot;ot=ot.value;try{var at=rt();return!He(ot,at)}catch{return!0}}function fi(ot){var rt=ih(ot,1);rt!==null&&gi(rt,ot,1,-1)}function hi(ot){var rt=Th();return typeof ot=="function"&&(ot=ot()),rt.memoizedState=rt.baseState=ot,ot={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:ot},rt.queue=ot,ot=ot.dispatch=ii.bind(null,M$3,ot),[rt.memoizedState,ot]}function bi(ot,rt,at,lt){return ot={tag:ot,create:rt,destroy:at,deps:lt,next:null},rt=M$3.updateQueue,rt===null?(rt={lastEffect:null,stores:null},M$3.updateQueue=rt,rt.lastEffect=ot.next=ot):(at=rt.lastEffect,at===null?rt.lastEffect=ot.next=ot:(lt=at.next,at.next=ot,ot.next=lt,rt.lastEffect=ot)),ot}function ji(){return Uh().memoizedState}function ki(ot,rt,at,lt){var ct=Th();M$3.flags|=ot,ct.memoizedState=bi(1|rt,at,void 0,lt===void 0?null:lt)}function li(ot,rt,at,lt){var ct=Uh();lt=lt===void 0?null:lt;var ut=void 0;if(N$3!==null){var dt=N$3.memoizedState;if(ut=dt.destroy,lt!==null&&Mh(lt,dt.deps)){ct.memoizedState=bi(rt,at,ut,lt);return}}M$3.flags|=ot,ct.memoizedState=bi(1|rt,at,ut,lt)}function mi(ot,rt){return ki(8390656,8,ot,rt)}function $h(ot,rt){return li(2048,8,ot,rt)}function ni(ot,rt){return li(4,2,ot,rt)}function oi(ot,rt){return li(4,4,ot,rt)}function pi(ot,rt){if(typeof rt=="function")return ot=ot(),rt(ot),function(){rt(null)};if(rt!=null)return ot=ot(),rt.current=ot,function(){rt.current=null}}function qi(ot,rt,at){return at=at!=null?at.concat([ot]):null,li(4,4,pi.bind(null,rt,ot),at)}function ri(){}function si(ot,rt){var at=Uh();rt=rt===void 0?null:rt;var lt=at.memoizedState;return lt!==null&&rt!==null&&Mh(rt,lt[1])?lt[0]:(at.memoizedState=[ot,rt],ot)}function ti(ot,rt){var at=Uh();rt=rt===void 0?null:rt;var lt=at.memoizedState;return lt!==null&&rt!==null&&Mh(rt,lt[1])?lt[0]:(ot=ot(),at.memoizedState=[ot,rt],ot)}function ui(ot,rt,at){return Hh&21?(He(at,rt)||(at=yc(),M$3.lanes|=at,rh|=at,ot.baseState=!0),rt):(ot.baseState&&(ot.baseState=!1,dh=!0),ot.memoizedState=at)}function vi(ot,rt){var at=C$5;C$5=at!==0&&4>at?at:4,ot(!0);var lt=Gh.transition;Gh.transition={};try{ot(!1),rt()}finally{C$5=at,Gh.transition=lt}}function wi(){return Uh().memoizedState}function xi(ot,rt,at){var lt=yi(ot);if(at={lane:lt,action:at,hasEagerState:!1,eagerState:null,next:null},zi(ot))Ai(rt,at);else if(at=hh(ot,rt,at,lt),at!==null){var ct=R$2();gi(at,ot,lt,ct),Bi(at,rt,lt)}}function ii(ot,rt,at){var lt=yi(ot),ct={lane:lt,action:at,hasEagerState:!1,eagerState:null,next:null};if(zi(ot))Ai(rt,ct);else{var ut=ot.alternate;if(ot.lanes===0&&(ut===null||ut.lanes===0)&&(ut=rt.lastRenderedReducer,ut!==null))try{var dt=rt.lastRenderedState,ht=ut(dt,at);if(ct.hasEagerState=!0,ct.eagerState=ht,He(ht,dt)){var ft=rt.interleaved;ft===null?(ct.next=ct,gh(rt)):(ct.next=ft.next,ft.next=ct),rt.interleaved=ct;return}}catch{}finally{}at=hh(ot,rt,ct,lt),at!==null&&(ct=R$2(),gi(at,ot,lt,ct),Bi(at,rt,lt))}}function zi(ot){var rt=ot.alternate;return ot===M$3||rt!==null&&rt===M$3}function Ai(ot,rt){Jh=Ih=!0;var at=ot.pending;at===null?rt.next=rt:(rt.next=at.next,at.next=rt),ot.pending=rt}function Bi(ot,rt,at){if(at&4194240){var lt=rt.lanes;lt&=ot.pendingLanes,at|=lt,rt.lanes=at,Cc(ot,at)}}var Rh={readContext:eh,useCallback:P$4,useContext:P$4,useEffect:P$4,useImperativeHandle:P$4,useInsertionEffect:P$4,useLayoutEffect:P$4,useMemo:P$4,useReducer:P$4,useRef:P$4,useState:P$4,useDebugValue:P$4,useDeferredValue:P$4,useTransition:P$4,useMutableSource:P$4,useSyncExternalStore:P$4,useId:P$4,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(ot,rt){return Th().memoizedState=[ot,rt===void 0?null:rt],ot},useContext:eh,useEffect:mi,useImperativeHandle:function(ot,rt,at){return at=at!=null?at.concat([ot]):null,ki(4194308,4,pi.bind(null,rt,ot),at)},useLayoutEffect:function(ot,rt){return ki(4194308,4,ot,rt)},useInsertionEffect:function(ot,rt){return ki(4,2,ot,rt)},useMemo:function(ot,rt){var at=Th();return rt=rt===void 0?null:rt,ot=ot(),at.memoizedState=[ot,rt],ot},useReducer:function(ot,rt,at){var lt=Th();return rt=at!==void 0?at(rt):rt,lt.memoizedState=lt.baseState=rt,ot={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ot,lastRenderedState:rt},lt.queue=ot,ot=ot.dispatch=xi.bind(null,M$3,ot),[lt.memoizedState,ot]},useRef:function(ot){var rt=Th();return ot={current:ot},rt.memoizedState=ot},useState:hi,useDebugValue:ri,useDeferredValue:function(ot){return Th().memoizedState=ot},useTransition:function(){var ot=hi(!1),rt=ot[0];return ot=vi.bind(null,ot[1]),Th().memoizedState=ot,[rt,ot]},useMutableSource:function(){},useSyncExternalStore:function(ot,rt,at){var lt=M$3,ct=Th();if(I$4){if(at===void 0)throw Error(p$3(407));at=at()}else{if(at=rt(),Q$3===null)throw Error(p$3(349));Hh&30||di(lt,rt,at)}ct.memoizedState=at;var ut={value:at,getSnapshot:rt};return ct.queue=ut,mi(ai.bind(null,lt,ut,ot),[ot]),lt.flags|=2048,bi(9,ci.bind(null,lt,ut,at,rt),void 0,null),at},useId:function(){var ot=Th(),rt=Q$3.identifierPrefix;if(I$4){var at=sg,lt=rg;at=(lt&~(1<<32-oc(lt)-1)).toString(32)+at,rt=":"+rt+"R"+at,at=Kh++,0<at&&(rt+="H"+at.toString(32)),rt+=":"}else at=Lh++,rt=":"+rt+"r"+at.toString(32)+":";return ot.memoizedState=rt},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(ot){var rt=Uh();return ui(rt,N$3.memoizedState,ot)},useTransition:function(){var ot=Wh(Vh)[0],rt=Uh().memoizedState;return[ot,rt]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(ot){var rt=Uh();return N$3===null?rt.memoizedState=ot:ui(rt,N$3.memoizedState,ot)},useTransition:function(){var ot=Xh(Vh)[0],rt=Uh().memoizedState;return[ot,rt]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(ot,rt){if(ot&&ot.defaultProps){rt=A$3({},rt),ot=ot.defaultProps;for(var at in ot)rt[at]===void 0&&(rt[at]=ot[at]);return rt}return rt}function Di(ot,rt,at,lt){rt=ot.memoizedState,at=at(lt,rt),at=at==null?rt:A$3({},rt,at),ot.memoizedState=at,ot.lanes===0&&(ot.updateQueue.baseState=at)}var Ei={isMounted:function(ot){return(ot=ot._reactInternals)?Vb(ot)===ot:!1},enqueueSetState:function(ot,rt,at){ot=ot._reactInternals;var lt=R$2(),ct=yi(ot),ut=mh(lt,ct);ut.payload=rt,at!=null&&(ut.callback=at),rt=nh(ot,ut,ct),rt!==null&&(gi(rt,ot,ct,lt),oh(rt,ot,ct))},enqueueReplaceState:function(ot,rt,at){ot=ot._reactInternals;var lt=R$2(),ct=yi(ot),ut=mh(lt,ct);ut.tag=1,ut.payload=rt,at!=null&&(ut.callback=at),rt=nh(ot,ut,ct),rt!==null&&(gi(rt,ot,ct,lt),oh(rt,ot,ct))},enqueueForceUpdate:function(ot,rt){ot=ot._reactInternals;var at=R$2(),lt=yi(ot),ct=mh(at,lt);ct.tag=2,rt!=null&&(ct.callback=rt),rt=nh(ot,ct,lt),rt!==null&&(gi(rt,ot,lt,at),oh(rt,ot,lt))}};function Fi(ot,rt,at,lt,ct,ut,dt){return ot=ot.stateNode,typeof ot.shouldComponentUpdate=="function"?ot.shouldComponentUpdate(lt,ut,dt):rt.prototype&&rt.prototype.isPureReactComponent?!Ie$1(at,lt)||!Ie$1(ct,ut):!0}function Gi(ot,rt,at){var lt=!1,ct=Vf,ut=rt.contextType;return typeof ut=="object"&&ut!==null?ut=eh(ut):(ct=Zf(rt)?Xf:H$4.current,lt=rt.contextTypes,ut=(lt=lt!=null)?Yf(ot,ct):Vf),rt=new rt(at,ut),ot.memoizedState=rt.state!==null&&rt.state!==void 0?rt.state:null,rt.updater=Ei,ot.stateNode=rt,rt._reactInternals=ot,lt&&(ot=ot.stateNode,ot.__reactInternalMemoizedUnmaskedChildContext=ct,ot.__reactInternalMemoizedMaskedChildContext=ut),rt}function Hi(ot,rt,at,lt){ot=rt.state,typeof rt.componentWillReceiveProps=="function"&&rt.componentWillReceiveProps(at,lt),typeof rt.UNSAFE_componentWillReceiveProps=="function"&&rt.UNSAFE_componentWillReceiveProps(at,lt),rt.state!==ot&&Ei.enqueueReplaceState(rt,rt.state,null)}function Ii(ot,rt,at,lt){var ct=ot.stateNode;ct.props=at,ct.state=ot.memoizedState,ct.refs={},kh(ot);var ut=rt.contextType;typeof ut=="object"&&ut!==null?ct.context=eh(ut):(ut=Zf(rt)?Xf:H$4.current,ct.context=Yf(ot,ut)),ct.state=ot.memoizedState,ut=rt.getDerivedStateFromProps,typeof ut=="function"&&(Di(ot,rt,ut,at),ct.state=ot.memoizedState),typeof rt.getDerivedStateFromProps=="function"||typeof ct.getSnapshotBeforeUpdate=="function"||typeof ct.UNSAFE_componentWillMount!="function"&&typeof ct.componentWillMount!="function"||(rt=ct.state,typeof ct.componentWillMount=="function"&&ct.componentWillMount(),typeof ct.UNSAFE_componentWillMount=="function"&&ct.UNSAFE_componentWillMount(),rt!==ct.state&&Ei.enqueueReplaceState(ct,ct.state,null),qh(ot,at,ct,lt),ct.state=ot.memoizedState),typeof ct.componentDidMount=="function"&&(ot.flags|=4194308)}function Ji(ot,rt){try{var at="",lt=rt;do at+=Pa(lt),lt=lt.return;while(lt);var ct=at}catch(ut){ct=`
Error generating stack: `+ut.message+`
`+ut.stack}return{value:ot,source:rt,stack:ct,digest:null}}function Ki(ot,rt,at){return{value:ot,source:null,stack:at??null,digest:rt??null}}function Li(ot,rt){try{console.error(rt.value)}catch(at){setTimeout(function(){throw at})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(ot,rt,at){at=mh(-1,at),at.tag=3,at.payload={element:null};var lt=rt.value;return at.callback=function(){Oi||(Oi=!0,Pi=lt),Li(ot,rt)},at}function Qi(ot,rt,at){at=mh(-1,at),at.tag=3;var lt=ot.type.getDerivedStateFromError;if(typeof lt=="function"){var ct=rt.value;at.payload=function(){return lt(ct)},at.callback=function(){Li(ot,rt)}}var ut=ot.stateNode;return ut!==null&&typeof ut.componentDidCatch=="function"&&(at.callback=function(){Li(ot,rt),typeof lt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var dt=rt.stack;this.componentDidCatch(rt.value,{componentStack:dt!==null?dt:""})}),at}function Si(ot,rt,at){var lt=ot.pingCache;if(lt===null){lt=ot.pingCache=new Mi;var ct=new Set;lt.set(rt,ct)}else ct=lt.get(rt),ct===void 0&&(ct=new Set,lt.set(rt,ct));ct.has(at)||(ct.add(at),ot=Ti.bind(null,ot,rt,at),rt.then(ot,ot))}function Ui(ot){do{var rt;if((rt=ot.tag===13)&&(rt=ot.memoizedState,rt=rt!==null?rt.dehydrated!==null:!0),rt)return ot;ot=ot.return}while(ot!==null);return null}function Vi(ot,rt,at,lt,ct){return ot.mode&1?(ot.flags|=65536,ot.lanes=ct,ot):(ot===rt?ot.flags|=65536:(ot.flags|=128,at.flags|=131072,at.flags&=-52805,at.tag===1&&(at.alternate===null?at.tag=17:(rt=mh(-1,1),rt.tag=2,nh(at,rt,1))),at.lanes|=1),ot)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(ot,rt,at,lt){rt.child=ot===null?Vg(rt,null,at,lt):Ug(rt,ot.child,at,lt)}function Yi(ot,rt,at,lt,ct){at=at.render;var ut=rt.ref;return ch(rt,ct),lt=Nh(ot,rt,at,lt,ut,ct),at=Sh(),ot!==null&&!dh?(rt.updateQueue=ot.updateQueue,rt.flags&=-2053,ot.lanes&=~ct,Zi(ot,rt,ct)):(I$4&&at&&vg(rt),rt.flags|=1,Xi(ot,rt,lt,ct),rt.child)}function $i(ot,rt,at,lt,ct){if(ot===null){var ut=at.type;return typeof ut=="function"&&!aj(ut)&&ut.defaultProps===void 0&&at.compare===null&&at.defaultProps===void 0?(rt.tag=15,rt.type=ut,bj(ot,rt,ut,lt,ct)):(ot=Rg(at.type,null,lt,rt,rt.mode,ct),ot.ref=rt.ref,ot.return=rt,rt.child=ot)}if(ut=ot.child,!(ot.lanes&ct)){var dt=ut.memoizedProps;if(at=at.compare,at=at!==null?at:Ie$1,at(dt,lt)&&ot.ref===rt.ref)return Zi(ot,rt,ct)}return rt.flags|=1,ot=Pg(ut,lt),ot.ref=rt.ref,ot.return=rt,rt.child=ot}function bj(ot,rt,at,lt,ct){if(ot!==null){var ut=ot.memoizedProps;if(Ie$1(ut,lt)&&ot.ref===rt.ref)if(dh=!1,rt.pendingProps=lt=ut,(ot.lanes&ct)!==0)ot.flags&131072&&(dh=!0);else return rt.lanes=ot.lanes,Zi(ot,rt,ct)}return cj(ot,rt,at,lt,ct)}function dj(ot,rt,at){var lt=rt.pendingProps,ct=lt.children,ut=ot!==null?ot.memoizedState:null;if(lt.mode==="hidden")if(!(rt.mode&1))rt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(ej,fj),fj|=at;else{if(!(at&1073741824))return ot=ut!==null?ut.baseLanes|at:at,rt.lanes=rt.childLanes=1073741824,rt.memoizedState={baseLanes:ot,cachePool:null,transitions:null},rt.updateQueue=null,G$3(ej,fj),fj|=ot,null;rt.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt=ut!==null?ut.baseLanes:at,G$3(ej,fj),fj|=lt}else ut!==null?(lt=ut.baseLanes|at,rt.memoizedState=null):lt=at,G$3(ej,fj),fj|=lt;return Xi(ot,rt,ct,at),rt.child}function gj(ot,rt){var at=rt.ref;(ot===null&&at!==null||ot!==null&&ot.ref!==at)&&(rt.flags|=512,rt.flags|=2097152)}function cj(ot,rt,at,lt,ct){var ut=Zf(at)?Xf:H$4.current;return ut=Yf(rt,ut),ch(rt,ct),at=Nh(ot,rt,at,lt,ut,ct),lt=Sh(),ot!==null&&!dh?(rt.updateQueue=ot.updateQueue,rt.flags&=-2053,ot.lanes&=~ct,Zi(ot,rt,ct)):(I$4&&lt&&vg(rt),rt.flags|=1,Xi(ot,rt,at,ct),rt.child)}function hj(ot,rt,at,lt,ct){if(Zf(at)){var ut=!0;cg(rt)}else ut=!1;if(ch(rt,ct),rt.stateNode===null)ij(ot,rt),Gi(rt,at,lt),Ii(rt,at,lt,ct),lt=!0;else if(ot===null){var dt=rt.stateNode,ht=rt.memoizedProps;dt.props=ht;var ft=dt.context,pt=at.contextType;typeof pt=="object"&&pt!==null?pt=eh(pt):(pt=Zf(at)?Xf:H$4.current,pt=Yf(rt,pt));var mt=at.getDerivedStateFromProps,gt=typeof mt=="function"||typeof dt.getSnapshotBeforeUpdate=="function";gt||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ht!==lt||ft!==pt)&&Hi(rt,dt,lt,pt),jh=!1;var yt=rt.memoizedState;dt.state=yt,qh(rt,lt,dt,ct),ft=rt.memoizedState,ht!==lt||yt!==ft||Wf.current||jh?(typeof mt=="function"&&(Di(rt,at,mt,lt),ft=rt.memoizedState),(ht=jh||Fi(rt,at,ht,lt,yt,ft,pt))?(gt||typeof dt.UNSAFE_componentWillMount!="function"&&typeof dt.componentWillMount!="function"||(typeof dt.componentWillMount=="function"&&dt.componentWillMount(),typeof dt.UNSAFE_componentWillMount=="function"&&dt.UNSAFE_componentWillMount()),typeof dt.componentDidMount=="function"&&(rt.flags|=4194308)):(typeof dt.componentDidMount=="function"&&(rt.flags|=4194308),rt.memoizedProps=lt,rt.memoizedState=ft),dt.props=lt,dt.state=ft,dt.context=pt,lt=ht):(typeof dt.componentDidMount=="function"&&(rt.flags|=4194308),lt=!1)}else{dt=rt.stateNode,lh(ot,rt),ht=rt.memoizedProps,pt=rt.type===rt.elementType?ht:Ci(rt.type,ht),dt.props=pt,gt=rt.pendingProps,yt=dt.context,ft=at.contextType,typeof ft=="object"&&ft!==null?ft=eh(ft):(ft=Zf(at)?Xf:H$4.current,ft=Yf(rt,ft));var xt=at.getDerivedStateFromProps;(mt=typeof xt=="function"||typeof dt.getSnapshotBeforeUpdate=="function")||typeof dt.UNSAFE_componentWillReceiveProps!="function"&&typeof dt.componentWillReceiveProps!="function"||(ht!==gt||yt!==ft)&&Hi(rt,dt,lt,ft),jh=!1,yt=rt.memoizedState,dt.state=yt,qh(rt,lt,dt,ct);var bt=rt.memoizedState;ht!==gt||yt!==bt||Wf.current||jh?(typeof xt=="function"&&(Di(rt,at,xt,lt),bt=rt.memoizedState),(pt=jh||Fi(rt,at,pt,lt,yt,bt,ft)||!1)?(mt||typeof dt.UNSAFE_componentWillUpdate!="function"&&typeof dt.componentWillUpdate!="function"||(typeof dt.componentWillUpdate=="function"&&dt.componentWillUpdate(lt,bt,ft),typeof dt.UNSAFE_componentWillUpdate=="function"&&dt.UNSAFE_componentWillUpdate(lt,bt,ft)),typeof dt.componentDidUpdate=="function"&&(rt.flags|=4),typeof dt.getSnapshotBeforeUpdate=="function"&&(rt.flags|=1024)):(typeof dt.componentDidUpdate!="function"||ht===ot.memoizedProps&&yt===ot.memoizedState||(rt.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ht===ot.memoizedProps&&yt===ot.memoizedState||(rt.flags|=1024),rt.memoizedProps=lt,rt.memoizedState=bt),dt.props=lt,dt.state=bt,dt.context=ft,lt=pt):(typeof dt.componentDidUpdate!="function"||ht===ot.memoizedProps&&yt===ot.memoizedState||(rt.flags|=4),typeof dt.getSnapshotBeforeUpdate!="function"||ht===ot.memoizedProps&&yt===ot.memoizedState||(rt.flags|=1024),lt=!1)}return jj(ot,rt,at,lt,ut,ct)}function jj(ot,rt,at,lt,ct,ut){gj(ot,rt);var dt=(rt.flags&128)!==0;if(!lt&&!dt)return ct&&dg(rt,at,!1),Zi(ot,rt,ut);lt=rt.stateNode,Wi.current=rt;var ht=dt&&typeof at.getDerivedStateFromError!="function"?null:lt.render();return rt.flags|=1,ot!==null&&dt?(rt.child=Ug(rt,ot.child,null,ut),rt.child=Ug(rt,null,ht,ut)):Xi(ot,rt,ht,ut),rt.memoizedState=lt.state,ct&&dg(rt,at,!0),rt.child}function kj(ot){var rt=ot.stateNode;rt.pendingContext?ag(ot,rt.pendingContext,rt.pendingContext!==rt.context):rt.context&&ag(ot,rt.context,!1),yh(ot,rt.containerInfo)}function lj(ot,rt,at,lt,ct){return Ig(),Jg(ct),rt.flags|=256,Xi(ot,rt,at,lt),rt.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(ot){return{baseLanes:ot,cachePool:null,transitions:null}}function oj(ot,rt,at){var lt=rt.pendingProps,ct=L$4.current,ut=!1,dt=(rt.flags&128)!==0,ht;if((ht=dt)||(ht=ot!==null&&ot.memoizedState===null?!1:(ct&2)!==0),ht?(ut=!0,rt.flags&=-129):(ot===null||ot.memoizedState!==null)&&(ct|=1),G$3(L$4,ct&1),ot===null)return Eg(rt),ot=rt.memoizedState,ot!==null&&(ot=ot.dehydrated,ot!==null)?(rt.mode&1?ot.data==="$!"?rt.lanes=8:rt.lanes=1073741824:rt.lanes=1,null):(dt=lt.children,ot=lt.fallback,ut?(lt=rt.mode,ut=rt.child,dt={mode:"hidden",children:dt},!(lt&1)&&ut!==null?(ut.childLanes=0,ut.pendingProps=dt):ut=pj(dt,lt,0,null),ot=Tg(ot,lt,at,null),ut.return=rt,ot.return=rt,ut.sibling=ot,rt.child=ut,rt.child.memoizedState=nj(at),rt.memoizedState=mj,ot):qj(rt,dt));if(ct=ot.memoizedState,ct!==null&&(ht=ct.dehydrated,ht!==null))return rj(ot,rt,dt,lt,ht,ct,at);if(ut){ut=lt.fallback,dt=rt.mode,ct=ot.child,ht=ct.sibling;var ft={mode:"hidden",children:lt.children};return!(dt&1)&&rt.child!==ct?(lt=rt.child,lt.childLanes=0,lt.pendingProps=ft,rt.deletions=null):(lt=Pg(ct,ft),lt.subtreeFlags=ct.subtreeFlags&14680064),ht!==null?ut=Pg(ht,ut):(ut=Tg(ut,dt,at,null),ut.flags|=2),ut.return=rt,lt.return=rt,lt.sibling=ut,rt.child=lt,lt=ut,ut=rt.child,dt=ot.child.memoizedState,dt=dt===null?nj(at):{baseLanes:dt.baseLanes|at,cachePool:null,transitions:dt.transitions},ut.memoizedState=dt,ut.childLanes=ot.childLanes&~at,rt.memoizedState=mj,lt}return ut=ot.child,ot=ut.sibling,lt=Pg(ut,{mode:"visible",children:lt.children}),!(rt.mode&1)&&(lt.lanes=at),lt.return=rt,lt.sibling=null,ot!==null&&(at=rt.deletions,at===null?(rt.deletions=[ot],rt.flags|=16):at.push(ot)),rt.child=lt,rt.memoizedState=null,lt}function qj(ot,rt){return rt=pj({mode:"visible",children:rt},ot.mode,0,null),rt.return=ot,ot.child=rt}function sj(ot,rt,at,lt){return lt!==null&&Jg(lt),Ug(rt,ot.child,null,at),ot=qj(rt,rt.pendingProps.children),ot.flags|=2,rt.memoizedState=null,ot}function rj(ot,rt,at,lt,ct,ut,dt){if(at)return rt.flags&256?(rt.flags&=-257,lt=Ki(Error(p$3(422))),sj(ot,rt,dt,lt)):rt.memoizedState!==null?(rt.child=ot.child,rt.flags|=128,null):(ut=lt.fallback,ct=rt.mode,lt=pj({mode:"visible",children:lt.children},ct,0,null),ut=Tg(ut,ct,dt,null),ut.flags|=2,lt.return=rt,ut.return=rt,lt.sibling=ut,rt.child=lt,rt.mode&1&&Ug(rt,ot.child,null,dt),rt.child.memoizedState=nj(dt),rt.memoizedState=mj,ut);if(!(rt.mode&1))return sj(ot,rt,dt,null);if(ct.data==="$!"){if(lt=ct.nextSibling&&ct.nextSibling.dataset,lt)var ht=lt.dgst;return lt=ht,ut=Error(p$3(419)),lt=Ki(ut,lt,void 0),sj(ot,rt,dt,lt)}if(ht=(dt&ot.childLanes)!==0,dh||ht){if(lt=Q$3,lt!==null){switch(dt&-dt){case 4:ct=2;break;case 16:ct=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ct=32;break;case 536870912:ct=268435456;break;default:ct=0}ct=ct&(lt.suspendedLanes|dt)?0:ct,ct!==0&&ct!==ut.retryLane&&(ut.retryLane=ct,ih(ot,ct),gi(lt,ot,ct,-1))}return tj(),lt=Ki(Error(p$3(421))),sj(ot,rt,dt,lt)}return ct.data==="$?"?(rt.flags|=128,rt.child=ot.child,rt=uj.bind(null,ot),ct._reactRetry=rt,null):(ot=ut.treeContext,yg=Lf(ct.nextSibling),xg=rt,I$4=!0,zg=null,ot!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=ot.id,sg=ot.overflow,qg=rt),rt=qj(rt,lt.children),rt.flags|=4096,rt)}function vj(ot,rt,at){ot.lanes|=rt;var lt=ot.alternate;lt!==null&&(lt.lanes|=rt),bh(ot.return,rt,at)}function wj(ot,rt,at,lt,ct){var ut=ot.memoizedState;ut===null?ot.memoizedState={isBackwards:rt,rendering:null,renderingStartTime:0,last:lt,tail:at,tailMode:ct}:(ut.isBackwards=rt,ut.rendering=null,ut.renderingStartTime=0,ut.last=lt,ut.tail=at,ut.tailMode=ct)}function xj(ot,rt,at){var lt=rt.pendingProps,ct=lt.revealOrder,ut=lt.tail;if(Xi(ot,rt,lt.children,at),lt=L$4.current,lt&2)lt=lt&1|2,rt.flags|=128;else{if(ot!==null&&ot.flags&128)e:for(ot=rt.child;ot!==null;){if(ot.tag===13)ot.memoizedState!==null&&vj(ot,at,rt);else if(ot.tag===19)vj(ot,at,rt);else if(ot.child!==null){ot.child.return=ot,ot=ot.child;continue}if(ot===rt)break e;for(;ot.sibling===null;){if(ot.return===null||ot.return===rt)break e;ot=ot.return}ot.sibling.return=ot.return,ot=ot.sibling}lt&=1}if(G$3(L$4,lt),!(rt.mode&1))rt.memoizedState=null;else switch(ct){case"forwards":for(at=rt.child,ct=null;at!==null;)ot=at.alternate,ot!==null&&Ch(ot)===null&&(ct=at),at=at.sibling;at=ct,at===null?(ct=rt.child,rt.child=null):(ct=at.sibling,at.sibling=null),wj(rt,!1,ct,at,ut);break;case"backwards":for(at=null,ct=rt.child,rt.child=null;ct!==null;){if(ot=ct.alternate,ot!==null&&Ch(ot)===null){rt.child=ct;break}ot=ct.sibling,ct.sibling=at,at=ct,ct=ot}wj(rt,!0,at,null,ut);break;case"together":wj(rt,!1,null,null,void 0);break;default:rt.memoizedState=null}return rt.child}function ij(ot,rt){!(rt.mode&1)&&ot!==null&&(ot.alternate=null,rt.alternate=null,rt.flags|=2)}function Zi(ot,rt,at){if(ot!==null&&(rt.dependencies=ot.dependencies),rh|=rt.lanes,!(at&rt.childLanes))return null;if(ot!==null&&rt.child!==ot.child)throw Error(p$3(153));if(rt.child!==null){for(ot=rt.child,at=Pg(ot,ot.pendingProps),rt.child=at,at.return=rt;ot.sibling!==null;)ot=ot.sibling,at=at.sibling=Pg(ot,ot.pendingProps),at.return=rt;at.sibling=null}return rt.child}function yj(ot,rt,at){switch(rt.tag){case 3:kj(rt),Ig();break;case 5:Ah(rt);break;case 1:Zf(rt.type)&&cg(rt);break;case 4:yh(rt,rt.stateNode.containerInfo);break;case 10:var lt=rt.type._context,ct=rt.memoizedProps.value;G$3(Wg,lt._currentValue),lt._currentValue=ct;break;case 13:if(lt=rt.memoizedState,lt!==null)return lt.dehydrated!==null?(G$3(L$4,L$4.current&1),rt.flags|=128,null):at&rt.child.childLanes?oj(ot,rt,at):(G$3(L$4,L$4.current&1),ot=Zi(ot,rt,at),ot!==null?ot.sibling:null);G$3(L$4,L$4.current&1);break;case 19:if(lt=(at&rt.childLanes)!==0,ot.flags&128){if(lt)return xj(ot,rt,at);rt.flags|=128}if(ct=rt.memoizedState,ct!==null&&(ct.rendering=null,ct.tail=null,ct.lastEffect=null),G$3(L$4,L$4.current),lt)break;return null;case 22:case 23:return rt.lanes=0,dj(ot,rt,at)}return Zi(ot,rt,at)}var zj,Aj,Bj,Cj;zj=function(ot,rt){for(var at=rt.child;at!==null;){if(at.tag===5||at.tag===6)ot.appendChild(at.stateNode);else if(at.tag!==4&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===rt)break;for(;at.sibling===null;){if(at.return===null||at.return===rt)return;at=at.return}at.sibling.return=at.return,at=at.sibling}};Aj=function(){};Bj=function(ot,rt,at,lt){var ct=ot.memoizedProps;if(ct!==lt){ot=rt.stateNode,xh(uh.current);var ut=null;switch(at){case"input":ct=Ya(ot,ct),lt=Ya(ot,lt),ut=[];break;case"select":ct=A$3({},ct,{value:void 0}),lt=A$3({},lt,{value:void 0}),ut=[];break;case"textarea":ct=gb(ot,ct),lt=gb(ot,lt),ut=[];break;default:typeof ct.onClick!="function"&&typeof lt.onClick=="function"&&(ot.onclick=Bf)}ub(at,lt);var dt;at=null;for(pt in ct)if(!lt.hasOwnProperty(pt)&&ct.hasOwnProperty(pt)&&ct[pt]!=null)if(pt==="style"){var ht=ct[pt];for(dt in ht)ht.hasOwnProperty(dt)&&(at||(at={}),at[dt]="")}else pt!=="dangerouslySetInnerHTML"&&pt!=="children"&&pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&pt!=="autoFocus"&&(ea.hasOwnProperty(pt)?ut||(ut=[]):(ut=ut||[]).push(pt,null));for(pt in lt){var ft=lt[pt];if(ht=ct!=null?ct[pt]:void 0,lt.hasOwnProperty(pt)&&ft!==ht&&(ft!=null||ht!=null))if(pt==="style")if(ht){for(dt in ht)!ht.hasOwnProperty(dt)||ft&&ft.hasOwnProperty(dt)||(at||(at={}),at[dt]="");for(dt in ft)ft.hasOwnProperty(dt)&&ht[dt]!==ft[dt]&&(at||(at={}),at[dt]=ft[dt])}else at||(ut||(ut=[]),ut.push(pt,at)),at=ft;else pt==="dangerouslySetInnerHTML"?(ft=ft?ft.__html:void 0,ht=ht?ht.__html:void 0,ft!=null&&ht!==ft&&(ut=ut||[]).push(pt,ft)):pt==="children"?typeof ft!="string"&&typeof ft!="number"||(ut=ut||[]).push(pt,""+ft):pt!=="suppressContentEditableWarning"&&pt!=="suppressHydrationWarning"&&(ea.hasOwnProperty(pt)?(ft!=null&&pt==="onScroll"&&D$5("scroll",ot),ut||ht===ft||(ut=[])):(ut=ut||[]).push(pt,ft))}at&&(ut=ut||[]).push("style",at);var pt=ut;(rt.updateQueue=pt)&&(rt.flags|=4)}};Cj=function(ot,rt,at,lt){at!==lt&&(rt.flags|=4)};function Dj(ot,rt){if(!I$4)switch(ot.tailMode){case"hidden":rt=ot.tail;for(var at=null;rt!==null;)rt.alternate!==null&&(at=rt),rt=rt.sibling;at===null?ot.tail=null:at.sibling=null;break;case"collapsed":at=ot.tail;for(var lt=null;at!==null;)at.alternate!==null&&(lt=at),at=at.sibling;lt===null?rt||ot.tail===null?ot.tail=null:ot.tail.sibling=null:lt.sibling=null}}function S$4(ot){var rt=ot.alternate!==null&&ot.alternate.child===ot.child,at=0,lt=0;if(rt)for(var ct=ot.child;ct!==null;)at|=ct.lanes|ct.childLanes,lt|=ct.subtreeFlags&14680064,lt|=ct.flags&14680064,ct.return=ot,ct=ct.sibling;else for(ct=ot.child;ct!==null;)at|=ct.lanes|ct.childLanes,lt|=ct.subtreeFlags,lt|=ct.flags,ct.return=ot,ct=ct.sibling;return ot.subtreeFlags|=lt,ot.childLanes=at,rt}function Ej(ot,rt,at){var lt=rt.pendingProps;switch(wg(rt),rt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$4(rt),null;case 1:return Zf(rt.type)&&$f(),S$4(rt),null;case 3:return lt=rt.stateNode,zh(),E$2(Wf),E$2(H$4),Eh(),lt.pendingContext&&(lt.context=lt.pendingContext,lt.pendingContext=null),(ot===null||ot.child===null)&&(Gg(rt)?rt.flags|=4:ot===null||ot.memoizedState.isDehydrated&&!(rt.flags&256)||(rt.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(ot,rt),S$4(rt),null;case 5:Bh(rt);var ct=xh(wh.current);if(at=rt.type,ot!==null&&rt.stateNode!=null)Bj(ot,rt,at,lt,ct),ot.ref!==rt.ref&&(rt.flags|=512,rt.flags|=2097152);else{if(!lt){if(rt.stateNode===null)throw Error(p$3(166));return S$4(rt),null}if(ot=xh(uh.current),Gg(rt)){lt=rt.stateNode,at=rt.type;var ut=rt.memoizedProps;switch(lt[Of]=rt,lt[Pf]=ut,ot=(rt.mode&1)!==0,at){case"dialog":D$5("cancel",lt),D$5("close",lt);break;case"iframe":case"object":case"embed":D$5("load",lt);break;case"video":case"audio":for(ct=0;ct<lf.length;ct++)D$5(lf[ct],lt);break;case"source":D$5("error",lt);break;case"img":case"image":case"link":D$5("error",lt),D$5("load",lt);break;case"details":D$5("toggle",lt);break;case"input":Za(lt,ut),D$5("invalid",lt);break;case"select":lt._wrapperState={wasMultiple:!!ut.multiple},D$5("invalid",lt);break;case"textarea":hb(lt,ut),D$5("invalid",lt)}ub(at,ut),ct=null;for(var dt in ut)if(ut.hasOwnProperty(dt)){var ht=ut[dt];dt==="children"?typeof ht=="string"?lt.textContent!==ht&&(ut.suppressHydrationWarning!==!0&&Af(lt.textContent,ht,ot),ct=["children",ht]):typeof ht=="number"&&lt.textContent!==""+ht&&(ut.suppressHydrationWarning!==!0&&Af(lt.textContent,ht,ot),ct=["children",""+ht]):ea.hasOwnProperty(dt)&&ht!=null&&dt==="onScroll"&&D$5("scroll",lt)}switch(at){case"input":Va(lt),db$3(lt,ut,!0);break;case"textarea":Va(lt),jb(lt);break;case"select":case"option":break;default:typeof ut.onClick=="function"&&(lt.onclick=Bf)}lt=ct,rt.updateQueue=lt,lt!==null&&(rt.flags|=4)}else{dt=ct.nodeType===9?ct:ct.ownerDocument,ot==="http://www.w3.org/1999/xhtml"&&(ot=kb(at)),ot==="http://www.w3.org/1999/xhtml"?at==="script"?(ot=dt.createElement("div"),ot.innerHTML="<script><\/script>",ot=ot.removeChild(ot.firstChild)):typeof lt.is=="string"?ot=dt.createElement(at,{is:lt.is}):(ot=dt.createElement(at),at==="select"&&(dt=ot,lt.multiple?dt.multiple=!0:lt.size&&(dt.size=lt.size))):ot=dt.createElementNS(ot,at),ot[Of]=rt,ot[Pf]=lt,zj(ot,rt,!1,!1),rt.stateNode=ot;e:{switch(dt=vb(at,lt),at){case"dialog":D$5("cancel",ot),D$5("close",ot),ct=lt;break;case"iframe":case"object":case"embed":D$5("load",ot),ct=lt;break;case"video":case"audio":for(ct=0;ct<lf.length;ct++)D$5(lf[ct],ot);ct=lt;break;case"source":D$5("error",ot),ct=lt;break;case"img":case"image":case"link":D$5("error",ot),D$5("load",ot),ct=lt;break;case"details":D$5("toggle",ot),ct=lt;break;case"input":Za(ot,lt),ct=Ya(ot,lt),D$5("invalid",ot);break;case"option":ct=lt;break;case"select":ot._wrapperState={wasMultiple:!!lt.multiple},ct=A$3({},lt,{value:void 0}),D$5("invalid",ot);break;case"textarea":hb(ot,lt),ct=gb(ot,lt),D$5("invalid",ot);break;default:ct=lt}ub(at,ct),ht=ct;for(ut in ht)if(ht.hasOwnProperty(ut)){var ft=ht[ut];ut==="style"?sb(ot,ft):ut==="dangerouslySetInnerHTML"?(ft=ft?ft.__html:void 0,ft!=null&&nb(ot,ft)):ut==="children"?typeof ft=="string"?(at!=="textarea"||ft!=="")&&ob(ot,ft):typeof ft=="number"&&ob(ot,""+ft):ut!=="suppressContentEditableWarning"&&ut!=="suppressHydrationWarning"&&ut!=="autoFocus"&&(ea.hasOwnProperty(ut)?ft!=null&&ut==="onScroll"&&D$5("scroll",ot):ft!=null&&ta(ot,ut,ft,dt))}switch(at){case"input":Va(ot),db$3(ot,lt,!1);break;case"textarea":Va(ot),jb(ot);break;case"option":lt.value!=null&&ot.setAttribute("value",""+Sa(lt.value));break;case"select":ot.multiple=!!lt.multiple,ut=lt.value,ut!=null?fb(ot,!!lt.multiple,ut,!1):lt.defaultValue!=null&&fb(ot,!!lt.multiple,lt.defaultValue,!0);break;default:typeof ct.onClick=="function"&&(ot.onclick=Bf)}switch(at){case"button":case"input":case"select":case"textarea":lt=!!lt.autoFocus;break e;case"img":lt=!0;break e;default:lt=!1}}lt&&(rt.flags|=4)}rt.ref!==null&&(rt.flags|=512,rt.flags|=2097152)}return S$4(rt),null;case 6:if(ot&&rt.stateNode!=null)Cj(ot,rt,ot.memoizedProps,lt);else{if(typeof lt!="string"&&rt.stateNode===null)throw Error(p$3(166));if(at=xh(wh.current),xh(uh.current),Gg(rt)){if(lt=rt.stateNode,at=rt.memoizedProps,lt[Of]=rt,(ut=lt.nodeValue!==at)&&(ot=xg,ot!==null))switch(ot.tag){case 3:Af(lt.nodeValue,at,(ot.mode&1)!==0);break;case 5:ot.memoizedProps.suppressHydrationWarning!==!0&&Af(lt.nodeValue,at,(ot.mode&1)!==0)}ut&&(rt.flags|=4)}else lt=(at.nodeType===9?at:at.ownerDocument).createTextNode(lt),lt[Of]=rt,rt.stateNode=lt}return S$4(rt),null;case 13:if(E$2(L$4),lt=rt.memoizedState,ot===null||ot.memoizedState!==null&&ot.memoizedState.dehydrated!==null){if(I$4&&yg!==null&&rt.mode&1&&!(rt.flags&128))Hg(),Ig(),rt.flags|=98560,ut=!1;else if(ut=Gg(rt),lt!==null&&lt.dehydrated!==null){if(ot===null){if(!ut)throw Error(p$3(318));if(ut=rt.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(p$3(317));ut[Of]=rt}else Ig(),!(rt.flags&128)&&(rt.memoizedState=null),rt.flags|=4;S$4(rt),ut=!1}else zg!==null&&(Fj(zg),zg=null),ut=!0;if(!ut)return rt.flags&65536?rt:null}return rt.flags&128?(rt.lanes=at,rt):(lt=lt!==null,lt!==(ot!==null&&ot.memoizedState!==null)&&lt&&(rt.child.flags|=8192,rt.mode&1&&(ot===null||L$4.current&1?T$4===0&&(T$4=3):tj())),rt.updateQueue!==null&&(rt.flags|=4),S$4(rt),null);case 4:return zh(),Aj(ot,rt),ot===null&&sf(rt.stateNode.containerInfo),S$4(rt),null;case 10:return ah(rt.type._context),S$4(rt),null;case 17:return Zf(rt.type)&&$f(),S$4(rt),null;case 19:if(E$2(L$4),ut=rt.memoizedState,ut===null)return S$4(rt),null;if(lt=(rt.flags&128)!==0,dt=ut.rendering,dt===null)if(lt)Dj(ut,!1);else{if(T$4!==0||ot!==null&&ot.flags&128)for(ot=rt.child;ot!==null;){if(dt=Ch(ot),dt!==null){for(rt.flags|=128,Dj(ut,!1),lt=dt.updateQueue,lt!==null&&(rt.updateQueue=lt,rt.flags|=4),rt.subtreeFlags=0,lt=at,at=rt.child;at!==null;)ut=at,ot=lt,ut.flags&=14680066,dt=ut.alternate,dt===null?(ut.childLanes=0,ut.lanes=ot,ut.child=null,ut.subtreeFlags=0,ut.memoizedProps=null,ut.memoizedState=null,ut.updateQueue=null,ut.dependencies=null,ut.stateNode=null):(ut.childLanes=dt.childLanes,ut.lanes=dt.lanes,ut.child=dt.child,ut.subtreeFlags=0,ut.deletions=null,ut.memoizedProps=dt.memoizedProps,ut.memoizedState=dt.memoizedState,ut.updateQueue=dt.updateQueue,ut.type=dt.type,ot=dt.dependencies,ut.dependencies=ot===null?null:{lanes:ot.lanes,firstContext:ot.firstContext}),at=at.sibling;return G$3(L$4,L$4.current&1|2),rt.child}ot=ot.sibling}ut.tail!==null&&B$4()>Gj&&(rt.flags|=128,lt=!0,Dj(ut,!1),rt.lanes=4194304)}else{if(!lt)if(ot=Ch(dt),ot!==null){if(rt.flags|=128,lt=!0,at=ot.updateQueue,at!==null&&(rt.updateQueue=at,rt.flags|=4),Dj(ut,!0),ut.tail===null&&ut.tailMode==="hidden"&&!dt.alternate&&!I$4)return S$4(rt),null}else 2*B$4()-ut.renderingStartTime>Gj&&at!==1073741824&&(rt.flags|=128,lt=!0,Dj(ut,!1),rt.lanes=4194304);ut.isBackwards?(dt.sibling=rt.child,rt.child=dt):(at=ut.last,at!==null?at.sibling=dt:rt.child=dt,ut.last=dt)}return ut.tail!==null?(rt=ut.tail,ut.rendering=rt,ut.tail=rt.sibling,ut.renderingStartTime=B$4(),rt.sibling=null,at=L$4.current,G$3(L$4,lt?at&1|2:at&1),rt):(S$4(rt),null);case 22:case 23:return Hj(),lt=rt.memoizedState!==null,ot!==null&&ot.memoizedState!==null!==lt&&(rt.flags|=8192),lt&&rt.mode&1?fj&1073741824&&(S$4(rt),rt.subtreeFlags&6&&(rt.flags|=8192)):S$4(rt),null;case 24:return null;case 25:return null}throw Error(p$3(156,rt.tag))}function Ij(ot,rt){switch(wg(rt),rt.tag){case 1:return Zf(rt.type)&&$f(),ot=rt.flags,ot&65536?(rt.flags=ot&-65537|128,rt):null;case 3:return zh(),E$2(Wf),E$2(H$4),Eh(),ot=rt.flags,ot&65536&&!(ot&128)?(rt.flags=ot&-65537|128,rt):null;case 5:return Bh(rt),null;case 13:if(E$2(L$4),ot=rt.memoizedState,ot!==null&&ot.dehydrated!==null){if(rt.alternate===null)throw Error(p$3(340));Ig()}return ot=rt.flags,ot&65536?(rt.flags=ot&-65537|128,rt):null;case 19:return E$2(L$4),null;case 4:return zh(),null;case 10:return ah(rt.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(ot,rt){var at=ot.ref;if(at!==null)if(typeof at=="function")try{at(null)}catch(lt){W$1(ot,rt,lt)}else at.current=null}function Mj(ot,rt,at){try{at()}catch(lt){W$1(ot,rt,lt)}}var Nj=!1;function Oj(ot,rt){if(Cf=dd,ot=Me(),Ne(ot)){if("selectionStart"in ot)var at={start:ot.selectionStart,end:ot.selectionEnd};else e:{at=(at=ot.ownerDocument)&&at.defaultView||window;var lt=at.getSelection&&at.getSelection();if(lt&&lt.rangeCount!==0){at=lt.anchorNode;var ct=lt.anchorOffset,ut=lt.focusNode;lt=lt.focusOffset;try{at.nodeType,ut.nodeType}catch{at=null;break e}var dt=0,ht=-1,ft=-1,pt=0,mt=0,gt=ot,yt=null;t:for(;;){for(var xt;gt!==at||ct!==0&&gt.nodeType!==3||(ht=dt+ct),gt!==ut||lt!==0&&gt.nodeType!==3||(ft=dt+lt),gt.nodeType===3&&(dt+=gt.nodeValue.length),(xt=gt.firstChild)!==null;)yt=gt,gt=xt;for(;;){if(gt===ot)break t;if(yt===at&&++pt===ct&&(ht=dt),yt===ut&&++mt===lt&&(ft=dt),(xt=gt.nextSibling)!==null)break;gt=yt,yt=gt.parentNode}gt=xt}at=ht===-1||ft===-1?null:{start:ht,end:ft}}else at=null}at=at||{start:0,end:0}}else at=null;for(Df={focusedElem:ot,selectionRange:at},dd=!1,V$2=rt;V$2!==null;)if(rt=V$2,ot=rt.child,(rt.subtreeFlags&1028)!==0&&ot!==null)ot.return=rt,V$2=ot;else for(;V$2!==null;){rt=V$2;try{var bt=rt.alternate;if(rt.flags&1024)switch(rt.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Et=bt.memoizedProps,Rt=bt.memoizedState,wt=rt.stateNode,_t=wt.getSnapshotBeforeUpdate(rt.elementType===rt.type?Et:Ci(rt.type,Et),Rt);wt.__reactInternalSnapshotBeforeUpdate=_t}break;case 3:var At=rt.stateNode.containerInfo;At.nodeType===1?At.textContent="":At.nodeType===9&&At.documentElement&&At.removeChild(At.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$3(163))}}catch(kt){W$1(rt,rt.return,kt)}if(ot=rt.sibling,ot!==null){ot.return=rt.return,V$2=ot;break}V$2=rt.return}return bt=Nj,Nj=!1,bt}function Pj(ot,rt,at){var lt=rt.updateQueue;if(lt=lt!==null?lt.lastEffect:null,lt!==null){var ct=lt=lt.next;do{if((ct.tag&ot)===ot){var ut=ct.destroy;ct.destroy=void 0,ut!==void 0&&Mj(rt,at,ut)}ct=ct.next}while(ct!==lt)}}function Qj(ot,rt){if(rt=rt.updateQueue,rt=rt!==null?rt.lastEffect:null,rt!==null){var at=rt=rt.next;do{if((at.tag&ot)===ot){var lt=at.create;at.destroy=lt()}at=at.next}while(at!==rt)}}function Rj(ot){var rt=ot.ref;if(rt!==null){var at=ot.stateNode;switch(ot.tag){case 5:ot=at;break;default:ot=at}typeof rt=="function"?rt(ot):rt.current=ot}}function Sj(ot){var rt=ot.alternate;rt!==null&&(ot.alternate=null,Sj(rt)),ot.child=null,ot.deletions=null,ot.sibling=null,ot.tag===5&&(rt=ot.stateNode,rt!==null&&(delete rt[Of],delete rt[Pf],delete rt[of],delete rt[Qf],delete rt[Rf])),ot.stateNode=null,ot.return=null,ot.dependencies=null,ot.memoizedProps=null,ot.memoizedState=null,ot.pendingProps=null,ot.stateNode=null,ot.updateQueue=null}function Tj(ot){return ot.tag===5||ot.tag===3||ot.tag===4}function Uj(ot){e:for(;;){for(;ot.sibling===null;){if(ot.return===null||Tj(ot.return))return null;ot=ot.return}for(ot.sibling.return=ot.return,ot=ot.sibling;ot.tag!==5&&ot.tag!==6&&ot.tag!==18;){if(ot.flags&2||ot.child===null||ot.tag===4)continue e;ot.child.return=ot,ot=ot.child}if(!(ot.flags&2))return ot.stateNode}}function Vj(ot,rt,at){var lt=ot.tag;if(lt===5||lt===6)ot=ot.stateNode,rt?at.nodeType===8?at.parentNode.insertBefore(ot,rt):at.insertBefore(ot,rt):(at.nodeType===8?(rt=at.parentNode,rt.insertBefore(ot,at)):(rt=at,rt.appendChild(ot)),at=at._reactRootContainer,at!=null||rt.onclick!==null||(rt.onclick=Bf));else if(lt!==4&&(ot=ot.child,ot!==null))for(Vj(ot,rt,at),ot=ot.sibling;ot!==null;)Vj(ot,rt,at),ot=ot.sibling}function Wj(ot,rt,at){var lt=ot.tag;if(lt===5||lt===6)ot=ot.stateNode,rt?at.insertBefore(ot,rt):at.appendChild(ot);else if(lt!==4&&(ot=ot.child,ot!==null))for(Wj(ot,rt,at),ot=ot.sibling;ot!==null;)Wj(ot,rt,at),ot=ot.sibling}var X$1=null,Xj=!1;function Yj(ot,rt,at){for(at=at.child;at!==null;)Zj(ot,rt,at),at=at.sibling}function Zj(ot,rt,at){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,at)}catch{}switch(at.tag){case 5:U$2||Lj(at,rt);case 6:var lt=X$1,ct=Xj;X$1=null,Yj(ot,rt,at),X$1=lt,Xj=ct,X$1!==null&&(Xj?(ot=X$1,at=at.stateNode,ot.nodeType===8?ot.parentNode.removeChild(at):ot.removeChild(at)):X$1.removeChild(at.stateNode));break;case 18:X$1!==null&&(Xj?(ot=X$1,at=at.stateNode,ot.nodeType===8?Kf(ot.parentNode,at):ot.nodeType===1&&Kf(ot,at),bd(ot)):Kf(X$1,at.stateNode));break;case 4:lt=X$1,ct=Xj,X$1=at.stateNode.containerInfo,Xj=!0,Yj(ot,rt,at),X$1=lt,Xj=ct;break;case 0:case 11:case 14:case 15:if(!U$2&&(lt=at.updateQueue,lt!==null&&(lt=lt.lastEffect,lt!==null))){ct=lt=lt.next;do{var ut=ct,dt=ut.destroy;ut=ut.tag,dt!==void 0&&(ut&2||ut&4)&&Mj(at,rt,dt),ct=ct.next}while(ct!==lt)}Yj(ot,rt,at);break;case 1:if(!U$2&&(Lj(at,rt),lt=at.stateNode,typeof lt.componentWillUnmount=="function"))try{lt.props=at.memoizedProps,lt.state=at.memoizedState,lt.componentWillUnmount()}catch(ht){W$1(at,rt,ht)}Yj(ot,rt,at);break;case 21:Yj(ot,rt,at);break;case 22:at.mode&1?(U$2=(lt=U$2)||at.memoizedState!==null,Yj(ot,rt,at),U$2=lt):Yj(ot,rt,at);break;default:Yj(ot,rt,at)}}function ak(ot){var rt=ot.updateQueue;if(rt!==null){ot.updateQueue=null;var at=ot.stateNode;at===null&&(at=ot.stateNode=new Kj),rt.forEach(function(lt){var ct=bk.bind(null,ot,lt);at.has(lt)||(at.add(lt),lt.then(ct,ct))})}}function ck(ot,rt){var at=rt.deletions;if(at!==null)for(var lt=0;lt<at.length;lt++){var ct=at[lt];try{var ut=ot,dt=rt,ht=dt;e:for(;ht!==null;){switch(ht.tag){case 5:X$1=ht.stateNode,Xj=!1;break e;case 3:X$1=ht.stateNode.containerInfo,Xj=!0;break e;case 4:X$1=ht.stateNode.containerInfo,Xj=!0;break e}ht=ht.return}if(X$1===null)throw Error(p$3(160));Zj(ut,dt,ct),X$1=null,Xj=!1;var ft=ct.alternate;ft!==null&&(ft.return=null),ct.return=null}catch(pt){W$1(ct,rt,pt)}}if(rt.subtreeFlags&12854)for(rt=rt.child;rt!==null;)dk(rt,ot),rt=rt.sibling}function dk(ot,rt){var at=ot.alternate,lt=ot.flags;switch(ot.tag){case 0:case 11:case 14:case 15:if(ck(rt,ot),ek(ot),lt&4){try{Pj(3,ot,ot.return),Qj(3,ot)}catch(Et){W$1(ot,ot.return,Et)}try{Pj(5,ot,ot.return)}catch(Et){W$1(ot,ot.return,Et)}}break;case 1:ck(rt,ot),ek(ot),lt&512&&at!==null&&Lj(at,at.return);break;case 5:if(ck(rt,ot),ek(ot),lt&512&&at!==null&&Lj(at,at.return),ot.flags&32){var ct=ot.stateNode;try{ob(ct,"")}catch(Et){W$1(ot,ot.return,Et)}}if(lt&4&&(ct=ot.stateNode,ct!=null)){var ut=ot.memoizedProps,dt=at!==null?at.memoizedProps:ut,ht=ot.type,ft=ot.updateQueue;if(ot.updateQueue=null,ft!==null)try{ht==="input"&&ut.type==="radio"&&ut.name!=null&&ab(ct,ut),vb(ht,dt);var pt=vb(ht,ut);for(dt=0;dt<ft.length;dt+=2){var mt=ft[dt],gt=ft[dt+1];mt==="style"?sb(ct,gt):mt==="dangerouslySetInnerHTML"?nb(ct,gt):mt==="children"?ob(ct,gt):ta(ct,mt,gt,pt)}switch(ht){case"input":bb(ct,ut);break;case"textarea":ib(ct,ut);break;case"select":var yt=ct._wrapperState.wasMultiple;ct._wrapperState.wasMultiple=!!ut.multiple;var xt=ut.value;xt!=null?fb(ct,!!ut.multiple,xt,!1):yt!==!!ut.multiple&&(ut.defaultValue!=null?fb(ct,!!ut.multiple,ut.defaultValue,!0):fb(ct,!!ut.multiple,ut.multiple?[]:"",!1))}ct[Pf]=ut}catch(Et){W$1(ot,ot.return,Et)}}break;case 6:if(ck(rt,ot),ek(ot),lt&4){if(ot.stateNode===null)throw Error(p$3(162));ct=ot.stateNode,ut=ot.memoizedProps;try{ct.nodeValue=ut}catch(Et){W$1(ot,ot.return,Et)}}break;case 3:if(ck(rt,ot),ek(ot),lt&4&&at!==null&&at.memoizedState.isDehydrated)try{bd(rt.containerInfo)}catch(Et){W$1(ot,ot.return,Et)}break;case 4:ck(rt,ot),ek(ot);break;case 13:ck(rt,ot),ek(ot),ct=ot.child,ct.flags&8192&&(ut=ct.memoizedState!==null,ct.stateNode.isHidden=ut,!ut||ct.alternate!==null&&ct.alternate.memoizedState!==null||(fk=B$4())),lt&4&&ak(ot);break;case 22:if(mt=at!==null&&at.memoizedState!==null,ot.mode&1?(U$2=(pt=U$2)||mt,ck(rt,ot),U$2=pt):ck(rt,ot),ek(ot),lt&8192){if(pt=ot.memoizedState!==null,(ot.stateNode.isHidden=pt)&&!mt&&ot.mode&1)for(V$2=ot,mt=ot.child;mt!==null;){for(gt=V$2=mt;V$2!==null;){switch(yt=V$2,xt=yt.child,yt.tag){case 0:case 11:case 14:case 15:Pj(4,yt,yt.return);break;case 1:Lj(yt,yt.return);var bt=yt.stateNode;if(typeof bt.componentWillUnmount=="function"){lt=yt,at=yt.return;try{rt=lt,bt.props=rt.memoizedProps,bt.state=rt.memoizedState,bt.componentWillUnmount()}catch(Et){W$1(lt,at,Et)}}break;case 5:Lj(yt,yt.return);break;case 22:if(yt.memoizedState!==null){gk(gt);continue}}xt!==null?(xt.return=yt,V$2=xt):gk(gt)}mt=mt.sibling}e:for(mt=null,gt=ot;;){if(gt.tag===5){if(mt===null){mt=gt;try{ct=gt.stateNode,pt?(ut=ct.style,typeof ut.setProperty=="function"?ut.setProperty("display","none","important"):ut.display="none"):(ht=gt.stateNode,ft=gt.memoizedProps.style,dt=ft!=null&&ft.hasOwnProperty("display")?ft.display:null,ht.style.display=rb("display",dt))}catch(Et){W$1(ot,ot.return,Et)}}}else if(gt.tag===6){if(mt===null)try{gt.stateNode.nodeValue=pt?"":gt.memoizedProps}catch(Et){W$1(ot,ot.return,Et)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===ot)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===ot)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===ot)break e;mt===gt&&(mt=null),gt=gt.return}mt===gt&&(mt=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:ck(rt,ot),ek(ot),lt&4&&ak(ot);break;case 21:break;default:ck(rt,ot),ek(ot)}}function ek(ot){var rt=ot.flags;if(rt&2){try{e:{for(var at=ot.return;at!==null;){if(Tj(at)){var lt=at;break e}at=at.return}throw Error(p$3(160))}switch(lt.tag){case 5:var ct=lt.stateNode;lt.flags&32&&(ob(ct,""),lt.flags&=-33);var ut=Uj(ot);Wj(ot,ut,ct);break;case 3:case 4:var dt=lt.stateNode.containerInfo,ht=Uj(ot);Vj(ot,ht,dt);break;default:throw Error(p$3(161))}}catch(ft){W$1(ot,ot.return,ft)}ot.flags&=-3}rt&4096&&(ot.flags&=-4097)}function hk(ot,rt,at){V$2=ot,ik(ot)}function ik(ot,rt,at){for(var lt=(ot.mode&1)!==0;V$2!==null;){var ct=V$2,ut=ct.child;if(ct.tag===22&&lt){var dt=ct.memoizedState!==null||Jj;if(!dt){var ht=ct.alternate,ft=ht!==null&&ht.memoizedState!==null||U$2;ht=Jj;var pt=U$2;if(Jj=dt,(U$2=ft)&&!pt)for(V$2=ct;V$2!==null;)dt=V$2,ft=dt.child,dt.tag===22&&dt.memoizedState!==null?jk(ct):ft!==null?(ft.return=dt,V$2=ft):jk(ct);for(;ut!==null;)V$2=ut,ik(ut),ut=ut.sibling;V$2=ct,Jj=ht,U$2=pt}kk(ot)}else ct.subtreeFlags&8772&&ut!==null?(ut.return=ct,V$2=ut):kk(ot)}}function kk(ot){for(;V$2!==null;){var rt=V$2;if(rt.flags&8772){var at=rt.alternate;try{if(rt.flags&8772)switch(rt.tag){case 0:case 11:case 15:U$2||Qj(5,rt);break;case 1:var lt=rt.stateNode;if(rt.flags&4&&!U$2)if(at===null)lt.componentDidMount();else{var ct=rt.elementType===rt.type?at.memoizedProps:Ci(rt.type,at.memoizedProps);lt.componentDidUpdate(ct,at.memoizedState,lt.__reactInternalSnapshotBeforeUpdate)}var ut=rt.updateQueue;ut!==null&&sh(rt,ut,lt);break;case 3:var dt=rt.updateQueue;if(dt!==null){if(at=null,rt.child!==null)switch(rt.child.tag){case 5:at=rt.child.stateNode;break;case 1:at=rt.child.stateNode}sh(rt,dt,at)}break;case 5:var ht=rt.stateNode;if(at===null&&rt.flags&4){at=ht;var ft=rt.memoizedProps;switch(rt.type){case"button":case"input":case"select":case"textarea":ft.autoFocus&&at.focus();break;case"img":ft.src&&(at.src=ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(rt.memoizedState===null){var pt=rt.alternate;if(pt!==null){var mt=pt.memoizedState;if(mt!==null){var gt=mt.dehydrated;gt!==null&&bd(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$3(163))}U$2||rt.flags&512&&Rj(rt)}catch(yt){W$1(rt,rt.return,yt)}}if(rt===ot){V$2=null;break}if(at=rt.sibling,at!==null){at.return=rt.return,V$2=at;break}V$2=rt.return}}function gk(ot){for(;V$2!==null;){var rt=V$2;if(rt===ot){V$2=null;break}var at=rt.sibling;if(at!==null){at.return=rt.return,V$2=at;break}V$2=rt.return}}function jk(ot){for(;V$2!==null;){var rt=V$2;try{switch(rt.tag){case 0:case 11:case 15:var at=rt.return;try{Qj(4,rt)}catch(ft){W$1(rt,at,ft)}break;case 1:var lt=rt.stateNode;if(typeof lt.componentDidMount=="function"){var ct=rt.return;try{lt.componentDidMount()}catch(ft){W$1(rt,ct,ft)}}var ut=rt.return;try{Rj(rt)}catch(ft){W$1(rt,ut,ft)}break;case 5:var dt=rt.return;try{Rj(rt)}catch(ft){W$1(rt,dt,ft)}}}catch(ft){W$1(rt,rt.return,ft)}if(rt===ot){V$2=null;break}var ht=rt.sibling;if(ht!==null){ht.return=rt.return,V$2=ht;break}V$2=rt.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q$3=null,Y$1=null,Z$2=0,fj=0,ej=Uf(0),T$4=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$2(){return K$2&6?B$4():Ak!==-1?Ak:Ak=B$4()}function yi(ot){return ot.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(ot=C$5,ot!==0||(ot=window.event,ot=ot===void 0?16:jd(ot.type)),ot):1}function gi(ot,rt,at,lt){if(50<yk)throw yk=0,zk=null,Error(p$3(185));Ac(ot,at,lt),(!(K$2&2)||ot!==Q$3)&&(ot===Q$3&&(!(K$2&2)&&(qk|=at),T$4===4&&Ck(ot,Z$2)),Dk(ot,lt),at===1&&K$2===0&&!(rt.mode&1)&&(Gj=B$4()+500,fg&&jg()))}function Dk(ot,rt){var at=ot.callbackNode;wc(ot,rt);var lt=uc(ot,ot===Q$3?Z$2:0);if(lt===0)at!==null&&bc(at),ot.callbackNode=null,ot.callbackPriority=0;else if(rt=lt&-lt,ot.callbackPriority!==rt){if(at!=null&&bc(at),rt===1)ot.tag===0?ig(Ek.bind(null,ot)):hg(Ek.bind(null,ot)),Jf(function(){!(K$2&6)&&jg()}),at=null;else{switch(Dc(lt)){case 1:at=fc;break;case 4:at=gc;break;case 16:at=hc;break;case 536870912:at=jc;break;default:at=hc}at=Fk(at,Gk.bind(null,ot))}ot.callbackPriority=rt,ot.callbackNode=at}}function Gk(ot,rt){if(Ak=-1,Bk=0,K$2&6)throw Error(p$3(327));var at=ot.callbackNode;if(Hk()&&ot.callbackNode!==at)return null;var lt=uc(ot,ot===Q$3?Z$2:0);if(lt===0)return null;if(lt&30||lt&ot.expiredLanes||rt)rt=Ik(ot,lt);else{rt=lt;var ct=K$2;K$2|=2;var ut=Jk();(Q$3!==ot||Z$2!==rt)&&(uk=null,Gj=B$4()+500,Kk(ot,rt));do try{Lk();break}catch(ht){Mk(ot,ht)}while(!0);$g(),mk.current=ut,K$2=ct,Y$1!==null?rt=0:(Q$3=null,Z$2=0,rt=T$4)}if(rt!==0){if(rt===2&&(ct=xc(ot),ct!==0&&(lt=ct,rt=Nk(ot,ct))),rt===1)throw at=pk,Kk(ot,0),Ck(ot,lt),Dk(ot,B$4()),at;if(rt===6)Ck(ot,lt);else{if(ct=ot.current.alternate,!(lt&30)&&!Ok(ct)&&(rt=Ik(ot,lt),rt===2&&(ut=xc(ot),ut!==0&&(lt=ut,rt=Nk(ot,ut))),rt===1))throw at=pk,Kk(ot,0),Ck(ot,lt),Dk(ot,B$4()),at;switch(ot.finishedWork=ct,ot.finishedLanes=lt,rt){case 0:case 1:throw Error(p$3(345));case 2:Pk(ot,tk,uk);break;case 3:if(Ck(ot,lt),(lt&130023424)===lt&&(rt=fk+500-B$4(),10<rt)){if(uc(ot,0)!==0)break;if(ct=ot.suspendedLanes,(ct&lt)!==lt){R$2(),ot.pingedLanes|=ot.suspendedLanes&ct;break}ot.timeoutHandle=Ff(Pk.bind(null,ot,tk,uk),rt);break}Pk(ot,tk,uk);break;case 4:if(Ck(ot,lt),(lt&4194240)===lt)break;for(rt=ot.eventTimes,ct=-1;0<lt;){var dt=31-oc(lt);ut=1<<dt,dt=rt[dt],dt>ct&&(ct=dt),lt&=~ut}if(lt=ct,lt=B$4()-lt,lt=(120>lt?120:480>lt?480:1080>lt?1080:1920>lt?1920:3e3>lt?3e3:4320>lt?4320:1960*lk(lt/1960))-lt,10<lt){ot.timeoutHandle=Ff(Pk.bind(null,ot,tk,uk),lt);break}Pk(ot,tk,uk);break;case 5:Pk(ot,tk,uk);break;default:throw Error(p$3(329))}}}return Dk(ot,B$4()),ot.callbackNode===at?Gk.bind(null,ot):null}function Nk(ot,rt){var at=sk;return ot.current.memoizedState.isDehydrated&&(Kk(ot,rt).flags|=256),ot=Ik(ot,rt),ot!==2&&(rt=tk,tk=at,rt!==null&&Fj(rt)),ot}function Fj(ot){tk===null?tk=ot:tk.push.apply(tk,ot)}function Ok(ot){for(var rt=ot;;){if(rt.flags&16384){var at=rt.updateQueue;if(at!==null&&(at=at.stores,at!==null))for(var lt=0;lt<at.length;lt++){var ct=at[lt],ut=ct.getSnapshot;ct=ct.value;try{if(!He(ut(),ct))return!1}catch{return!1}}}if(at=rt.child,rt.subtreeFlags&16384&&at!==null)at.return=rt,rt=at;else{if(rt===ot)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===ot)return!0;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}}return!0}function Ck(ot,rt){for(rt&=~rk,rt&=~qk,ot.suspendedLanes|=rt,ot.pingedLanes&=~rt,ot=ot.expirationTimes;0<rt;){var at=31-oc(rt),lt=1<<at;ot[at]=-1,rt&=~lt}}function Ek(ot){if(K$2&6)throw Error(p$3(327));Hk();var rt=uc(ot,0);if(!(rt&1))return Dk(ot,B$4()),null;var at=Ik(ot,rt);if(ot.tag!==0&&at===2){var lt=xc(ot);lt!==0&&(rt=lt,at=Nk(ot,lt))}if(at===1)throw at=pk,Kk(ot,0),Ck(ot,rt),Dk(ot,B$4()),at;if(at===6)throw Error(p$3(345));return ot.finishedWork=ot.current.alternate,ot.finishedLanes=rt,Pk(ot,tk,uk),Dk(ot,B$4()),null}function Qk(ot,rt){var at=K$2;K$2|=1;try{return ot(rt)}finally{K$2=at,K$2===0&&(Gj=B$4()+500,fg&&jg())}}function Rk(ot){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var rt=K$2;K$2|=1;var at=ok.transition,lt=C$5;try{if(ok.transition=null,C$5=1,ot)return ot()}finally{C$5=lt,ok.transition=at,K$2=rt,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(ot,rt){ot.finishedWork=null,ot.finishedLanes=0;var at=ot.timeoutHandle;if(at!==-1&&(ot.timeoutHandle=-1,Gf(at)),Y$1!==null)for(at=Y$1.return;at!==null;){var lt=at;switch(wg(lt),lt.tag){case 1:lt=lt.type.childContextTypes,lt!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$4),Eh();break;case 5:Bh(lt);break;case 4:zh();break;case 13:E$2(L$4);break;case 19:E$2(L$4);break;case 10:ah(lt.type._context);break;case 22:case 23:Hj()}at=at.return}if(Q$3=ot,Y$1=ot=Pg(ot.current,null),Z$2=fj=rt,T$4=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(rt=0;rt<fh.length;rt++)if(at=fh[rt],lt=at.interleaved,lt!==null){at.interleaved=null;var ct=lt.next,ut=at.pending;if(ut!==null){var dt=ut.next;ut.next=ct,lt.next=dt}at.pending=lt}fh=null}return ot}function Mk(ot,rt){do{var at=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var lt=M$3.memoizedState;lt!==null;){var ct=lt.queue;ct!==null&&(ct.pending=null),lt=lt.next}Ih=!1}if(Hh=0,O$3=N$3=M$3=null,Jh=!1,Kh=0,nk.current=null,at===null||at.return===null){T$4=1,pk=rt,Y$1=null;break}e:{var ut=ot,dt=at.return,ht=at,ft=rt;if(rt=Z$2,ht.flags|=32768,ft!==null&&typeof ft=="object"&&typeof ft.then=="function"){var pt=ft,mt=ht,gt=mt.tag;if(!(mt.mode&1)&&(gt===0||gt===11||gt===15)){var yt=mt.alternate;yt?(mt.updateQueue=yt.updateQueue,mt.memoizedState=yt.memoizedState,mt.lanes=yt.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var xt=Ui(dt);if(xt!==null){xt.flags&=-257,Vi(xt,dt,ht,ut,rt),xt.mode&1&&Si(ut,pt,rt),rt=xt,ft=pt;var bt=rt.updateQueue;if(bt===null){var Et=new Set;Et.add(ft),rt.updateQueue=Et}else bt.add(ft);break e}else{if(!(rt&1)){Si(ut,pt,rt),tj();break e}ft=Error(p$3(426))}}else if(I$4&&ht.mode&1){var Rt=Ui(dt);if(Rt!==null){!(Rt.flags&65536)&&(Rt.flags|=256),Vi(Rt,dt,ht,ut,rt),Jg(Ji(ft,ht));break e}}ut=ft=Ji(ft,ht),T$4!==4&&(T$4=2),sk===null?sk=[ut]:sk.push(ut),ut=dt;do{switch(ut.tag){case 3:ut.flags|=65536,rt&=-rt,ut.lanes|=rt;var wt=Ni(ut,ft,rt);ph(ut,wt);break e;case 1:ht=ft;var _t=ut.type,At=ut.stateNode;if(!(ut.flags&128)&&(typeof _t.getDerivedStateFromError=="function"||At!==null&&typeof At.componentDidCatch=="function"&&(Ri===null||!Ri.has(At)))){ut.flags|=65536,rt&=-rt,ut.lanes|=rt;var kt=Qi(ut,ht,rt);ph(ut,kt);break e}}ut=ut.return}while(ut!==null)}Sk(at)}catch(It){rt=It,Y$1===at&&at!==null&&(Y$1=at=at.return);continue}break}while(!0)}function Jk(){var ot=mk.current;return mk.current=Rh,ot===null?Rh:ot}function tj(){(T$4===0||T$4===3||T$4===2)&&(T$4=4),Q$3===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$3,Z$2)}function Ik(ot,rt){var at=K$2;K$2|=2;var lt=Jk();(Q$3!==ot||Z$2!==rt)&&(uk=null,Kk(ot,rt));do try{Tk();break}catch(ct){Mk(ot,ct)}while(!0);if($g(),K$2=at,mk.current=lt,Y$1!==null)throw Error(p$3(261));return Q$3=null,Z$2=0,T$4}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(ot){var rt=Vk(ot.alternate,ot,fj);ot.memoizedProps=ot.pendingProps,rt===null?Sk(ot):Y$1=rt,nk.current=null}function Sk(ot){var rt=ot;do{var at=rt.alternate;if(ot=rt.return,rt.flags&32768){if(at=Ij(at,rt),at!==null){at.flags&=32767,Y$1=at;return}if(ot!==null)ot.flags|=32768,ot.subtreeFlags=0,ot.deletions=null;else{T$4=6,Y$1=null;return}}else if(at=Ej(at,rt,fj),at!==null){Y$1=at;return}if(rt=rt.sibling,rt!==null){Y$1=rt;return}Y$1=rt=ot}while(rt!==null);T$4===0&&(T$4=5)}function Pk(ot,rt,at){var lt=C$5,ct=ok.transition;try{ok.transition=null,C$5=1,Wk(ot,rt,at,lt)}finally{ok.transition=ct,C$5=lt}return null}function Wk(ot,rt,at,lt){do Hk();while(wk!==null);if(K$2&6)throw Error(p$3(327));at=ot.finishedWork;var ct=ot.finishedLanes;if(at===null)return null;if(ot.finishedWork=null,ot.finishedLanes=0,at===ot.current)throw Error(p$3(177));ot.callbackNode=null,ot.callbackPriority=0;var ut=at.lanes|at.childLanes;if(Bc(ot,ut),ot===Q$3&&(Y$1=Q$3=null,Z$2=0),!(at.subtreeFlags&2064)&&!(at.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ut=(at.flags&15990)!==0,at.subtreeFlags&15990||ut){ut=ok.transition,ok.transition=null;var dt=C$5;C$5=1;var ht=K$2;K$2|=4,nk.current=null,Oj(ot,at),dk(at,ot),Oe(Df),dd=!!Cf,Df=Cf=null,ot.current=at,hk(at),dc(),K$2=ht,C$5=dt,ok.transition=ut}else ot.current=at;if(vk&&(vk=!1,wk=ot,xk=ct),ut=ot.pendingLanes,ut===0&&(Ri=null),mc(at.stateNode),Dk(ot,B$4()),rt!==null)for(lt=ot.onRecoverableError,at=0;at<rt.length;at++)ct=rt[at],lt(ct.value,{componentStack:ct.stack,digest:ct.digest});if(Oi)throw Oi=!1,ot=Pi,Pi=null,ot;return xk&1&&ot.tag!==0&&Hk(),ut=ot.pendingLanes,ut&1?ot===zk?yk++:(yk=0,zk=ot):yk=0,jg(),null}function Hk(){if(wk!==null){var ot=Dc(xk),rt=ok.transition,at=C$5;try{if(ok.transition=null,C$5=16>ot?16:ot,wk===null)var lt=!1;else{if(ot=wk,wk=null,xk=0,K$2&6)throw Error(p$3(331));var ct=K$2;for(K$2|=4,V$2=ot.current;V$2!==null;){var ut=V$2,dt=ut.child;if(V$2.flags&16){var ht=ut.deletions;if(ht!==null){for(var ft=0;ft<ht.length;ft++){var pt=ht[ft];for(V$2=pt;V$2!==null;){var mt=V$2;switch(mt.tag){case 0:case 11:case 15:Pj(8,mt,ut)}var gt=mt.child;if(gt!==null)gt.return=mt,V$2=gt;else for(;V$2!==null;){mt=V$2;var yt=mt.sibling,xt=mt.return;if(Sj(mt),mt===pt){V$2=null;break}if(yt!==null){yt.return=xt,V$2=yt;break}V$2=xt}}}var bt=ut.alternate;if(bt!==null){var Et=bt.child;if(Et!==null){bt.child=null;do{var Rt=Et.sibling;Et.sibling=null,Et=Rt}while(Et!==null)}}V$2=ut}}if(ut.subtreeFlags&2064&&dt!==null)dt.return=ut,V$2=dt;else e:for(;V$2!==null;){if(ut=V$2,ut.flags&2048)switch(ut.tag){case 0:case 11:case 15:Pj(9,ut,ut.return)}var wt=ut.sibling;if(wt!==null){wt.return=ut.return,V$2=wt;break e}V$2=ut.return}}var _t=ot.current;for(V$2=_t;V$2!==null;){dt=V$2;var At=dt.child;if(dt.subtreeFlags&2064&&At!==null)At.return=dt,V$2=At;else e:for(dt=_t;V$2!==null;){if(ht=V$2,ht.flags&2048)try{switch(ht.tag){case 0:case 11:case 15:Qj(9,ht)}}catch(It){W$1(ht,ht.return,It)}if(ht===dt){V$2=null;break e}var kt=ht.sibling;if(kt!==null){kt.return=ht.return,V$2=kt;break e}V$2=ht.return}}if(K$2=ct,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,ot)}catch{}lt=!0}return lt}finally{C$5=at,ok.transition=rt}}return!1}function Xk(ot,rt,at){rt=Ji(at,rt),rt=Ni(ot,rt,1),ot=nh(ot,rt,1),rt=R$2(),ot!==null&&(Ac(ot,1,rt),Dk(ot,rt))}function W$1(ot,rt,at){if(ot.tag===3)Xk(ot,ot,at);else for(;rt!==null;){if(rt.tag===3){Xk(rt,ot,at);break}else if(rt.tag===1){var lt=rt.stateNode;if(typeof rt.type.getDerivedStateFromError=="function"||typeof lt.componentDidCatch=="function"&&(Ri===null||!Ri.has(lt))){ot=Ji(at,ot),ot=Qi(rt,ot,1),rt=nh(rt,ot,1),ot=R$2(),rt!==null&&(Ac(rt,1,ot),Dk(rt,ot));break}}rt=rt.return}}function Ti(ot,rt,at){var lt=ot.pingCache;lt!==null&&lt.delete(rt),rt=R$2(),ot.pingedLanes|=ot.suspendedLanes&at,Q$3===ot&&(Z$2&at)===at&&(T$4===4||T$4===3&&(Z$2&130023424)===Z$2&&500>B$4()-fk?Kk(ot,0):rk|=at),Dk(ot,rt)}function Yk(ot,rt){rt===0&&(ot.mode&1?(rt=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):rt=1);var at=R$2();ot=ih(ot,rt),ot!==null&&(Ac(ot,rt,at),Dk(ot,at))}function uj(ot){var rt=ot.memoizedState,at=0;rt!==null&&(at=rt.retryLane),Yk(ot,at)}function bk(ot,rt){var at=0;switch(ot.tag){case 13:var lt=ot.stateNode,ct=ot.memoizedState;ct!==null&&(at=ct.retryLane);break;case 19:lt=ot.stateNode;break;default:throw Error(p$3(314))}lt!==null&&lt.delete(rt),Yk(ot,at)}var Vk;Vk=function(ot,rt,at){if(ot!==null)if(ot.memoizedProps!==rt.pendingProps||Wf.current)dh=!0;else{if(!(ot.lanes&at)&&!(rt.flags&128))return dh=!1,yj(ot,rt,at);dh=!!(ot.flags&131072)}else dh=!1,I$4&&rt.flags&1048576&&ug(rt,ng,rt.index);switch(rt.lanes=0,rt.tag){case 2:var lt=rt.type;ij(ot,rt),ot=rt.pendingProps;var ct=Yf(rt,H$4.current);ch(rt,at),ct=Nh(null,rt,lt,ot,ct,at);var ut=Sh();return rt.flags|=1,typeof ct=="object"&&ct!==null&&typeof ct.render=="function"&&ct.$$typeof===void 0?(rt.tag=1,rt.memoizedState=null,rt.updateQueue=null,Zf(lt)?(ut=!0,cg(rt)):ut=!1,rt.memoizedState=ct.state!==null&&ct.state!==void 0?ct.state:null,kh(rt),ct.updater=Ei,rt.stateNode=ct,ct._reactInternals=rt,Ii(rt,lt,ot,at),rt=jj(null,rt,lt,!0,ut,at)):(rt.tag=0,I$4&&ut&&vg(rt),Xi(null,rt,ct,at),rt=rt.child),rt;case 16:lt=rt.elementType;e:{switch(ij(ot,rt),ot=rt.pendingProps,ct=lt._init,lt=ct(lt._payload),rt.type=lt,ct=rt.tag=Zk(lt),ot=Ci(lt,ot),ct){case 0:rt=cj(null,rt,lt,ot,at);break e;case 1:rt=hj(null,rt,lt,ot,at);break e;case 11:rt=Yi(null,rt,lt,ot,at);break e;case 14:rt=$i(null,rt,lt,Ci(lt.type,ot),at);break e}throw Error(p$3(306,lt,""))}return rt;case 0:return lt=rt.type,ct=rt.pendingProps,ct=rt.elementType===lt?ct:Ci(lt,ct),cj(ot,rt,lt,ct,at);case 1:return lt=rt.type,ct=rt.pendingProps,ct=rt.elementType===lt?ct:Ci(lt,ct),hj(ot,rt,lt,ct,at);case 3:e:{if(kj(rt),ot===null)throw Error(p$3(387));lt=rt.pendingProps,ut=rt.memoizedState,ct=ut.element,lh(ot,rt),qh(rt,lt,null,at);var dt=rt.memoizedState;if(lt=dt.element,ut.isDehydrated)if(ut={element:lt,isDehydrated:!1,cache:dt.cache,pendingSuspenseBoundaries:dt.pendingSuspenseBoundaries,transitions:dt.transitions},rt.updateQueue.baseState=ut,rt.memoizedState=ut,rt.flags&256){ct=Ji(Error(p$3(423)),rt),rt=lj(ot,rt,lt,at,ct);break e}else if(lt!==ct){ct=Ji(Error(p$3(424)),rt),rt=lj(ot,rt,lt,at,ct);break e}else for(yg=Lf(rt.stateNode.containerInfo.firstChild),xg=rt,I$4=!0,zg=null,at=Vg(rt,null,lt,at),rt.child=at;at;)at.flags=at.flags&-3|4096,at=at.sibling;else{if(Ig(),lt===ct){rt=Zi(ot,rt,at);break e}Xi(ot,rt,lt,at)}rt=rt.child}return rt;case 5:return Ah(rt),ot===null&&Eg(rt),lt=rt.type,ct=rt.pendingProps,ut=ot!==null?ot.memoizedProps:null,dt=ct.children,Ef(lt,ct)?dt=null:ut!==null&&Ef(lt,ut)&&(rt.flags|=32),gj(ot,rt),Xi(ot,rt,dt,at),rt.child;case 6:return ot===null&&Eg(rt),null;case 13:return oj(ot,rt,at);case 4:return yh(rt,rt.stateNode.containerInfo),lt=rt.pendingProps,ot===null?rt.child=Ug(rt,null,lt,at):Xi(ot,rt,lt,at),rt.child;case 11:return lt=rt.type,ct=rt.pendingProps,ct=rt.elementType===lt?ct:Ci(lt,ct),Yi(ot,rt,lt,ct,at);case 7:return Xi(ot,rt,rt.pendingProps,at),rt.child;case 8:return Xi(ot,rt,rt.pendingProps.children,at),rt.child;case 12:return Xi(ot,rt,rt.pendingProps.children,at),rt.child;case 10:e:{if(lt=rt.type._context,ct=rt.pendingProps,ut=rt.memoizedProps,dt=ct.value,G$3(Wg,lt._currentValue),lt._currentValue=dt,ut!==null)if(He(ut.value,dt)){if(ut.children===ct.children&&!Wf.current){rt=Zi(ot,rt,at);break e}}else for(ut=rt.child,ut!==null&&(ut.return=rt);ut!==null;){var ht=ut.dependencies;if(ht!==null){dt=ut.child;for(var ft=ht.firstContext;ft!==null;){if(ft.context===lt){if(ut.tag===1){ft=mh(-1,at&-at),ft.tag=2;var pt=ut.updateQueue;if(pt!==null){pt=pt.shared;var mt=pt.pending;mt===null?ft.next=ft:(ft.next=mt.next,mt.next=ft),pt.pending=ft}}ut.lanes|=at,ft=ut.alternate,ft!==null&&(ft.lanes|=at),bh(ut.return,at,rt),ht.lanes|=at;break}ft=ft.next}}else if(ut.tag===10)dt=ut.type===rt.type?null:ut.child;else if(ut.tag===18){if(dt=ut.return,dt===null)throw Error(p$3(341));dt.lanes|=at,ht=dt.alternate,ht!==null&&(ht.lanes|=at),bh(dt,at,rt),dt=ut.sibling}else dt=ut.child;if(dt!==null)dt.return=ut;else for(dt=ut;dt!==null;){if(dt===rt){dt=null;break}if(ut=dt.sibling,ut!==null){ut.return=dt.return,dt=ut;break}dt=dt.return}ut=dt}Xi(ot,rt,ct.children,at),rt=rt.child}return rt;case 9:return ct=rt.type,lt=rt.pendingProps.children,ch(rt,at),ct=eh(ct),lt=lt(ct),rt.flags|=1,Xi(ot,rt,lt,at),rt.child;case 14:return lt=rt.type,ct=Ci(lt,rt.pendingProps),ct=Ci(lt.type,ct),$i(ot,rt,lt,ct,at);case 15:return bj(ot,rt,rt.type,rt.pendingProps,at);case 17:return lt=rt.type,ct=rt.pendingProps,ct=rt.elementType===lt?ct:Ci(lt,ct),ij(ot,rt),rt.tag=1,Zf(lt)?(ot=!0,cg(rt)):ot=!1,ch(rt,at),Gi(rt,lt,ct),Ii(rt,lt,ct,at),jj(null,rt,lt,!0,ot,at);case 19:return xj(ot,rt,at);case 22:return dj(ot,rt,at)}throw Error(p$3(156,rt.tag))};function Fk(ot,rt){return ac(ot,rt)}function $k(ot,rt,at,lt){this.tag=ot,this.key=at,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=rt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=lt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(ot,rt,at,lt){return new $k(ot,rt,at,lt)}function aj(ot){return ot=ot.prototype,!(!ot||!ot.isReactComponent)}function Zk(ot){if(typeof ot=="function")return aj(ot)?1:0;if(ot!=null){if(ot=ot.$$typeof,ot===Da)return 11;if(ot===Ga)return 14}return 2}function Pg(ot,rt){var at=ot.alternate;return at===null?(at=Bg(ot.tag,rt,ot.key,ot.mode),at.elementType=ot.elementType,at.type=ot.type,at.stateNode=ot.stateNode,at.alternate=ot,ot.alternate=at):(at.pendingProps=rt,at.type=ot.type,at.flags=0,at.subtreeFlags=0,at.deletions=null),at.flags=ot.flags&14680064,at.childLanes=ot.childLanes,at.lanes=ot.lanes,at.child=ot.child,at.memoizedProps=ot.memoizedProps,at.memoizedState=ot.memoizedState,at.updateQueue=ot.updateQueue,rt=ot.dependencies,at.dependencies=rt===null?null:{lanes:rt.lanes,firstContext:rt.firstContext},at.sibling=ot.sibling,at.index=ot.index,at.ref=ot.ref,at}function Rg(ot,rt,at,lt,ct,ut){var dt=2;if(lt=ot,typeof ot=="function")aj(ot)&&(dt=1);else if(typeof ot=="string")dt=5;else e:switch(ot){case ya:return Tg(at.children,ct,ut,rt);case za:dt=8,ct|=8;break;case Aa:return ot=Bg(12,at,rt,ct|2),ot.elementType=Aa,ot.lanes=ut,ot;case Ea:return ot=Bg(13,at,rt,ct),ot.elementType=Ea,ot.lanes=ut,ot;case Fa:return ot=Bg(19,at,rt,ct),ot.elementType=Fa,ot.lanes=ut,ot;case Ia:return pj(at,ct,ut,rt);default:if(typeof ot=="object"&&ot!==null)switch(ot.$$typeof){case Ba:dt=10;break e;case Ca:dt=9;break e;case Da:dt=11;break e;case Ga:dt=14;break e;case Ha:dt=16,lt=null;break e}throw Error(p$3(130,ot==null?ot:typeof ot,""))}return rt=Bg(dt,at,rt,ct),rt.elementType=ot,rt.type=lt,rt.lanes=ut,rt}function Tg(ot,rt,at,lt){return ot=Bg(7,ot,lt,rt),ot.lanes=at,ot}function pj(ot,rt,at,lt){return ot=Bg(22,ot,lt,rt),ot.elementType=Ia,ot.lanes=at,ot.stateNode={isHidden:!1},ot}function Qg(ot,rt,at){return ot=Bg(6,ot,null,rt),ot.lanes=at,ot}function Sg(ot,rt,at){return rt=Bg(4,ot.children!==null?ot.children:[],ot.key,rt),rt.lanes=at,rt.stateNode={containerInfo:ot.containerInfo,pendingChildren:null,implementation:ot.implementation},rt}function al(ot,rt,at,lt,ct){this.tag=rt,this.containerInfo=ot,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=lt,this.onRecoverableError=ct,this.mutableSourceEagerHydrationData=null}function bl(ot,rt,at,lt,ct,ut,dt,ht,ft){return ot=new al(ot,rt,at,ht,ft),rt===1?(rt=1,ut===!0&&(rt|=8)):rt=0,ut=Bg(3,null,null,rt),ot.current=ut,ut.stateNode=ot,ut.memoizedState={element:lt,isDehydrated:at,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ut),ot}function cl(ot,rt,at){var lt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:lt==null?null:""+lt,children:ot,containerInfo:rt,implementation:at}}function dl(ot){if(!ot)return Vf;ot=ot._reactInternals;e:{if(Vb(ot)!==ot||ot.tag!==1)throw Error(p$3(170));var rt=ot;do{switch(rt.tag){case 3:rt=rt.stateNode.context;break e;case 1:if(Zf(rt.type)){rt=rt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}rt=rt.return}while(rt!==null);throw Error(p$3(171))}if(ot.tag===1){var at=ot.type;if(Zf(at))return bg(ot,at,rt)}return rt}function el(ot,rt,at,lt,ct,ut,dt,ht,ft){return ot=bl(at,lt,!0,ot,ct,ut,dt,ht,ft),ot.context=dl(null),at=ot.current,lt=R$2(),ct=yi(at),ut=mh(lt,ct),ut.callback=rt??null,nh(at,ut,ct),ot.current.lanes=ct,Ac(ot,ct,lt),Dk(ot,lt),ot}function fl(ot,rt,at,lt){var ct=rt.current,ut=R$2(),dt=yi(ct);return at=dl(at),rt.context===null?rt.context=at:rt.pendingContext=at,rt=mh(ut,dt),rt.payload={element:ot},lt=lt===void 0?null:lt,lt!==null&&(rt.callback=lt),ot=nh(ct,rt,dt),ot!==null&&(gi(ot,ct,dt,ut),oh(ot,ct,dt)),dt}function gl(ot){if(ot=ot.current,!ot.child)return null;switch(ot.child.tag){case 5:return ot.child.stateNode;default:return ot.child.stateNode}}function hl(ot,rt){if(ot=ot.memoizedState,ot!==null&&ot.dehydrated!==null){var at=ot.retryLane;ot.retryLane=at!==0&&at<rt?at:rt}}function il(ot,rt){hl(ot,rt),(ot=ot.alternate)&&hl(ot,rt)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(ot){console.error(ot)};function ll(ot){this._internalRoot=ot}ml.prototype.render=ll.prototype.render=function(ot){var rt=this._internalRoot;if(rt===null)throw Error(p$3(409));fl(ot,rt,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var ot=this._internalRoot;if(ot!==null){this._internalRoot=null;var rt=ot.containerInfo;Rk(function(){fl(null,ot,null,null)}),rt[uf]=null}};function ml(ot){this._internalRoot=ot}ml.prototype.unstable_scheduleHydration=function(ot){if(ot){var rt=Hc();ot={blockedOn:null,target:ot,priority:rt};for(var at=0;at<Qc.length&&rt!==0&&rt<Qc[at].priority;at++);Qc.splice(at,0,ot),at===0&&Vc(ot)}};function nl(ot){return!(!ot||ot.nodeType!==1&&ot.nodeType!==9&&ot.nodeType!==11)}function ol(ot){return!(!ot||ot.nodeType!==1&&ot.nodeType!==9&&ot.nodeType!==11&&(ot.nodeType!==8||ot.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(ot,rt,at,lt,ct){if(ct){if(typeof lt=="function"){var ut=lt;lt=function(){var pt=gl(dt);ut.call(pt)}}var dt=el(rt,lt,ot,0,null,!1,!1,"",pl);return ot._reactRootContainer=dt,ot[uf]=dt.current,sf(ot.nodeType===8?ot.parentNode:ot),Rk(),dt}for(;ct=ot.lastChild;)ot.removeChild(ct);if(typeof lt=="function"){var ht=lt;lt=function(){var pt=gl(ft);ht.call(pt)}}var ft=bl(ot,0,!1,null,null,!1,!1,"",pl);return ot._reactRootContainer=ft,ot[uf]=ft.current,sf(ot.nodeType===8?ot.parentNode:ot),Rk(function(){fl(rt,ft,at,lt)}),ft}function rl(ot,rt,at,lt,ct){var ut=at._reactRootContainer;if(ut){var dt=ut;if(typeof ct=="function"){var ht=ct;ct=function(){var ft=gl(dt);ht.call(ft)}}fl(rt,dt,ot,ct)}else dt=ql(at,rt,ot,ct,lt);return gl(dt)}Ec=function(ot){switch(ot.tag){case 3:var rt=ot.stateNode;if(rt.current.memoizedState.isDehydrated){var at=tc(rt.pendingLanes);at!==0&&(Cc(rt,at|1),Dk(rt,B$4()),!(K$2&6)&&(Gj=B$4()+500,jg()))}break;case 13:Rk(function(){var lt=ih(ot,1);if(lt!==null){var ct=R$2();gi(lt,ot,1,ct)}}),il(ot,1)}};Fc=function(ot){if(ot.tag===13){var rt=ih(ot,134217728);if(rt!==null){var at=R$2();gi(rt,ot,134217728,at)}il(ot,134217728)}};Gc=function(ot){if(ot.tag===13){var rt=yi(ot),at=ih(ot,rt);if(at!==null){var lt=R$2();gi(at,ot,rt,lt)}il(ot,rt)}};Hc=function(){return C$5};Ic=function(ot,rt){var at=C$5;try{return C$5=ot,rt()}finally{C$5=at}};yb=function(ot,rt,at){switch(rt){case"input":if(bb(ot,at),rt=at.name,at.type==="radio"&&rt!=null){for(at=ot;at.parentNode;)at=at.parentNode;for(at=at.querySelectorAll("input[name="+JSON.stringify(""+rt)+'][type="radio"]'),rt=0;rt<at.length;rt++){var lt=at[rt];if(lt!==ot&&lt.form===ot.form){var ct=Db(lt);if(!ct)throw Error(p$3(90));Wa(lt),bb(lt,ct)}}}break;case"textarea":ib(ot,at);break;case"select":rt=at.value,rt!=null&&fb(ot,!!at.multiple,rt,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(ot){return ot=Zb(ot),ot===null?null:ot.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(ot,rt){var at=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(rt))throw Error(p$3(200));return cl(ot,rt,null,at)};reactDom_production_min.createRoot=function(ot,rt){if(!nl(ot))throw Error(p$3(299));var at=!1,lt="",ct=kl;return rt!=null&&(rt.unstable_strictMode===!0&&(at=!0),rt.identifierPrefix!==void 0&&(lt=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(ct=rt.onRecoverableError)),rt=bl(ot,1,!1,null,null,at,!1,lt,ct),ot[uf]=rt.current,sf(ot.nodeType===8?ot.parentNode:ot),new ll(rt)};reactDom_production_min.findDOMNode=function(ot){if(ot==null)return null;if(ot.nodeType===1)return ot;var rt=ot._reactInternals;if(rt===void 0)throw typeof ot.render=="function"?Error(p$3(188)):(ot=Object.keys(ot).join(","),Error(p$3(268,ot)));return ot=Zb(rt),ot=ot===null?null:ot.stateNode,ot};reactDom_production_min.flushSync=function(ot){return Rk(ot)};reactDom_production_min.hydrate=function(ot,rt,at){if(!ol(rt))throw Error(p$3(200));return rl(null,ot,rt,!0,at)};reactDom_production_min.hydrateRoot=function(ot,rt,at){if(!nl(ot))throw Error(p$3(405));var lt=at!=null&&at.hydratedSources||null,ct=!1,ut="",dt=kl;if(at!=null&&(at.unstable_strictMode===!0&&(ct=!0),at.identifierPrefix!==void 0&&(ut=at.identifierPrefix),at.onRecoverableError!==void 0&&(dt=at.onRecoverableError)),rt=el(rt,null,ot,1,at??null,ct,!1,ut,dt),ot[uf]=rt.current,sf(ot),lt)for(ot=0;ot<lt.length;ot++)at=lt[ot],ct=at._getVersion,ct=ct(at._source),rt.mutableSourceEagerHydrationData==null?rt.mutableSourceEagerHydrationData=[at,ct]:rt.mutableSourceEagerHydrationData.push(at,ct);return new ml(rt)};reactDom_production_min.render=function(ot,rt,at){if(!ol(rt))throw Error(p$3(200));return rl(null,ot,rt,!1,at)};reactDom_production_min.unmountComponentAtNode=function(ot){if(!ol(ot))throw Error(p$3(40));return ot._reactRootContainer?(Rk(function(){rl(null,null,ot,!1,function(){ot._reactRootContainer=null,ot[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ot,rt,at,lt){if(!ol(at))throw Error(p$3(200));if(ot==null||ot._reactInternals===void 0)throw Error(p$3(38));return rl(ot,rt,at,!1,lt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ot){console.error(ot)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(ot[lt]=at[lt])}return ot},_extends$5.apply(this,arguments)}var Action;(function(ot){ot.Pop="POP",ot.Push="PUSH",ot.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(ot){ot===void 0&&(ot={});function rt(lt,ct){let{pathname:ut,search:dt,hash:ht}=lt.location;return createLocation("",{pathname:ut,search:dt,hash:ht},ct.state&&ct.state.usr||null,ct.state&&ct.state.key||"default")}function at(lt,ct){return typeof ct=="string"?ct:createPath(ct)}return getUrlBasedHistory(rt,at,null,ot)}function invariant$1(ot,rt){if(ot===!1||ot===null||typeof ot>"u")throw new Error(rt)}function warning(ot,rt){if(!ot){typeof console<"u"&&console.warn(rt);try{throw new Error(rt)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(ot,rt){return{usr:ot.state,key:ot.key,idx:rt}}function createLocation(ot,rt,at,lt){return at===void 0&&(at=null),_extends$5({pathname:typeof ot=="string"?ot:ot.pathname,search:"",hash:""},typeof rt=="string"?parsePath(rt):rt,{state:at,key:rt&&rt.key||lt||createKey()})}function createPath(ot){let{pathname:rt="/",search:at="",hash:lt=""}=ot;return at&&at!=="?"&&(rt+=at.charAt(0)==="?"?at:"?"+at),lt&&lt!=="#"&&(rt+=lt.charAt(0)==="#"?lt:"#"+lt),rt}function parsePath(ot){let rt={};if(ot){let at=ot.indexOf("#");at>=0&&(rt.hash=ot.substr(at),ot=ot.substr(0,at));let lt=ot.indexOf("?");lt>=0&&(rt.search=ot.substr(lt),ot=ot.substr(0,lt)),ot&&(rt.pathname=ot)}return rt}function getUrlBasedHistory(ot,rt,at,lt){lt===void 0&&(lt={});let{window:ct=document.defaultView,v5Compat:ut=!1}=lt,dt=ct.history,ht=Action.Pop,ft=null,pt=mt();pt==null&&(pt=0,dt.replaceState(_extends$5({},dt.state,{idx:pt}),""));function mt(){return(dt.state||{idx:null}).idx}function gt(){ht=Action.Pop;let Rt=mt(),wt=Rt==null?null:Rt-pt;pt=Rt,ft&&ft({action:ht,location:Et.location,delta:wt})}function yt(Rt,wt){ht=Action.Push;let _t=createLocation(Et.location,Rt,wt);pt=mt()+1;let At=getHistoryState(_t,pt),kt=Et.createHref(_t);try{dt.pushState(At,"",kt)}catch(It){if(It instanceof DOMException&&It.name==="DataCloneError")throw It;ct.location.assign(kt)}ut&&ft&&ft({action:ht,location:Et.location,delta:1})}function xt(Rt,wt){ht=Action.Replace;let _t=createLocation(Et.location,Rt,wt);pt=mt();let At=getHistoryState(_t,pt),kt=Et.createHref(_t);dt.replaceState(At,"",kt),ut&&ft&&ft({action:ht,location:Et.location,delta:0})}function bt(Rt){let wt=ct.location.origin!=="null"?ct.location.origin:ct.location.href,_t=typeof Rt=="string"?Rt:createPath(Rt);return _t=_t.replace(/ $/,"%20"),invariant$1(wt,"No window.location.(origin|href) available to create URL for href: "+_t),new URL(_t,wt)}let Et={get action(){return ht},get location(){return ot(ct,dt)},listen(Rt){if(ft)throw new Error("A history only accepts one active listener");return ct.addEventListener(PopStateEventType,gt),ft=Rt,()=>{ct.removeEventListener(PopStateEventType,gt),ft=null}},createHref(Rt){return rt(ct,Rt)},createURL:bt,encodeLocation(Rt){let wt=bt(Rt);return{pathname:wt.pathname,search:wt.search,hash:wt.hash}},push:yt,replace:xt,go(Rt){return dt.go(Rt)}};return Et}var ResultType;(function(ot){ot.data="data",ot.deferred="deferred",ot.redirect="redirect",ot.error="error"})(ResultType||(ResultType={}));function matchRoutes(ot,rt,at){return at===void 0&&(at="/"),matchRoutesImpl(ot,rt,at,!1)}function matchRoutesImpl(ot,rt,at,lt){let ct=typeof rt=="string"?parsePath(rt):rt,ut=stripBasename(ct.pathname||"/",at);if(ut==null)return null;let dt=flattenRoutes(ot);rankRouteBranches(dt);let ht=null;for(let ft=0;ht==null&&ft<dt.length;++ft){let pt=decodePath(ut);ht=matchRouteBranch(dt[ft],pt,lt)}return ht}function flattenRoutes(ot,rt,at,lt){rt===void 0&&(rt=[]),at===void 0&&(at=[]),lt===void 0&&(lt="");let ct=(ut,dt,ht)=>{let ft={relativePath:ht===void 0?ut.path||"":ht,caseSensitive:ut.caseSensitive===!0,childrenIndex:dt,route:ut};ft.relativePath.startsWith("/")&&(invariant$1(ft.relativePath.startsWith(lt),'Absolute route path "'+ft.relativePath+'" nested under path '+('"'+lt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ft.relativePath=ft.relativePath.slice(lt.length));let pt=joinPaths([lt,ft.relativePath]),mt=at.concat(ft);ut.children&&ut.children.length>0&&(invariant$1(ut.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+pt+'".')),flattenRoutes(ut.children,rt,mt,pt)),!(ut.path==null&&!ut.index)&&rt.push({path:pt,score:computeScore(pt,ut.index),routesMeta:mt})};return ot.forEach((ut,dt)=>{var ht;if(ut.path===""||!((ht=ut.path)!=null&&ht.includes("?")))ct(ut,dt);else for(let ft of explodeOptionalSegments(ut.path))ct(ut,dt,ft)}),rt}function explodeOptionalSegments(ot){let rt=ot.split("/");if(rt.length===0)return[];let[at,...lt]=rt,ct=at.endsWith("?"),ut=at.replace(/\?$/,"");if(lt.length===0)return ct?[ut,""]:[ut];let dt=explodeOptionalSegments(lt.join("/")),ht=[];return ht.push(...dt.map(ft=>ft===""?ut:[ut,ft].join("/"))),ct&&ht.push(...dt),ht.map(ft=>ot.startsWith("/")&&ft===""?"/":ft)}function rankRouteBranches(ot){ot.sort((rt,at)=>rt.score!==at.score?at.score-rt.score:compareIndexes(rt.routesMeta.map(lt=>lt.childrenIndex),at.routesMeta.map(lt=>lt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=ot=>ot==="*";function computeScore(ot,rt){let at=ot.split("/"),lt=at.length;return at.some(isSplat)&&(lt+=splatPenalty),rt&&(lt+=indexRouteValue),at.filter(ct=>!isSplat(ct)).reduce((ct,ut)=>ct+(paramRe.test(ut)?dynamicSegmentValue:ut===""?emptySegmentValue:staticSegmentValue),lt)}function compareIndexes(ot,rt){return ot.length===rt.length&&ot.slice(0,-1).every((lt,ct)=>lt===rt[ct])?ot[ot.length-1]-rt[rt.length-1]:0}function matchRouteBranch(ot,rt,at){let{routesMeta:lt}=ot,ct={},ut="/",dt=[];for(let ht=0;ht<lt.length;++ht){let ft=lt[ht],pt=ht===lt.length-1,mt=ut==="/"?rt:rt.slice(ut.length)||"/",gt=matchPath({path:ft.relativePath,caseSensitive:ft.caseSensitive,end:pt},mt),yt=ft.route;if(!gt&&pt&&at&&!lt[lt.length-1].route.index&&(gt=matchPath({path:ft.relativePath,caseSensitive:ft.caseSensitive,end:!1},mt)),!gt)return null;Object.assign(ct,gt.params),dt.push({params:ct,pathname:joinPaths([ut,gt.pathname]),pathnameBase:normalizePathname(joinPaths([ut,gt.pathnameBase])),route:yt}),gt.pathnameBase!=="/"&&(ut=joinPaths([ut,gt.pathnameBase]))}return dt}function matchPath(ot,rt){typeof ot=="string"&&(ot={path:ot,caseSensitive:!1,end:!0});let[at,lt]=compilePath(ot.path,ot.caseSensitive,ot.end),ct=rt.match(at);if(!ct)return null;let ut=ct[0],dt=ut.replace(/(.)\/+$/,"$1"),ht=ct.slice(1);return{params:lt.reduce((pt,mt,gt)=>{let{paramName:yt,isOptional:xt}=mt;if(yt==="*"){let Et=ht[gt]||"";dt=ut.slice(0,ut.length-Et.length).replace(/(.)\/+$/,"$1")}const bt=ht[gt];return xt&&!bt?pt[yt]=void 0:pt[yt]=(bt||"").replace(/%2F/g,"/"),pt},{}),pathname:ut,pathnameBase:dt,pattern:ot}}function compilePath(ot,rt,at){rt===void 0&&(rt=!1),at===void 0&&(at=!0),warning(ot==="*"||!ot.endsWith("*")||ot.endsWith("/*"),'Route path "'+ot+'" will be treated as if it were '+('"'+ot.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+ot.replace(/\*$/,"/*")+'".'));let lt=[],ct="^"+ot.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(dt,ht,ft)=>(lt.push({paramName:ht,isOptional:ft!=null}),ft?"/?([^\\/]+)?":"/([^\\/]+)"));return ot.endsWith("*")?(lt.push({paramName:"*"}),ct+=ot==="*"||ot==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):at?ct+="\\/*$":ot!==""&&ot!=="/"&&(ct+="(?:(?=\\/|$))"),[new RegExp(ct,rt?void 0:"i"),lt]}function decodePath(ot){try{return ot.split("/").map(rt=>decodeURIComponent(rt).replace(/\//g,"%2F")).join("/")}catch(rt){return warning(!1,'The URL path "'+ot+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+rt+").")),ot}}function stripBasename(ot,rt){if(rt==="/")return ot;if(!ot.toLowerCase().startsWith(rt.toLowerCase()))return null;let at=rt.endsWith("/")?rt.length-1:rt.length,lt=ot.charAt(at);return lt&&lt!=="/"?null:ot.slice(at)||"/"}function resolvePath(ot,rt){rt===void 0&&(rt="/");let{pathname:at,search:lt="",hash:ct=""}=typeof ot=="string"?parsePath(ot):ot;return{pathname:at?at.startsWith("/")?at:resolvePathname(at,rt):rt,search:normalizeSearch(lt),hash:normalizeHash(ct)}}function resolvePathname(ot,rt){let at=rt.replace(/\/+$/,"").split("/");return ot.split("/").forEach(ct=>{ct===".."?at.length>1&&at.pop():ct!=="."&&at.push(ct)}),at.length>1?at.join("/"):"/"}function getInvalidPathError(ot,rt,at,lt){return"Cannot include a '"+ot+"' character in a manually specified "+("`to."+rt+"` field ["+JSON.stringify(lt)+"].  Please separate it out to the ")+("`to."+at+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(ot){return ot.filter((rt,at)=>at===0||rt.route.path&&rt.route.path.length>0)}function getResolveToMatches(ot,rt){let at=getPathContributingMatches(ot);return rt?at.map((lt,ct)=>ct===at.length-1?lt.pathname:lt.pathnameBase):at.map(lt=>lt.pathnameBase)}function resolveTo(ot,rt,at,lt){lt===void 0&&(lt=!1);let ct;typeof ot=="string"?ct=parsePath(ot):(ct=_extends$5({},ot),invariant$1(!ct.pathname||!ct.pathname.includes("?"),getInvalidPathError("?","pathname","search",ct)),invariant$1(!ct.pathname||!ct.pathname.includes("#"),getInvalidPathError("#","pathname","hash",ct)),invariant$1(!ct.search||!ct.search.includes("#"),getInvalidPathError("#","search","hash",ct)));let ut=ot===""||ct.pathname==="",dt=ut?"/":ct.pathname,ht;if(dt==null)ht=at;else{let gt=rt.length-1;if(!lt&&dt.startsWith("..")){let yt=dt.split("/");for(;yt[0]==="..";)yt.shift(),gt-=1;ct.pathname=yt.join("/")}ht=gt>=0?rt[gt]:"/"}let ft=resolvePath(ct,ht),pt=dt&&dt!=="/"&&dt.endsWith("/"),mt=(ut||dt===".")&&at.endsWith("/");return!ft.pathname.endsWith("/")&&(pt||mt)&&(ft.pathname+="/"),ft}const joinPaths=ot=>ot.join("/").replace(/\/\/+/g,"/"),normalizePathname=ot=>ot.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=ot=>!ot||ot==="?"?"":ot.startsWith("?")?ot:"?"+ot,normalizeHash=ot=>!ot||ot==="#"?"":ot.startsWith("#")?ot:"#"+ot;function isRouteErrorResponse(ot){return ot!=null&&typeof ot.status=="number"&&typeof ot.statusText=="string"&&typeof ot.internal=="boolean"&&"data"in ot}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(ot[lt]=at[lt])}return ot},_extends$4.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(ot,rt){let{relative:at}=rt===void 0?{}:rt;useInRouterContext()||invariant$1(!1);let{basename:lt,navigator:ct}=reactExports.useContext(NavigationContext),{hash:ut,pathname:dt,search:ht}=useResolvedPath(ot,{relative:at}),ft=dt;return lt!=="/"&&(ft=dt==="/"?lt:joinPaths([lt,dt])),ct.createHref({pathname:ft,search:ht,hash:ut})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(ot){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(ot)}function useNavigate(){let{isDataRoute:ot}=reactExports.useContext(RouteContext);return ot?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$1(!1);let ot=reactExports.useContext(DataRouterContext),{basename:rt,future:at,navigator:lt}=reactExports.useContext(NavigationContext),{matches:ct}=reactExports.useContext(RouteContext),{pathname:ut}=useLocation(),dt=JSON.stringify(getResolveToMatches(ct,at.v7_relativeSplatPath)),ht=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{ht.current=!0}),reactExports.useCallback(function(pt,mt){if(mt===void 0&&(mt={}),!ht.current)return;if(typeof pt=="number"){lt.go(pt);return}let gt=resolveTo(pt,JSON.parse(dt),ut,mt.relative==="path");ot==null&&rt!=="/"&&(gt.pathname=gt.pathname==="/"?rt:joinPaths([rt,gt.pathname])),(mt.replace?lt.replace:lt.push)(gt,mt.state,mt)},[rt,lt,dt,ut,ot])}function useParams(){let{matches:ot}=reactExports.useContext(RouteContext),rt=ot[ot.length-1];return rt?rt.params:{}}function useResolvedPath(ot,rt){let{relative:at}=rt===void 0?{}:rt,{future:lt}=reactExports.useContext(NavigationContext),{matches:ct}=reactExports.useContext(RouteContext),{pathname:ut}=useLocation(),dt=JSON.stringify(getResolveToMatches(ct,lt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(ot,JSON.parse(dt),ut,at==="path"),[ot,dt,ut,at])}function useRoutes(ot,rt){return useRoutesImpl(ot,rt)}function useRoutesImpl(ot,rt,at,lt){useInRouterContext()||invariant$1(!1);let{navigator:ct}=reactExports.useContext(NavigationContext),{matches:ut}=reactExports.useContext(RouteContext),dt=ut[ut.length-1],ht=dt?dt.params:{};dt&&dt.pathname;let ft=dt?dt.pathnameBase:"/";dt&&dt.route;let pt=useLocation(),mt;if(rt){var gt;let Rt=typeof rt=="string"?parsePath(rt):rt;ft==="/"||(gt=Rt.pathname)!=null&&gt.startsWith(ft)||invariant$1(!1),mt=Rt}else mt=pt;let yt=mt.pathname||"/",xt=yt;if(ft!=="/"){let Rt=ft.replace(/^\//,"").split("/");xt="/"+yt.replace(/^\//,"").split("/").slice(Rt.length).join("/")}let bt=matchRoutes(ot,{pathname:xt}),Et=_renderMatches(bt&&bt.map(Rt=>Object.assign({},Rt,{params:Object.assign({},ht,Rt.params),pathname:joinPaths([ft,ct.encodeLocation?ct.encodeLocation(Rt.pathname).pathname:Rt.pathname]),pathnameBase:Rt.pathnameBase==="/"?ft:joinPaths([ft,ct.encodeLocation?ct.encodeLocation(Rt.pathnameBase).pathname:Rt.pathnameBase])})),ut,at,lt);return rt&&Et?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$4({pathname:"/",search:"",hash:"",state:null,key:"default"},mt),navigationType:Action.Pop}},Et):Et}function DefaultErrorComponent(){let ot=useRouteError(),rt=isRouteErrorResponse(ot)?ot.status+" "+ot.statusText:ot instanceof Error?ot.message:JSON.stringify(ot),at=ot instanceof Error?ot.stack:null,ct={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},rt),at?reactExports.createElement("pre",{style:ct},at):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(rt){super(rt),this.state={location:rt.location,revalidation:rt.revalidation,error:rt.error}}static getDerivedStateFromError(rt){return{error:rt}}static getDerivedStateFromProps(rt,at){return at.location!==rt.location||at.revalidation!=="idle"&&rt.revalidation==="idle"?{error:rt.error,location:rt.location,revalidation:rt.revalidation}:{error:rt.error!==void 0?rt.error:at.error,location:at.location,revalidation:rt.revalidation||at.revalidation}}componentDidCatch(rt,at){console.error("React Router caught the following error during render",rt,at)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(ot){let{routeContext:rt,match:at,children:lt}=ot,ct=reactExports.useContext(DataRouterContext);return ct&&ct.static&&ct.staticContext&&(at.route.errorElement||at.route.ErrorBoundary)&&(ct.staticContext._deepestRenderedBoundaryId=at.route.id),reactExports.createElement(RouteContext.Provider,{value:rt},lt)}function _renderMatches(ot,rt,at,lt){var ct;if(rt===void 0&&(rt=[]),at===void 0&&(at=null),lt===void 0&&(lt=null),ot==null){var ut;if((ut=at)!=null&&ut.errors)ot=at.matches;else return null}let dt=ot,ht=(ct=at)==null?void 0:ct.errors;if(ht!=null){let mt=dt.findIndex(gt=>gt.route.id&&(ht==null?void 0:ht[gt.route.id])!==void 0);mt>=0||invariant$1(!1),dt=dt.slice(0,Math.min(dt.length,mt+1))}let ft=!1,pt=-1;if(at&&lt&&lt.v7_partialHydration)for(let mt=0;mt<dt.length;mt++){let gt=dt[mt];if((gt.route.HydrateFallback||gt.route.hydrateFallbackElement)&&(pt=mt),gt.route.id){let{loaderData:yt,errors:xt}=at,bt=gt.route.loader&&yt[gt.route.id]===void 0&&(!xt||xt[gt.route.id]===void 0);if(gt.route.lazy||bt){ft=!0,pt>=0?dt=dt.slice(0,pt+1):dt=[dt[0]];break}}}return dt.reduceRight((mt,gt,yt)=>{let xt,bt=!1,Et=null,Rt=null;at&&(xt=ht&&gt.route.id?ht[gt.route.id]:void 0,Et=gt.route.errorElement||defaultErrorElement,ft&&(pt<0&&yt===0?(bt=!0,Rt=null):pt===yt&&(bt=!0,Rt=gt.route.hydrateFallbackElement||null)));let wt=rt.concat(dt.slice(0,yt+1)),_t=()=>{let At;return xt?At=Et:bt?At=Rt:gt.route.Component?At=reactExports.createElement(gt.route.Component,null):gt.route.element?At=gt.route.element:At=mt,reactExports.createElement(RenderedRoute,{match:gt,routeContext:{outlet:mt,matches:wt,isDataRoute:at!=null},children:At})};return at&&(gt.route.ErrorBoundary||gt.route.errorElement||yt===0)?reactExports.createElement(RenderErrorBoundary,{location:at.location,revalidation:at.revalidation,component:Et,error:xt,children:_t(),routeContext:{outlet:null,matches:wt,isDataRoute:!0}}):_t()},null)}var DataRouterHook$1=function(ot){return ot.UseBlocker="useBlocker",ot.UseRevalidator="useRevalidator",ot.UseNavigateStable="useNavigate",ot}(DataRouterHook$1||{}),DataRouterStateHook$1=function(ot){return ot.UseBlocker="useBlocker",ot.UseLoaderData="useLoaderData",ot.UseActionData="useActionData",ot.UseRouteError="useRouteError",ot.UseNavigation="useNavigation",ot.UseRouteLoaderData="useRouteLoaderData",ot.UseMatches="useMatches",ot.UseRevalidator="useRevalidator",ot.UseNavigateStable="useNavigate",ot.UseRouteId="useRouteId",ot}(DataRouterStateHook$1||{});function useDataRouterContext(ot){let rt=reactExports.useContext(DataRouterContext);return rt||invariant$1(!1),rt}function useDataRouterState(ot){let rt=reactExports.useContext(DataRouterStateContext);return rt||invariant$1(!1),rt}function useRouteContext(ot){let rt=reactExports.useContext(RouteContext);return rt||invariant$1(!1),rt}function useCurrentRouteId(ot){let rt=useRouteContext(),at=rt.matches[rt.matches.length-1];return at.route.id||invariant$1(!1),at.route.id}function useRouteError(){var ot;let rt=reactExports.useContext(RouteErrorContext),at=useDataRouterState(DataRouterStateHook$1.UseRouteError),lt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return rt!==void 0?rt:(ot=at.errors)==null?void 0:ot[lt]}function useNavigateStable(){let{router:ot}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),rt=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),at=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{at.current=!0}),reactExports.useCallback(function(ct,ut){ut===void 0&&(ut={}),at.current&&(typeof ct=="number"?ot.navigate(ct):ot.navigate(ct,_extends$4({fromRouteId:rt},ut)))},[ot,rt])}function Navigate(ot){let{to:rt,replace:at,state:lt,relative:ct}=ot;useInRouterContext()||invariant$1(!1);let{future:ut,static:dt}=reactExports.useContext(NavigationContext),{matches:ht}=reactExports.useContext(RouteContext),{pathname:ft}=useLocation(),pt=useNavigate(),mt=resolveTo(rt,getResolveToMatches(ht,ut.v7_relativeSplatPath),ft,ct==="path"),gt=JSON.stringify(mt);return reactExports.useEffect(()=>pt(JSON.parse(gt),{replace:at,state:lt,relative:ct}),[pt,gt,ct,at,lt]),null}function Route(ot){invariant$1(!1)}function Router(ot){let{basename:rt="/",children:at=null,location:lt,navigationType:ct=Action.Pop,navigator:ut,static:dt=!1,future:ht}=ot;useInRouterContext()&&invariant$1(!1);let ft=rt.replace(/^\/*/,"/"),pt=reactExports.useMemo(()=>({basename:ft,navigator:ut,static:dt,future:_extends$4({v7_relativeSplatPath:!1},ht)}),[ft,ht,ut,dt]);typeof lt=="string"&&(lt=parsePath(lt));let{pathname:mt="/",search:gt="",hash:yt="",state:xt=null,key:bt="default"}=lt,Et=reactExports.useMemo(()=>{let Rt=stripBasename(mt,ft);return Rt==null?null:{location:{pathname:Rt,search:gt,hash:yt,state:xt,key:bt},navigationType:ct}},[ft,mt,gt,yt,xt,bt,ct]);return Et==null?null:reactExports.createElement(NavigationContext.Provider,{value:pt},reactExports.createElement(LocationContext.Provider,{children:at,value:Et}))}function Routes(ot){let{children:rt,location:at}=ot;return useRoutes(createRoutesFromChildren(rt),at)}new Promise(()=>{});function createRoutesFromChildren(ot,rt){rt===void 0&&(rt=[]);let at=[];return reactExports.Children.forEach(ot,(lt,ct)=>{if(!reactExports.isValidElement(lt))return;let ut=[...rt,ct];if(lt.type===reactExports.Fragment){at.push.apply(at,createRoutesFromChildren(lt.props.children,ut));return}lt.type!==Route&&invariant$1(!1),!lt.props.index||!lt.props.children||invariant$1(!1);let dt={id:lt.props.id||ut.join("-"),caseSensitive:lt.props.caseSensitive,element:lt.props.element,Component:lt.props.Component,index:lt.props.index,path:lt.props.path,loader:lt.props.loader,action:lt.props.action,errorElement:lt.props.errorElement,ErrorBoundary:lt.props.ErrorBoundary,hasErrorBoundary:lt.props.ErrorBoundary!=null||lt.props.errorElement!=null,shouldRevalidate:lt.props.shouldRevalidate,handle:lt.props.handle,lazy:lt.props.lazy};lt.props.children&&(dt.children=createRoutesFromChildren(lt.props.children,ut)),at.push(dt)}),at}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(ot[lt]=at[lt])}return ot},_extends$3.apply(this,arguments)}function _objectWithoutPropertiesLoose$2(ot,rt){if(ot==null)return{};var at={},lt=Object.keys(ot),ct,ut;for(ut=0;ut<lt.length;ut++)ct=lt[ut],!(rt.indexOf(ct)>=0)&&(at[ct]=ot[ct]);return at}function isModifiedEvent(ot){return!!(ot.metaKey||ot.altKey||ot.ctrlKey||ot.shiftKey)}function shouldProcessLinkClick(ot,rt){return ot.button===0&&(!rt||rt==="_self")&&!isModifiedEvent(ot)}const _excluded$2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function BrowserRouter(ot){let{basename:rt,children:at,future:lt,window:ct}=ot,ut=reactExports.useRef();ut.current==null&&(ut.current=createBrowserHistory({window:ct,v5Compat:!0}));let dt=ut.current,[ht,ft]=reactExports.useState({action:dt.action,location:dt.location}),{v7_startTransition:pt}=lt||{},mt=reactExports.useCallback(gt=>{pt&&startTransitionImpl?startTransitionImpl(()=>ft(gt)):ft(gt)},[ft,pt]);return reactExports.useLayoutEffect(()=>dt.listen(mt),[dt,mt]),reactExports.createElement(Router,{basename:rt,children:at,location:ht.location,navigationType:ht.action,navigator:dt,future:lt})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(rt,at){let{onClick:lt,relative:ct,reloadDocument:ut,replace:dt,state:ht,target:ft,to:pt,preventScrollReset:mt,unstable_viewTransition:gt}=rt,yt=_objectWithoutPropertiesLoose$2(rt,_excluded$2),{basename:xt}=reactExports.useContext(NavigationContext),bt,Et=!1;if(typeof pt=="string"&&ABSOLUTE_URL_REGEX.test(pt)&&(bt=pt,isBrowser$1))try{let At=new URL(window.location.href),kt=pt.startsWith("//")?new URL(At.protocol+pt):new URL(pt),It=stripBasename(kt.pathname,xt);kt.origin===At.origin&&It!=null?pt=It+kt.search+kt.hash:Et=!0}catch{}let Rt=useHref(pt,{relative:ct}),wt=useLinkClickHandler(pt,{replace:dt,state:ht,target:ft,preventScrollReset:mt,relative:ct,unstable_viewTransition:gt});function _t(At){lt&&lt(At),At.defaultPrevented||wt(At)}return reactExports.createElement("a",_extends$3({},yt,{href:bt||Rt,onClick:Et||ut?lt:_t,ref:at,target:ft}))});var DataRouterHook;(function(ot){ot.UseScrollRestoration="useScrollRestoration",ot.UseSubmit="useSubmit",ot.UseSubmitFetcher="useSubmitFetcher",ot.UseFetcher="useFetcher",ot.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(ot){ot.UseFetcher="useFetcher",ot.UseFetchers="useFetchers",ot.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(ot,rt){let{target:at,replace:lt,state:ct,preventScrollReset:ut,relative:dt,unstable_viewTransition:ht}=rt===void 0?{}:rt,ft=useNavigate(),pt=useLocation(),mt=useResolvedPath(ot,{relative:dt});return reactExports.useCallback(gt=>{if(shouldProcessLinkClick(gt,at)){gt.preventDefault();let yt=lt!==void 0?lt:createPath(pt)===createPath(mt);ft(ot,{replace:yt,state:ct,preventScrollReset:ut,relative:dt,unstable_viewTransition:ht})}},[pt,ft,mt,lt,ct,at,ot,ut,dt,ht])}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$1=["attr","size","title"];function _objectWithoutProperties$2(ot,rt){if(ot==null)return{};var at=_objectWithoutPropertiesLoose$1(ot,rt),lt,ct;if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(ot);for(ct=0;ct<ut.length;ct++)lt=ut[ct],!(rt.indexOf(lt)>=0)&&Object.prototype.propertyIsEnumerable.call(ot,lt)&&(at[lt]=ot[lt])}return at}function _objectWithoutPropertiesLoose$1(ot,rt){if(ot==null)return{};var at={};for(var lt in ot)if(Object.prototype.hasOwnProperty.call(ot,lt)){if(rt.indexOf(lt)>=0)continue;at[lt]=ot[lt]}return at}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(ot[lt]=at[lt])}return ot},_extends$2.apply(this,arguments)}function ownKeys$2(ot,rt){var at=Object.keys(ot);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ot);rt&&(lt=lt.filter(function(ct){return Object.getOwnPropertyDescriptor(ot,ct).enumerable})),at.push.apply(at,lt)}return at}function _objectSpread$2(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt]!=null?arguments[rt]:{};rt%2?ownKeys$2(Object(at),!0).forEach(function(lt){_defineProperty$3(ot,lt,at[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(at)):ownKeys$2(Object(at)).forEach(function(lt){Object.defineProperty(ot,lt,Object.getOwnPropertyDescriptor(at,lt))})}return ot}function _defineProperty$3(ot,rt,at){return rt=_toPropertyKey(rt),rt in ot?Object.defineProperty(ot,rt,{value:at,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=at,ot}function _toPropertyKey(ot){var rt=_toPrimitive(ot,"string");return typeof rt=="symbol"?rt:rt+""}function _toPrimitive(ot,rt){if(typeof ot!="object"||!ot)return ot;var at=ot[Symbol.toPrimitive];if(at!==void 0){var lt=at.call(ot,rt||"default");if(typeof lt!="object")return lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(rt==="string"?String:Number)(ot)}function Tree2Element(ot){return ot&&ot.map((rt,at)=>React.createElement(rt.tag,_objectSpread$2({key:at},rt.attr),Tree2Element(rt.child)))}function GenIcon(ot){return rt=>React.createElement(IconBase,_extends$2({attr:_objectSpread$2({},ot.attr)},rt),Tree2Element(ot.child))}function IconBase(ot){var rt=at=>{var{attr:lt,size:ct,title:ut}=ot,dt=_objectWithoutProperties$2(ot,_excluded$1),ht=ct||at.size||"1em",ft;return at.className&&(ft=at.className),ot.className&&(ft=(ft?ft+" ":"")+ot.className),React.createElement("svg",_extends$2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},at.attr,lt,dt,{className:ft,style:_objectSpread$2(_objectSpread$2({color:ot.color||at.color},at.style),ot.style),height:ht,width:ht,xmlns:"http://www.w3.org/2000/svg"}),ut&&React.createElement("title",null,ut),ot.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,at=>rt(at)):rt(DefaultContext)}function HiAcademicCap(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"},child:[]}]})(ot)}function HiArrowLeft(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(ot)}function HiArrowRight(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(ot)}function HiBell(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"},child:[]}]})(ot)}function HiBookOpen(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"},child:[]}]})(ot)}function HiCalendar(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(ot)}function HiChartPie(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"},child:[]},{tag:"path",attr:{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"},child:[]}]})(ot)}function HiChevronDown(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(ot)}function HiChevronLeft(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"},child:[]}]})(ot)}function HiChevronRight(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"},child:[]}]})(ot)}function HiChevronUp(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z",clipRule:"evenodd"},child:[]}]})(ot)}function HiCog(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"},child:[]}]})(ot)}function HiCollection(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"},child:[]}]})(ot)}function HiEyeOff(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"},child:[]},{tag:"path",attr:{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"},child:[]}]})(ot)}function HiEye(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"},child:[]}]})(ot)}function HiFlag(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z",clipRule:"evenodd"},child:[]}]})(ot)}function HiLogout(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"},child:[]}]})(ot)}function HiMail(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(ot)}function HiPlus(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"},child:[]}]})(ot)}function HiStar(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},child:[]}]})(ot)}function HiUserGroup(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"},child:[]}]})(ot)}function HiViewBoards(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1H3a1 1 0 01-1-1V4zM8 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V4zM15 3a1 1 0 00-1 1v12a1 1 0 001 1h2a1 1 0 001-1V4a1 1 0 00-1-1h-2z"},child:[]}]})(ot)}function HiX(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(ot)}function HiOutlineCalendar(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},child:[]}]})(ot)}function HiOutlineChevronDown(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"},child:[]}]})(ot)}function HiOutlineChevronLeft(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"},child:[]}]})(ot)}function HiOutlineChevronRight(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"},child:[]}]})(ot)}function HiOutlineChevronUp(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"},child:[]}]})(ot)}function HiOutlineClipboardList(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},child:[]}]})(ot)}function HiOutlineDocumentText(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},child:[]}]})(ot)}function HiOutlineExclamation(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},child:[]}]})(ot)}function HiOutlinePencilAlt(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"},child:[]}]})(ot)}function HiOutlineXCircle(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},child:[]}]})(ot)}function HiOutlineX(ot){return GenIcon({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"},child:[]}]})(ot)}var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(ot){const rt=[];let at=0;for(let lt=0;lt<ot.length;lt++){let ct=ot.charCodeAt(lt);ct<128?rt[at++]=ct:ct<2048?(rt[at++]=ct>>6|192,rt[at++]=ct&63|128):(ct&64512)===55296&&lt+1<ot.length&&(ot.charCodeAt(lt+1)&64512)===56320?(ct=65536+((ct&1023)<<10)+(ot.charCodeAt(++lt)&1023),rt[at++]=ct>>18|240,rt[at++]=ct>>12&63|128,rt[at++]=ct>>6&63|128,rt[at++]=ct&63|128):(rt[at++]=ct>>12|224,rt[at++]=ct>>6&63|128,rt[at++]=ct&63|128)}return rt},byteArrayToString=function(ot){const rt=[];let at=0,lt=0;for(;at<ot.length;){const ct=ot[at++];if(ct<128)rt[lt++]=String.fromCharCode(ct);else if(ct>191&&ct<224){const ut=ot[at++];rt[lt++]=String.fromCharCode((ct&31)<<6|ut&63)}else if(ct>239&&ct<365){const ut=ot[at++],dt=ot[at++],ht=ot[at++],ft=((ct&7)<<18|(ut&63)<<12|(dt&63)<<6|ht&63)-65536;rt[lt++]=String.fromCharCode(55296+(ft>>10)),rt[lt++]=String.fromCharCode(56320+(ft&1023))}else{const ut=ot[at++],dt=ot[at++];rt[lt++]=String.fromCharCode((ct&15)<<12|(ut&63)<<6|dt&63)}}return rt.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(ot,rt){if(!Array.isArray(ot))throw Error("encodeByteArray takes an array as a parameter");this.init_();const at=rt?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let ct=0;ct<ot.length;ct+=3){const ut=ot[ct],dt=ct+1<ot.length,ht=dt?ot[ct+1]:0,ft=ct+2<ot.length,pt=ft?ot[ct+2]:0,mt=ut>>2,gt=(ut&3)<<4|ht>>4;let yt=(ht&15)<<2|pt>>6,xt=pt&63;ft||(xt=64,dt||(yt=64)),lt.push(at[mt],at[gt],at[yt],at[xt])}return lt.join("")},encodeString(ot,rt){return this.HAS_NATIVE_SUPPORT&&!rt?btoa(ot):this.encodeByteArray(stringToByteArray$1(ot),rt)},decodeString(ot,rt){return this.HAS_NATIVE_SUPPORT&&!rt?atob(ot):byteArrayToString(this.decodeStringToByteArray(ot,rt))},decodeStringToByteArray(ot,rt){this.init_();const at=rt?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let ct=0;ct<ot.length;){const ut=at[ot.charAt(ct++)],ht=ct<ot.length?at[ot.charAt(ct)]:0;++ct;const pt=ct<ot.length?at[ot.charAt(ct)]:64;++ct;const gt=ct<ot.length?at[ot.charAt(ct)]:64;if(++ct,ut==null||ht==null||pt==null||gt==null)throw new DecodeBase64StringError;const yt=ut<<2|ht>>4;if(lt.push(yt),pt!==64){const xt=ht<<4&240|pt>>2;if(lt.push(xt),gt!==64){const bt=pt<<6&192|gt;lt.push(bt)}}}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ot=0;ot<this.ENCODED_VALS.length;ot++)this.byteToCharMap_[ot]=this.ENCODED_VALS.charAt(ot),this.charToByteMap_[this.byteToCharMap_[ot]]=ot,this.byteToCharMapWebSafe_[ot]=this.ENCODED_VALS_WEBSAFE.charAt(ot),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ot]]=ot,ot>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ot)]=ot,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ot)]=ot)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(ot){const rt=stringToByteArray$1(ot);return base64.encodeByteArray(rt,!0)},base64urlEncodeWithoutPadding=function(ot){return base64Encode(ot).replace(/\./g,"")},base64Decode=function(ot){try{return base64.decodeString(ot,!0)}catch(rt){console.error("base64Decode failed: ",rt)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const ot=define_process_env_default.__FIREBASE_DEFAULTS__;if(ot)return JSON.parse(ot)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let ot;try{ot=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const rt=ot&&base64Decode(ot[1]);return rt&&JSON.parse(rt)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(ot){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ot}`);return}},getDefaultEmulatorHost=ot=>{var rt,at;return(at=(rt=getDefaults())===null||rt===void 0?void 0:rt.emulatorHosts)===null||at===void 0?void 0:at[ot]},getDefaultEmulatorHostnameAndPort=ot=>{const rt=getDefaultEmulatorHost(ot);if(!rt)return;const at=rt.lastIndexOf(":");if(at<=0||at+1===rt.length)throw new Error(`Invalid host ${rt} with no separate hostname and port!`);const lt=parseInt(rt.substring(at+1),10);return rt[0]==="["?[rt.substring(1,at-1),lt]:[rt.substring(0,at),lt]},getDefaultAppConfig=()=>{var ot;return(ot=getDefaults())===null||ot===void 0?void 0:ot.config},getExperimentalSetting=ot=>{var rt;return(rt=getDefaults())===null||rt===void 0?void 0:rt[`_${ot}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((rt,at)=>{this.resolve=rt,this.reject=at})}wrapCallback(rt){return(at,lt)=>{at?this.reject(at):this.resolve(lt),typeof rt=="function"&&(this.promise.catch(()=>{}),rt.length===1?rt(at):rt(at,lt))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(ot,rt){if(ot.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const at={alg:"none",type:"JWT"},lt=rt||"demo-project",ct=ot.iat||0,ut=ot.sub||ot.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dt=Object.assign({iss:`https://securetoken.google.com/${lt}`,aud:lt,iat:ct,exp:ct+3600,auth_time:ct,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},ot);return[base64urlEncodeWithoutPadding(JSON.stringify(at)),base64urlEncodeWithoutPadding(JSON.stringify(dt)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var ot;const rt=(ot=getDefaults())===null||ot===void 0?void 0:ot.forceEnvironment;if(rt==="node")return!0;if(rt==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowserExtension(){const ot=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof ot=="object"&&ot.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const ot=getUA();return ot.indexOf("MSIE ")>=0||ot.indexOf("Trident/")>=0}function isSafari$1(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((ot,rt)=>{try{let at=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",ct=self.indexedDB.open(lt);ct.onsuccess=()=>{ct.result.close(),at||self.indexedDB.deleteDatabase(lt),ot(!0)},ct.onupgradeneeded=()=>{at=!1},ct.onerror=()=>{var ut;rt(((ut=ct.error)===null||ut===void 0?void 0:ut.message)||"")}}catch(at){rt(at)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(rt,at,lt){super(at),this.code=rt,this.customData=lt,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(rt,at,lt){this.service=rt,this.serviceName=at,this.errors=lt}create(rt,...at){const lt=at[0]||{},ct=`${this.service}/${rt}`,ut=this.errors[rt],dt=ut?replaceTemplate(ut,lt):"Error",ht=`${this.serviceName}: ${dt} (${ct}).`;return new FirebaseError(ct,ht,lt)}}function replaceTemplate(ot,rt){return ot.replace(PATTERN,(at,lt)=>{const ct=rt[lt];return ct!=null?String(ct):`<${lt}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$1(ot){for(const rt in ot)if(Object.prototype.hasOwnProperty.call(ot,rt))return!1;return!0}function deepEqual$1(ot,rt){if(ot===rt)return!0;const at=Object.keys(ot),lt=Object.keys(rt);for(const ct of at){if(!lt.includes(ct))return!1;const ut=ot[ct],dt=rt[ct];if(isObject$2(ut)&&isObject$2(dt)){if(!deepEqual$1(ut,dt))return!1}else if(ut!==dt)return!1}for(const ct of lt)if(!at.includes(ct))return!1;return!0}function isObject$2(ot){return ot!==null&&typeof ot=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(ot){const rt=[];for(const[at,lt]of Object.entries(ot))Array.isArray(lt)?lt.forEach(ct=>{rt.push(encodeURIComponent(at)+"="+encodeURIComponent(ct))}):rt.push(encodeURIComponent(at)+"="+encodeURIComponent(lt));return rt.length?"&"+rt.join("&"):""}function querystringDecode(ot){const rt={};return ot.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[ct,ut]=lt.split("=");rt[decodeURIComponent(ct)]=decodeURIComponent(ut)}}),rt}function extractQuerystring(ot){const rt=ot.indexOf("?");if(!rt)return"";const at=ot.indexOf("#",rt);return ot.substring(rt,at>0?at:void 0)}function createSubscribe(ot,rt){const at=new ObserverProxy(ot,rt);return at.subscribe.bind(at)}class ObserverProxy{constructor(rt,at){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=at,this.task.then(()=>{rt(this)}).catch(lt=>{this.error(lt)})}next(rt){this.forEachObserver(at=>{at.next(rt)})}error(rt){this.forEachObserver(at=>{at.error(rt)}),this.close(rt)}complete(){this.forEachObserver(rt=>{rt.complete()}),this.close()}subscribe(rt,at,lt){let ct;if(rt===void 0&&at===void 0&&lt===void 0)throw new Error("Missing Observer.");implementsAnyMethods(rt,["next","error","complete"])?ct=rt:ct={next:rt,error:at,complete:lt},ct.next===void 0&&(ct.next=noop$2),ct.error===void 0&&(ct.error=noop$2),ct.complete===void 0&&(ct.complete=noop$2);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ct.error(this.finalError):ct.complete()}catch{}}),this.observers.push(ct),ut}unsubscribeOne(rt){this.observers===void 0||this.observers[rt]===void 0||(delete this.observers[rt],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(rt){if(!this.finalized)for(let at=0;at<this.observers.length;at++)this.sendOne(at,rt)}sendOne(rt,at){this.task.then(()=>{if(this.observers!==void 0&&this.observers[rt]!==void 0)try{at(this.observers[rt])}catch(lt){typeof console<"u"&&console.error&&console.error(lt)}})}close(rt){this.finalized||(this.finalized=!0,rt!==void 0&&(this.finalError=rt),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(ot,rt){if(typeof ot!="object"||ot===null)return!1;for(const at of rt)if(at in ot&&typeof ot[at]=="function")return!0;return!1}function noop$2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(ot){return ot&&ot._delegate?ot._delegate:ot}class Component{constructor(rt,at,lt){this.name=rt,this.instanceFactory=at,this.type=lt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(rt){return this.instantiationMode=rt,this}setMultipleInstances(rt){return this.multipleInstances=rt,this}setServiceProps(rt){return this.serviceProps=rt,this}setInstanceCreatedCallback(rt){return this.onInstanceCreated=rt,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(rt,at){this.name=rt,this.container=at,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(rt){const at=this.normalizeInstanceIdentifier(rt);if(!this.instancesDeferred.has(at)){const lt=new Deferred;if(this.instancesDeferred.set(at,lt),this.isInitialized(at)||this.shouldAutoInitialize())try{const ct=this.getOrInitializeService({instanceIdentifier:at});ct&&lt.resolve(ct)}catch{}}return this.instancesDeferred.get(at).promise}getImmediate(rt){var at;const lt=this.normalizeInstanceIdentifier(rt==null?void 0:rt.identifier),ct=(at=rt==null?void 0:rt.optional)!==null&&at!==void 0?at:!1;if(this.isInitialized(lt)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:lt})}catch(ut){if(ct)return null;throw ut}else{if(ct)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(rt){if(rt.name!==this.name)throw Error(`Mismatching Component ${rt.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=rt,!!this.shouldAutoInitialize()){if(isComponentEager(rt))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[at,lt]of this.instancesDeferred.entries()){const ct=this.normalizeInstanceIdentifier(at);try{const ut=this.getOrInitializeService({instanceIdentifier:ct});lt.resolve(ut)}catch{}}}}clearInstance(rt=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(rt),this.instancesOptions.delete(rt),this.instances.delete(rt)}async delete(){const rt=Array.from(this.instances.values());await Promise.all([...rt.filter(at=>"INTERNAL"in at).map(at=>at.INTERNAL.delete()),...rt.filter(at=>"_delete"in at).map(at=>at._delete())])}isComponentSet(){return this.component!=null}isInitialized(rt=DEFAULT_ENTRY_NAME$1){return this.instances.has(rt)}getOptions(rt=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(rt)||{}}initialize(rt={}){const{options:at={}}=rt,lt=this.normalizeInstanceIdentifier(rt.instanceIdentifier);if(this.isInitialized(lt))throw Error(`${this.name}(${lt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ct=this.getOrInitializeService({instanceIdentifier:lt,options:at});for(const[ut,dt]of this.instancesDeferred.entries()){const ht=this.normalizeInstanceIdentifier(ut);lt===ht&&dt.resolve(ct)}return ct}onInit(rt,at){var lt;const ct=this.normalizeInstanceIdentifier(at),ut=(lt=this.onInitCallbacks.get(ct))!==null&&lt!==void 0?lt:new Set;ut.add(rt),this.onInitCallbacks.set(ct,ut);const dt=this.instances.get(ct);return dt&&rt(dt,ct),()=>{ut.delete(rt)}}invokeOnInitCallbacks(rt,at){const lt=this.onInitCallbacks.get(at);if(lt)for(const ct of lt)try{ct(rt,at)}catch{}}getOrInitializeService({instanceIdentifier:rt,options:at={}}){let lt=this.instances.get(rt);if(!lt&&this.component&&(lt=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(rt),options:at}),this.instances.set(rt,lt),this.instancesOptions.set(rt,at),this.invokeOnInitCallbacks(lt,rt),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,rt,lt)}catch{}return lt||null}normalizeInstanceIdentifier(rt=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?rt:DEFAULT_ENTRY_NAME$1:rt}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(ot){return ot===DEFAULT_ENTRY_NAME$1?void 0:ot}function isComponentEager(ot){return ot.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(rt){this.name=rt,this.providers=new Map}addComponent(rt){const at=this.getProvider(rt.name);if(at.isComponentSet())throw new Error(`Component ${rt.name} has already been registered with ${this.name}`);at.setComponent(rt)}addOrOverwriteComponent(rt){this.getProvider(rt.name).isComponentSet()&&this.providers.delete(rt.name),this.addComponent(rt)}getProvider(rt){if(this.providers.has(rt))return this.providers.get(rt);const at=new Provider(rt,this);return this.providers.set(rt,at),at}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(ot){ot[ot.DEBUG=0]="DEBUG",ot[ot.VERBOSE=1]="VERBOSE",ot[ot.INFO=2]="INFO",ot[ot.WARN=3]="WARN",ot[ot.ERROR=4]="ERROR",ot[ot.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(ot,rt,...at)=>{if(rt<ot.logLevel)return;const lt=new Date().toISOString(),ct=ConsoleMethod[rt];if(ct)console[ct](`[${lt}]  ${ot.name}:`,...at);else throw new Error(`Attempted to log a message with an invalid logType (value: ${rt})`)};class Logger{constructor(rt){this.name=rt,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(rt){if(!(rt in LogLevel))throw new TypeError(`Invalid value "${rt}" assigned to \`logLevel\``);this._logLevel=rt}setLogLevel(rt){this._logLevel=typeof rt=="string"?levelStringToEnum[rt]:rt}get logHandler(){return this._logHandler}set logHandler(rt){if(typeof rt!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=rt}get userLogHandler(){return this._userLogHandler}set userLogHandler(rt){this._userLogHandler=rt}debug(...rt){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...rt),this._logHandler(this,LogLevel.DEBUG,...rt)}log(...rt){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...rt),this._logHandler(this,LogLevel.VERBOSE,...rt)}info(...rt){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...rt),this._logHandler(this,LogLevel.INFO,...rt)}warn(...rt){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...rt),this._logHandler(this,LogLevel.WARN,...rt)}error(...rt){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...rt),this._logHandler(this,LogLevel.ERROR,...rt)}}const instanceOfAny=(ot,rt)=>rt.some(at=>ot instanceof at);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(ot){const rt=new Promise((at,lt)=>{const ct=()=>{ot.removeEventListener("success",ut),ot.removeEventListener("error",dt)},ut=()=>{at(wrap(ot.result)),ct()},dt=()=>{lt(ot.error),ct()};ot.addEventListener("success",ut),ot.addEventListener("error",dt)});return rt.then(at=>{at instanceof IDBCursor&&cursorRequestMap.set(at,ot)}).catch(()=>{}),reverseTransformCache.set(rt,ot),rt}function cacheDonePromiseForTransaction(ot){if(transactionDoneMap.has(ot))return;const rt=new Promise((at,lt)=>{const ct=()=>{ot.removeEventListener("complete",ut),ot.removeEventListener("error",dt),ot.removeEventListener("abort",dt)},ut=()=>{at(),ct()},dt=()=>{lt(ot.error||new DOMException("AbortError","AbortError")),ct()};ot.addEventListener("complete",ut),ot.addEventListener("error",dt),ot.addEventListener("abort",dt)});transactionDoneMap.set(ot,rt)}let idbProxyTraps={get(ot,rt,at){if(ot instanceof IDBTransaction){if(rt==="done")return transactionDoneMap.get(ot);if(rt==="objectStoreNames")return ot.objectStoreNames||transactionStoreNamesMap.get(ot);if(rt==="store")return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return wrap(ot[rt])},set(ot,rt,at){return ot[rt]=at,!0},has(ot,rt){return ot instanceof IDBTransaction&&(rt==="done"||rt==="store")?!0:rt in ot}};function replaceTraps(ot){idbProxyTraps=ot(idbProxyTraps)}function wrapFunction(ot){return ot===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(rt,...at){const lt=ot.call(unwrap(this),rt,...at);return transactionStoreNamesMap.set(lt,rt.sort?rt.sort():[rt]),wrap(lt)}:getCursorAdvanceMethods().includes(ot)?function(...rt){return ot.apply(unwrap(this),rt),wrap(cursorRequestMap.get(this))}:function(...rt){return wrap(ot.apply(unwrap(this),rt))}}function transformCachableValue(ot){return typeof ot=="function"?wrapFunction(ot):(ot instanceof IDBTransaction&&cacheDonePromiseForTransaction(ot),instanceOfAny(ot,getIdbProxyableTypes())?new Proxy(ot,idbProxyTraps):ot)}function wrap(ot){if(ot instanceof IDBRequest)return promisifyRequest(ot);if(transformCache.has(ot))return transformCache.get(ot);const rt=transformCachableValue(ot);return rt!==ot&&(transformCache.set(ot,rt),reverseTransformCache.set(rt,ot)),rt}const unwrap=ot=>reverseTransformCache.get(ot);function openDB(ot,rt,{blocked:at,upgrade:lt,blocking:ct,terminated:ut}={}){const dt=indexedDB.open(ot,rt),ht=wrap(dt);return lt&&dt.addEventListener("upgradeneeded",ft=>{lt(wrap(dt.result),ft.oldVersion,ft.newVersion,wrap(dt.transaction),ft)}),at&&dt.addEventListener("blocked",ft=>at(ft.oldVersion,ft.newVersion,ft)),ht.then(ft=>{ut&&ft.addEventListener("close",()=>ut()),ct&&ft.addEventListener("versionchange",pt=>ct(pt.oldVersion,pt.newVersion,pt))}).catch(()=>{}),ht}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(ot,rt){if(!(ot instanceof IDBDatabase&&!(rt in ot)&&typeof rt=="string"))return;if(cachedMethods.get(rt))return cachedMethods.get(rt);const at=rt.replace(/FromIndex$/,""),lt=rt!==at,ct=writeMethods.includes(at);if(!(at in(lt?IDBIndex:IDBObjectStore).prototype)||!(ct||readMethods.includes(at)))return;const ut=async function(dt,...ht){const ft=this.transaction(dt,ct?"readwrite":"readonly");let pt=ft.store;return lt&&(pt=pt.index(ht.shift())),(await Promise.all([pt[at](...ht),ct&&ft.done]))[0]};return cachedMethods.set(rt,ut),ut}replaceTraps(ot=>({...ot,get:(rt,at,lt)=>getMethod(rt,at)||ot.get(rt,at,lt),has:(rt,at)=>!!getMethod(rt,at)||ot.has(rt,at)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(isVersionServiceProvider(at)){const lt=at.getImmediate();return`${lt.library}/${lt.version}`}else return null}).filter(at=>at).join(" ")}}function isVersionServiceProvider(ot){const rt=ot.getComponent();return(rt==null?void 0:rt.type)==="VERSION"}const name$p="@firebase/app",version$1$1="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$o="@firebase/app-compat",name$n="@firebase/analytics-compat",name$m="@firebase/analytics",name$l="@firebase/app-check-compat",name$k="@firebase/app-check",name$j="@firebase/auth",name$i="@firebase/auth-compat",name$h="@firebase/database",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$q="firebase",version$3="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$p]:"fire-core",[name$o]:"fire-core-compat",[name$m]:"fire-analytics",[name$n]:"fire-analytics-compat",[name$k]:"fire-app-check",[name$l]:"fire-app-check-compat",[name$j]:"fire-auth",[name$i]:"fire-auth-compat",[name$h]:"fire-rtdb",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(ot,rt){try{ot.container.addComponent(rt)}catch(at){logger.debug(`Component ${rt.name} failed to register with FirebaseApp ${ot.name}`,at)}}function _registerComponent(ot){const rt=ot.name;if(_components.has(rt))return logger.debug(`There were multiple attempts to register component ${rt}.`),!1;_components.set(rt,ot);for(const at of _apps.values())_addComponent(at,ot);for(const at of _serverApps.values())_addComponent(at,ot);return!0}function _getProvider(ot,rt){const at=ot.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),ot.container.getProvider(rt)}function _isFirebaseServerApp(ot){return ot.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(rt,at,lt){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=lt,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$3;function initializeApp(ot,rt={}){let at=ot;typeof rt!="object"&&(rt={name:rt});const lt=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},rt),ct=lt.name;if(typeof ct!="string"||!ct)throw ERROR_FACTORY.create("bad-app-name",{appName:String(ct)});if(at||(at=getDefaultAppConfig()),!at)throw ERROR_FACTORY.create("no-options");const ut=_apps.get(ct);if(ut){if(deepEqual$1(at,ut.options)&&deepEqual$1(lt,ut.config))return ut;throw ERROR_FACTORY.create("duplicate-app",{appName:ct})}const dt=new ComponentContainer(ct);for(const ft of _components.values())dt.addComponent(ft);const ht=new FirebaseAppImpl(at,lt,dt);return _apps.set(ct,ht),ht}function getApp(ot=DEFAULT_ENTRY_NAME){const rt=_apps.get(ot);if(!rt&&ot===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!rt)throw ERROR_FACTORY.create("no-app",{appName:ot});return rt}function registerVersion(ot,rt,at){var lt;let ct=(lt=PLATFORM_LOG_STRING[ot])!==null&&lt!==void 0?lt:ot;at&&(ct+=`-${at}`);const ut=ct.match(/\s|\//),dt=rt.match(/\s|\//);if(ut||dt){const ht=[`Unable to register library "${ct}" with version "${rt}":`];ut&&ht.push(`library name "${ct}" contains illegal characters (whitespace or "/")`),ut&&dt&&ht.push("and"),dt&&ht.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),logger.warn(ht.join(" "));return}_registerComponent(new Component(`${ct}-version`,()=>({library:ct,version:rt}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(ot,rt)=>{switch(rt){case 0:try{ot.createObjectStore(STORE_NAME)}catch(at){console.warn(at)}}}}).catch(ot=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:ot.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(ot){try{const at=(await getDbPromise()).transaction(STORE_NAME),lt=await at.objectStore(STORE_NAME).get(computeKey(ot));return await at.done,lt}catch(rt){if(rt instanceof FirebaseError)logger.warn(rt.message);else{const at=ERROR_FACTORY.create("idb-get",{originalErrorMessage:rt==null?void 0:rt.message});logger.warn(at.message)}}}async function writeHeartbeatsToIndexedDB(ot,rt){try{const lt=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await lt.objectStore(STORE_NAME).put(rt,computeKey(ot)),await lt.done}catch(at){if(at instanceof FirebaseError)logger.warn(at.message);else{const lt=ERROR_FACTORY.create("idb-set",{originalErrorMessage:at==null?void 0:at.message});logger.warn(lt.message)}}}function computeKey(ot){return`${ot.name}!${ot.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(rt){this.container=rt,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(at),this._heartbeatsCachePromise=this._storage.read().then(lt=>(this._heartbeatsCache=lt,lt))}async triggerHeartbeat(){var rt,at;const ct=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ut=getUTCDateString();if(!(((rt=this._heartbeatsCache)===null||rt===void 0?void 0:rt.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((at=this._heartbeatsCache)===null||at===void 0?void 0:at.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===ut||this._heartbeatsCache.heartbeats.some(dt=>dt.date===ut)))return this._heartbeatsCache.heartbeats.push({date:ut,agent:ct}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(dt=>{const ht=new Date(dt.date).valueOf();return Date.now()-ht<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var rt;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((rt=this._heartbeatsCache)===null||rt===void 0?void 0:rt.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const at=getUTCDateString(),{heartbeatsToSend:lt,unsentEntries:ct}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),ut=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:lt}));return this._heartbeatsCache.lastSentHeartbeatDate=at,ct.length>0?(this._heartbeatsCache.heartbeats=ct,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ut}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(ot,rt=MAX_HEADER_BYTES){const at=[];let lt=ot.slice();for(const ct of ot){const ut=at.find(dt=>dt.agent===ct.agent);if(ut){if(ut.dates.push(ct.date),countBytes(at)>rt){ut.dates.pop();break}}else if(at.push({agent:ct.agent,dates:[ct.date]}),countBytes(at)>rt){at.pop();break}lt=lt.slice(1)}return{heartbeatsToSend:at,unsentEntries:lt}}class HeartbeatStorageImpl{constructor(rt){this.app=rt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const at=await readHeartbeatsFromIndexedDB(this.app);return at!=null&&at.heartbeats?at:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(rt){var at;if(await this._canUseIndexedDBPromise){const ct=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(at=rt.lastSentHeartbeatDate)!==null&&at!==void 0?at:ct.lastSentHeartbeatDate,heartbeats:rt.heartbeats})}else return}async add(rt){var at;if(await this._canUseIndexedDBPromise){const ct=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(at=rt.lastSentHeartbeatDate)!==null&&at!==void 0?at:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...rt.heartbeats]})}else return}}function countBytes(ot){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:ot})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(ot){_registerComponent(new Component("platform-logger",rt=>new PlatformLoggerServiceImpl(rt),"PRIVATE")),_registerComponent(new Component("heartbeat",rt=>new HeartbeatServiceImpl(rt),"PRIVATE")),registerVersion(name$p,version$1$1,ot),registerVersion(name$p,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(ot,rt){var at={};for(var lt in ot)Object.prototype.hasOwnProperty.call(ot,lt)&&rt.indexOf(lt)<0&&(at[lt]=ot[lt]);if(ot!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ct=0,lt=Object.getOwnPropertySymbols(ot);ct<lt.length;ct++)rt.indexOf(lt[ct])<0&&Object.prototype.propertyIsEnumerable.call(ot,lt[ct])&&(at[lt[ct]]=ot[lt[ct]]);return at}function __awaiter(ot,rt,at,lt){function ct(ut){return ut instanceof at?ut:new at(function(dt){dt(ut)})}return new(at||(at=Promise))(function(ut,dt){function ht(mt){try{pt(lt.next(mt))}catch(gt){dt(gt)}}function ft(mt){try{pt(lt.throw(mt))}catch(gt){dt(gt)}}function pt(mt){mt.done?ut(mt.value):ct(mt.value).then(ht,ft)}pt((lt=lt.apply(ot,rt||[])).next())})}function __generator(ot,rt){var at={label:0,sent:function(){if(ut[0]&1)throw ut[1];return ut[1]},trys:[],ops:[]},lt,ct,ut,dt;return dt={next:ht(0),throw:ht(1),return:ht(2)},typeof Symbol=="function"&&(dt[Symbol.iterator]=function(){return this}),dt;function ht(pt){return function(mt){return ft([pt,mt])}}function ft(pt){if(lt)throw new TypeError("Generator is already executing.");for(;dt&&(dt=0,pt[0]&&(at=0)),at;)try{if(lt=1,ct&&(ut=pt[0]&2?ct.return:pt[0]?ct.throw||((ut=ct.return)&&ut.call(ct),0):ct.next)&&!(ut=ut.call(ct,pt[1])).done)return ut;switch(ct=0,ut&&(pt=[pt[0]&2,ut.value]),pt[0]){case 0:case 1:ut=pt;break;case 4:return at.label++,{value:pt[1],done:!1};case 5:at.label++,ct=pt[1],pt=[0];continue;case 7:pt=at.ops.pop(),at.trys.pop();continue;default:if(ut=at.trys,!(ut=ut.length>0&&ut[ut.length-1])&&(pt[0]===6||pt[0]===2)){at=0;continue}if(pt[0]===3&&(!ut||pt[1]>ut[0]&&pt[1]<ut[3])){at.label=pt[1];break}if(pt[0]===6&&at.label<ut[1]){at.label=ut[1],ut=pt;break}if(ut&&at.label<ut[2]){at.label=ut[2],at.ops.push(pt);break}ut[2]&&at.ops.pop(),at.trys.pop();continue}pt=rt.call(ot,at)}catch(mt){pt=[6,mt],ct=0}finally{lt=ut=0}if(pt[0]&5)throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}}function __read(ot,rt){var at=typeof Symbol=="function"&&ot[Symbol.iterator];if(!at)return ot;var lt=at.call(ot),ct,ut=[],dt;try{for(;(rt===void 0||rt-- >0)&&!(ct=lt.next()).done;)ut.push(ct.value)}catch(ht){dt={error:ht}}finally{try{ct&&!ct.done&&(at=lt.return)&&at.call(lt)}finally{if(dt)throw dt.error}}return ut}function __spreadArray(ot,rt,at){if(at||arguments.length===2)for(var lt=0,ct=rt.length,ut;lt<ct;lt++)(ut||!(lt in rt))&&(ut||(ut=Array.prototype.slice.call(rt,0,lt)),ut[lt]=rt[lt]);return ot.concat(ut||Array.prototype.slice.call(rt))}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(ot,...rt){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${ot}`,...rt)}function _logError(ot,...rt){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${ot}`,...rt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(ot,...rt){throw createErrorInternal(ot,...rt)}function _createError(ot,...rt){return createErrorInternal(ot,...rt)}function _errorWithCustomMessage(ot,rt,at){const lt=Object.assign(Object.assign({},prodErrorMap()),{[rt]:at});return new ErrorFactory("auth","Firebase",lt).create(rt,{appName:ot.name})}function _serverAppCurrentUserOperationNotSupportedError(ot){return _errorWithCustomMessage(ot,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function createErrorInternal(ot,...rt){if(typeof ot!="string"){const at=rt[0],lt=[...rt.slice(1)];return lt[0]&&(lt[0].appName=ot.name),ot._errorFactory.create(at,...lt)}return _DEFAULT_AUTH_ERROR_FACTORY.create(ot,...rt)}function _assert(ot,rt,...at){if(!ot)throw createErrorInternal(rt,...at)}function debugFail(ot){const rt="INTERNAL ASSERTION FAILED: "+ot;throw _logError(rt),new Error(rt)}function debugAssert(ot,rt){ot||debugFail(rt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var ot;return typeof self<"u"&&((ot=self.location)===null||ot===void 0?void 0:ot.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var ot;return typeof self<"u"&&((ot=self.location)===null||ot===void 0?void 0:ot.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const ot=navigator;return ot.languages&&ot.languages[0]||ot.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(rt,at){this.shortDelay=rt,this.longDelay=at,debugAssert(at>rt,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(ot,rt){debugAssert(ot.emulator,"Emulator should always be set here");const{url:at}=ot.emulator;return rt?`${at}${rt.startsWith("/")?rt.slice(1):rt}`:at}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(rt,at,lt){this.fetchImpl=rt,at&&(this.headersImpl=at),lt&&(this.responseImpl=lt)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(ot,rt){return ot.tenantId&&!rt.tenantId?Object.assign(Object.assign({},rt),{tenantId:ot.tenantId}):rt}async function _performApiRequest(ot,rt,at,lt,ct={}){return _performFetchWithErrorHandling(ot,ct,async()=>{let ut={},dt={};lt&&(rt==="GET"?dt=lt:ut={body:JSON.stringify(lt)});const ht=querystring(Object.assign({key:ot.config.apiKey},dt)).slice(1),ft=await ot._getAdditionalHeaders();return ft["Content-Type"]="application/json",ot.languageCode&&(ft["X-Firebase-Locale"]=ot.languageCode),FetchProvider.fetch()(_getFinalTarget(ot,ot.config.apiHost,at,ht),Object.assign({method:rt,headers:ft,referrerPolicy:"no-referrer"},ut))})}async function _performFetchWithErrorHandling(ot,rt,at){ot._canInitEmulator=!1;const lt=Object.assign(Object.assign({},SERVER_ERROR_MAP),rt);try{const ct=new NetworkTimeout(ot),ut=await Promise.race([at(),ct.promise]);ct.clearNetworkTimeout();const dt=await ut.json();if("needConfirmation"in dt)throw _makeTaggedError(ot,"account-exists-with-different-credential",dt);if(ut.ok&&!("errorMessage"in dt))return dt;{const ht=ut.ok?dt.errorMessage:dt.error.message,[ft,pt]=ht.split(" : ");if(ft==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(ot,"credential-already-in-use",dt);if(ft==="EMAIL_EXISTS")throw _makeTaggedError(ot,"email-already-in-use",dt);if(ft==="USER_DISABLED")throw _makeTaggedError(ot,"user-disabled",dt);const mt=lt[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw _errorWithCustomMessage(ot,mt,pt);_fail(ot,mt)}}catch(ct){if(ct instanceof FirebaseError)throw ct;_fail(ot,"network-request-failed",{message:String(ct)})}}async function _performSignInRequest(ot,rt,at,lt,ct={}){const ut=await _performApiRequest(ot,rt,at,lt,ct);return"mfaPendingCredential"in ut&&_fail(ot,"multi-factor-auth-required",{_serverResponse:ut}),ut}function _getFinalTarget(ot,rt,at,lt){const ct=`${rt}${at}?${lt}`;return ot.config.emulator?_emulatorUrl(ot.config,ct):`${ot.config.apiScheme}://${ct}`}function _parseEnforcementState(ot){switch(ot){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(rt){this.auth=rt,this.timer=null,this.promise=new Promise((at,lt)=>{this.timer=setTimeout(()=>lt(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(ot,rt,at){const lt={appName:ot.name};at.email&&(lt.email=at.email),at.phoneNumber&&(lt.phoneNumber=at.phoneNumber);const ct=_createError(ot,rt,lt);return ct.customData._tokenResponse=at,ct}function isEnterprise(ot){return ot!==void 0&&ot.enterprise!==void 0}class RecaptchaConfig{constructor(rt){if(this.siteKey="",this.recaptchaEnforcementState=[],rt.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=rt.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=rt.recaptchaEnforcementState}getProviderEnforcementState(rt){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const at of this.recaptchaEnforcementState)if(at.provider&&at.provider===rt)return _parseEnforcementState(at.enforcementState);return null}isProviderEnabled(rt){return this.getProviderEnforcementState(rt)==="ENFORCE"||this.getProviderEnforcementState(rt)==="AUDIT"}}async function getRecaptchaConfig(ot,rt){return _performApiRequest(ot,"GET","/v2/recaptchaConfig",_addTidIfNecessary(ot,rt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(ot,rt){return _performApiRequest(ot,"POST","/v1/accounts:delete",rt)}async function getAccountInfo(ot,rt){return _performApiRequest(ot,"POST","/v1/accounts:lookup",rt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(ot){if(ot)try{const rt=new Date(Number(ot));if(!isNaN(rt.getTime()))return rt.toUTCString()}catch{}}async function getIdTokenResult(ot,rt=!1){const at=getModularInstance(ot),lt=await at.getIdToken(rt),ct=_parseToken(lt);_assert(ct&&ct.exp&&ct.auth_time&&ct.iat,at.auth,"internal-error");const ut=typeof ct.firebase=="object"?ct.firebase:void 0,dt=ut==null?void 0:ut.sign_in_provider;return{claims:ct,token:lt,authTime:utcTimestampToDateString(secondsStringToMilliseconds(ct.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(ct.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(ct.exp)),signInProvider:dt||null,signInSecondFactor:(ut==null?void 0:ut.sign_in_second_factor)||null}}function secondsStringToMilliseconds(ot){return Number(ot)*1e3}function _parseToken(ot){const[rt,at,lt]=ot.split(".");if(rt===void 0||at===void 0||lt===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const ct=base64Decode(at);return ct?JSON.parse(ct):(_logError("Failed to decode base64 JWT payload"),null)}catch(ct){return _logError("Caught error parsing JWT payload as JSON",ct==null?void 0:ct.toString()),null}}function _tokenExpiresIn(ot){const rt=_parseToken(ot);return _assert(rt,"internal-error"),_assert(typeof rt.exp<"u","internal-error"),_assert(typeof rt.iat<"u","internal-error"),Number(rt.exp)-Number(rt.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(ot,rt,at=!1){if(at)return rt;try{return await rt}catch(lt){throw lt instanceof FirebaseError&&isUserInvalidated(lt)&&ot.auth.currentUser===ot&&await ot.auth.signOut(),lt}}function isUserInvalidated({code:ot}){return ot==="auth/user-disabled"||ot==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(rt){this.user=rt,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(rt){var at;if(rt){const lt=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),lt}else{this.errorBackoff=3e4;const ct=((at=this.user.stsTokenManager.expirationTime)!==null&&at!==void 0?at:0)-Date.now()-3e5;return Math.max(0,ct)}}schedule(rt=!1){if(!this.isRunning)return;const at=this.getInterval(rt);this.timerId=setTimeout(async()=>{await this.iteration()},at)}async iteration(){try{await this.user.getIdToken(!0)}catch(rt){(rt==null?void 0:rt.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(rt,at){this.createdAt=rt,this.lastLoginAt=at,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(rt){this.createdAt=rt.createdAt,this.lastLoginAt=rt.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(ot){var rt;const at=ot.auth,lt=await ot.getIdToken(),ct=await _logoutIfInvalidated(ot,getAccountInfo(at,{idToken:lt}));_assert(ct==null?void 0:ct.users.length,at,"internal-error");const ut=ct.users[0];ot._notifyReloadListener(ut);const dt=!((rt=ut.providerUserInfo)===null||rt===void 0)&&rt.length?extractProviderData(ut.providerUserInfo):[],ht=mergeProviderData(ot.providerData,dt),ft=ot.isAnonymous,pt=!(ot.email&&ut.passwordHash)&&!(ht!=null&&ht.length),mt=ft?pt:!1,gt={uid:ut.localId,displayName:ut.displayName||null,photoURL:ut.photoUrl||null,email:ut.email||null,emailVerified:ut.emailVerified||!1,phoneNumber:ut.phoneNumber||null,tenantId:ut.tenantId||null,providerData:ht,metadata:new UserMetadata(ut.createdAt,ut.lastLoginAt),isAnonymous:mt};Object.assign(ot,gt)}async function reload(ot){const rt=getModularInstance(ot);await _reloadWithoutSaving(rt),await rt.auth._persistUserIfCurrent(rt),rt.auth._notifyListenersIfCurrent(rt)}function mergeProviderData(ot,rt){return[...ot.filter(lt=>!rt.some(ct=>ct.providerId===lt.providerId)),...rt]}function extractProviderData(ot){return ot.map(rt=>{var{providerId:at}=rt,lt=__rest(rt,["providerId"]);return{providerId:at,uid:lt.rawId||"",displayName:lt.displayName||null,email:lt.email||null,phoneNumber:lt.phoneNumber||null,photoURL:lt.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(ot,rt){const at=await _performFetchWithErrorHandling(ot,{},async()=>{const lt=querystring({grant_type:"refresh_token",refresh_token:rt}).slice(1),{tokenApiHost:ct,apiKey:ut}=ot.config,dt=_getFinalTarget(ot,ct,"/v1/token",`key=${ut}`),ht=await ot._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(dt,{method:"POST",headers:ht,body:lt})});return{accessToken:at.access_token,expiresIn:at.expires_in,refreshToken:at.refresh_token}}async function revokeToken(ot,rt){return _performApiRequest(ot,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(ot,rt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(rt){_assert(rt.idToken,"internal-error"),_assert(typeof rt.idToken<"u","internal-error"),_assert(typeof rt.refreshToken<"u","internal-error");const at="expiresIn"in rt&&typeof rt.expiresIn<"u"?Number(rt.expiresIn):_tokenExpiresIn(rt.idToken);this.updateTokensAndExpiration(rt.idToken,rt.refreshToken,at)}updateFromIdToken(rt){_assert(rt.length!==0,"internal-error");const at=_tokenExpiresIn(rt);this.updateTokensAndExpiration(rt,null,at)}async getToken(rt,at=!1){return!at&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,rt,"user-token-expired"),this.refreshToken?(await this.refresh(rt,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(rt,at){const{accessToken:lt,refreshToken:ct,expiresIn:ut}=await requestStsToken(rt,at);this.updateTokensAndExpiration(lt,ct,Number(ut))}updateTokensAndExpiration(rt,at,lt){this.refreshToken=at||null,this.accessToken=rt||null,this.expirationTime=Date.now()+lt*1e3}static fromJSON(rt,at){const{refreshToken:lt,accessToken:ct,expirationTime:ut}=at,dt=new StsTokenManager;return lt&&(_assert(typeof lt=="string","internal-error",{appName:rt}),dt.refreshToken=lt),ct&&(_assert(typeof ct=="string","internal-error",{appName:rt}),dt.accessToken=ct),ut&&(_assert(typeof ut=="number","internal-error",{appName:rt}),dt.expirationTime=ut),dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(rt){this.accessToken=rt.accessToken,this.refreshToken=rt.refreshToken,this.expirationTime=rt.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(ot,rt){_assert(typeof ot=="string"||typeof ot>"u","internal-error",{appName:rt})}class UserImpl{constructor(rt){var{uid:at,auth:lt,stsTokenManager:ct}=rt,ut=__rest(rt,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=at,this.auth=lt,this.stsTokenManager=ct,this.accessToken=ct.accessToken,this.displayName=ut.displayName||null,this.email=ut.email||null,this.emailVerified=ut.emailVerified||!1,this.phoneNumber=ut.phoneNumber||null,this.photoURL=ut.photoURL||null,this.isAnonymous=ut.isAnonymous||!1,this.tenantId=ut.tenantId||null,this.providerData=ut.providerData?[...ut.providerData]:[],this.metadata=new UserMetadata(ut.createdAt||void 0,ut.lastLoginAt||void 0)}async getIdToken(rt){const at=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,rt));return _assert(at,this.auth,"internal-error"),this.accessToken!==at&&(this.accessToken=at,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),at}getIdTokenResult(rt){return getIdTokenResult(this,rt)}reload(){return reload(this)}_assign(rt){this!==rt&&(_assert(this.uid===rt.uid,this.auth,"internal-error"),this.displayName=rt.displayName,this.photoURL=rt.photoURL,this.email=rt.email,this.emailVerified=rt.emailVerified,this.phoneNumber=rt.phoneNumber,this.isAnonymous=rt.isAnonymous,this.tenantId=rt.tenantId,this.providerData=rt.providerData.map(at=>Object.assign({},at)),this.metadata._copy(rt.metadata),this.stsTokenManager._assign(rt.stsTokenManager))}_clone(rt){const at=new UserImpl(Object.assign(Object.assign({},this),{auth:rt,stsTokenManager:this.stsTokenManager._clone()}));return at.metadata._copy(this.metadata),at}_onReload(rt){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=rt,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(rt){this.reloadListener?this.reloadListener(rt):this.reloadUserInfo=rt}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(rt,at=!1){let lt=!1;rt.idToken&&rt.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(rt),lt=!0),at&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),lt&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const rt=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:rt})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(rt=>Object.assign({},rt)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(rt,at){var lt,ct,ut,dt,ht,ft,pt,mt;const gt=(lt=at.displayName)!==null&&lt!==void 0?lt:void 0,yt=(ct=at.email)!==null&&ct!==void 0?ct:void 0,xt=(ut=at.phoneNumber)!==null&&ut!==void 0?ut:void 0,bt=(dt=at.photoURL)!==null&&dt!==void 0?dt:void 0,Et=(ht=at.tenantId)!==null&&ht!==void 0?ht:void 0,Rt=(ft=at._redirectEventId)!==null&&ft!==void 0?ft:void 0,wt=(pt=at.createdAt)!==null&&pt!==void 0?pt:void 0,_t=(mt=at.lastLoginAt)!==null&&mt!==void 0?mt:void 0,{uid:At,emailVerified:kt,isAnonymous:It,providerData:Nt,stsTokenManager:Pt}=at;_assert(At&&Pt,rt,"internal-error");const Tt=StsTokenManager.fromJSON(this.name,Pt);_assert(typeof At=="string",rt,"internal-error"),assertStringOrUndefined(gt,rt.name),assertStringOrUndefined(yt,rt.name),_assert(typeof kt=="boolean",rt,"internal-error"),_assert(typeof It=="boolean",rt,"internal-error"),assertStringOrUndefined(xt,rt.name),assertStringOrUndefined(bt,rt.name),assertStringOrUndefined(Et,rt.name),assertStringOrUndefined(Rt,rt.name),assertStringOrUndefined(wt,rt.name),assertStringOrUndefined(_t,rt.name);const Ct=new UserImpl({uid:At,auth:rt,email:yt,emailVerified:kt,displayName:gt,isAnonymous:It,photoURL:bt,phoneNumber:xt,tenantId:Et,stsTokenManager:Tt,createdAt:wt,lastLoginAt:_t});return Nt&&Array.isArray(Nt)&&(Ct.providerData=Nt.map(Ot=>Object.assign({},Ot))),Rt&&(Ct._redirectEventId=Rt),Ct}static async _fromIdTokenResponse(rt,at,lt=!1){const ct=new StsTokenManager;ct.updateFromServerResponse(at);const ut=new UserImpl({uid:at.localId,auth:rt,stsTokenManager:ct,isAnonymous:lt});return await _reloadWithoutSaving(ut),ut}static async _fromGetAccountInfoResponse(rt,at,lt){const ct=at.users[0];_assert(ct.localId!==void 0,"internal-error");const ut=ct.providerUserInfo!==void 0?extractProviderData(ct.providerUserInfo):[],dt=!(ct.email&&ct.passwordHash)&&!(ut!=null&&ut.length),ht=new StsTokenManager;ht.updateFromIdToken(lt);const ft=new UserImpl({uid:ct.localId,auth:rt,stsTokenManager:ht,isAnonymous:dt}),pt={uid:ct.localId,displayName:ct.displayName||null,photoURL:ct.photoUrl||null,email:ct.email||null,emailVerified:ct.emailVerified||!1,phoneNumber:ct.phoneNumber||null,tenantId:ct.tenantId||null,providerData:ut,metadata:new UserMetadata(ct.createdAt,ct.lastLoginAt),isAnonymous:!(ct.email&&ct.passwordHash)&&!(ut!=null&&ut.length)};return Object.assign(ft,pt),ft}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(ot){debugAssert(ot instanceof Function,"Expected a class definition");let rt=instanceCache.get(ot);return rt?(debugAssert(rt instanceof ot,"Instance stored in cache mismatched with class"),rt):(rt=new ot,instanceCache.set(ot,rt),rt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(rt,at){this.storage[rt]=at}async _get(rt){const at=this.storage[rt];return at===void 0?null:at}async _remove(rt){delete this.storage[rt]}_addListener(rt,at){}_removeListener(rt,at){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(ot,rt,at){return`firebase:${ot}:${rt}:${at}`}class PersistenceUserManager{constructor(rt,at,lt){this.persistence=rt,this.auth=at,this.userKey=lt;const{config:ct,name:ut}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,ct.apiKey,ut),this.fullPersistenceKey=_persistenceKeyName("persistence",ct.apiKey,ut),this.boundEventHandler=at._onStorageEvent.bind(at),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(rt){return this.persistence._set(this.fullUserKey,rt.toJSON())}async getCurrentUser(){const rt=await this.persistence._get(this.fullUserKey);return rt?UserImpl._fromJSON(this.auth,rt):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(rt){if(this.persistence===rt)return;const at=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=rt,at)return this.setCurrentUser(at)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(rt,at,lt="authUser"){if(!at.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),rt,lt);const ct=(await Promise.all(at.map(async pt=>{if(await pt._isAvailable())return pt}))).filter(pt=>pt);let ut=ct[0]||_getInstance(inMemoryPersistence);const dt=_persistenceKeyName(lt,rt.config.apiKey,rt.name);let ht=null;for(const pt of at)try{const mt=await pt._get(dt);if(mt){const gt=UserImpl._fromJSON(rt,mt);pt!==ut&&(ht=gt),ut=pt;break}}catch{}const ft=ct.filter(pt=>pt._shouldAllowMigration);return!ut._shouldAllowMigration||!ft.length?new PersistenceUserManager(ut,rt,lt):(ut=ft[0],ht&&await ut._set(dt,ht.toJSON()),await Promise.all(at.map(async pt=>{if(pt!==ut)try{await pt._remove(dt)}catch{}})),new PersistenceUserManager(ut,rt,lt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(ot){const rt=ot.toLowerCase();if(rt.includes("opera/")||rt.includes("opr/")||rt.includes("opios/"))return"Opera";if(_isIEMobile(rt))return"IEMobile";if(rt.includes("msie")||rt.includes("trident/"))return"IE";if(rt.includes("edge/"))return"Edge";if(_isFirefox(rt))return"Firefox";if(rt.includes("silk/"))return"Silk";if(_isBlackBerry(rt))return"Blackberry";if(_isWebOS(rt))return"Webos";if(_isSafari(rt))return"Safari";if((rt.includes("chrome/")||_isChromeIOS(rt))&&!rt.includes("edge/"))return"Chrome";if(_isAndroid(rt))return"Android";{const at=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,lt=ot.match(at);if((lt==null?void 0:lt.length)===2)return lt[1]}return"Other"}function _isFirefox(ot=getUA()){return/firefox\//i.test(ot)}function _isSafari(ot=getUA()){const rt=ot.toLowerCase();return rt.includes("safari/")&&!rt.includes("chrome/")&&!rt.includes("crios/")&&!rt.includes("android")}function _isChromeIOS(ot=getUA()){return/crios\//i.test(ot)}function _isIEMobile(ot=getUA()){return/iemobile/i.test(ot)}function _isAndroid(ot=getUA()){return/android/i.test(ot)}function _isBlackBerry(ot=getUA()){return/blackberry/i.test(ot)}function _isWebOS(ot=getUA()){return/webos/i.test(ot)}function _isIOS(ot=getUA()){return/iphone|ipad|ipod/i.test(ot)||/macintosh/i.test(ot)&&/mobile/i.test(ot)}function _isIOSStandalone(ot=getUA()){var rt;return _isIOS(ot)&&!!(!((rt=window.navigator)===null||rt===void 0)&&rt.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(ot=getUA()){return _isIOS(ot)||_isAndroid(ot)||_isWebOS(ot)||_isBlackBerry(ot)||/windows phone/i.test(ot)||_isIEMobile(ot)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(ot,rt=[]){let at;switch(ot){case"Browser":at=_getBrowserName(getUA());break;case"Worker":at=`${_getBrowserName(getUA())}-${ot}`;break;default:at=ot}const lt=rt.length?rt.join(","):"FirebaseCore-web";return`${at}/JsCore/${SDK_VERSION}/${lt}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(rt){this.auth=rt,this.queue=[]}pushCallback(rt,at){const lt=ut=>new Promise((dt,ht)=>{try{const ft=rt(ut);dt(ft)}catch(ft){ht(ft)}});lt.onAbort=at,this.queue.push(lt);const ct=this.queue.length-1;return()=>{this.queue[ct]=()=>Promise.resolve()}}async runMiddleware(rt){if(this.auth.currentUser===rt)return;const at=[];try{for(const lt of this.queue)await lt(rt),lt.onAbort&&at.push(lt.onAbort)}catch(lt){at.reverse();for(const ct of at)try{ct()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:lt==null?void 0:lt.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(ot,rt={}){return _performApiRequest(ot,"GET","/v2/passwordPolicy",_addTidIfNecessary(ot,rt))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(rt){var at,lt,ct,ut;const dt=rt.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(at=dt.minPasswordLength)!==null&&at!==void 0?at:MINIMUM_MIN_PASSWORD_LENGTH,dt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=dt.maxPasswordLength),dt.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=dt.containsLowercaseCharacter),dt.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=dt.containsUppercaseCharacter),dt.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=dt.containsNumericCharacter),dt.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=dt.containsNonAlphanumericCharacter),this.enforcementState=rt.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(ct=(lt=rt.allowedNonAlphanumericCharacters)===null||lt===void 0?void 0:lt.join(""))!==null&&ct!==void 0?ct:"",this.forceUpgradeOnSignin=(ut=rt.forceUpgradeOnSignin)!==null&&ut!==void 0?ut:!1,this.schemaVersion=rt.schemaVersion}validatePassword(rt){var at,lt,ct,ut,dt,ht;const ft={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(rt,ft),this.validatePasswordCharacterOptions(rt,ft),ft.isValid&&(ft.isValid=(at=ft.meetsMinPasswordLength)!==null&&at!==void 0?at:!0),ft.isValid&&(ft.isValid=(lt=ft.meetsMaxPasswordLength)!==null&&lt!==void 0?lt:!0),ft.isValid&&(ft.isValid=(ct=ft.containsLowercaseLetter)!==null&&ct!==void 0?ct:!0),ft.isValid&&(ft.isValid=(ut=ft.containsUppercaseLetter)!==null&&ut!==void 0?ut:!0),ft.isValid&&(ft.isValid=(dt=ft.containsNumericCharacter)!==null&&dt!==void 0?dt:!0),ft.isValid&&(ft.isValid=(ht=ft.containsNonAlphanumericCharacter)!==null&&ht!==void 0?ht:!0),ft}validatePasswordLengthOptions(rt,at){const lt=this.customStrengthOptions.minPasswordLength,ct=this.customStrengthOptions.maxPasswordLength;lt&&(at.meetsMinPasswordLength=rt.length>=lt),ct&&(at.meetsMaxPasswordLength=rt.length<=ct)}validatePasswordCharacterOptions(rt,at){this.updatePasswordCharacterOptionsStatuses(at,!1,!1,!1,!1);let lt;for(let ct=0;ct<rt.length;ct++)lt=rt.charAt(ct),this.updatePasswordCharacterOptionsStatuses(at,lt>="a"&&lt<="z",lt>="A"&&lt<="Z",lt>="0"&&lt<="9",this.allowedNonAlphanumericCharacters.includes(lt))}updatePasswordCharacterOptionsStatuses(rt,at,lt,ct,ut){this.customStrengthOptions.containsLowercaseLetter&&(rt.containsLowercaseLetter||(rt.containsLowercaseLetter=at)),this.customStrengthOptions.containsUppercaseLetter&&(rt.containsUppercaseLetter||(rt.containsUppercaseLetter=lt)),this.customStrengthOptions.containsNumericCharacter&&(rt.containsNumericCharacter||(rt.containsNumericCharacter=ct)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(rt.containsNonAlphanumericCharacter||(rt.containsNonAlphanumericCharacter=ut))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(rt,at,lt,ct){this.app=rt,this.heartbeatServiceProvider=at,this.appCheckServiceProvider=lt,this.config=ct,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=rt.name,this.clientVersion=ct.sdkClientVersion}_initializeWithPersistence(rt,at){return at&&(this._popupRedirectResolver=_getInstance(at)),this._initializationPromise=this.queue(async()=>{var lt,ct;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,rt),!this._deleted)){if(!((lt=this._popupRedirectResolver)===null||lt===void 0)&&lt._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(at),this.lastNotifiedUid=((ct=this.currentUser)===null||ct===void 0?void 0:ct.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const rt=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!rt)){if(this.currentUser&&rt&&this.currentUser.uid===rt.uid){this._currentUser._assign(rt),await this.currentUser.getIdToken();return}await this._updateCurrentUser(rt,!0)}}async initializeCurrentUserFromIdToken(rt){try{const at=await getAccountInfo(this,{idToken:rt}),lt=await UserImpl._fromGetAccountInfoResponse(this,at,rt);await this.directlySetCurrentUser(lt)}catch(at){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",at),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(rt){var at;if(_isFirebaseServerApp(this.app)){const dt=this.app.settings.authIdToken;return dt?new Promise(ht=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(dt).then(ht,ht))}):this.directlySetCurrentUser(null)}const lt=await this.assertedPersistence.getCurrentUser();let ct=lt,ut=!1;if(rt&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const dt=(at=this.redirectUser)===null||at===void 0?void 0:at._redirectEventId,ht=ct==null?void 0:ct._redirectEventId,ft=await this.tryRedirectSignIn(rt);(!dt||dt===ht)&&(ft!=null&&ft.user)&&(ct=ft.user,ut=!0)}if(!ct)return this.directlySetCurrentUser(null);if(!ct._redirectEventId){if(ut)try{await this.beforeStateQueue.runMiddleware(ct)}catch(dt){ct=lt,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(dt))}return ct?this.reloadAndSetCurrentUserOrClear(ct):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===ct._redirectEventId?this.directlySetCurrentUser(ct):this.reloadAndSetCurrentUserOrClear(ct)}async tryRedirectSignIn(rt){let at=null;try{at=await this._popupRedirectResolver._completeRedirectFn(this,rt,!0)}catch{await this._setRedirectUser(null)}return at}async reloadAndSetCurrentUserOrClear(rt){try{await _reloadWithoutSaving(rt)}catch(at){if((at==null?void 0:at.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(rt)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(rt){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const at=rt?getModularInstance(rt):null;return at&&_assert(at.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(at&&at._clone(this))}async _updateCurrentUser(rt,at=!1){if(!this._deleted)return rt&&_assert(this.tenantId===rt.tenantId,this,"tenant-id-mismatch"),at||await this.beforeStateQueue.runMiddleware(rt),this.queue(async()=>{await this.directlySetCurrentUser(rt),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(rt){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(rt))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(rt){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const at=this._getPasswordPolicyInternal();return at.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):at.validatePassword(rt)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const rt=await _getPasswordPolicy(this),at=new PasswordPolicyImpl(rt);this.tenantId===null?this._projectPasswordPolicy=at:this._tenantPasswordPolicies[this.tenantId]=at}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(rt){this._errorFactory=new ErrorFactory("auth","Firebase",rt())}onAuthStateChanged(rt,at,lt){return this.registerStateListener(this.authStateSubscription,rt,at,lt)}beforeAuthStateChanged(rt,at){return this.beforeStateQueue.pushCallback(rt,at)}onIdTokenChanged(rt,at,lt){return this.registerStateListener(this.idTokenSubscription,rt,at,lt)}authStateReady(){return new Promise((rt,at)=>{if(this.currentUser)rt();else{const lt=this.onAuthStateChanged(()=>{lt(),rt()},at)}})}async revokeAccessToken(rt){if(this.currentUser){const at=await this.currentUser.getIdToken(),lt={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:rt,idToken:at};this.tenantId!=null&&(lt.tenantId=this.tenantId),await revokeToken(this,lt)}}toJSON(){var rt;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(rt=this._currentUser)===null||rt===void 0?void 0:rt.toJSON()}}async _setRedirectUser(rt,at){const lt=await this.getOrInitRedirectPersistenceManager(at);return rt===null?lt.removeCurrentUser():lt.setCurrentUser(rt)}async getOrInitRedirectPersistenceManager(rt){if(!this.redirectPersistenceManager){const at=rt&&_getInstance(rt)||this._popupRedirectResolver;_assert(at,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(at._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(rt){var at,lt;return this._isInitialized&&await this.queue(async()=>{}),((at=this._currentUser)===null||at===void 0?void 0:at._redirectEventId)===rt?this._currentUser:((lt=this.redirectUser)===null||lt===void 0?void 0:lt._redirectEventId)===rt?this.redirectUser:null}async _persistUserIfCurrent(rt){if(rt===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(rt))}_notifyListenersIfCurrent(rt){rt===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var rt,at;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const lt=(at=(rt=this.currentUser)===null||rt===void 0?void 0:rt.uid)!==null&&at!==void 0?at:null;this.lastNotifiedUid!==lt&&(this.lastNotifiedUid=lt,this.authStateSubscription.next(this.currentUser))}registerStateListener(rt,at,lt,ct){if(this._deleted)return()=>{};const ut=typeof at=="function"?at:at.next.bind(at);let dt=!1;const ht=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(ht,this,"internal-error"),ht.then(()=>{dt||ut(this.currentUser)}),typeof at=="function"){const ft=rt.addObserver(at,lt,ct);return()=>{dt=!0,ft()}}else{const ft=rt.addObserver(at);return()=>{dt=!0,ft()}}}async directlySetCurrentUser(rt){this.currentUser&&this.currentUser!==rt&&this._currentUser._stopProactiveRefresh(),rt&&this.isProactiveRefreshEnabled&&rt._startProactiveRefresh(),this.currentUser=rt,rt?await this.assertedPersistence.setCurrentUser(rt):await this.assertedPersistence.removeCurrentUser()}queue(rt){return this.operations=this.operations.then(rt,rt),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(rt){!rt||this.frameworks.includes(rt)||(this.frameworks.push(rt),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var rt;const at={"X-Client-Version":this.clientVersion};this.app.options.appId&&(at["X-Firebase-gmpid"]=this.app.options.appId);const lt=await((rt=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||rt===void 0?void 0:rt.getHeartbeatsHeader());lt&&(at["X-Firebase-Client"]=lt);const ct=await this._getAppCheckToken();return ct&&(at["X-Firebase-AppCheck"]=ct),at}async _getAppCheckToken(){var rt;const at=await((rt=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||rt===void 0?void 0:rt.getToken());return at!=null&&at.error&&_logWarn(`Error while retrieving App Check token: ${at.error}`),at==null?void 0:at.token}}function _castAuth(ot){return getModularInstance(ot)}class Subscription{constructor(rt){this.auth=rt,this.observer=null,this.addObserver=createSubscribe(at=>this.observer=at)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(ot){externalJSProvider=ot}function _loadJS(ot){return externalJSProvider.loadJS(ot)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(ot){return`__${ot}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(rt){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(rt)}async verify(rt="verify",at=!1){async function lt(ut){if(!at){if(ut.tenantId==null&&ut._agentRecaptchaConfig!=null)return ut._agentRecaptchaConfig.siteKey;if(ut.tenantId!=null&&ut._tenantRecaptchaConfigs[ut.tenantId]!==void 0)return ut._tenantRecaptchaConfigs[ut.tenantId].siteKey}return new Promise(async(dt,ht)=>{getRecaptchaConfig(ut,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ft=>{if(ft.recaptchaKey===void 0)ht(new Error("recaptcha Enterprise site key undefined"));else{const pt=new RecaptchaConfig(ft);return ut.tenantId==null?ut._agentRecaptchaConfig=pt:ut._tenantRecaptchaConfigs[ut.tenantId]=pt,dt(pt.siteKey)}}).catch(ft=>{ht(ft)})})}function ct(ut,dt,ht){const ft=window.grecaptcha;isEnterprise(ft)?ft.enterprise.ready(()=>{ft.enterprise.execute(ut,{action:rt}).then(pt=>{dt(pt)}).catch(()=>{dt(FAKE_TOKEN)})}):ht(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ut,dt)=>{lt(this.auth).then(ht=>{if(!at&&isEnterprise(window.grecaptcha))ct(ht,ut,dt);else{if(typeof window>"u"){dt(new Error("RecaptchaVerifier is only supported in browser"));return}let ft=_recaptchaEnterpriseScriptUrl();ft.length!==0&&(ft+=ht),_loadJS(ft).then(()=>{ct(ht,ut,dt)}).catch(pt=>{dt(pt)})}}).catch(ht=>{dt(ht)})})}}async function injectRecaptchaFields(ot,rt,at,lt=!1){const ct=new RecaptchaEnterpriseVerifier(ot);let ut;try{ut=await ct.verify(at)}catch{ut=await ct.verify(at,!0)}const dt=Object.assign({},rt);return lt?Object.assign(dt,{captchaResp:ut}):Object.assign(dt,{captchaResponse:ut}),Object.assign(dt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(dt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),dt}async function handleRecaptchaFlow(ot,rt,at,lt){var ct;if(!((ct=ot._getRecaptchaConfig())===null||ct===void 0)&&ct.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ut=await injectRecaptchaFields(ot,rt,at,at==="getOobCode");return lt(ot,ut)}else return lt(ot,rt).catch(async ut=>{if(ut.code==="auth/missing-recaptcha-token"){console.log(`${at} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const dt=await injectRecaptchaFields(ot,rt,at,at==="getOobCode");return lt(ot,dt)}else return Promise.reject(ut)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(ot,rt){const at=_getProvider(ot,"auth");if(at.isInitialized()){const ct=at.getImmediate(),ut=at.getOptions();if(deepEqual$1(ut,rt??{}))return ct;_fail(ct,"already-initialized")}return at.initialize({options:rt})}function _initializeAuthInstance(ot,rt){const at=(rt==null?void 0:rt.persistence)||[],lt=(Array.isArray(at)?at:[at]).map(_getInstance);rt!=null&&rt.errorMap&&ot._updateErrorMap(rt.errorMap),ot._initializeWithPersistence(lt,rt==null?void 0:rt.popupRedirectResolver)}function connectAuthEmulator(ot,rt,at){const lt=_castAuth(ot);_assert(lt._canInitEmulator,lt,"emulator-config-failed"),_assert(/^https?:\/\//.test(rt),lt,"invalid-emulator-scheme");const ct=!1,ut=extractProtocol(rt),{host:dt,port:ht}=extractHostAndPort(rt),ft=ht===null?"":`:${ht}`;lt.config.emulator={url:`${ut}//${dt}${ft}/`},lt.settings.appVerificationDisabledForTesting=!0,lt.emulatorConfig=Object.freeze({host:dt,port:ht,protocol:ut.replace(":",""),options:Object.freeze({disableWarnings:ct})}),emitEmulatorWarning()}function extractProtocol(ot){const rt=ot.indexOf(":");return rt<0?"":ot.substr(0,rt+1)}function extractHostAndPort(ot){const rt=extractProtocol(ot),at=/(\/\/)?([^?#/]+)/.exec(ot.substr(rt.length));if(!at)return{host:"",port:null};const lt=at[2].split("@").pop()||"",ct=/^(\[[^\]]+\])(:|$)/.exec(lt);if(ct){const ut=ct[1];return{host:ut,port:parsePort(lt.substr(ut.length+1))}}else{const[ut,dt]=lt.split(":");return{host:ut,port:parsePort(dt)}}}function parsePort(ot){if(!ot)return null;const rt=Number(ot);return isNaN(rt)?null:rt}function emitEmulatorWarning(){function ot(){const rt=document.createElement("p"),at=rt.style;rt.innerText="Running in emulator mode. Do not use with production credentials.",at.position="fixed",at.width="100%",at.backgroundColor="#ffffff",at.border=".1em solid #000000",at.color="#b50000",at.bottom="0px",at.left="0px",at.margin="0px",at.zIndex="10000",at.textAlign="center",rt.classList.add("firebase-emulator-warning"),document.body.appendChild(rt)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",ot):ot())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(rt,at){this.providerId=rt,this.signInMethod=at}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(rt){return debugFail("not implemented")}_linkToIdToken(rt,at){return debugFail("not implemented")}_getReauthenticationResolver(rt){return debugFail("not implemented")}}async function linkEmailPassword(ot,rt){return _performApiRequest(ot,"POST","/v1/accounts:signUp",rt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(ot,rt){return _performSignInRequest(ot,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(ot,rt))}async function sendOobCode(ot,rt){return _performApiRequest(ot,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(ot,rt))}async function sendPasswordResetEmail$1(ot,rt){return sendOobCode(ot,rt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(ot,rt){return _performSignInRequest(ot,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(ot,rt))}async function signInWithEmailLinkForLinking(ot,rt){return _performSignInRequest(ot,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(ot,rt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(rt,at,lt,ct=null){super("password",lt),this._email=rt,this._password=at,this._tenantId=ct}static _fromEmailAndPassword(rt,at){return new EmailAuthCredential(rt,at,"password")}static _fromEmailAndCode(rt,at,lt=null){return new EmailAuthCredential(rt,at,"emailLink",lt)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(rt){const at=typeof rt=="string"?JSON.parse(rt):rt;if(at!=null&&at.email&&(at!=null&&at.password)){if(at.signInMethod==="password")return this._fromEmailAndPassword(at.email,at.password);if(at.signInMethod==="emailLink")return this._fromEmailAndCode(at.email,at.password,at.tenantId)}return null}async _getIdTokenResponse(rt){switch(this.signInMethod){case"password":const at={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(rt,at,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(rt,{email:this._email,oobCode:this._password});default:_fail(rt,"internal-error")}}async _linkToIdToken(rt,at){switch(this.signInMethod){case"password":const lt={idToken:at,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(rt,lt,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(rt,{idToken:at,email:this._email,oobCode:this._password});default:_fail(rt,"internal-error")}}_getReauthenticationResolver(rt){return this._getIdTokenResponse(rt)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(ot,rt){return _performSignInRequest(ot,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(ot,rt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(rt){const at=new OAuthCredential(rt.providerId,rt.signInMethod);return rt.idToken||rt.accessToken?(rt.idToken&&(at.idToken=rt.idToken),rt.accessToken&&(at.accessToken=rt.accessToken),rt.nonce&&!rt.pendingToken&&(at.nonce=rt.nonce),rt.pendingToken&&(at.pendingToken=rt.pendingToken)):rt.oauthToken&&rt.oauthTokenSecret?(at.accessToken=rt.oauthToken,at.secret=rt.oauthTokenSecret):_fail("argument-error"),at}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(rt){const at=typeof rt=="string"?JSON.parse(rt):rt,{providerId:lt,signInMethod:ct}=at,ut=__rest(at,["providerId","signInMethod"]);if(!lt||!ct)return null;const dt=new OAuthCredential(lt,ct);return dt.idToken=ut.idToken||void 0,dt.accessToken=ut.accessToken||void 0,dt.secret=ut.secret,dt.nonce=ut.nonce,dt.pendingToken=ut.pendingToken||null,dt}_getIdTokenResponse(rt){const at=this.buildRequest();return signInWithIdp(rt,at)}_linkToIdToken(rt,at){const lt=this.buildRequest();return lt.idToken=at,signInWithIdp(rt,lt)}_getReauthenticationResolver(rt){const at=this.buildRequest();return at.autoCreate=!1,signInWithIdp(rt,at)}buildRequest(){const rt={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)rt.pendingToken=this.pendingToken;else{const at={};this.idToken&&(at.id_token=this.idToken),this.accessToken&&(at.access_token=this.accessToken),this.secret&&(at.oauth_token_secret=this.secret),at.providerId=this.providerId,this.nonce&&!this.pendingToken&&(at.nonce=this.nonce),rt.postBody=querystring(at)}return rt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(ot){switch(ot){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(ot){const rt=querystringDecode(extractQuerystring(ot)).link,at=rt?querystringDecode(extractQuerystring(rt)).deep_link_id:null,lt=querystringDecode(extractQuerystring(ot)).deep_link_id;return(lt?querystringDecode(extractQuerystring(lt)).link:null)||lt||at||rt||ot}class ActionCodeURL{constructor(rt){var at,lt,ct,ut,dt,ht;const ft=querystringDecode(extractQuerystring(rt)),pt=(at=ft.apiKey)!==null&&at!==void 0?at:null,mt=(lt=ft.oobCode)!==null&&lt!==void 0?lt:null,gt=parseMode((ct=ft.mode)!==null&&ct!==void 0?ct:null);_assert(pt&&mt&&gt,"argument-error"),this.apiKey=pt,this.operation=gt,this.code=mt,this.continueUrl=(ut=ft.continueUrl)!==null&&ut!==void 0?ut:null,this.languageCode=(dt=ft.languageCode)!==null&&dt!==void 0?dt:null,this.tenantId=(ht=ft.tenantId)!==null&&ht!==void 0?ht:null}static parseLink(rt){const at=parseDeepLink(rt);try{return new ActionCodeURL(at)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(rt,at){return EmailAuthCredential._fromEmailAndPassword(rt,at)}static credentialWithLink(rt,at){const lt=ActionCodeURL.parseLink(at);return _assert(lt,"argument-error"),EmailAuthCredential._fromEmailAndCode(rt,lt.code,lt.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(rt){this.providerId=rt,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(rt){this.defaultLanguageCode=rt}setCustomParameters(rt){return this.customParameters=rt,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(rt){return this.scopes.includes(rt)||this.scopes.push(rt),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(rt){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:rt})}static credentialFromResult(rt){return FacebookAuthProvider.credentialFromTaggedObject(rt)}static credentialFromError(rt){return FacebookAuthProvider.credentialFromTaggedObject(rt.customData||{})}static credentialFromTaggedObject({_tokenResponse:rt}){if(!rt||!("oauthAccessToken"in rt)||!rt.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(rt.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(rt,at){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:rt,accessToken:at})}static credentialFromResult(rt){return GoogleAuthProvider.credentialFromTaggedObject(rt)}static credentialFromError(rt){return GoogleAuthProvider.credentialFromTaggedObject(rt.customData||{})}static credentialFromTaggedObject({_tokenResponse:rt}){if(!rt)return null;const{oauthIdToken:at,oauthAccessToken:lt}=rt;if(!at&&!lt)return null;try{return GoogleAuthProvider.credential(at,lt)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(rt){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:rt})}static credentialFromResult(rt){return GithubAuthProvider.credentialFromTaggedObject(rt)}static credentialFromError(rt){return GithubAuthProvider.credentialFromTaggedObject(rt.customData||{})}static credentialFromTaggedObject({_tokenResponse:rt}){if(!rt||!("oauthAccessToken"in rt)||!rt.oauthAccessToken)return null;try{return GithubAuthProvider.credential(rt.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(rt,at){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:rt,oauthTokenSecret:at})}static credentialFromResult(rt){return TwitterAuthProvider.credentialFromTaggedObject(rt)}static credentialFromError(rt){return TwitterAuthProvider.credentialFromTaggedObject(rt.customData||{})}static credentialFromTaggedObject({_tokenResponse:rt}){if(!rt)return null;const{oauthAccessToken:at,oauthTokenSecret:lt}=rt;if(!at||!lt)return null;try{return TwitterAuthProvider.credential(at,lt)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(rt){this.user=rt.user,this.providerId=rt.providerId,this._tokenResponse=rt._tokenResponse,this.operationType=rt.operationType}static async _fromIdTokenResponse(rt,at,lt,ct=!1){const ut=await UserImpl._fromIdTokenResponse(rt,lt,ct),dt=providerIdForResponse(lt);return new UserCredentialImpl({user:ut,providerId:dt,_tokenResponse:lt,operationType:at})}static async _forOperation(rt,at,lt){await rt._updateTokensIfNecessary(lt,!0);const ct=providerIdForResponse(lt);return new UserCredentialImpl({user:rt,providerId:ct,_tokenResponse:lt,operationType:at})}}function providerIdForResponse(ot){return ot.providerId?ot.providerId:"phoneNumber"in ot?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(rt,at,lt,ct){var ut;super(at.code,at.message),this.operationType=lt,this.user=ct,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:rt.name,tenantId:(ut=rt.tenantId)!==null&&ut!==void 0?ut:void 0,_serverResponse:at.customData._serverResponse,operationType:lt}}static _fromErrorAndOperation(rt,at,lt,ct){return new MultiFactorError(rt,at,lt,ct)}}function _processCredentialSavingMfaContextIfNecessary(ot,rt,at,lt){return(rt==="reauthenticate"?at._getReauthenticationResolver(ot):at._getIdTokenResponse(ot)).catch(ut=>{throw ut.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(ot,ut,rt,lt):ut})}async function _link$1(ot,rt,at=!1){const lt=await _logoutIfInvalidated(ot,rt._linkToIdToken(ot.auth,await ot.getIdToken()),at);return UserCredentialImpl._forOperation(ot,"link",lt)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(ot,rt,at=!1){const{auth:lt}=ot;if(_isFirebaseServerApp(lt.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(lt));const ct="reauthenticate";try{const ut=await _logoutIfInvalidated(ot,_processCredentialSavingMfaContextIfNecessary(lt,ct,rt,ot),at);_assert(ut.idToken,lt,"internal-error");const dt=_parseToken(ut.idToken);_assert(dt,lt,"internal-error");const{sub:ht}=dt;return _assert(ot.uid===ht,lt,"user-mismatch"),UserCredentialImpl._forOperation(ot,ct,ut)}catch(ut){throw(ut==null?void 0:ut.code)==="auth/user-not-found"&&_fail(lt,"user-mismatch"),ut}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(ot,rt,at=!1){if(_isFirebaseServerApp(ot.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(ot));const lt="signIn",ct=await _processCredentialSavingMfaContextIfNecessary(ot,lt,rt),ut=await UserCredentialImpl._fromIdTokenResponse(ot,lt,ct);return at||await ot._updateCurrentUser(ut.user),ut}async function signInWithCredential(ot,rt){return _signInWithCredential(_castAuth(ot),rt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(ot){const rt=_castAuth(ot);rt._getPasswordPolicyInternal()&&await rt._updatePasswordPolicy()}async function sendPasswordResetEmail(ot,rt,at){const lt=_castAuth(ot);await handleRecaptchaFlow(lt,{requestType:"PASSWORD_RESET",email:rt,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sendPasswordResetEmail$1)}function signInWithEmailAndPassword(ot,rt,at){return _isFirebaseServerApp(ot.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(ot)):signInWithCredential(getModularInstance(ot),EmailAuthProvider.credential(rt,at)).catch(async lt=>{throw lt.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(ot),lt})}function onIdTokenChanged(ot,rt,at,lt){return getModularInstance(ot).onIdTokenChanged(rt,at,lt)}function beforeAuthStateChanged(ot,rt,at){return getModularInstance(ot).beforeAuthStateChanged(rt,at)}function onAuthStateChanged(ot,rt,at,lt){return getModularInstance(ot).onAuthStateChanged(rt,at,lt)}function signOut(ot){return getModularInstance(ot).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(rt,at){this.storageRetriever=rt,this.type=at}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(rt,at){return this.storage.setItem(rt,JSON.stringify(at)),Promise.resolve()}_get(rt){const at=this.storage.getItem(rt);return Promise.resolve(at?JSON.parse(at):null)}_remove(rt){return this.storage.removeItem(rt),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const ot=getUA();return _isSafari(ot)||_isIOS(ot)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(rt,at)=>this.onStorageEvent(rt,at),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(rt){for(const at of Object.keys(this.listeners)){const lt=this.storage.getItem(at),ct=this.localCache[at];lt!==ct&&rt(at,ct,lt)}}onStorageEvent(rt,at=!1){if(!rt.key){this.forAllChangedKeys((dt,ht,ft)=>{this.notifyListeners(dt,ft)});return}const lt=rt.key;if(at?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(lt);if(rt.newValue!==dt)rt.newValue!==null?this.storage.setItem(lt,rt.newValue):this.storage.removeItem(lt);else if(this.localCache[lt]===rt.newValue&&!at)return}const ct=()=>{const dt=this.storage.getItem(lt);!at&&this.localCache[lt]===dt||this.notifyListeners(lt,dt)},ut=this.storage.getItem(lt);_isIE10()&&ut!==rt.newValue&&rt.newValue!==rt.oldValue?setTimeout(ct,IE10_LOCAL_STORAGE_SYNC_DELAY):ct()}notifyListeners(rt,at){this.localCache[rt]=at;const lt=this.listeners[rt];if(lt)for(const ct of Array.from(lt))ct(at&&JSON.parse(at))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((rt,at,lt)=>{this.onStorageEvent(new StorageEvent("storage",{key:rt,oldValue:at,newValue:lt}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(rt,at){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[rt]||(this.listeners[rt]=new Set,this.localCache[rt]=this.storage.getItem(rt)),this.listeners[rt].add(at)}_removeListener(rt,at){this.listeners[rt]&&(this.listeners[rt].delete(at),this.listeners[rt].size===0&&delete this.listeners[rt]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(rt,at){await super._set(rt,at),this.localCache[rt]=JSON.stringify(at)}async _get(rt){const at=await super._get(rt);return this.localCache[rt]=JSON.stringify(at),at}async _remove(rt){await super._remove(rt),delete this.localCache[rt]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(rt,at){}_removeListener(rt,at){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(ot){return Promise.all(ot.map(async rt=>{try{return{fulfilled:!0,value:await rt}}catch(at){return{fulfilled:!1,reason:at}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(rt){this.eventTarget=rt,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(rt){const at=this.receivers.find(ct=>ct.isListeningto(rt));if(at)return at;const lt=new Receiver(rt);return this.receivers.push(lt),lt}isListeningto(rt){return this.eventTarget===rt}async handleEvent(rt){const at=rt,{eventId:lt,eventType:ct,data:ut}=at.data,dt=this.handlersMap[ct];if(!(dt!=null&&dt.size))return;at.ports[0].postMessage({status:"ack",eventId:lt,eventType:ct});const ht=Array.from(dt).map(async pt=>pt(at.origin,ut)),ft=await _allSettled(ht);at.ports[0].postMessage({status:"done",eventId:lt,eventType:ct,response:ft})}_subscribe(rt,at){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[rt]||(this.handlersMap[rt]=new Set),this.handlersMap[rt].add(at)}_unsubscribe(rt,at){this.handlersMap[rt]&&at&&this.handlersMap[rt].delete(at),(!at||this.handlersMap[rt].size===0)&&delete this.handlersMap[rt],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(ot="",rt=10){let at="";for(let lt=0;lt<rt;lt++)at+=Math.floor(Math.random()*10);return ot+at}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(rt){this.target=rt,this.handlers=new Set}removeMessageHandler(rt){rt.messageChannel&&(rt.messageChannel.port1.removeEventListener("message",rt.onMessage),rt.messageChannel.port1.close()),this.handlers.delete(rt)}async _send(rt,at,lt=50){const ct=typeof MessageChannel<"u"?new MessageChannel:null;if(!ct)throw new Error("connection_unavailable");let ut,dt;return new Promise((ht,ft)=>{const pt=_generateEventId("",20);ct.port1.start();const mt=setTimeout(()=>{ft(new Error("unsupported_event"))},lt);dt={messageChannel:ct,onMessage(gt){const yt=gt;if(yt.data.eventId===pt)switch(yt.data.status){case"ack":clearTimeout(mt),ut=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(ut),ht(yt.data.response);break;default:clearTimeout(mt),clearTimeout(ut),ft(new Error("invalid_response"));break}}},this.handlers.add(dt),ct.port1.addEventListener("message",dt.onMessage),this.target.postMessage({eventType:rt,eventId:pt,data:at},[ct.port2])}).finally(()=>{dt&&this.removeMessageHandler(dt)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(ot){_window().location.href=ot}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var ot;return((ot=navigator==null?void 0:navigator.serviceWorker)===null||ot===void 0?void 0:ot.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(rt){this.request=rt}toPromise(){return new Promise((rt,at)=>{this.request.addEventListener("success",()=>{rt(this.request.result)}),this.request.addEventListener("error",()=>{at(this.request.error)})})}}function getObjectStore(ot,rt){return ot.transaction([DB_OBJECTSTORE_NAME],rt?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const ot=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(ot).toPromise()}function _openDatabase(){const ot=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((rt,at)=>{ot.addEventListener("error",()=>{at(ot.error)}),ot.addEventListener("upgradeneeded",()=>{const lt=ot.result;try{lt.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(ct){at(ct)}}),ot.addEventListener("success",async()=>{const lt=ot.result;lt.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?rt(lt):(lt.close(),await _deleteDatabase(),rt(await _openDatabase()))})})}async function _putObject(ot,rt,at){const lt=getObjectStore(ot,!0).put({[DB_DATA_KEYPATH]:rt,value:at});return new DBPromise(lt).toPromise()}async function getObject(ot,rt){const at=getObjectStore(ot,!1).get(rt),lt=await new DBPromise(at).toPromise();return lt===void 0?null:lt.value}function _deleteObject(ot,rt){const at=getObjectStore(ot,!0).delete(rt);return new DBPromise(at).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(rt){let at=0;for(;;)try{const lt=await this._openDb();return await rt(lt)}catch(lt){if(at++>_TRANSACTION_RETRY_COUNT)throw lt;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(rt,at)=>({keyProcessed:(await this._poll()).includes(at.key)})),this.receiver._subscribe("ping",async(rt,at)=>["keyChanged"])}async initializeSender(){var rt,at;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const lt=await this.sender._send("ping",{},800);lt&&!((rt=lt[0])===null||rt===void 0)&&rt.fulfilled&&!((at=lt[0])===null||at===void 0)&&at.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(rt){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:rt},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const rt=await _openDatabase();return await _putObject(rt,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(rt,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(rt){this.pendingWrites++;try{await rt()}finally{this.pendingWrites--}}async _set(rt,at){return this._withPendingWrite(async()=>(await this._withRetries(lt=>_putObject(lt,rt,at)),this.localCache[rt]=at,this.notifyServiceWorker(rt)))}async _get(rt){const at=await this._withRetries(lt=>getObject(lt,rt));return this.localCache[rt]=at,at}async _remove(rt){return this._withPendingWrite(async()=>(await this._withRetries(at=>_deleteObject(at,rt)),delete this.localCache[rt],this.notifyServiceWorker(rt)))}async _poll(){const rt=await this._withRetries(ct=>{const ut=getObjectStore(ct,!1).getAll();return new DBPromise(ut).toPromise()});if(!rt)return[];if(this.pendingWrites!==0)return[];const at=[],lt=new Set;if(rt.length!==0)for(const{fbase_key:ct,value:ut}of rt)lt.add(ct),JSON.stringify(this.localCache[ct])!==JSON.stringify(ut)&&(this.notifyListeners(ct,ut),at.push(ct));for(const ct of Object.keys(this.localCache))this.localCache[ct]&&!lt.has(ct)&&(this.notifyListeners(ct,null),at.push(ct));return at}notifyListeners(rt,at){this.localCache[rt]=at;const lt=this.listeners[rt];if(lt)for(const ct of Array.from(lt))ct(at)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(rt,at){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[rt]||(this.listeners[rt]=new Set,this._get(rt)),this.listeners[rt].add(at)}_removeListener(rt,at){this.listeners[rt]&&(this.listeners[rt].delete(at),this.listeners[rt].size===0&&delete this.listeners[rt]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(ot,rt){return rt?_getInstance(rt):(_assert(ot._popupRedirectResolver,ot,"argument-error"),ot._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(rt){super("custom","custom"),this.params=rt}_getIdTokenResponse(rt){return signInWithIdp(rt,this._buildIdpRequest())}_linkToIdToken(rt,at){return signInWithIdp(rt,this._buildIdpRequest(at))}_getReauthenticationResolver(rt){return signInWithIdp(rt,this._buildIdpRequest())}_buildIdpRequest(rt){const at={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return rt&&(at.idToken=rt),at}}function _signIn(ot){return _signInWithCredential(ot.auth,new IdpCredential(ot),ot.bypassAuthState)}function _reauth(ot){const{auth:rt,user:at}=ot;return _assert(at,rt,"internal-error"),_reauthenticate(at,new IdpCredential(ot),ot.bypassAuthState)}async function _link(ot){const{auth:rt,user:at}=ot;return _assert(at,rt,"internal-error"),_link$1(at,new IdpCredential(ot),ot.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(rt,at,lt,ct,ut=!1){this.auth=rt,this.resolver=lt,this.user=ct,this.bypassAuthState=ut,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(at)?at:[at]}execute(){return new Promise(async(rt,at)=>{this.pendingPromise={resolve:rt,reject:at};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(lt){this.reject(lt)}})}async onAuthEvent(rt){const{urlResponse:at,sessionId:lt,postBody:ct,tenantId:ut,error:dt,type:ht}=rt;if(dt){this.reject(dt);return}const ft={auth:this.auth,requestUri:at,sessionId:lt,tenantId:ut||void 0,postBody:ct||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(ht)(ft))}catch(pt){this.reject(pt)}}onError(rt){this.reject(rt)}getIdpTask(rt){switch(rt){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(rt){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(rt),this.unregisterAndCleanUp()}reject(rt){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(rt),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(rt,at,lt,ct,ut){super(rt,at,ct,ut),this.provider=lt,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const rt=await this.execute();return _assert(rt,this.auth,"internal-error"),rt}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const rt=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],rt),this.authWindow.associatedEvent=rt,this.resolver._originValidation(this.auth).catch(at=>{this.reject(at)}),this.resolver._isIframeWebStorageSupported(this.auth,at=>{at||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var rt;return((rt=this.authWindow)===null||rt===void 0?void 0:rt.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const rt=()=>{var at,lt;if(!((lt=(at=this.authWindow)===null||at===void 0?void 0:at.window)===null||lt===void 0)&&lt.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(rt,_POLL_WINDOW_CLOSE_TIMEOUT.get())};rt()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(rt,at,lt=!1){super(rt,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],at,void 0,lt),this.eventId=null}async execute(){let rt=redirectOutcomeMap.get(this.auth._key());if(!rt){try{const lt=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;rt=()=>Promise.resolve(lt)}catch(at){rt=()=>Promise.reject(at)}redirectOutcomeMap.set(this.auth._key(),rt)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),rt()}async onAuthEvent(rt){if(rt.type==="signInViaRedirect")return super.onAuthEvent(rt);if(rt.type==="unknown"){this.resolve(null);return}if(rt.eventId){const at=await this.auth._redirectUserForId(rt.eventId);if(at)return this.user=at,super.onAuthEvent(rt);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(ot,rt){const at=pendingRedirectKey(rt),lt=resolverPersistence(ot);if(!await lt._isAvailable())return!1;const ct=await lt._get(at)==="true";return await lt._remove(at),ct}function _overrideRedirectResult(ot,rt){redirectOutcomeMap.set(ot._key(),rt)}function resolverPersistence(ot){return _getInstance(ot._redirectPersistence)}function pendingRedirectKey(ot){return _persistenceKeyName(PENDING_REDIRECT_KEY,ot.config.apiKey,ot.name)}async function _getRedirectResult(ot,rt,at=!1){if(_isFirebaseServerApp(ot.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(ot));const lt=_castAuth(ot),ct=_withDefaultResolver(lt,rt),dt=await new RedirectAction(lt,ct,at).execute();return dt&&!at&&(delete dt.user._redirectEventId,await lt._persistUserIfCurrent(dt.user),await lt._setRedirectUser(null,rt)),dt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(rt){this.auth=rt,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(rt){this.consumers.add(rt),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,rt)&&(this.sendToConsumer(this.queuedRedirectEvent,rt),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(rt){this.consumers.delete(rt)}onEvent(rt){if(this.hasEventBeenHandled(rt))return!1;let at=!1;return this.consumers.forEach(lt=>{this.isEventForConsumer(rt,lt)&&(at=!0,this.sendToConsumer(rt,lt),this.saveEventToCache(rt))}),this.hasHandledPotentialRedirect||!isRedirectEvent(rt)||(this.hasHandledPotentialRedirect=!0,at||(this.queuedRedirectEvent=rt,at=!0)),at}sendToConsumer(rt,at){var lt;if(rt.error&&!isNullRedirectEvent(rt)){const ct=((lt=rt.error.code)===null||lt===void 0?void 0:lt.split("auth/")[1])||"internal-error";at.onError(_createError(this.auth,ct))}else at.onAuthEvent(rt)}isEventForConsumer(rt,at){const lt=at.eventId===null||!!rt.eventId&&rt.eventId===at.eventId;return at.filter.includes(rt.type)&&lt}hasEventBeenHandled(rt){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(rt))}saveEventToCache(rt){this.cachedEventUids.add(eventUid(rt)),this.lastProcessedEventTime=Date.now()}}function eventUid(ot){return[ot.type,ot.eventId,ot.sessionId,ot.tenantId].filter(rt=>rt).join("-")}function isNullRedirectEvent({type:ot,error:rt}){return ot==="unknown"&&(rt==null?void 0:rt.code)==="auth/no-auth-event"}function isRedirectEvent(ot){switch(ot.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(ot);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(ot,rt={}){return _performApiRequest(ot,"GET","/v1/projects",rt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(ot){if(ot.config.emulator)return;const{authorizedDomains:rt}=await _getProjectConfig(ot);for(const at of rt)try{if(matchDomain(at))return}catch{}_fail(ot,"unauthorized-domain")}function matchDomain(ot){const rt=_getCurrentUrl(),{protocol:at,hostname:lt}=new URL(rt);if(ot.startsWith("chrome-extension://")){const dt=new URL(ot);return dt.hostname===""&&lt===""?at==="chrome-extension:"&&ot.replace("chrome-extension://","")===rt.replace("chrome-extension://",""):at==="chrome-extension:"&&dt.hostname===lt}if(!HTTP_REGEX.test(at))return!1;if(IP_ADDRESS_REGEX.test(ot))return lt===ot;const ct=ot.replace(/\./g,"\\.");return new RegExp("^(.+\\."+ct+"|"+ct+")$","i").test(lt)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const ot=_window().___jsl;if(ot!=null&&ot.H){for(const rt of Object.keys(ot.H))if(ot.H[rt].r=ot.H[rt].r||[],ot.H[rt].L=ot.H[rt].L||[],ot.H[rt].r=[...ot.H[rt].L],ot.CP)for(let at=0;at<ot.CP.length;at++)ot.CP[at]=null}}function loadGapi(ot){return new Promise((rt,at)=>{var lt,ct,ut;function dt(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{rt(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),at(_createError(ot,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((ct=(lt=_window().gapi)===null||lt===void 0?void 0:lt.iframes)===null||ct===void 0)&&ct.Iframe)rt(gapi.iframes.getContext());else if(!((ut=_window().gapi)===null||ut===void 0)&&ut.load)dt();else{const ht=_generateCallbackName("iframefcb");return _window()[ht]=()=>{gapi.load?dt():at(_createError(ot,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${ht}`).catch(ft=>at(ft))}}).catch(rt=>{throw cachedGApiLoader=null,rt})}let cachedGApiLoader=null;function _loadGapi(ot){return cachedGApiLoader=cachedGApiLoader||loadGapi(ot),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(ot){const rt=ot.config;_assert(rt.authDomain,ot,"auth-domain-config-required");const at=rt.emulator?_emulatorUrl(rt,EMULATED_IFRAME_PATH):`https://${ot.config.authDomain}/${IFRAME_PATH}`,lt={apiKey:rt.apiKey,appName:ot.name,v:SDK_VERSION},ct=EID_FROM_APIHOST.get(ot.config.apiHost);ct&&(lt.eid=ct);const ut=ot._getFrameworks();return ut.length&&(lt.fw=ut.join(",")),`${at}?${querystring(lt).slice(1)}`}async function _openIframe(ot){const rt=await _loadGapi(ot),at=_window().gapi;return _assert(at,ot,"internal-error"),rt.open({where:document.body,url:getIframeUrl(ot),messageHandlersFilter:at.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},lt=>new Promise(async(ct,ut)=>{await lt.restyle({setHideOnLeave:!1});const dt=_createError(ot,"network-request-failed"),ht=_window().setTimeout(()=>{ut(dt)},PING_TIMEOUT.get());function ft(){_window().clearTimeout(ht),ct(lt)}lt.ping(ft).then(ft,()=>{ut(dt)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(rt){this.window=rt,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(ot,rt,at,lt=DEFAULT_WIDTH,ct=DEFAULT_HEIGHT){const ut=Math.max((window.screen.availHeight-ct)/2,0).toString(),dt=Math.max((window.screen.availWidth-lt)/2,0).toString();let ht="";const ft=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:lt.toString(),height:ct.toString(),top:ut,left:dt}),pt=getUA().toLowerCase();at&&(ht=_isChromeIOS(pt)?TARGET_BLANK:at),_isFirefox(pt)&&(rt=rt||FIREFOX_EMPTY_URL,ft.scrollbars="yes");const mt=Object.entries(ft).reduce((yt,[xt,bt])=>`${yt}${xt}=${bt},`,"");if(_isIOSStandalone(pt)&&ht!=="_self")return openAsNewWindowIOS(rt||"",ht),new AuthPopup(null);const gt=window.open(rt||"",ht,mt);_assert(gt,ot,"popup-blocked");try{gt.focus()}catch{}return new AuthPopup(gt)}function openAsNewWindowIOS(ot,rt){const at=document.createElement("a");at.href=ot,at.target=rt;const lt=document.createEvent("MouseEvent");lt.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),at.dispatchEvent(lt)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(ot,rt,at,lt,ct,ut){_assert(ot.config.authDomain,ot,"auth-domain-config-required"),_assert(ot.config.apiKey,ot,"invalid-api-key");const dt={apiKey:ot.config.apiKey,appName:ot.name,authType:at,redirectUrl:lt,v:SDK_VERSION,eventId:ct};if(rt instanceof FederatedAuthProvider){rt.setDefaultLanguage(ot.languageCode),dt.providerId=rt.providerId||"",isEmpty$1(rt.getCustomParameters())||(dt.customParameters=JSON.stringify(rt.getCustomParameters()));for(const[mt,gt]of Object.entries({}))dt[mt]=gt}if(rt instanceof BaseOAuthProvider){const mt=rt.getScopes().filter(gt=>gt!=="");mt.length>0&&(dt.scopes=mt.join(","))}ot.tenantId&&(dt.tid=ot.tenantId);const ht=dt;for(const mt of Object.keys(ht))ht[mt]===void 0&&delete ht[mt];const ft=await ot._getAppCheckToken(),pt=ft?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(ft)}`:"";return`${getHandlerBase(ot)}?${querystring(ht).slice(1)}${pt}`}function getHandlerBase({config:ot}){return ot.emulator?_emulatorUrl(ot,EMULATOR_WIDGET_PATH):`https://${ot.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(rt,at,lt,ct){var ut;debugAssert((ut=this.eventManagers[rt._key()])===null||ut===void 0?void 0:ut.manager,"_initialize() not called before _openPopup()");const dt=await _getRedirectUrl(rt,at,lt,_getCurrentUrl(),ct);return _open(rt,dt,_generateEventId())}async _openRedirect(rt,at,lt,ct){await this._originValidation(rt);const ut=await _getRedirectUrl(rt,at,lt,_getCurrentUrl(),ct);return _setWindowLocation(ut),new Promise(()=>{})}_initialize(rt){const at=rt._key();if(this.eventManagers[at]){const{manager:ct,promise:ut}=this.eventManagers[at];return ct?Promise.resolve(ct):(debugAssert(ut,"If manager is not set, promise should be"),ut)}const lt=this.initAndGetManager(rt);return this.eventManagers[at]={promise:lt},lt.catch(()=>{delete this.eventManagers[at]}),lt}async initAndGetManager(rt){const at=await _openIframe(rt),lt=new AuthEventManager(rt);return at.register("authEvent",ct=>(_assert(ct==null?void 0:ct.authEvent,rt,"invalid-auth-event"),{status:lt.onEvent(ct.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[rt._key()]={manager:lt},this.iframes[rt._key()]=at,lt}_isIframeWebStorageSupported(rt,at){this.iframes[rt._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},ct=>{var ut;const dt=(ut=ct==null?void 0:ct[0])===null||ut===void 0?void 0:ut[WEB_STORAGE_SUPPORT_KEY];dt!==void 0&&at(!!dt),_fail(rt,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(rt){const at=rt._key();return this.originValidationPromises[at]||(this.originValidationPromises[at]=_validateOrigin(rt)),this.originValidationPromises[at]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$2="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(rt){this.auth=rt,this.internalListeners=new Map}getUid(){var rt;return this.assertAuthConfigured(),((rt=this.auth.currentUser)===null||rt===void 0?void 0:rt.uid)||null}async getToken(rt){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(rt)}:null}addAuthTokenListener(rt){if(this.assertAuthConfigured(),this.internalListeners.has(rt))return;const at=this.auth.onIdTokenChanged(lt=>{rt((lt==null?void 0:lt.stsTokenManager.accessToken)||null)});this.internalListeners.set(rt,at),this.updateProactiveRefresh()}removeAuthTokenListener(rt){this.assertAuthConfigured();const at=this.internalListeners.get(rt);at&&(this.internalListeners.delete(rt),at(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(ot){switch(ot){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(ot){_registerComponent(new Component("auth",(rt,{options:at})=>{const lt=rt.getProvider("app").getImmediate(),ct=rt.getProvider("heartbeat"),ut=rt.getProvider("app-check-internal"),{apiKey:dt,authDomain:ht}=lt.options;_assert(dt&&!dt.includes(":"),"invalid-api-key",{appName:lt.name});const ft={apiKey:dt,authDomain:ht,clientPlatform:ot,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(ot)},pt=new AuthImpl(lt,ct,ut,ft);return _initializeAuthInstance(pt,at),pt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((rt,at,lt)=>{rt.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",rt=>{const at=_castAuth(rt.getProvider("auth").getImmediate());return(lt=>new AuthInterop(lt))(at)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$2,getVersionForPlatform(ot)),registerVersion(name$2,version$2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=ot=>async rt=>{const at=rt&&await rt.getIdTokenResult(),lt=at&&(new Date().getTime()-Date.parse(at.issuedAtTime))/1e3;if(lt&&lt>authIdTokenMaxAge)return;const ct=at==null?void 0:at.token;lastPostedIdToken!==ct&&(lastPostedIdToken=ct,await fetch(ot,{method:ct?"POST":"DELETE",headers:ct?{Authorization:`Bearer ${ct}`}:{}}))};function getAuth(ot=getApp()){const rt=_getProvider(ot,"auth");if(rt.isInitialized())return rt.getImmediate();const at=initializeAuth(ot,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),lt=getExperimentalSetting("authTokenSyncURL");if(lt&&typeof isSecureContext=="boolean"&&isSecureContext){const ut=new URL(lt,location.origin);if(location.origin===ut.origin){const dt=mintCookieFactory(ut.toString());beforeAuthStateChanged(at,dt,()=>dt(at.currentUser)),onIdTokenChanged(at,ht=>dt(ht))}}const ct=getDefaultEmulatorHost("auth");return ct&&connectAuthEmulator(at,`http://${ct}`),at}function getScriptParentElement(){var ot,rt;return(rt=(ot=document.getElementsByTagName("head"))===null||ot===void 0?void 0:ot[0])!==null&&rt!==void 0?rt:document}_setExternalJSProvider({loadJS(ot){return new Promise((rt,at)=>{const lt=document.createElement("script");lt.setAttribute("src",ot),lt.onload=rt,lt.onerror=ct=>{const ut=_createError("internal-error");ut.customData=ct,at(ut)},lt.type="text/javascript",lt.charset="UTF-8",getScriptParentElement().appendChild(lt)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");var name$1="firebase",version$1="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$1,version$1,"app");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var ot;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function rt(Pt,Tt){function Ct(){}Ct.prototype=Tt.prototype,Pt.D=Tt.prototype,Pt.prototype=new Ct,Pt.prototype.constructor=Pt,Pt.C=function(Ot,Dt,jt){for(var Mt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Mt[zt-2]=arguments[zt];return Tt.prototype[Dt].apply(Ot,Mt)}}function at(){this.blockSize=-1}function lt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}rt(lt,at),lt.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function ct(Pt,Tt,Ct){Ct||(Ct=0);var Ot=Array(16);if(typeof Tt=="string")for(var Dt=0;16>Dt;++Dt)Ot[Dt]=Tt.charCodeAt(Ct++)|Tt.charCodeAt(Ct++)<<8|Tt.charCodeAt(Ct++)<<16|Tt.charCodeAt(Ct++)<<24;else for(Dt=0;16>Dt;++Dt)Ot[Dt]=Tt[Ct++]|Tt[Ct++]<<8|Tt[Ct++]<<16|Tt[Ct++]<<24;Tt=Pt.g[0],Ct=Pt.g[1],Dt=Pt.g[2];var jt=Pt.g[3],Mt=Tt+(jt^Ct&(Dt^jt))+Ot[0]+3614090360&4294967295;Tt=Ct+(Mt<<7&4294967295|Mt>>>25),Mt=jt+(Dt^Tt&(Ct^Dt))+Ot[1]+3905402710&4294967295,jt=Tt+(Mt<<12&4294967295|Mt>>>20),Mt=Dt+(Ct^jt&(Tt^Ct))+Ot[2]+606105819&4294967295,Dt=jt+(Mt<<17&4294967295|Mt>>>15),Mt=Ct+(Tt^Dt&(jt^Tt))+Ot[3]+3250441966&4294967295,Ct=Dt+(Mt<<22&4294967295|Mt>>>10),Mt=Tt+(jt^Ct&(Dt^jt))+Ot[4]+4118548399&4294967295,Tt=Ct+(Mt<<7&4294967295|Mt>>>25),Mt=jt+(Dt^Tt&(Ct^Dt))+Ot[5]+1200080426&4294967295,jt=Tt+(Mt<<12&4294967295|Mt>>>20),Mt=Dt+(Ct^jt&(Tt^Ct))+Ot[6]+2821735955&4294967295,Dt=jt+(Mt<<17&4294967295|Mt>>>15),Mt=Ct+(Tt^Dt&(jt^Tt))+Ot[7]+4249261313&4294967295,Ct=Dt+(Mt<<22&4294967295|Mt>>>10),Mt=Tt+(jt^Ct&(Dt^jt))+Ot[8]+1770035416&4294967295,Tt=Ct+(Mt<<7&4294967295|Mt>>>25),Mt=jt+(Dt^Tt&(Ct^Dt))+Ot[9]+2336552879&4294967295,jt=Tt+(Mt<<12&4294967295|Mt>>>20),Mt=Dt+(Ct^jt&(Tt^Ct))+Ot[10]+4294925233&4294967295,Dt=jt+(Mt<<17&4294967295|Mt>>>15),Mt=Ct+(Tt^Dt&(jt^Tt))+Ot[11]+2304563134&4294967295,Ct=Dt+(Mt<<22&4294967295|Mt>>>10),Mt=Tt+(jt^Ct&(Dt^jt))+Ot[12]+1804603682&4294967295,Tt=Ct+(Mt<<7&4294967295|Mt>>>25),Mt=jt+(Dt^Tt&(Ct^Dt))+Ot[13]+4254626195&4294967295,jt=Tt+(Mt<<12&4294967295|Mt>>>20),Mt=Dt+(Ct^jt&(Tt^Ct))+Ot[14]+2792965006&4294967295,Dt=jt+(Mt<<17&4294967295|Mt>>>15),Mt=Ct+(Tt^Dt&(jt^Tt))+Ot[15]+1236535329&4294967295,Ct=Dt+(Mt<<22&4294967295|Mt>>>10),Mt=Tt+(Dt^jt&(Ct^Dt))+Ot[1]+4129170786&4294967295,Tt=Ct+(Mt<<5&4294967295|Mt>>>27),Mt=jt+(Ct^Dt&(Tt^Ct))+Ot[6]+3225465664&4294967295,jt=Tt+(Mt<<9&4294967295|Mt>>>23),Mt=Dt+(Tt^Ct&(jt^Tt))+Ot[11]+643717713&4294967295,Dt=jt+(Mt<<14&4294967295|Mt>>>18),Mt=Ct+(jt^Tt&(Dt^jt))+Ot[0]+3921069994&4294967295,Ct=Dt+(Mt<<20&4294967295|Mt>>>12),Mt=Tt+(Dt^jt&(Ct^Dt))+Ot[5]+3593408605&4294967295,Tt=Ct+(Mt<<5&4294967295|Mt>>>27),Mt=jt+(Ct^Dt&(Tt^Ct))+Ot[10]+38016083&4294967295,jt=Tt+(Mt<<9&4294967295|Mt>>>23),Mt=Dt+(Tt^Ct&(jt^Tt))+Ot[15]+3634488961&4294967295,Dt=jt+(Mt<<14&4294967295|Mt>>>18),Mt=Ct+(jt^Tt&(Dt^jt))+Ot[4]+3889429448&4294967295,Ct=Dt+(Mt<<20&4294967295|Mt>>>12),Mt=Tt+(Dt^jt&(Ct^Dt))+Ot[9]+568446438&4294967295,Tt=Ct+(Mt<<5&4294967295|Mt>>>27),Mt=jt+(Ct^Dt&(Tt^Ct))+Ot[14]+3275163606&4294967295,jt=Tt+(Mt<<9&4294967295|Mt>>>23),Mt=Dt+(Tt^Ct&(jt^Tt))+Ot[3]+4107603335&4294967295,Dt=jt+(Mt<<14&4294967295|Mt>>>18),Mt=Ct+(jt^Tt&(Dt^jt))+Ot[8]+1163531501&4294967295,Ct=Dt+(Mt<<20&4294967295|Mt>>>12),Mt=Tt+(Dt^jt&(Ct^Dt))+Ot[13]+2850285829&4294967295,Tt=Ct+(Mt<<5&4294967295|Mt>>>27),Mt=jt+(Ct^Dt&(Tt^Ct))+Ot[2]+4243563512&4294967295,jt=Tt+(Mt<<9&4294967295|Mt>>>23),Mt=Dt+(Tt^Ct&(jt^Tt))+Ot[7]+1735328473&4294967295,Dt=jt+(Mt<<14&4294967295|Mt>>>18),Mt=Ct+(jt^Tt&(Dt^jt))+Ot[12]+2368359562&4294967295,Ct=Dt+(Mt<<20&4294967295|Mt>>>12),Mt=Tt+(Ct^Dt^jt)+Ot[5]+4294588738&4294967295,Tt=Ct+(Mt<<4&4294967295|Mt>>>28),Mt=jt+(Tt^Ct^Dt)+Ot[8]+2272392833&4294967295,jt=Tt+(Mt<<11&4294967295|Mt>>>21),Mt=Dt+(jt^Tt^Ct)+Ot[11]+1839030562&4294967295,Dt=jt+(Mt<<16&4294967295|Mt>>>16),Mt=Ct+(Dt^jt^Tt)+Ot[14]+4259657740&4294967295,Ct=Dt+(Mt<<23&4294967295|Mt>>>9),Mt=Tt+(Ct^Dt^jt)+Ot[1]+2763975236&4294967295,Tt=Ct+(Mt<<4&4294967295|Mt>>>28),Mt=jt+(Tt^Ct^Dt)+Ot[4]+1272893353&4294967295,jt=Tt+(Mt<<11&4294967295|Mt>>>21),Mt=Dt+(jt^Tt^Ct)+Ot[7]+4139469664&4294967295,Dt=jt+(Mt<<16&4294967295|Mt>>>16),Mt=Ct+(Dt^jt^Tt)+Ot[10]+3200236656&4294967295,Ct=Dt+(Mt<<23&4294967295|Mt>>>9),Mt=Tt+(Ct^Dt^jt)+Ot[13]+681279174&4294967295,Tt=Ct+(Mt<<4&4294967295|Mt>>>28),Mt=jt+(Tt^Ct^Dt)+Ot[0]+3936430074&4294967295,jt=Tt+(Mt<<11&4294967295|Mt>>>21),Mt=Dt+(jt^Tt^Ct)+Ot[3]+3572445317&4294967295,Dt=jt+(Mt<<16&4294967295|Mt>>>16),Mt=Ct+(Dt^jt^Tt)+Ot[6]+76029189&4294967295,Ct=Dt+(Mt<<23&4294967295|Mt>>>9),Mt=Tt+(Ct^Dt^jt)+Ot[9]+3654602809&4294967295,Tt=Ct+(Mt<<4&4294967295|Mt>>>28),Mt=jt+(Tt^Ct^Dt)+Ot[12]+3873151461&4294967295,jt=Tt+(Mt<<11&4294967295|Mt>>>21),Mt=Dt+(jt^Tt^Ct)+Ot[15]+530742520&4294967295,Dt=jt+(Mt<<16&4294967295|Mt>>>16),Mt=Ct+(Dt^jt^Tt)+Ot[2]+3299628645&4294967295,Ct=Dt+(Mt<<23&4294967295|Mt>>>9),Mt=Tt+(Dt^(Ct|~jt))+Ot[0]+4096336452&4294967295,Tt=Ct+(Mt<<6&4294967295|Mt>>>26),Mt=jt+(Ct^(Tt|~Dt))+Ot[7]+1126891415&4294967295,jt=Tt+(Mt<<10&4294967295|Mt>>>22),Mt=Dt+(Tt^(jt|~Ct))+Ot[14]+2878612391&4294967295,Dt=jt+(Mt<<15&4294967295|Mt>>>17),Mt=Ct+(jt^(Dt|~Tt))+Ot[5]+4237533241&4294967295,Ct=Dt+(Mt<<21&4294967295|Mt>>>11),Mt=Tt+(Dt^(Ct|~jt))+Ot[12]+1700485571&4294967295,Tt=Ct+(Mt<<6&4294967295|Mt>>>26),Mt=jt+(Ct^(Tt|~Dt))+Ot[3]+2399980690&4294967295,jt=Tt+(Mt<<10&4294967295|Mt>>>22),Mt=Dt+(Tt^(jt|~Ct))+Ot[10]+4293915773&4294967295,Dt=jt+(Mt<<15&4294967295|Mt>>>17),Mt=Ct+(jt^(Dt|~Tt))+Ot[1]+2240044497&4294967295,Ct=Dt+(Mt<<21&4294967295|Mt>>>11),Mt=Tt+(Dt^(Ct|~jt))+Ot[8]+1873313359&4294967295,Tt=Ct+(Mt<<6&4294967295|Mt>>>26),Mt=jt+(Ct^(Tt|~Dt))+Ot[15]+4264355552&4294967295,jt=Tt+(Mt<<10&4294967295|Mt>>>22),Mt=Dt+(Tt^(jt|~Ct))+Ot[6]+2734768916&4294967295,Dt=jt+(Mt<<15&4294967295|Mt>>>17),Mt=Ct+(jt^(Dt|~Tt))+Ot[13]+1309151649&4294967295,Ct=Dt+(Mt<<21&4294967295|Mt>>>11),Mt=Tt+(Dt^(Ct|~jt))+Ot[4]+4149444226&4294967295,Tt=Ct+(Mt<<6&4294967295|Mt>>>26),Mt=jt+(Ct^(Tt|~Dt))+Ot[11]+3174756917&4294967295,jt=Tt+(Mt<<10&4294967295|Mt>>>22),Mt=Dt+(Tt^(jt|~Ct))+Ot[2]+718787259&4294967295,Dt=jt+(Mt<<15&4294967295|Mt>>>17),Mt=Ct+(jt^(Dt|~Tt))+Ot[9]+3951481745&4294967295,Pt.g[0]=Pt.g[0]+Tt&4294967295,Pt.g[1]=Pt.g[1]+(Dt+(Mt<<21&4294967295|Mt>>>11))&4294967295,Pt.g[2]=Pt.g[2]+Dt&4294967295,Pt.g[3]=Pt.g[3]+jt&4294967295}lt.prototype.u=function(Pt,Tt){Tt===void 0&&(Tt=Pt.length);for(var Ct=Tt-this.blockSize,Ot=this.B,Dt=this.h,jt=0;jt<Tt;){if(Dt==0)for(;jt<=Ct;)ct(this,Pt,jt),jt+=this.blockSize;if(typeof Pt=="string"){for(;jt<Tt;)if(Ot[Dt++]=Pt.charCodeAt(jt++),Dt==this.blockSize){ct(this,Ot),Dt=0;break}}else for(;jt<Tt;)if(Ot[Dt++]=Pt[jt++],Dt==this.blockSize){ct(this,Ot),Dt=0;break}}this.h=Dt,this.o+=Tt},lt.prototype.v=function(){var Pt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Pt[0]=128;for(var Tt=1;Tt<Pt.length-8;++Tt)Pt[Tt]=0;var Ct=8*this.o;for(Tt=Pt.length-8;Tt<Pt.length;++Tt)Pt[Tt]=Ct&255,Ct/=256;for(this.u(Pt),Pt=Array(16),Tt=Ct=0;4>Tt;++Tt)for(var Ot=0;32>Ot;Ot+=8)Pt[Ct++]=this.g[Tt]>>>Ot&255;return Pt};function ut(Pt,Tt){var Ct=ht;return Object.prototype.hasOwnProperty.call(Ct,Pt)?Ct[Pt]:Ct[Pt]=Tt(Pt)}function dt(Pt,Tt){this.h=Tt;for(var Ct=[],Ot=!0,Dt=Pt.length-1;0<=Dt;Dt--){var jt=Pt[Dt]|0;Ot&&jt==Tt||(Ct[Dt]=jt,Ot=!1)}this.g=Ct}var ht={};function ft(Pt){return-128<=Pt&&128>Pt?ut(Pt,function(Tt){return new dt([Tt|0],0>Tt?-1:0)}):new dt([Pt|0],0>Pt?-1:0)}function pt(Pt){if(isNaN(Pt)||!isFinite(Pt))return gt;if(0>Pt)return Rt(pt(-Pt));for(var Tt=[],Ct=1,Ot=0;Pt>=Ct;Ot++)Tt[Ot]=Pt/Ct|0,Ct*=4294967296;return new dt(Tt,0)}function mt(Pt,Tt){if(Pt.length==0)throw Error("number format error: empty string");if(Tt=Tt||10,2>Tt||36<Tt)throw Error("radix out of range: "+Tt);if(Pt.charAt(0)=="-")return Rt(mt(Pt.substring(1),Tt));if(0<=Pt.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ct=pt(Math.pow(Tt,8)),Ot=gt,Dt=0;Dt<Pt.length;Dt+=8){var jt=Math.min(8,Pt.length-Dt),Mt=parseInt(Pt.substring(Dt,Dt+jt),Tt);8>jt?(jt=pt(Math.pow(Tt,jt)),Ot=Ot.j(jt).add(pt(Mt))):(Ot=Ot.j(Ct),Ot=Ot.add(pt(Mt)))}return Ot}var gt=ft(0),yt=ft(1),xt=ft(16777216);ot=dt.prototype,ot.m=function(){if(Et(this))return-Rt(this).m();for(var Pt=0,Tt=1,Ct=0;Ct<this.g.length;Ct++){var Ot=this.i(Ct);Pt+=(0<=Ot?Ot:4294967296+Ot)*Tt,Tt*=4294967296}return Pt},ot.toString=function(Pt){if(Pt=Pt||10,2>Pt||36<Pt)throw Error("radix out of range: "+Pt);if(bt(this))return"0";if(Et(this))return"-"+Rt(this).toString(Pt);for(var Tt=pt(Math.pow(Pt,6)),Ct=this,Ot="";;){var Dt=kt(Ct,Tt).g;Ct=wt(Ct,Dt.j(Tt));var jt=((0<Ct.g.length?Ct.g[0]:Ct.h)>>>0).toString(Pt);if(Ct=Dt,bt(Ct))return jt+Ot;for(;6>jt.length;)jt="0"+jt;Ot=jt+Ot}},ot.i=function(Pt){return 0>Pt?0:Pt<this.g.length?this.g[Pt]:this.h};function bt(Pt){if(Pt.h!=0)return!1;for(var Tt=0;Tt<Pt.g.length;Tt++)if(Pt.g[Tt]!=0)return!1;return!0}function Et(Pt){return Pt.h==-1}ot.l=function(Pt){return Pt=wt(this,Pt),Et(Pt)?-1:bt(Pt)?0:1};function Rt(Pt){for(var Tt=Pt.g.length,Ct=[],Ot=0;Ot<Tt;Ot++)Ct[Ot]=~Pt.g[Ot];return new dt(Ct,~Pt.h).add(yt)}ot.abs=function(){return Et(this)?Rt(this):this},ot.add=function(Pt){for(var Tt=Math.max(this.g.length,Pt.g.length),Ct=[],Ot=0,Dt=0;Dt<=Tt;Dt++){var jt=Ot+(this.i(Dt)&65535)+(Pt.i(Dt)&65535),Mt=(jt>>>16)+(this.i(Dt)>>>16)+(Pt.i(Dt)>>>16);Ot=Mt>>>16,jt&=65535,Mt&=65535,Ct[Dt]=Mt<<16|jt}return new dt(Ct,Ct[Ct.length-1]&-2147483648?-1:0)};function wt(Pt,Tt){return Pt.add(Rt(Tt))}ot.j=function(Pt){if(bt(this)||bt(Pt))return gt;if(Et(this))return Et(Pt)?Rt(this).j(Rt(Pt)):Rt(Rt(this).j(Pt));if(Et(Pt))return Rt(this.j(Rt(Pt)));if(0>this.l(xt)&&0>Pt.l(xt))return pt(this.m()*Pt.m());for(var Tt=this.g.length+Pt.g.length,Ct=[],Ot=0;Ot<2*Tt;Ot++)Ct[Ot]=0;for(Ot=0;Ot<this.g.length;Ot++)for(var Dt=0;Dt<Pt.g.length;Dt++){var jt=this.i(Ot)>>>16,Mt=this.i(Ot)&65535,zt=Pt.i(Dt)>>>16,Qt=Pt.i(Dt)&65535;Ct[2*Ot+2*Dt]+=Mt*Qt,_t(Ct,2*Ot+2*Dt),Ct[2*Ot+2*Dt+1]+=jt*Qt,_t(Ct,2*Ot+2*Dt+1),Ct[2*Ot+2*Dt+1]+=Mt*zt,_t(Ct,2*Ot+2*Dt+1),Ct[2*Ot+2*Dt+2]+=jt*zt,_t(Ct,2*Ot+2*Dt+2)}for(Ot=0;Ot<Tt;Ot++)Ct[Ot]=Ct[2*Ot+1]<<16|Ct[2*Ot];for(Ot=Tt;Ot<2*Tt;Ot++)Ct[Ot]=0;return new dt(Ct,0)};function _t(Pt,Tt){for(;(Pt[Tt]&65535)!=Pt[Tt];)Pt[Tt+1]+=Pt[Tt]>>>16,Pt[Tt]&=65535,Tt++}function At(Pt,Tt){this.g=Pt,this.h=Tt}function kt(Pt,Tt){if(bt(Tt))throw Error("division by zero");if(bt(Pt))return new At(gt,gt);if(Et(Pt))return Tt=kt(Rt(Pt),Tt),new At(Rt(Tt.g),Rt(Tt.h));if(Et(Tt))return Tt=kt(Pt,Rt(Tt)),new At(Rt(Tt.g),Tt.h);if(30<Pt.g.length){if(Et(Pt)||Et(Tt))throw Error("slowDivide_ only works with positive integers.");for(var Ct=yt,Ot=Tt;0>=Ot.l(Pt);)Ct=It(Ct),Ot=It(Ot);var Dt=Nt(Ct,1),jt=Nt(Ot,1);for(Ot=Nt(Ot,2),Ct=Nt(Ct,2);!bt(Ot);){var Mt=jt.add(Ot);0>=Mt.l(Pt)&&(Dt=Dt.add(Ct),jt=Mt),Ot=Nt(Ot,1),Ct=Nt(Ct,1)}return Tt=wt(Pt,Dt.j(Tt)),new At(Dt,Tt)}for(Dt=gt;0<=Pt.l(Tt);){for(Ct=Math.max(1,Math.floor(Pt.m()/Tt.m())),Ot=Math.ceil(Math.log(Ct)/Math.LN2),Ot=48>=Ot?1:Math.pow(2,Ot-48),jt=pt(Ct),Mt=jt.j(Tt);Et(Mt)||0<Mt.l(Pt);)Ct-=Ot,jt=pt(Ct),Mt=jt.j(Tt);bt(jt)&&(jt=yt),Dt=Dt.add(jt),Pt=wt(Pt,Mt)}return new At(Dt,Pt)}ot.A=function(Pt){return kt(this,Pt).h},ot.and=function(Pt){for(var Tt=Math.max(this.g.length,Pt.g.length),Ct=[],Ot=0;Ot<Tt;Ot++)Ct[Ot]=this.i(Ot)&Pt.i(Ot);return new dt(Ct,this.h&Pt.h)},ot.or=function(Pt){for(var Tt=Math.max(this.g.length,Pt.g.length),Ct=[],Ot=0;Ot<Tt;Ot++)Ct[Ot]=this.i(Ot)|Pt.i(Ot);return new dt(Ct,this.h|Pt.h)},ot.xor=function(Pt){for(var Tt=Math.max(this.g.length,Pt.g.length),Ct=[],Ot=0;Ot<Tt;Ot++)Ct[Ot]=this.i(Ot)^Pt.i(Ot);return new dt(Ct,this.h^Pt.h)};function It(Pt){for(var Tt=Pt.g.length+1,Ct=[],Ot=0;Ot<Tt;Ot++)Ct[Ot]=Pt.i(Ot)<<1|Pt.i(Ot-1)>>>31;return new dt(Ct,Pt.h)}function Nt(Pt,Tt){var Ct=Tt>>5;Tt%=32;for(var Ot=Pt.g.length-Ct,Dt=[],jt=0;jt<Ot;jt++)Dt[jt]=0<Tt?Pt.i(jt+Ct)>>>Tt|Pt.i(jt+Ct+1)<<32-Tt:Pt.i(jt+Ct);return new dt(Dt,Pt.h)}lt.prototype.digest=lt.prototype.v,lt.prototype.reset=lt.prototype.s,lt.prototype.update=lt.prototype.u,Md5=lt,dt.prototype.add=dt.prototype.add,dt.prototype.multiply=dt.prototype.j,dt.prototype.modulo=dt.prototype.A,dt.prototype.compare=dt.prototype.l,dt.prototype.toNumber=dt.prototype.m,dt.prototype.toString=dt.prototype.toString,dt.prototype.getBits=dt.prototype.i,dt.fromNumber=pt,dt.fromString=mt,Integer=dt}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,FetchXmlHttpFactory,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var ot,rt=typeof Object.defineProperties=="function"?Object.defineProperty:function(vt,Lt,Ut){return vt==Array.prototype||vt==Object.prototype||(vt[Lt]=Ut.value),vt};function at(vt){vt=[typeof globalThis=="object"&&globalThis,vt,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var Lt=0;Lt<vt.length;++Lt){var Ut=vt[Lt];if(Ut&&Ut.Math==Math)return Ut}throw Error("Cannot find global object")}var lt=at(this);function ct(vt,Lt){if(Lt)e:{var Ut=lt;vt=vt.split(".");for(var ln=0;ln<vt.length-1;ln++){var Mn=vt[ln];if(!(Mn in Ut))break e;Ut=Ut[Mn]}vt=vt[vt.length-1],ln=Ut[vt],Lt=Lt(ln),Lt!=ln&&Lt!=null&&rt(Ut,vt,{configurable:!0,writable:!0,value:Lt})}}function ut(vt,Lt){vt instanceof String&&(vt+="");var Ut=0,ln=!1,Mn={next:function(){if(!ln&&Ut<vt.length){var Yn=Ut++;return{value:Lt(Yn,vt[Yn]),done:!1}}return ln=!0,{done:!0,value:void 0}}};return Mn[Symbol.iterator]=function(){return Mn},Mn}ct("Array.prototype.values",function(vt){return vt||function(){return ut(this,function(Lt,Ut){return Ut})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var dt=dt||{},ht=this||self;function ft(vt){var Lt=typeof vt;return Lt=Lt!="object"?Lt:vt?Array.isArray(vt)?"array":Lt:"null",Lt=="array"||Lt=="object"&&typeof vt.length=="number"}function pt(vt){var Lt=typeof vt;return Lt=="object"&&vt!=null||Lt=="function"}function mt(vt,Lt,Ut){return vt.call.apply(vt.bind,arguments)}function gt(vt,Lt,Ut){if(!vt)throw Error();if(2<arguments.length){var ln=Array.prototype.slice.call(arguments,2);return function(){var Mn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Mn,ln),vt.apply(Lt,Mn)}}return function(){return vt.apply(Lt,arguments)}}function yt(vt,Lt,Ut){return yt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?mt:gt,yt.apply(null,arguments)}function xt(vt,Lt){var Ut=Array.prototype.slice.call(arguments,1);return function(){var ln=Ut.slice();return ln.push.apply(ln,arguments),vt.apply(this,ln)}}function bt(vt,Lt){function Ut(){}Ut.prototype=Lt.prototype,vt.aa=Lt.prototype,vt.prototype=new Ut,vt.prototype.constructor=vt,vt.Qb=function(ln,Mn,Yn){for(var ur=Array(arguments.length-2),ts=2;ts<arguments.length;ts++)ur[ts-2]=arguments[ts];return Lt.prototype[Mn].apply(ln,ur)}}function Et(vt){const Lt=vt.length;if(0<Lt){const Ut=Array(Lt);for(let ln=0;ln<Lt;ln++)Ut[ln]=vt[ln];return Ut}return[]}function Rt(vt,Lt){for(let Ut=1;Ut<arguments.length;Ut++){const ln=arguments[Ut];if(ft(ln)){const Mn=vt.length||0,Yn=ln.length||0;vt.length=Mn+Yn;for(let ur=0;ur<Yn;ur++)vt[Mn+ur]=ln[ur]}else vt.push(ln)}}class wt{constructor(Lt,Ut){this.i=Lt,this.j=Ut,this.h=0,this.g=null}get(){let Lt;return 0<this.h?(this.h--,Lt=this.g,this.g=Lt.next,Lt.next=null):Lt=this.i(),Lt}}function _t(vt){return/^[\s\xa0]*$/.test(vt)}function At(){var vt=ht.navigator;return vt&&(vt=vt.userAgent)?vt:""}function kt(vt){return kt[" "](vt),vt}kt[" "]=function(){};var It=At().indexOf("Gecko")!=-1&&!(At().toLowerCase().indexOf("webkit")!=-1&&At().indexOf("Edge")==-1)&&!(At().indexOf("Trident")!=-1||At().indexOf("MSIE")!=-1)&&At().indexOf("Edge")==-1;function Nt(vt,Lt,Ut){for(const ln in vt)Lt.call(Ut,vt[ln],ln,vt)}function Pt(vt,Lt){for(const Ut in vt)Lt.call(void 0,vt[Ut],Ut,vt)}function Tt(vt){const Lt={};for(const Ut in vt)Lt[Ut]=vt[Ut];return Lt}const Ct="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ot(vt,Lt){let Ut,ln;for(let Mn=1;Mn<arguments.length;Mn++){ln=arguments[Mn];for(Ut in ln)vt[Ut]=ln[Ut];for(let Yn=0;Yn<Ct.length;Yn++)Ut=Ct[Yn],Object.prototype.hasOwnProperty.call(ln,Ut)&&(vt[Ut]=ln[Ut])}}function Dt(vt){var Lt=1;vt=vt.split(":");const Ut=[];for(;0<Lt&&vt.length;)Ut.push(vt.shift()),Lt--;return vt.length&&Ut.push(vt.join(":")),Ut}function jt(vt){ht.setTimeout(()=>{throw vt},0)}function Mt(){var vt=Gt;let Lt=null;return vt.g&&(Lt=vt.g,vt.g=vt.g.next,vt.g||(vt.h=null),Lt.next=null),Lt}class zt{constructor(){this.h=this.g=null}add(Lt,Ut){const ln=Qt.get();ln.set(Lt,Ut),this.h?this.h.next=ln:this.g=ln,this.h=ln}}var Qt=new wt(()=>new qt,vt=>vt.reset());class qt{constructor(){this.next=this.g=this.h=null}set(Lt,Ut){this.h=Lt,this.g=Ut,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,sn=!1,Gt=new zt,Wt=()=>{const vt=ht.Promise.resolve(void 0);Kt=()=>{vt.then(pn)}};var pn=()=>{for(var vt;vt=Mt();){try{vt.h.call(vt.g)}catch(Ut){jt(Ut)}var Lt=Qt;Lt.j(vt),100>Lt.h&&(Lt.h++,vt.next=Lt.g,Lt.g=vt)}sn=!1};function rn(){this.s=this.s,this.C=this.C}rn.prototype.s=!1,rn.prototype.ma=function(){this.s||(this.s=!0,this.N())},rn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Vt(vt,Lt){this.type=vt,this.g=this.target=Lt,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var $t=function(){if(!ht.addEventListener||!Object.defineProperty)return!1;var vt=!1,Lt=Object.defineProperty({},"passive",{get:function(){vt=!0}});try{const Ut=()=>{};ht.addEventListener("test",Ut,Lt),ht.removeEventListener("test",Ut,Lt)}catch{}return vt}();function Xt(vt,Lt){if(Vt.call(this,vt?vt.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,vt){var Ut=this.type=vt.type,ln=vt.changedTouches&&vt.changedTouches.length?vt.changedTouches[0]:null;if(this.target=vt.target||vt.srcElement,this.g=Lt,Lt=vt.relatedTarget){if(It){e:{try{kt(Lt.nodeName);var Mn=!0;break e}catch{}Mn=!1}Mn||(Lt=null)}}else Ut=="mouseover"?Lt=vt.fromElement:Ut=="mouseout"&&(Lt=vt.toElement);this.relatedTarget=Lt,ln?(this.clientX=ln.clientX!==void 0?ln.clientX:ln.pageX,this.clientY=ln.clientY!==void 0?ln.clientY:ln.pageY,this.screenX=ln.screenX||0,this.screenY=ln.screenY||0):(this.clientX=vt.clientX!==void 0?vt.clientX:vt.pageX,this.clientY=vt.clientY!==void 0?vt.clientY:vt.pageY,this.screenX=vt.screenX||0,this.screenY=vt.screenY||0),this.button=vt.button,this.key=vt.key||"",this.ctrlKey=vt.ctrlKey,this.altKey=vt.altKey,this.shiftKey=vt.shiftKey,this.metaKey=vt.metaKey,this.pointerId=vt.pointerId||0,this.pointerType=typeof vt.pointerType=="string"?vt.pointerType:Zt[vt.pointerType]||"",this.state=vt.state,this.i=vt,vt.defaultPrevented&&Xt.aa.h.call(this)}}bt(Xt,Vt);var Zt={2:"touch",3:"pen",4:"mouse"};Xt.prototype.h=function(){Xt.aa.h.call(this);var vt=this.i;vt.preventDefault?vt.preventDefault():vt.returnValue=!1};var Jt="closure_listenable_"+(1e6*Math.random()|0),Yt=0;function gn(vt,Lt,Ut,ln,Mn){this.listener=vt,this.proxy=null,this.src=Lt,this.type=Ut,this.capture=!!ln,this.ha=Mn,this.key=++Yt,this.da=this.fa=!1}function _n(vt){vt.da=!0,vt.listener=null,vt.proxy=null,vt.src=null,vt.ha=null}function Sn(vt){this.src=vt,this.g={},this.h=0}Sn.prototype.add=function(vt,Lt,Ut,ln,Mn){var Yn=vt.toString();vt=this.g[Yn],vt||(vt=this.g[Yn]=[],this.h++);var ur=Dn(vt,Lt,ln,Mn);return-1<ur?(Lt=vt[ur],Ut||(Lt.fa=!1)):(Lt=new gn(Lt,this.src,Yn,!!ln,Mn),Lt.fa=Ut,vt.push(Lt)),Lt};function jn(vt,Lt){var Ut=Lt.type;if(Ut in vt.g){var ln=vt.g[Ut],Mn=Array.prototype.indexOf.call(ln,Lt,void 0),Yn;(Yn=0<=Mn)&&Array.prototype.splice.call(ln,Mn,1),Yn&&(_n(Lt),vt.g[Ut].length==0&&(delete vt.g[Ut],vt.h--))}}function Dn(vt,Lt,Ut,ln){for(var Mn=0;Mn<vt.length;++Mn){var Yn=vt[Mn];if(!Yn.da&&Yn.listener==Lt&&Yn.capture==!!Ut&&Yn.ha==ln)return Mn}return-1}var Gn="closure_lm_"+(1e6*Math.random()|0),Kn={};function hn(vt,Lt,Ut,ln,Mn){if(Array.isArray(Lt)){for(var Yn=0;Yn<Lt.length;Yn++)hn(vt,Lt[Yn],Ut,ln,Mn);return null}return Ut=xn(Ut),vt&&vt[Jt]?vt.K(Lt,Ut,pt(ln)?!!ln.capture:!!ln,Mn):En(vt,Lt,Ut,!1,ln,Mn)}function En(vt,Lt,Ut,ln,Mn,Yn){if(!Lt)throw Error("Invalid event type");var ur=pt(Mn)?!!Mn.capture:!!Mn,ts=Jn(vt);if(ts||(vt[Gn]=ts=new Sn(vt)),Ut=ts.add(Lt,Ut,ln,ur,Yn),Ut.proxy)return Ut;if(ln=cn(),Ut.proxy=ln,ln.src=vt,ln.listener=Ut,vt.addEventListener)$t||(Mn=ur),Mn===void 0&&(Mn=!1),vt.addEventListener(Lt.toString(),ln,Mn);else if(vt.attachEvent)vt.attachEvent(kn(Lt.toString()),ln);else if(vt.addListener&&vt.removeListener)vt.addListener(ln);else throw Error("addEventListener and attachEvent are unavailable.");return Ut}function cn(){function vt(Ut){return Lt.call(vt.src,vt.listener,Ut)}const Lt=Un;return vt}function dn(vt,Lt,Ut,ln,Mn){if(Array.isArray(Lt))for(var Yn=0;Yn<Lt.length;Yn++)dn(vt,Lt[Yn],Ut,ln,Mn);else ln=pt(ln)?!!ln.capture:!!ln,Ut=xn(Ut),vt&&vt[Jt]?(vt=vt.i,Lt=String(Lt).toString(),Lt in vt.g&&(Yn=vt.g[Lt],Ut=Dn(Yn,Ut,ln,Mn),-1<Ut&&(_n(Yn[Ut]),Array.prototype.splice.call(Yn,Ut,1),Yn.length==0&&(delete vt.g[Lt],vt.h--)))):vt&&(vt=Jn(vt))&&(Lt=vt.g[Lt.toString()],vt=-1,Lt&&(vt=Dn(Lt,Ut,ln,Mn)),(Ut=-1<vt?Lt[vt]:null)&&wn(Ut))}function wn(vt){if(typeof vt!="number"&&vt&&!vt.da){var Lt=vt.src;if(Lt&&Lt[Jt])jn(Lt.i,vt);else{var Ut=vt.type,ln=vt.proxy;Lt.removeEventListener?Lt.removeEventListener(Ut,ln,vt.capture):Lt.detachEvent?Lt.detachEvent(kn(Ut),ln):Lt.addListener&&Lt.removeListener&&Lt.removeListener(ln),(Ut=Jn(Lt))?(jn(Ut,vt),Ut.h==0&&(Ut.src=null,Lt[Gn]=null)):_n(vt)}}}function kn(vt){return vt in Kn?Kn[vt]:Kn[vt]="on"+vt}function Un(vt,Lt){if(vt.da)vt=!0;else{Lt=new Xt(Lt,this);var Ut=vt.listener,ln=vt.ha||vt.src;vt.fa&&wn(vt),vt=Ut.call(ln,Lt)}return vt}function Jn(vt){return vt=vt[Gn],vt instanceof Sn?vt:null}var An="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(vt){return typeof vt=="function"?vt:(vt[An]||(vt[An]=function(Lt){return vt.handleEvent(Lt)}),vt[An])}function er(){rn.call(this),this.i=new Sn(this),this.M=this,this.F=null}bt(er,rn),er.prototype[Jt]=!0,er.prototype.removeEventListener=function(vt,Lt,Ut,ln){dn(this,vt,Lt,Ut,ln)};function Qn(vt,Lt){var Ut,ln=vt.F;if(ln)for(Ut=[];ln;ln=ln.F)Ut.push(ln);if(vt=vt.M,ln=Lt.type||Lt,typeof Lt=="string")Lt=new Vt(Lt,vt);else if(Lt instanceof Vt)Lt.target=Lt.target||vt;else{var Mn=Lt;Lt=new Vt(ln,vt),Ot(Lt,Mn)}if(Mn=!0,Ut)for(var Yn=Ut.length-1;0<=Yn;Yn--){var ur=Lt.g=Ut[Yn];Mn=gr(ur,ln,!0,Lt)&&Mn}if(ur=Lt.g=vt,Mn=gr(ur,ln,!0,Lt)&&Mn,Mn=gr(ur,ln,!1,Lt)&&Mn,Ut)for(Yn=0;Yn<Ut.length;Yn++)ur=Lt.g=Ut[Yn],Mn=gr(ur,ln,!1,Lt)&&Mn}er.prototype.N=function(){if(er.aa.N.call(this),this.i){var vt=this.i,Lt;for(Lt in vt.g){for(var Ut=vt.g[Lt],ln=0;ln<Ut.length;ln++)_n(Ut[ln]);delete vt.g[Lt],vt.h--}}this.F=null},er.prototype.K=function(vt,Lt,Ut,ln){return this.i.add(String(vt),Lt,!1,Ut,ln)},er.prototype.L=function(vt,Lt,Ut,ln){return this.i.add(String(vt),Lt,!0,Ut,ln)};function gr(vt,Lt,Ut,ln){if(Lt=vt.i.g[String(Lt)],!Lt)return!0;Lt=Lt.concat();for(var Mn=!0,Yn=0;Yn<Lt.length;++Yn){var ur=Lt[Yn];if(ur&&!ur.da&&ur.capture==Ut){var ts=ur.listener,_s=ur.ha||ur.src;ur.fa&&jn(vt.i,ur),Mn=ts.call(_s,ln)!==!1&&Mn}}return Mn&&!ln.defaultPrevented}function yr(vt,Lt,Ut){if(typeof vt=="function")Ut&&(vt=yt(vt,Ut));else if(vt&&typeof vt.handleEvent=="function")vt=yt(vt.handleEvent,vt);else throw Error("Invalid listener argument");return 2147483647<Number(Lt)?-1:ht.setTimeout(vt,Lt||0)}function Fr(vt){vt.g=yr(()=>{vt.g=null,vt.i&&(vt.i=!1,Fr(vt))},vt.l);const Lt=vt.h;vt.h=null,vt.m.apply(null,Lt)}class br extends rn{constructor(Lt,Ut){super(),this.m=Lt,this.l=Ut,this.h=null,this.i=!1,this.g=null}j(Lt){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Er(vt){rn.call(this),this.h=vt,this.g={}}bt(Er,rn);var Yr=[];function ss(vt){Nt(vt.g,function(Lt,Ut){this.g.hasOwnProperty(Ut)&&wn(Lt)},vt),vt.g={}}Er.prototype.N=function(){Er.aa.N.call(this),ss(this)},Er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=ht.JSON.stringify,Ln=ht.JSON.parse,Vn=class{stringify(vt){return ht.JSON.stringify(vt,void 0)}parse(vt){return ht.JSON.parse(vt,void 0)}};function vr(){}vr.prototype.h=null;function Tr(vt){return vt.h||(vt.h=vt.i())}function Or(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){Vt.call(this,"d")}bt(tr,Vt);function dr(){Vt.call(this,"c")}bt(dr,Vt);var Rr={},Ir=null;function _r(){return Ir=Ir||new er}Rr.La="serverreachability";function yn(vt){Vt.call(this,Rr.La,vt)}bt(yn,Vt);function fn(vt){const Lt=_r();Qn(Lt,new yn(Lt))}Rr.STAT_EVENT="statevent";function Pn(vt,Lt){Vt.call(this,Rr.STAT_EVENT,vt),this.stat=Lt}bt(Pn,Vt);function Hn(vt){const Lt=_r();Qn(Lt,new Pn(Lt,vt))}Rr.Ma="timingevent";function Zn(vt,Lt){Vt.call(this,Rr.Ma,vt),this.size=Lt}bt(Zn,Vt);function rr(vt,Lt){if(typeof vt!="function")throw Error("Fn must not be null and must be a function");return ht.setTimeout(function(){vt()},Lt)}function lr(){this.g=!0}lr.prototype.xa=function(){this.g=!1};function Sr(vt,Lt,Ut,ln,Mn,Yn){vt.info(function(){if(vt.g)if(Yn)for(var ur="",ts=Yn.split("&"),_s=0;_s<ts.length;_s++){var os=ts[_s].split("=");if(1<os.length){var jr=os[0];os=os[1];var Es=jr.split("_");ur=2<=Es.length&&Es[1]=="type"?ur+(jr+"="+os+"&"):ur+(jr+"=redacted&")}}else ur=null;else ur=Yn;return"XMLHTTP REQ ("+ln+") [attempt "+Mn+"]: "+Lt+`
`+Ut+`
`+ur})}function wr(vt,Lt,Ut,ln,Mn,Yn,ur){vt.info(function(){return"XMLHTTP RESP ("+ln+") [ attempt "+Mn+"]: "+Lt+`
`+Ut+`
`+Yn+" "+ur})}function pr(vt,Lt,Ut,ln){vt.info(function(){return"XMLHTTP TEXT ("+Lt+"): "+Ar(vt,Ut)+(ln?" "+ln:"")})}function Zr(vt,Lt){vt.info(function(){return"TIMEOUT: "+Lt})}lr.prototype.info=function(){};function Ar(vt,Lt){if(!vt.g)return Lt;if(!Lt)return null;try{var Ut=JSON.parse(Lt);if(Ut){for(vt=0;vt<Ut.length;vt++)if(Array.isArray(Ut[vt])){var ln=Ut[vt];if(!(2>ln.length)){var Mn=ln[1];if(Array.isArray(Mn)&&!(1>Mn.length)){var Yn=Mn[0];if(Yn!="noop"&&Yn!="stop"&&Yn!="close")for(var ur=1;ur<Mn.length;ur++)Mn[ur]=""}}}}return nr(Ut)}catch{return Lt}}var Pr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xr;function Qr(){}bt(Qr,vr),Qr.prototype.g=function(){return new XMLHttpRequest},Qr.prototype.i=function(){return{}},Xr=new Qr;function ns(vt,Lt,Ut,ln){this.j=vt,this.i=Lt,this.l=Ut,this.R=ln||1,this.U=new Er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var ls={},eo={};function Qs(vt,Lt,Ut){vt.L=1,vt.v=Lo(ao(Lt)),vt.m=Ut,vt.P=!0,Js(vt,null)}function Js(vt,Lt){vt.F=Date.now(),Ho(vt),vt.A=ao(vt.v);var Ut=vt.A,ln=vt.R;Array.isArray(ln)||(ln=[String(ln)]),Tl(Ut.i,"t",ln),vt.C=0,Ut=vt.j.J,vt.h=new Ts,vt.g=ro(vt.j,Ut?Lt:null,!vt.m),0<vt.O&&(vt.M=new br(yt(vt.Y,vt,vt.g),vt.O)),Lt=vt.U,Ut=vt.g,ln=vt.ca;var Mn="readystatechange";Array.isArray(Mn)||(Mn&&(Yr[0]=Mn.toString()),Mn=Yr);for(var Yn=0;Yn<Mn.length;Yn++){var ur=hn(Ut,Mn[Yn],ln||Lt.handleEvent,!1,Lt.h||Lt);if(!ur)break;Lt.g[ur.key]=ur}Lt=vt.H?Tt(vt.H):{},vt.m?(vt.u||(vt.u="POST"),Lt["Content-Type"]="application/x-www-form-urlencoded",vt.g.ea(vt.A,vt.u,vt.m,Lt)):(vt.u="GET",vt.g.ea(vt.A,vt.u,null,Lt)),fn(),Sr(vt.i,vt.u,vt.A,vt.l,vt.R,vt.m)}ns.prototype.ca=function(vt){vt=vt.target;const Lt=this.M;Lt&&es(vt)==3?Lt.j():this.Y(vt)},ns.prototype.Y=function(vt){try{if(vt==this.g)e:{const Es=es(this.g);var Lt=this.g.Ba();const ws=this.g.Z();if(!(3>Es)&&(Es!=3||this.g&&(this.h.h||this.g.oa()||$r(this.g)))){this.J||Es!=4||Lt==7||(Lt==8||0>=ws?fn(3):fn(2)),_l(this);var Ut=this.g.Z();this.X=Ut;t:if(fo(this)){var ln=$r(this.g);vt="";var Mn=ln.length,Yn=es(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),No(this);var ur="";break t}this.h.i=new ht.TextDecoder}for(Lt=0;Lt<Mn;Lt++)this.h.h=!0,vt+=this.h.i.decode(ln[Lt],{stream:!(Yn&&Lt==Mn-1)});ln.length=0,this.h.g+=vt,this.C=0,ur=this.h.g}else ur=this.g.oa();if(this.o=Ut==200,wr(this.i,this.u,this.A,this.l,this.R,Es,Ut),this.o){if(this.T&&!this.K){t:{if(this.g){var ts,_s=this.g;if((ts=_s.g?_s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(ts)){var os=ts;break t}}os=null}if(Ut=os)pr(this.i,this.l,Ut,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,El(this,Ut);else{this.o=!1,this.s=3,Hn(12),_o(this),No(this);break e}}if(this.P){Ut=!0;let ps;for(;!this.J&&this.C<ur.length;)if(ps=Hl(this,ur),ps==eo){Es==4&&(this.s=4,Hn(14),Ut=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(ps==ls){this.s=4,Hn(15),pr(this.i,this.l,ur,"[Invalid Chunk]"),Ut=!1;break}else pr(this.i,this.l,ps,null),El(this,ps);if(fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Es!=4||ur.length!=0||this.h.h||(this.s=1,Hn(16),Ut=!1),this.o=this.o&&Ut,!Ut)pr(this.i,this.l,ur,"[Invalid Chunked Response]"),_o(this),No(this);else if(0<ur.length&&!this.W){this.W=!0;var jr=this.j;jr.g==this&&jr.ba&&!jr.M&&(jr.j.info("Great, no buffering proxy detected. Bytes received: "+ur.length),Ns(jr),jr.M=!0,Hn(11))}}else pr(this.i,this.l,ur,null),El(this,ur);Es==4&&_o(this),this.o&&!this.J&&(Es==4?Ms(this.j,this):(this.o=!1,Ho(this)))}else Ur(this.g),Ut==400&&0<ur.indexOf("Unknown SID")?(this.s=3,Hn(12)):(this.s=0,Hn(13)),_o(this),No(this)}}}catch{}finally{}};function fo(vt){return vt.g?vt.u=="GET"&&vt.L!=2&&vt.j.Ca:!1}function Hl(vt,Lt){var Ut=vt.C,ln=Lt.indexOf(`
`,Ut);return ln==-1?eo:(Ut=Number(Lt.substring(Ut,ln)),isNaN(Ut)?ls:(ln+=1,ln+Ut>Lt.length?eo:(Lt=Lt.slice(ln,ln+Ut),vt.C=ln+Ut,Lt)))}ns.prototype.cancel=function(){this.J=!0,_o(this)};function Ho(vt){vt.S=Date.now()+vt.I,po(vt,vt.I)}function po(vt,Lt){if(vt.B!=null)throw Error("WatchDog timer not null");vt.B=rr(yt(vt.ba,vt),Lt)}function _l(vt){vt.B&&(ht.clearTimeout(vt.B),vt.B=null)}ns.prototype.ba=function(){this.B=null;const vt=Date.now();0<=vt-this.S?(Zr(this.i,this.A),this.L!=2&&(fn(),Hn(17)),_o(this),this.s=2,No(this)):po(this,this.S-vt)};function No(vt){vt.j.G==0||vt.J||Ms(vt.j,vt)}function _o(vt){_l(vt);var Lt=vt.M;Lt&&typeof Lt.ma=="function"&&Lt.ma(),vt.M=null,ss(vt.U),vt.g&&(Lt=vt.g,vt.g=null,Lt.abort(),Lt.ma())}function El(vt,Lt){try{var Ut=vt.j;if(Ut.G!=0&&(Ut.g==vt||ga(Ut.h,vt))){if(!vt.K&&ga(Ut.h,vt)&&Ut.G==3){try{var ln=Ut.Da.g.parse(Lt)}catch{ln=null}if(Array.isArray(ln)&&ln.length==3){var Mn=ln;if(Mn[0]==0){e:if(!Ut.u){if(Ut.g)if(Ut.g.F+3e3<vt.F)Ss(Ut),qr(Ut);else break e;Ls(Ut),Hn(18)}}else Ut.za=Mn[1],0<Ut.za-Ut.T&&37500>Mn[2]&&Ut.F&&Ut.v==0&&!Ut.C&&(Ut.C=rr(yt(Ut.Za,Ut),6e3));if(1>=wl(Ut.h)&&Ut.ca){try{Ut.ca()}catch{}Ut.ca=void 0}}else Zs(Ut,11)}else if((vt.K||Ut.g==vt)&&Ss(Ut),!_t(Lt))for(Mn=Ut.Da.g.parse(Lt),Lt=0;Lt<Mn.length;Lt++){let os=Mn[Lt];if(Ut.T=os[0],os=os[1],Ut.G==2)if(os[0]=="c"){Ut.K=os[1],Ut.ia=os[2];const jr=os[3];jr!=null&&(Ut.la=jr,Ut.j.info("VER="+Ut.la));const Es=os[4];Es!=null&&(Ut.Aa=Es,Ut.j.info("SVER="+Ut.Aa));const ws=os[5];ws!=null&&typeof ws=="number"&&0<ws&&(ln=1.5*ws,Ut.L=ln,Ut.j.info("backChannelRequestTimeoutMs_="+ln)),ln=Ut;const ps=vt.g;if(ps){const zs=ps.g?ps.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var Yn=ln.h;Yn.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(Yn.j=Yn.l,Yn.g=new Set,Yn.h&&(Rl(Yn,Yn.h),Yn.h=null))}if(ln.D){const As=ps.g?ps.g.getResponseHeader("X-HTTP-Session-Id"):null;As&&(ln.ya=As,Is(ln.I,ln.D,As))}}Ut.G=3,Ut.l&&Ut.l.ua(),Ut.ba&&(Ut.R=Date.now()-vt.F,Ut.j.info("Handshake RTT: "+Ut.R+"ms")),ln=Ut;var ur=vt;if(ln.qa=Gs(ln,ln.J?ln.ia:null,ln.W),ur.K){Mo(ln.h,ur);var ts=ur,_s=ln.L;_s&&(ts.I=_s),ts.B&&(_l(ts),Ho(ts)),ln.g=ur}else Ds(ln);0<Ut.i.length&&cs(Ut)}else os[0]!="stop"&&os[0]!="close"||Zs(Ut,7);else Ut.G==3&&(os[0]=="stop"||os[0]=="close"?os[0]=="stop"?Zs(Ut,7):Jr(Ut):os[0]!="noop"&&Ut.l&&Ut.l.ta(os),Ut.v=0)}}fn(4)}catch{}}var zl=class{constructor(vt,Lt){this.g=vt,this.map=Lt}};function Dl(vt){this.l=vt||10,ht.PerformanceNavigationTiming?(vt=ht.performance.getEntriesByType("navigation"),vt=0<vt.length&&(vt[0].nextHopProtocol=="hq"||vt[0].nextHopProtocol=="h2")):vt=!!(ht.chrome&&ht.chrome.loadTimes&&ht.chrome.loadTimes()&&ht.chrome.loadTimes().wasFetchedViaSpdy),this.j=vt?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(vt){return vt.h?!0:vt.g?vt.g.size>=vt.j:!1}function wl(vt){return vt.h?1:vt.g?vt.g.size:0}function ga(vt,Lt){return vt.h?vt.h==Lt:vt.g?vt.g.has(Lt):!1}function Rl(vt,Lt){vt.g?vt.g.add(Lt):vt.h=Lt}function Mo(vt,Lt){vt.h&&vt.h==Lt?vt.h=null:vt.g&&vt.g.has(Lt)&&vt.g.delete(Lt)}Dl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const vt of this.g.values())vt.cancel();this.g.clear()}};function Nl(vt){if(vt.h!=null)return vt.i.concat(vt.h.D);if(vt.g!=null&&vt.g.size!==0){let Lt=vt.i;for(const Ut of vt.g.values())Lt=Lt.concat(Ut.D);return Lt}return Et(vt.i)}function Wl(vt){if(vt.V&&typeof vt.V=="function")return vt.V();if(typeof Map<"u"&&vt instanceof Map||typeof Set<"u"&&vt instanceof Set)return Array.from(vt.values());if(typeof vt=="string")return vt.split("");if(ft(vt)){for(var Lt=[],Ut=vt.length,ln=0;ln<Ut;ln++)Lt.push(vt[ln]);return Lt}Lt=[],Ut=0;for(ln in vt)Lt[Ut++]=vt[ln];return Lt}function mo(vt){if(vt.na&&typeof vt.na=="function")return vt.na();if(!vt.V||typeof vt.V!="function"){if(typeof Map<"u"&&vt instanceof Map)return Array.from(vt.keys());if(!(typeof Set<"u"&&vt instanceof Set)){if(ft(vt)||typeof vt=="string"){var Lt=[];vt=vt.length;for(var Ut=0;Ut<vt;Ut++)Lt.push(Ut);return Lt}Lt=[],Ut=0;for(const ln in vt)Lt[Ut++]=ln;return Lt}}}function to(vt,Lt){if(vt.forEach&&typeof vt.forEach=="function")vt.forEach(Lt,void 0);else if(ft(vt)||typeof vt=="string")Array.prototype.forEach.call(vt,Lt,void 0);else for(var Ut=mo(vt),ln=Wl(vt),Mn=ln.length,Yn=0;Yn<Mn;Yn++)Lt.call(void 0,ln[Yn],Ut&&Ut[Yn],vt)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(vt,Lt){if(vt){vt=vt.split("&");for(var Ut=0;Ut<vt.length;Ut++){var ln=vt[Ut].indexOf("="),Mn=null;if(0<=ln){var Yn=vt[Ut].substring(0,ln);Mn=vt[Ut].substring(ln+1)}else Yn=vt[Ut];Lt(Yn,Mn?decodeURIComponent(Mn.replace(/\+/g," ")):"")}}}function go(vt){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,vt instanceof go){this.h=vt.h,io(this,vt.j),this.o=vt.o,this.g=vt.g,yo(this,vt.s),this.l=vt.l;var Lt=vt.i,Ut=new qo;Ut.i=Lt.i,Lt.g&&(Ut.g=new Map(Lt.g),Ut.h=Lt.h),Oo(this,Ut),this.m=vt.m}else vt&&(Lt=String(vt).match(So))?(this.h=!1,io(this,Lt[1]||"",!0),this.o=Fo(Lt[2]||""),this.g=Fo(Lt[3]||"",!0),yo(this,Lt[4]),this.l=Fo(Lt[5]||"",!0),Oo(this,Lt[6]||"",!0),this.m=Fo(Lt[7]||"")):(this.h=!1,this.i=new qo(null,this.h))}go.prototype.toString=function(){var vt=[],Lt=this.j;Lt&&vt.push(xo(Lt,Ml,!0),":");var Ut=this.g;return(Ut||Lt=="file")&&(vt.push("//"),(Lt=this.o)&&vt.push(xo(Lt,Ml,!0),"@"),vt.push(encodeURIComponent(String(Ut)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Ut=this.s,Ut!=null&&vt.push(":",String(Ut))),(Ut=this.l)&&(this.g&&Ut.charAt(0)!="/"&&vt.push("/"),vt.push(xo(Ut,Ut.charAt(0)=="/"?Wo:Eo,!0))),(Ut=this.i.toString())&&vt.push("?",Ut),(Ut=this.m)&&vt.push("#",xo(Ut,ba)),vt.join("")};function ao(vt){return new go(vt)}function io(vt,Lt,Ut){vt.j=Ut?Fo(Lt,!0):Lt,vt.j&&(vt.j=vt.j.replace(/:$/,""))}function yo(vt,Lt){if(Lt){if(Lt=Number(Lt),isNaN(Lt)||0>Lt)throw Error("Bad port number "+Lt);vt.s=Lt}else vt.s=null}function Oo(vt,Lt,Ut){Lt instanceof qo?(vt.i=Lt,Al(vt.i,vt.h)):(Ut||(Lt=xo(Lt,Co)),vt.i=new qo(Lt,vt.h))}function Is(vt,Lt,Ut){vt.i.set(Lt,Ut)}function Lo(vt){return Is(vt,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),vt}function Fo(vt,Lt){return vt?Lt?decodeURI(vt.replace(/%25/g,"%2525")):decodeURIComponent(vt):""}function xo(vt,Lt,Ut){return typeof vt=="string"?(vt=encodeURI(vt).replace(Lt,xa),Ut&&(vt=vt.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),vt):null}function xa(vt){return vt=vt.charCodeAt(0),"%"+(vt>>4&15).toString(16)+(vt&15).toString(16)}var Ml=/[#\/\?@]/g,Eo=/[#\?:]/g,Wo=/[#\?]/g,Co=/[#\?@]/g,ba=/#/g;function qo(vt,Lt){this.h=this.g=null,this.i=vt||null,this.j=!!Lt}function no(vt){vt.g||(vt.g=new Map,vt.h=0,vt.i&&oo(vt.i,function(Lt,Ut){vt.add(decodeURIComponent(Lt.replace(/\+/g," ")),Ut)}))}ot=qo.prototype,ot.add=function(vt,Lt){no(this),this.i=null,vt=Po(this,vt);var Ut=this.g.get(vt);return Ut||this.g.set(vt,Ut=[]),Ut.push(Lt),this.h+=1,this};function Go(vt,Lt){no(vt),Lt=Po(vt,Lt),vt.g.has(Lt)&&(vt.i=null,vt.h-=vt.g.get(Lt).length,vt.g.delete(Lt))}function Ko(vt,Lt){return no(vt),Lt=Po(vt,Lt),vt.g.has(Lt)}ot.forEach=function(vt,Lt){no(this),this.g.forEach(function(Ut,ln){Ut.forEach(function(Mn){vt.call(Lt,Mn,ln,this)},this)},this)},ot.na=function(){no(this);const vt=Array.from(this.g.values()),Lt=Array.from(this.g.keys()),Ut=[];for(let ln=0;ln<Lt.length;ln++){const Mn=vt[ln];for(let Yn=0;Yn<Mn.length;Yn++)Ut.push(Lt[ln])}return Ut},ot.V=function(vt){no(this);let Lt=[];if(typeof vt=="string")Ko(this,vt)&&(Lt=Lt.concat(this.g.get(Po(this,vt))));else{vt=Array.from(this.g.values());for(let Ut=0;Ut<vt.length;Ut++)Lt=Lt.concat(vt[Ut])}return Lt},ot.set=function(vt,Lt){return no(this),this.i=null,vt=Po(this,vt),Ko(this,vt)&&(this.h-=this.g.get(vt).length),this.g.set(vt,[Lt]),this.h+=1,this},ot.get=function(vt,Lt){return vt?(vt=this.V(vt),0<vt.length?String(vt[0]):Lt):Lt};function Tl(vt,Lt,Ut){Go(vt,Lt),0<Ut.length&&(vt.i=null,vt.g.set(Po(vt,Lt),Et(Ut)),vt.h+=Ut.length)}ot.toString=function(){if(this.i)return this.i;if(!this.g)return"";const vt=[],Lt=Array.from(this.g.keys());for(var Ut=0;Ut<Lt.length;Ut++){var ln=Lt[Ut];const Yn=encodeURIComponent(String(ln)),ur=this.V(ln);for(ln=0;ln<ur.length;ln++){var Mn=Yn;ur[ln]!==""&&(Mn+="="+encodeURIComponent(String(ur[ln]))),vt.push(Mn)}}return this.i=vt.join("&")};function Po(vt,Lt){return Lt=String(Lt),vt.j&&(Lt=Lt.toLowerCase()),Lt}function Al(vt,Lt){Lt&&!vt.j&&(no(vt),vt.i=null,vt.g.forEach(function(Ut,ln){var Mn=ln.toLowerCase();ln!=Mn&&(Go(this,ln),Tl(this,Mn,Ut))},vt)),vt.j=Lt}function Yo(vt,Lt){const Ut=new lr;if(ht.Image){const ln=new Image;ln.onload=xt(wo,Ut,"TestLoadImage: loaded",!0,Lt,ln),ln.onerror=xt(wo,Ut,"TestLoadImage: error",!1,Lt,ln),ln.onabort=xt(wo,Ut,"TestLoadImage: abort",!1,Lt,ln),ln.ontimeout=xt(wo,Ut,"TestLoadImage: timeout",!1,Lt,ln),ht.setTimeout(function(){ln.ontimeout&&ln.ontimeout()},1e4),ln.src=vt}else Lt(!1)}function au(vt,Lt){const Ut=new lr,ln=new AbortController,Mn=setTimeout(()=>{ln.abort(),wo(Ut,"TestPingServer: timeout",!1,Lt)},1e4);fetch(vt,{signal:ln.signal}).then(Yn=>{clearTimeout(Mn),Yn.ok?wo(Ut,"TestPingServer: ok",!0,Lt):wo(Ut,"TestPingServer: server error",!1,Lt)}).catch(()=>{clearTimeout(Mn),wo(Ut,"TestPingServer: error",!1,Lt)})}function wo(vt,Lt,Ut,ln,Mn){try{Mn&&(Mn.onload=null,Mn.onerror=null,Mn.onabort=null,Mn.ontimeout=null),ln(Ut)}catch{}}function Ht(){this.g=new Vn}function un(vt,Lt,Ut){const ln=Ut||"";try{to(vt,function(Mn,Yn){let ur=Mn;pt(Mn)&&(ur=nr(Mn)),Lt.push(ln+Yn+"="+encodeURIComponent(ur))})}catch(Mn){throw Lt.push(ln+"type="+encodeURIComponent("_badmap")),Mn}}function bn(vt){this.l=vt.Ub||null,this.j=vt.eb||!1}bt(bn,vr),bn.prototype.g=function(){return new Rn(this.l,this.j)},bn.prototype.i=function(vt){return function(){return vt}}({});function Rn(vt,Lt){er.call(this),this.D=vt,this.o=Lt,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}bt(Rn,er),ot=Rn.prototype,ot.open=function(vt,Lt){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=vt,this.A=Lt,this.readyState=1,Bn(this)},ot.send=function(vt){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Lt={headers:this.u,method:this.B,credentials:this.m,cache:void 0};vt&&(Lt.body=vt),(this.D||ht).fetch(new Request(this.A,Lt)).then(this.Sa.bind(this),this.ga.bind(this))},ot.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,In(this)),this.readyState=0},ot.Sa=function(vt){if(this.g&&(this.l=vt,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=vt.headers,this.readyState=2,Bn(this)),this.g&&(this.readyState=3,Bn(this),this.g)))if(this.responseType==="arraybuffer")vt.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof ht.ReadableStream<"u"&&"body"in vt){if(this.j=vt.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cn(this)}else vt.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cn(vt){vt.j.read().then(vt.Pa.bind(vt)).catch(vt.ga.bind(vt))}ot.Pa=function(vt){if(this.g){if(this.o&&vt.value)this.response.push(vt.value);else if(!this.o){var Lt=vt.value?vt.value:new Uint8Array(0);(Lt=this.v.decode(Lt,{stream:!vt.done}))&&(this.response=this.responseText+=Lt)}vt.done?In(this):Bn(this),this.readyState==3&&Cn(this)}},ot.Ra=function(vt){this.g&&(this.response=this.responseText=vt,In(this))},ot.Qa=function(vt){this.g&&(this.response=vt,In(this))},ot.ga=function(){this.g&&In(this)};function In(vt){vt.readyState=4,vt.l=null,vt.j=null,vt.v=null,Bn(vt)}ot.setRequestHeader=function(vt,Lt){this.u.append(vt,Lt)},ot.getResponseHeader=function(vt){return this.h&&this.h.get(vt.toLowerCase())||""},ot.getAllResponseHeaders=function(){if(!this.h)return"";const vt=[],Lt=this.h.entries();for(var Ut=Lt.next();!Ut.done;)Ut=Ut.value,vt.push(Ut[0]+": "+Ut[1]),Ut=Lt.next();return vt.join(`\r
`)};function Bn(vt){vt.onreadystatechange&&vt.onreadystatechange.call(vt)}Object.defineProperty(Rn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(vt){this.m=vt?"include":"same-origin"}});function Fn(vt){let Lt="";return Nt(vt,function(Ut,ln){Lt+=ln,Lt+=":",Lt+=Ut,Lt+=`\r
`}),Lt}function Tn(vt,Lt,Ut){e:{for(ln in Ut){var ln=!1;break e}ln=!0}ln||(Ut=Fn(Ut),typeof vt=="string"?Ut!=null&&encodeURIComponent(String(Ut)):Is(vt,Lt,Ut))}function Nn(vt){er.call(this),this.headers=new Map,this.o=vt||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}bt(Nn,er);var $n=/^https?$/i,ar=["POST","PUT"];ot=Nn.prototype,ot.Ha=function(vt){this.J=vt},ot.ea=function(vt,Lt,Ut,ln){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+vt);Lt=Lt?Lt.toUpperCase():"GET",this.D=vt,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xr.g(),this.v=this.o?Tr(this.o):Tr(Xr),this.g.onreadystatechange=yt(this.Ea,this);try{this.B=!0,this.g.open(Lt,String(vt),!0),this.B=!1}catch(Yn){ir(this,Yn);return}if(vt=Ut||"",Ut=new Map(this.headers),ln)if(Object.getPrototypeOf(ln)===Object.prototype)for(var Mn in ln)Ut.set(Mn,ln[Mn]);else if(typeof ln.keys=="function"&&typeof ln.get=="function")for(const Yn of ln.keys())Ut.set(Yn,ln.get(Yn));else throw Error("Unknown input type for opt_headers: "+String(ln));ln=Array.from(Ut.keys()).find(Yn=>Yn.toLowerCase()=="content-type"),Mn=ht.FormData&&vt instanceof ht.FormData,!(0<=Array.prototype.indexOf.call(ar,Lt,void 0))||ln||Mn||Ut.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Yn,ur]of Ut)this.g.setRequestHeader(Yn,ur);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hr(this),this.u=!0,this.g.send(vt),this.u=!1}catch(Yn){ir(this,Yn)}};function ir(vt,Lt){vt.h=!1,vt.g&&(vt.j=!0,vt.g.abort(),vt.j=!1),vt.l=Lt,vt.m=5,sr(vt),cr(vt)}function sr(vt){vt.A||(vt.A=!0,Qn(vt,"complete"),Qn(vt,"error"))}ot.abort=function(vt){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=vt||7,Qn(this,"complete"),Qn(this,"abort"),cr(this))},ot.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cr(this,!0)),Nn.aa.N.call(this)},ot.Ea=function(){this.s||(this.B||this.u||this.j?xr(this):this.bb())},ot.bb=function(){xr(this)};function xr(vt){if(vt.h&&typeof dt<"u"&&(!vt.v[1]||es(vt)!=4||vt.Z()!=2)){if(vt.u&&es(vt)==4)yr(vt.Ea,0,vt);else if(Qn(vt,"readystatechange"),es(vt)==4){vt.h=!1;try{const ur=vt.Z();e:switch(ur){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Lt=!0;break e;default:Lt=!1}var Ut;if(!(Ut=Lt)){var ln;if(ln=ur===0){var Mn=String(vt.D).match(So)[1]||null;!Mn&&ht.self&&ht.self.location&&(Mn=ht.self.location.protocol.slice(0,-1)),ln=!$n.test(Mn?Mn.toLowerCase():"")}Ut=ln}if(Ut)Qn(vt,"complete"),Qn(vt,"success");else{vt.m=6;try{var Yn=2<es(vt)?vt.g.statusText:""}catch{Yn=""}vt.l=Yn+" ["+vt.Z()+"]",sr(vt)}}finally{cr(vt)}}}}function cr(vt,Lt){if(vt.g){hr(vt);const Ut=vt.g,ln=vt.v[0]?()=>{}:null;vt.g=null,vt.v=null,Lt||Qn(vt,"ready");try{Ut.onreadystatechange=ln}catch{}}}function hr(vt){vt.I&&(ht.clearTimeout(vt.I),vt.I=null)}ot.isActive=function(){return!!this.g};function es(vt){return vt.g?vt.g.readyState:0}ot.Z=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},ot.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ot.Oa=function(vt){if(this.g){var Lt=this.g.responseText;return vt&&Lt.indexOf(vt)==0&&(Lt=Lt.substring(vt.length)),Ln(Lt)}};function $r(vt){try{if(!vt.g)return null;if("response"in vt.g)return vt.g.response;switch(vt.H){case"":case"text":return vt.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in vt.g)return vt.g.mozResponseArrayBuffer}return null}catch{return null}}function Ur(vt){const Lt={};vt=(vt.g&&2<=es(vt)&&vt.g.getAllResponseHeaders()||"").split(`\r
`);for(let ln=0;ln<vt.length;ln++){if(_t(vt[ln]))continue;var Ut=Dt(vt[ln]);const Mn=Ut[0];if(Ut=Ut[1],typeof Ut!="string")continue;Ut=Ut.trim();const Yn=Lt[Mn]||[];Lt[Mn]=Yn,Yn.push(Ut)}Pt(Lt,function(ln){return ln.join(", ")})}ot.Ba=function(){return this.m},ot.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(vt,Lt,Ut){return Ut&&Ut.internalChannelParams&&Ut.internalChannelParams[vt]||Lt}function Nr(vt){this.Aa=0,this.i=[],this.j=new lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wr("failFast",!1,vt),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wr("baseRetryDelayMs",5e3,vt),this.cb=Wr("retryDelaySeedMs",1e4,vt),this.Wa=Wr("forwardChannelMaxRetries",2,vt),this.wa=Wr("forwardChannelRequestTimeoutMs",2e4,vt),this.pa=vt&&vt.xmlHttpFactory||void 0,this.Xa=vt&&vt.Tb||void 0,this.Ca=vt&&vt.useFetchStreams||!1,this.L=void 0,this.J=vt&&vt.supportsCrossDomainXhr||!1,this.K="",this.h=new Dl(vt&&vt.concurrentRequestLimit),this.Da=new Ht,this.P=vt&&vt.fastHandshake||!1,this.O=vt&&vt.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=vt&&vt.Rb||!1,vt&&vt.xa&&this.j.xa(),vt&&vt.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&vt&&vt.detectBufferingProxy||!1,this.ja=void 0,vt&&vt.longPollingTimeout&&0<vt.longPollingTimeout&&(this.ja=vt.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}ot=Nr.prototype,ot.la=8,ot.G=1,ot.connect=function(vt,Lt,Ut,ln){Hn(0),this.W=vt,this.H=Lt||{},Ut&&ln!==void 0&&(this.H.OSID=Ut,this.H.OAID=ln),this.F=this.X,this.I=Gs(this,null,this.W),cs(this)};function Jr(vt){if(ys(vt),vt.G==3){var Lt=vt.U++,Ut=ao(vt.I);if(Is(Ut,"SID",vt.K),Is(Ut,"RID",Lt),Is(Ut,"TYPE","terminate"),us(vt,Ut),Lt=new ns(vt,vt.j,Lt),Lt.L=2,Lt.v=Lo(ao(Ut)),Ut=!1,ht.navigator&&ht.navigator.sendBeacon)try{Ut=ht.navigator.sendBeacon(Lt.v.toString(),"")}catch{}!Ut&&ht.Image&&(new Image().src=Lt.v,Ut=!0),Ut||(Lt.g=ro(Lt.j,null),Lt.g.ea(Lt.v)),Lt.F=Date.now(),Ho(Lt)}lo(vt)}function qr(vt){vt.g&&(Ns(vt),vt.g.cancel(),vt.g=null)}function ys(vt){qr(vt),vt.u&&(ht.clearTimeout(vt.u),vt.u=null),Ss(vt),vt.h.cancel(),vt.s&&(typeof vt.s=="number"&&ht.clearTimeout(vt.s),vt.s=null)}function cs(vt){if(!zo(vt.h)&&!vt.s){vt.s=!0;var Lt=vt.Ga;Kt||Wt(),sn||(Kt(),sn=!0),Gt.add(Lt,vt),vt.B=0}}function xs(vt,Lt){return wl(vt.h)>=vt.h.j-(vt.s?1:0)?!1:vt.s?(vt.i=Lt.D.concat(vt.i),!0):vt.G==1||vt.G==2||vt.B>=(vt.Va?0:vt.Wa)?!1:(vt.s=rr(yt(vt.Ga,vt,Lt),Ks(vt,vt.B)),vt.B++,!0)}ot.Ga=function(vt){if(this.s)if(this.s=null,this.G==1){if(!vt){this.U=Math.floor(1e5*Math.random()),vt=this.U++;const Mn=new ns(this,this.j,vt);let Yn=this.o;if(this.S&&(Yn?(Yn=Tt(Yn),Ot(Yn,this.S)):Yn=this.S),this.m!==null||this.O||(Mn.H=Yn,Yn=null),this.P)e:{for(var Lt=0,Ut=0;Ut<this.i.length;Ut++){t:{var ln=this.i[Ut];if("__data__"in ln.map&&(ln=ln.map.__data__,typeof ln=="string")){ln=ln.length;break t}ln=void 0}if(ln===void 0)break;if(Lt+=ln,4096<Lt){Lt=Ut;break e}if(Lt===4096||Ut===this.i.length-1){Lt=Ut+1;break e}}Lt=1e3}else Lt=1e3;Lt=Hs(this,Mn,Lt),Ut=ao(this.I),Is(Ut,"RID",vt),Is(Ut,"CVER",22),this.D&&Is(Ut,"X-HTTP-Session-Id",this.D),us(this,Ut),Yn&&(this.O?Lt="headers="+encodeURIComponent(String(Fn(Yn)))+"&"+Lt:this.m&&Tn(Ut,this.m,Yn)),Rl(this.h,Mn),this.Ua&&Is(Ut,"TYPE","init"),this.P?(Is(Ut,"$req",Lt),Is(Ut,"SID","null"),Mn.T=!0,Qs(Mn,Ut,null)):Qs(Mn,Ut,Lt),this.G=2}}else this.G==3&&(vt?bs(this,vt):this.i.length==0||zo(this.h)||bs(this))};function bs(vt,Lt){var Ut;Lt?Ut=Lt.l:Ut=vt.U++;const ln=ao(vt.I);Is(ln,"SID",vt.K),Is(ln,"RID",Ut),Is(ln,"AID",vt.T),us(vt,ln),vt.m&&vt.o&&Tn(ln,vt.m,vt.o),Ut=new ns(vt,vt.j,Ut,vt.B+1),vt.m===null&&(Ut.H=vt.o),Lt&&(vt.i=Lt.D.concat(vt.i)),Lt=Hs(vt,Ut,1e3),Ut.I=Math.round(.5*vt.wa)+Math.round(.5*vt.wa*Math.random()),Rl(vt.h,Ut),Qs(Ut,ln,Lt)}function us(vt,Lt){vt.H&&Nt(vt.H,function(Ut,ln){Is(Lt,ln,Ut)}),vt.l&&to({},function(Ut,ln){Is(Lt,ln,Ut)})}function Hs(vt,Lt,Ut){Ut=Math.min(vt.i.length,Ut);var ln=vt.l?yt(vt.l.Na,vt.l,vt):null;e:{var Mn=vt.i;let Yn=-1;for(;;){const ur=["count="+Ut];Yn==-1?0<Ut?(Yn=Mn[0].g,ur.push("ofs="+Yn)):Yn=0:ur.push("ofs="+Yn);let ts=!0;for(let _s=0;_s<Ut;_s++){let os=Mn[_s].g;const jr=Mn[_s].map;if(os-=Yn,0>os)Yn=Math.max(0,Mn[_s].g-100),ts=!1;else try{un(jr,ur,"req"+os+"_")}catch{ln&&ln(jr)}}if(ts){ln=ur.join("&");break e}}}return vt=vt.i.splice(0,Ut),Lt.D=vt,ln}function Ds(vt){if(!vt.g&&!vt.u){vt.Y=1;var Lt=vt.Fa;Kt||Wt(),sn||(Kt(),sn=!0),Gt.add(Lt,vt),vt.v=0}}function Ls(vt){return vt.g||vt.u||3<=vt.v?!1:(vt.Y++,vt.u=rr(yt(vt.Fa,vt),Ks(vt,vt.v)),vt.v++,!0)}ot.Fa=function(){if(this.u=null,Fs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var vt=2*this.R;this.j.info("BP detection timer enabled: "+vt),this.A=rr(yt(this.ab,this),vt)}},ot.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Hn(10),qr(this),Fs(this))};function Ns(vt){vt.A!=null&&(ht.clearTimeout(vt.A),vt.A=null)}function Fs(vt){vt.g=new ns(vt,vt.j,"rpc",vt.Y),vt.m===null&&(vt.g.H=vt.o),vt.g.O=0;var Lt=ao(vt.qa);Is(Lt,"RID","rpc"),Is(Lt,"SID",vt.K),Is(Lt,"AID",vt.T),Is(Lt,"CI",vt.F?"0":"1"),!vt.F&&vt.ja&&Is(Lt,"TO",vt.ja),Is(Lt,"TYPE","xmlhttp"),us(vt,Lt),vt.m&&vt.o&&Tn(Lt,vt.m,vt.o),vt.L&&(vt.g.I=vt.L);var Ut=vt.g;vt=vt.ia,Ut.L=1,Ut.v=Lo(ao(Lt)),Ut.m=null,Ut.P=!0,Js(Ut,vt)}ot.Za=function(){this.C!=null&&(this.C=null,qr(this),Ls(this),Hn(19))};function Ss(vt){vt.C!=null&&(ht.clearTimeout(vt.C),vt.C=null)}function Ms(vt,Lt){var Ut=null;if(vt.g==Lt){Ss(vt),Ns(vt),vt.g=null;var ln=2}else if(ga(vt.h,Lt))Ut=Lt.D,Mo(vt.h,Lt),ln=1;else return;if(vt.G!=0){if(Lt.o)if(ln==1){Ut=Lt.m?Lt.m.length:0,Lt=Date.now()-Lt.F;var Mn=vt.B;ln=_r(),Qn(ln,new Zn(ln,Ut)),cs(vt)}else Ds(vt);else if(Mn=Lt.s,Mn==3||Mn==0&&0<Lt.X||!(ln==1&&xs(vt,Lt)||ln==2&&Ls(vt)))switch(Ut&&0<Ut.length&&(Lt=vt.h,Lt.i=Lt.i.concat(Ut)),Mn){case 1:Zs(vt,5);break;case 4:Zs(vt,10);break;case 3:Zs(vt,6);break;default:Zs(vt,2)}}}function Ks(vt,Lt){let Ut=vt.Ta+Math.floor(Math.random()*vt.cb);return vt.isActive()||(Ut*=2),Ut*Lt}function Zs(vt,Lt){if(vt.j.info("Error code "+Lt),Lt==2){var Ut=yt(vt.fb,vt),ln=vt.Xa;const Mn=!ln;ln=new go(ln||"//www.google.com/images/cleardot.gif"),ht.location&&ht.location.protocol=="http"||io(ln,"https"),Lo(ln),Mn?Yo(ln.toString(),Ut):au(ln.toString(),Ut)}else Hn(2);vt.G=0,vt.l&&vt.l.sa(Lt),lo(vt),ys(vt)}ot.fb=function(vt){vt?(this.j.info("Successfully pinged google.com"),Hn(2)):(this.j.info("Failed to ping google.com"),Hn(1))};function lo(vt){if(vt.G=0,vt.ka=[],vt.l){const Lt=Nl(vt.h);(Lt.length!=0||vt.i.length!=0)&&(Rt(vt.ka,Lt),Rt(vt.ka,vt.i),vt.h.i.length=0,Et(vt.i),vt.i.length=0),vt.l.ra()}}function Gs(vt,Lt,Ut){var ln=Ut instanceof go?ao(Ut):new go(Ut);if(ln.g!="")Lt&&(ln.g=Lt+"."+ln.g),yo(ln,ln.s);else{var Mn=ht.location;ln=Mn.protocol,Lt=Lt?Lt+"."+Mn.hostname:Mn.hostname,Mn=+Mn.port;var Yn=new go(null);ln&&io(Yn,ln),Lt&&(Yn.g=Lt),Mn&&yo(Yn,Mn),Ut&&(Yn.l=Ut),ln=Yn}return Ut=vt.D,Lt=vt.ya,Ut&&Lt&&Is(ln,Ut,Lt),Is(ln,"VER",vt.la),us(vt,ln),ln}function ro(vt,Lt,Ut){if(Lt&&!vt.J)throw Error("Can't create secondary domain capable XhrIo object.");return Lt=vt.Ca&&!vt.pa?new Nn(new bn({eb:Ut})):new Nn(vt.pa),Lt.Ha(vt.J),Lt}ot.isActive=function(){return!!this.l&&this.l.isActive(this)};function bo(){}ot=bo.prototype,ot.ua=function(){},ot.ta=function(){},ot.sa=function(){},ot.ra=function(){},ot.isActive=function(){return!0},ot.Na=function(){};function Gr(){}Gr.prototype.g=function(vt,Lt){return new Dr(vt,Lt)};function Dr(vt,Lt){er.call(this),this.g=new Nr(Lt),this.l=vt,this.h=Lt&&Lt.messageUrlParams||null,vt=Lt&&Lt.messageHeaders||null,Lt&&Lt.clientProtocolHeaderRequired&&(vt?vt["X-Client-Protocol"]="webchannel":vt={"X-Client-Protocol":"webchannel"}),this.g.o=vt,vt=Lt&&Lt.initMessageHeaders||null,Lt&&Lt.messageContentType&&(vt?vt["X-WebChannel-Content-Type"]=Lt.messageContentType:vt={"X-WebChannel-Content-Type":Lt.messageContentType}),Lt&&Lt.va&&(vt?vt["X-WebChannel-Client-Profile"]=Lt.va:vt={"X-WebChannel-Client-Profile":Lt.va}),this.g.S=vt,(vt=Lt&&Lt.Sb)&&!_t(vt)&&(this.g.m=vt),this.v=Lt&&Lt.supportsCrossDomainXhr||!1,this.u=Lt&&Lt.sendRawJson||!1,(Lt=Lt&&Lt.httpSessionIdParam)&&!_t(Lt)&&(this.g.D=Lt,vt=this.h,vt!==null&&Lt in vt&&(vt=this.h,Lt in vt&&delete vt[Lt])),this.j=new Cr(this)}bt(Dr,er),Dr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dr.prototype.close=function(){Jr(this.g)},Dr.prototype.o=function(vt){var Lt=this.g;if(typeof vt=="string"){var Ut={};Ut.__data__=vt,vt=Ut}else this.u&&(Ut={},Ut.__data__=nr(vt),vt=Ut);Lt.i.push(new zl(Lt.Ya++,vt)),Lt.G==3&&cs(Lt)},Dr.prototype.N=function(){this.g.l=null,delete this.j,Jr(this.g),delete this.g,Dr.aa.N.call(this)};function Lr(vt){tr.call(this),vt.__headers__&&(this.headers=vt.__headers__,this.statusCode=vt.__status__,delete vt.__headers__,delete vt.__status__);var Lt=vt.__sm__;if(Lt){e:{for(const Ut in Lt){vt=Ut;break e}vt=void 0}(this.i=vt)&&(vt=this.i,Lt=Lt!==null&&vt in Lt?Lt[vt]:void 0),this.data=Lt}else this.data=vt}bt(Lr,tr);function Mr(){dr.call(this),this.status=1}bt(Mr,dr);function Cr(vt){this.g=vt}bt(Cr,bo),Cr.prototype.ua=function(){Qn(this.g,"a")},Cr.prototype.ta=function(vt){Qn(this.g,new Lr(vt))},Cr.prototype.sa=function(vt){Qn(this.g,new Mr)},Cr.prototype.ra=function(){Qn(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,Dr.prototype.send=Dr.prototype.o,Dr.prototype.open=Dr.prototype.m,Dr.prototype.close=Dr.prototype.close,createWebChannelTransport=function(){return new Gr},getStatEventTarget=function(){return _r()},Event$1=Rr,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,ErrorCode$1=Pr,Br.COMPLETE="complete",EventType=Br,Or.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",er.prototype.listen=er.prototype.K,WebChannel=Or,FetchXmlHttpFactory=bn,Nn.prototype.listenOnce=Nn.prototype.L,Nn.prototype.getLastError=Nn.prototype.Ka,Nn.prototype.getLastErrorCode=Nn.prototype.Ba,Nn.prototype.getStatus=Nn.prototype.Z,Nn.prototype.getResponseJson=Nn.prototype.Oa,Nn.prototype.getResponseText=Nn.prototype.oa,Nn.prototype.send=Nn.prototype.ea,Nn.prototype.setWithCredentials=Nn.prototype.Ha,XhrIo=Nn}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const S$3="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(rt){this.uid=rt}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(rt){return rt.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b$4="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$4=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return D$4.logLevel}function __PRIVATE_logDebug(ot,...rt){if(D$4.logLevel<=LogLevel.DEBUG){const at=rt.map(__PRIVATE_argToString);D$4.debug(`Firestore (${b$4}): ${ot}`,...at)}}function __PRIVATE_logError(ot,...rt){if(D$4.logLevel<=LogLevel.ERROR){const at=rt.map(__PRIVATE_argToString);D$4.error(`Firestore (${b$4}): ${ot}`,...at)}}function __PRIVATE_logWarn(ot,...rt){if(D$4.logLevel<=LogLevel.WARN){const at=rt.map(__PRIVATE_argToString);D$4.warn(`Firestore (${b$4}): ${ot}`,...at)}}function __PRIVATE_argToString(ot){if(typeof ot=="string")return ot;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(at){return JSON.stringify(at)}(ot)}catch{return ot}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(ot="Unexpected state"){const rt=`FIRESTORE (${b$4}) INTERNAL ASSERTION FAILED: `+ot;throw __PRIVATE_logError(rt),new Error(rt)}function __PRIVATE_hardAssert(ot,rt){ot||fail()}function __PRIVATE_debugCast(ot,rt){return ot}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$4={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(rt,at){super(rt,at),this.code=rt,this.message=at,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((rt,at)=>{this.resolve=rt,this.reject=at})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(rt,at){this.user=at,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${rt}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(rt,at){rt.enqueueRetryable(()=>at(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(rt){this.token=rt,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(rt,at){this.changeListener=at,rt.enqueueRetryable(()=>at(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(rt){this.t=rt,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(rt,at){let lt=this.i;const ct=ft=>this.i!==lt?(lt=this.i,at(ft)):Promise.resolve();let ut=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),ut.resolve(),ut=new __PRIVATE_Deferred,rt.enqueueRetryable(()=>ct(this.currentUser))};const dt=()=>{const ft=ut;rt.enqueueRetryable(async()=>{await ft.promise,await ct(this.currentUser)})},ht=ft=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ft,this.auth.addAuthTokenListener(this.o),dt()};this.t.onInit(ft=>ht(ft)),setTimeout(()=>{if(!this.auth){const ft=this.t.getImmediate({optional:!0});ft?ht(ft):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),ut.resolve(),ut=new __PRIVATE_Deferred)}},0),dt()}getToken(){const rt=this.i,at=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(at).then(lt=>this.i!==rt?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):lt?(__PRIVATE_hardAssert(typeof lt.accessToken=="string"),new __PRIVATE_OAuthToken(lt.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const rt=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(rt===null||typeof rt=="string"),new User(rt)}}class __PRIVATE_FirstPartyToken{constructor(rt,at,lt){this.l=rt,this.h=at,this.P=lt,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const rt=this.T();return rt&&this.I.set("Authorization",rt),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(rt,at,lt){this.l=rt,this.h=at,this.P=lt}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(rt,at){rt.enqueueRetryable(()=>at(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(rt){this.value=rt,this.type="AppCheck",this.headers=new Map,rt&&rt.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(rt){this.A=rt,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(rt,at){const lt=ut=>{ut.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${ut.error.message}`);const dt=ut.token!==this.R;return this.R=ut.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${dt?"new":"existing"} token.`),dt?at(ut.token):Promise.resolve()};this.o=ut=>{rt.enqueueRetryable(()=>lt(ut))};const ct=ut=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=ut,this.appCheck.addTokenListener(this.o)};this.A.onInit(ut=>ct(ut)),setTimeout(()=>{if(!this.appCheck){const ut=this.A.getImmediate({optional:!0});ut?ct(ut):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const rt=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(rt).then(at=>at?(__PRIVATE_hardAssert(typeof at.token=="string"),this.R=at.token,new AppCheckToken(at.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(ot){const rt=typeof self<"u"&&(self.crypto||self.msCrypto),at=new Uint8Array(ot);if(rt&&typeof rt.getRandomValues=="function")rt.getRandomValues(at);else for(let lt=0;lt<ot;lt++)at[lt]=Math.floor(256*Math.random());return at}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",at=Math.floor(256/rt.length)*rt.length;let lt="";for(;lt.length<20;){const ct=__PRIVATE_randomBytes(40);for(let ut=0;ut<ct.length;++ut)lt.length<20&&ct[ut]<at&&(lt+=rt.charAt(ct[ut]%rt.length))}return lt}}function __PRIVATE_primitiveComparator(ot,rt){return ot<rt?-1:ot>rt?1:0}function __PRIVATE_arrayEquals(ot,rt,at){return ot.length===rt.length&&ot.every((lt,ct)=>at(lt,rt[ct]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(rt,at){if(this.seconds=rt,this.nanoseconds=at,at<0)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+at);if(at>=1e9)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+at);if(rt<-62135596800)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Timestamp seconds out of range: "+rt);if(rt>=253402300800)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Timestamp seconds out of range: "+rt)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(rt){return Timestamp.fromMillis(rt.getTime())}static fromMillis(rt){const at=Math.floor(rt/1e3),lt=Math.floor(1e6*(rt-1e3*at));return new Timestamp(at,lt)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(rt){return this.seconds===rt.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,rt.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,rt.seconds)}isEqual(rt){return rt.seconds===this.seconds&&rt.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const rt=this.seconds- -62135596800;return String(rt).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(rt){this.timestamp=rt}static fromTimestamp(rt){return new SnapshotVersion(rt)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(rt){return this.timestamp._compareTo(rt.timestamp)}isEqual(rt){return this.timestamp.isEqual(rt.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(rt,at,lt){at===void 0?at=0:at>rt.length&&fail(),lt===void 0?lt=rt.length-at:lt>rt.length-at&&fail(),this.segments=rt,this.offset=at,this.len=lt}get length(){return this.len}isEqual(rt){return BasePath.comparator(this,rt)===0}child(rt){const at=this.segments.slice(this.offset,this.limit());return rt instanceof BasePath?rt.forEach(lt=>{at.push(lt)}):at.push(rt),this.construct(at)}limit(){return this.offset+this.length}popFirst(rt){return rt=rt===void 0?1:rt,this.construct(this.segments,this.offset+rt,this.length-rt)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(rt){return this.segments[this.offset+rt]}isEmpty(){return this.length===0}isPrefixOf(rt){if(rt.length<this.length)return!1;for(let at=0;at<this.length;at++)if(this.get(at)!==rt.get(at))return!1;return!0}isImmediateParentOf(rt){if(this.length+1!==rt.length)return!1;for(let at=0;at<this.length;at++)if(this.get(at)!==rt.get(at))return!1;return!0}forEach(rt){for(let at=this.offset,lt=this.limit();at<lt;at++)rt(this.segments[at])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(rt,at){const lt=Math.min(rt.length,at.length);for(let ct=0;ct<lt;ct++){const ut=rt.get(ct),dt=at.get(ct);if(ut<dt)return-1;if(ut>dt)return 1}return rt.length<at.length?-1:rt.length>at.length?1:0}}class ResourcePath extends BasePath{construct(rt,at,lt){return new ResourcePath(rt,at,lt)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...rt){const at=[];for(const lt of rt){if(lt.indexOf("//")>=0)throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid segment (${lt}). Paths must not contain // in them.`);at.push(...lt.split("/").filter(ct=>ct.length>0))}return new ResourcePath(at)}static emptyPath(){return new ResourcePath([])}}const v$4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(rt,at,lt){return new FieldPath$1(rt,at,lt)}static isValidIdentifier(rt){return v$4.test(rt)}canonicalString(){return this.toArray().map(rt=>(rt=rt.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(rt)||(rt="`"+rt+"`"),rt)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(rt){const at=[];let lt="",ct=0;const ut=()=>{if(lt.length===0)throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid field path (${rt}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);at.push(lt),lt=""};let dt=!1;for(;ct<rt.length;){const ht=rt[ct];if(ht==="\\"){if(ct+1===rt.length)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Path has trailing escape character: "+rt);const ft=rt[ct+1];if(ft!=="\\"&&ft!=="."&&ft!=="`")throw new FirestoreError(C$4.INVALID_ARGUMENT,"Path has invalid escape sequence: "+rt);lt+=ft,ct+=2}else ht==="`"?(dt=!dt,ct++):ht!=="."||dt?(lt+=ht,ct++):(ut(),ct++)}if(ut(),dt)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Unterminated ` in path: "+rt);return new FieldPath$1(at)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(rt){this.path=rt}static fromPath(rt){return new DocumentKey(ResourcePath.fromString(rt))}static fromName(rt){return new DocumentKey(ResourcePath.fromString(rt).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(rt){return this.path.length>=2&&this.path.get(this.path.length-2)===rt}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(rt){return rt!==null&&ResourcePath.comparator(this.path,rt.path)===0}toString(){return this.path.toString()}static comparator(rt,at){return ResourcePath.comparator(rt.path,at.path)}static isDocumentKey(rt){return rt.length%2==0}static fromSegments(rt){return new DocumentKey(new ResourcePath(rt.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(ot,rt){const at=ot.toTimestamp().seconds,lt=ot.toTimestamp().nanoseconds+1,ct=SnapshotVersion.fromTimestamp(lt===1e9?new Timestamp(at+1,0):new Timestamp(at,lt));return new IndexOffset(ct,DocumentKey.empty(),rt)}function __PRIVATE_newIndexOffsetFromDocument(ot){return new IndexOffset(ot.readTime,ot.key,-1)}class IndexOffset{constructor(rt,at,lt){this.readTime=rt,this.documentKey=at,this.largestBatchId=lt}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(ot,rt){let at=ot.readTime.compareTo(rt.readTime);return at!==0?at:(at=DocumentKey.comparator(ot.documentKey,rt.documentKey),at!==0?at:__PRIVATE_primitiveComparator(ot.largestBatchId,rt.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(rt){this.onCommittedListeners.push(rt)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(rt=>rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(ot){if(ot.code!==C$4.FAILED_PRECONDITION||ot.message!==F$2)throw ot;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(rt){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,rt(at=>{this.isDone=!0,this.result=at,this.nextCallback&&this.nextCallback(at)},at=>{this.isDone=!0,this.error=at,this.catchCallback&&this.catchCallback(at)})}catch(rt){return this.next(void 0,rt)}next(rt,at){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(at,this.error):this.wrapSuccess(rt,this.result):new PersistencePromise((lt,ct)=>{this.nextCallback=ut=>{this.wrapSuccess(rt,ut).next(lt,ct)},this.catchCallback=ut=>{this.wrapFailure(at,ut).next(lt,ct)}})}toPromise(){return new Promise((rt,at)=>{this.next(rt,at)})}wrapUserFunction(rt){try{const at=rt();return at instanceof PersistencePromise?at:PersistencePromise.resolve(at)}catch(at){return PersistencePromise.reject(at)}}wrapSuccess(rt,at){return rt?this.wrapUserFunction(()=>rt(at)):PersistencePromise.resolve(at)}wrapFailure(rt,at){return rt?this.wrapUserFunction(()=>rt(at)):PersistencePromise.reject(at)}static resolve(rt){return new PersistencePromise((at,lt)=>{at(rt)})}static reject(rt){return new PersistencePromise((at,lt)=>{lt(rt)})}static waitFor(rt){return new PersistencePromise((at,lt)=>{let ct=0,ut=0,dt=!1;rt.forEach(ht=>{++ct,ht.next(()=>{++ut,dt&&ut===ct&&at()},ft=>lt(ft))}),dt=!0,ut===ct&&at()})}static or(rt){let at=PersistencePromise.resolve(!1);for(const lt of rt)at=at.next(ct=>ct?PersistencePromise.resolve(ct):lt());return at}static forEach(rt,at){const lt=[];return rt.forEach((ct,ut)=>{lt.push(at.call(this,ct,ut))}),this.waitFor(lt)}static mapArray(rt,at){return new PersistencePromise((lt,ct)=>{const ut=rt.length,dt=new Array(ut);let ht=0;for(let ft=0;ft<ut;ft++){const pt=ft;at(rt[pt]).next(mt=>{dt[pt]=mt,++ht,ht===ut&&lt(dt)},mt=>ct(mt))}})}static doWhile(rt,at){return new PersistencePromise((lt,ct)=>{const ut=()=>{rt()===!0?at().next(()=>{ut()},ct):lt()};ut()})}}function __PRIVATE_getAndroidVersion(ot){const rt=ot.match(/Android ([\d.]+)/i),at=rt?rt[1].split(".").slice(0,2).join("."):"-1";return Number(at)}function __PRIVATE_isIndexedDbTransactionError(ot){return ot.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(rt,at){this.previousValue=rt,at&&(at.sequenceNumberHandler=lt=>this.ie(lt),this.se=lt=>at.writeSequenceNumber(lt))}ie(rt){return this.previousValue=Math.max(rt,this.previousValue),this.previousValue}next(){const rt=++this.previousValue;return this.se&&this.se(rt),rt}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(ot){return ot==null}function __PRIVATE_isNegativeZero(ot){return ot===0&&1/ot==-1/0}function isSafeInteger(ot){return typeof ot=="number"&&Number.isInteger(ot)&&!__PRIVATE_isNegativeZero(ot)&&ot<=Number.MAX_SAFE_INTEGER&&ot>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(ot){let rt=0;for(const at in ot)Object.prototype.hasOwnProperty.call(ot,at)&&rt++;return rt}function forEach(ot,rt){for(const at in ot)Object.prototype.hasOwnProperty.call(ot,at)&&rt(at,ot[at])}function isEmpty(ot){for(const rt in ot)if(Object.prototype.hasOwnProperty.call(ot,rt))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(rt,at){this.comparator=rt,this.root=at||LLRBNode.EMPTY}insert(rt,at){return new SortedMap(this.comparator,this.root.insert(rt,at,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(rt){return new SortedMap(this.comparator,this.root.remove(rt,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(rt){let at=this.root;for(;!at.isEmpty();){const lt=this.comparator(rt,at.key);if(lt===0)return at.value;lt<0?at=at.left:lt>0&&(at=at.right)}return null}indexOf(rt){let at=0,lt=this.root;for(;!lt.isEmpty();){const ct=this.comparator(rt,lt.key);if(ct===0)return at+lt.left.size;ct<0?lt=lt.left:(at+=lt.left.size+1,lt=lt.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(rt){return this.root.inorderTraversal(rt)}forEach(rt){this.inorderTraversal((at,lt)=>(rt(at,lt),!1))}toString(){const rt=[];return this.inorderTraversal((at,lt)=>(rt.push(`${at}:${lt}`),!1)),`{${rt.join(", ")}}`}reverseTraversal(rt){return this.root.reverseTraversal(rt)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(rt){return new SortedMapIterator(this.root,rt,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(rt){return new SortedMapIterator(this.root,rt,this.comparator,!0)}}class SortedMapIterator{constructor(rt,at,lt,ct){this.isReverse=ct,this.nodeStack=[];let ut=1;for(;!rt.isEmpty();)if(ut=at?lt(rt.key,at):1,at&&ct&&(ut*=-1),ut<0)rt=this.isReverse?rt.left:rt.right;else{if(ut===0){this.nodeStack.push(rt);break}this.nodeStack.push(rt),rt=this.isReverse?rt.right:rt.left}}getNext(){let rt=this.nodeStack.pop();const at={key:rt.key,value:rt.value};if(this.isReverse)for(rt=rt.left;!rt.isEmpty();)this.nodeStack.push(rt),rt=rt.right;else for(rt=rt.right;!rt.isEmpty();)this.nodeStack.push(rt),rt=rt.left;return at}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const rt=this.nodeStack[this.nodeStack.length-1];return{key:rt.key,value:rt.value}}}class LLRBNode{constructor(rt,at,lt,ct,ut){this.key=rt,this.value=at,this.color=lt??LLRBNode.RED,this.left=ct??LLRBNode.EMPTY,this.right=ut??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(rt,at,lt,ct,ut){return new LLRBNode(rt??this.key,at??this.value,lt??this.color,ct??this.left,ut??this.right)}isEmpty(){return!1}inorderTraversal(rt){return this.left.inorderTraversal(rt)||rt(this.key,this.value)||this.right.inorderTraversal(rt)}reverseTraversal(rt){return this.right.reverseTraversal(rt)||rt(this.key,this.value)||this.left.reverseTraversal(rt)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(rt,at,lt){let ct=this;const ut=lt(rt,ct.key);return ct=ut<0?ct.copy(null,null,null,ct.left.insert(rt,at,lt),null):ut===0?ct.copy(null,at,null,null,null):ct.copy(null,null,null,null,ct.right.insert(rt,at,lt)),ct.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let rt=this;return rt.left.isRed()||rt.left.left.isRed()||(rt=rt.moveRedLeft()),rt=rt.copy(null,null,null,rt.left.removeMin(),null),rt.fixUp()}remove(rt,at){let lt,ct=this;if(at(rt,ct.key)<0)ct.left.isEmpty()||ct.left.isRed()||ct.left.left.isRed()||(ct=ct.moveRedLeft()),ct=ct.copy(null,null,null,ct.left.remove(rt,at),null);else{if(ct.left.isRed()&&(ct=ct.rotateRight()),ct.right.isEmpty()||ct.right.isRed()||ct.right.left.isRed()||(ct=ct.moveRedRight()),at(rt,ct.key)===0){if(ct.right.isEmpty())return LLRBNode.EMPTY;lt=ct.right.min(),ct=ct.copy(lt.key,lt.value,null,null,ct.right.removeMin())}ct=ct.copy(null,null,null,null,ct.right.remove(rt,at))}return ct.fixUp()}isRed(){return this.color}fixUp(){let rt=this;return rt.right.isRed()&&!rt.left.isRed()&&(rt=rt.rotateLeft()),rt.left.isRed()&&rt.left.left.isRed()&&(rt=rt.rotateRight()),rt.left.isRed()&&rt.right.isRed()&&(rt=rt.colorFlip()),rt}moveRedLeft(){let rt=this.colorFlip();return rt.right.left.isRed()&&(rt=rt.copy(null,null,null,null,rt.right.rotateRight()),rt=rt.rotateLeft(),rt=rt.colorFlip()),rt}moveRedRight(){let rt=this.colorFlip();return rt.left.left.isRed()&&(rt=rt.rotateRight(),rt=rt.colorFlip()),rt}rotateLeft(){const rt=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,rt,null)}rotateRight(){const rt=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,rt)}colorFlip(){const rt=this.left.copy(null,null,!this.left.color,null,null),at=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,rt,at)}checkMaxDepth(){const rt=this.check();return Math.pow(2,rt)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const rt=this.left.check();if(rt!==this.right.check())throw fail();return rt+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(rt,at,lt,ct,ut){return this}insert(rt,at,lt){return new LLRBNode(rt,at)}remove(rt,at){return this}isEmpty(){return!0}inorderTraversal(rt){return!1}reverseTraversal(rt){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(rt){this.comparator=rt,this.data=new SortedMap(this.comparator)}has(rt){return this.data.get(rt)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(rt){return this.data.indexOf(rt)}forEach(rt){this.data.inorderTraversal((at,lt)=>(rt(at),!1))}forEachInRange(rt,at){const lt=this.data.getIteratorFrom(rt[0]);for(;lt.hasNext();){const ct=lt.getNext();if(this.comparator(ct.key,rt[1])>=0)return;at(ct.key)}}forEachWhile(rt,at){let lt;for(lt=at!==void 0?this.data.getIteratorFrom(at):this.data.getIterator();lt.hasNext();)if(!rt(lt.getNext().key))return}firstAfterOrEqual(rt){const at=this.data.getIteratorFrom(rt);return at.hasNext()?at.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(rt){return new SortedSetIterator(this.data.getIteratorFrom(rt))}add(rt){return this.copy(this.data.remove(rt).insert(rt,!0))}delete(rt){return this.has(rt)?this.copy(this.data.remove(rt)):this}isEmpty(){return this.data.isEmpty()}unionWith(rt){let at=this;return at.size<rt.size&&(at=rt,rt=this),rt.forEach(lt=>{at=at.add(lt)}),at}isEqual(rt){if(!(rt instanceof SortedSet)||this.size!==rt.size)return!1;const at=this.data.getIterator(),lt=rt.data.getIterator();for(;at.hasNext();){const ct=at.getNext().key,ut=lt.getNext().key;if(this.comparator(ct,ut)!==0)return!1}return!0}toArray(){const rt=[];return this.forEach(at=>{rt.push(at)}),rt}toString(){const rt=[];return this.forEach(at=>rt.push(at)),"SortedSet("+rt.toString()+")"}copy(rt){const at=new SortedSet(this.comparator);return at.data=rt,at}}class SortedSetIterator{constructor(rt){this.iter=rt}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(rt){this.fields=rt,rt.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(rt){let at=new SortedSet(FieldPath$1.comparator);for(const lt of this.fields)at=at.add(lt);for(const lt of rt)at=at.add(lt);return new FieldMask(at.toArray())}covers(rt){for(const at of this.fields)if(at.isPrefixOf(rt))return!0;return!1}isEqual(rt){return __PRIVATE_arrayEquals(this.fields,rt.fields,(at,lt)=>at.isEqual(lt))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(rt){this.binaryString=rt}static fromBase64String(rt){const at=function(ct){try{return atob(ct)}catch(ut){throw typeof DOMException<"u"&&ut instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+ut):ut}}(rt);return new ByteString(at)}static fromUint8Array(rt){const at=function(ct){let ut="";for(let dt=0;dt<ct.length;++dt)ut+=String.fromCharCode(ct[dt]);return ut}(rt);return new ByteString(at)}[Symbol.iterator](){let rt=0;return{next:()=>rt<this.binaryString.length?{value:this.binaryString.charCodeAt(rt++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(at){return btoa(at)}(this.binaryString)}toUint8Array(){return function(at){const lt=new Uint8Array(at.length);for(let ct=0;ct<at.length;ct++)lt[ct]=at.charCodeAt(ct);return lt}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(rt){return __PRIVATE_primitiveComparator(this.binaryString,rt.binaryString)}isEqual(rt){return this.binaryString===rt.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(ot){if(__PRIVATE_hardAssert(!!ot),typeof ot=="string"){let rt=0;const at=ne.exec(ot);if(__PRIVATE_hardAssert(!!at),at[1]){let ct=at[1];ct=(ct+"000000000").substr(0,9),rt=Number(ct)}const lt=new Date(ot);return{seconds:Math.floor(lt.getTime()/1e3),nanos:rt}}return{seconds:__PRIVATE_normalizeNumber(ot.seconds),nanos:__PRIVATE_normalizeNumber(ot.nanos)}}function __PRIVATE_normalizeNumber(ot){return typeof ot=="number"?ot:typeof ot=="string"?Number(ot):0}function __PRIVATE_normalizeByteString(ot){return typeof ot=="string"?ByteString.fromBase64String(ot):ByteString.fromUint8Array(ot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(ot){var rt,at;return((at=(((rt=ot==null?void 0:ot.mapValue)===null||rt===void 0?void 0:rt.fields)||{}).__type__)===null||at===void 0?void 0:at.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(ot){const rt=ot.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(rt)?__PRIVATE_getPreviousValue(rt):rt}function __PRIVATE_getLocalWriteTime(ot){const rt=__PRIVATE_normalizeTimestamp(ot.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(rt.seconds,rt.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(rt,at,lt,ct,ut,dt,ht,ft,pt){this.databaseId=rt,this.appId=at,this.persistenceKey=lt,this.host=ct,this.ssl=ut,this.forceLongPolling=dt,this.autoDetectLongPolling=ht,this.longPollingOptions=ft,this.useFetchStreams=pt}}class DatabaseId{constructor(rt,at){this.projectId=rt,this.database=at||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(rt){return rt instanceof DatabaseId&&rt.projectId===this.projectId&&rt.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function __PRIVATE_typeOrder(ot){return"nullValue"in ot?0:"booleanValue"in ot?1:"integerValue"in ot||"doubleValue"in ot?2:"timestampValue"in ot?3:"stringValue"in ot?5:"bytesValue"in ot?6:"referenceValue"in ot?7:"geoPointValue"in ot?8:"arrayValue"in ot?9:"mapValue"in ot?__PRIVATE_isServerTimestamp(ot)?4:__PRIVATE_isMaxValue(ot)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(ot,rt){if(ot===rt)return!0;const at=__PRIVATE_typeOrder(ot);if(at!==__PRIVATE_typeOrder(rt))return!1;switch(at){case 0:case 9007199254740991:return!0;case 1:return ot.booleanValue===rt.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(ot).isEqual(__PRIVATE_getLocalWriteTime(rt));case 3:return function(ct,ut){if(typeof ct.timestampValue=="string"&&typeof ut.timestampValue=="string"&&ct.timestampValue.length===ut.timestampValue.length)return ct.timestampValue===ut.timestampValue;const dt=__PRIVATE_normalizeTimestamp(ct.timestampValue),ht=__PRIVATE_normalizeTimestamp(ut.timestampValue);return dt.seconds===ht.seconds&&dt.nanos===ht.nanos}(ot,rt);case 5:return ot.stringValue===rt.stringValue;case 6:return function(ct,ut){return __PRIVATE_normalizeByteString(ct.bytesValue).isEqual(__PRIVATE_normalizeByteString(ut.bytesValue))}(ot,rt);case 7:return ot.referenceValue===rt.referenceValue;case 8:return function(ct,ut){return __PRIVATE_normalizeNumber(ct.geoPointValue.latitude)===__PRIVATE_normalizeNumber(ut.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(ct.geoPointValue.longitude)===__PRIVATE_normalizeNumber(ut.geoPointValue.longitude)}(ot,rt);case 2:return function(ct,ut){if("integerValue"in ct&&"integerValue"in ut)return __PRIVATE_normalizeNumber(ct.integerValue)===__PRIVATE_normalizeNumber(ut.integerValue);if("doubleValue"in ct&&"doubleValue"in ut){const dt=__PRIVATE_normalizeNumber(ct.doubleValue),ht=__PRIVATE_normalizeNumber(ut.doubleValue);return dt===ht?__PRIVATE_isNegativeZero(dt)===__PRIVATE_isNegativeZero(ht):isNaN(dt)&&isNaN(ht)}return!1}(ot,rt);case 9:return __PRIVATE_arrayEquals(ot.arrayValue.values||[],rt.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(ct,ut){const dt=ct.mapValue.fields||{},ht=ut.mapValue.fields||{};if(__PRIVATE_objectSize(dt)!==__PRIVATE_objectSize(ht))return!1;for(const ft in dt)if(dt.hasOwnProperty(ft)&&(ht[ft]===void 0||!__PRIVATE_valueEquals(dt[ft],ht[ft])))return!1;return!0}(ot,rt);default:return fail()}}function __PRIVATE_arrayValueContains(ot,rt){return(ot.values||[]).find(at=>__PRIVATE_valueEquals(at,rt))!==void 0}function __PRIVATE_valueCompare(ot,rt){if(ot===rt)return 0;const at=__PRIVATE_typeOrder(ot),lt=__PRIVATE_typeOrder(rt);if(at!==lt)return __PRIVATE_primitiveComparator(at,lt);switch(at){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(ot.booleanValue,rt.booleanValue);case 2:return function(ut,dt){const ht=__PRIVATE_normalizeNumber(ut.integerValue||ut.doubleValue),ft=__PRIVATE_normalizeNumber(dt.integerValue||dt.doubleValue);return ht<ft?-1:ht>ft?1:ht===ft?0:isNaN(ht)?isNaN(ft)?0:-1:1}(ot,rt);case 3:return __PRIVATE_compareTimestamps(ot.timestampValue,rt.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(ot),__PRIVATE_getLocalWriteTime(rt));case 5:return __PRIVATE_primitiveComparator(ot.stringValue,rt.stringValue);case 6:return function(ut,dt){const ht=__PRIVATE_normalizeByteString(ut),ft=__PRIVATE_normalizeByteString(dt);return ht.compareTo(ft)}(ot.bytesValue,rt.bytesValue);case 7:return function(ut,dt){const ht=ut.split("/"),ft=dt.split("/");for(let pt=0;pt<ht.length&&pt<ft.length;pt++){const mt=__PRIVATE_primitiveComparator(ht[pt],ft[pt]);if(mt!==0)return mt}return __PRIVATE_primitiveComparator(ht.length,ft.length)}(ot.referenceValue,rt.referenceValue);case 8:return function(ut,dt){const ht=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(ut.latitude),__PRIVATE_normalizeNumber(dt.latitude));return ht!==0?ht:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(ut.longitude),__PRIVATE_normalizeNumber(dt.longitude))}(ot.geoPointValue,rt.geoPointValue);case 9:return function(ut,dt){const ht=ut.values||[],ft=dt.values||[];for(let pt=0;pt<ht.length&&pt<ft.length;++pt){const mt=__PRIVATE_valueCompare(ht[pt],ft[pt]);if(mt)return mt}return __PRIVATE_primitiveComparator(ht.length,ft.length)}(ot.arrayValue,rt.arrayValue);case 10:return function(ut,dt){if(ut===re.mapValue&&dt===re.mapValue)return 0;if(ut===re.mapValue)return 1;if(dt===re.mapValue)return-1;const ht=ut.fields||{},ft=Object.keys(ht),pt=dt.fields||{},mt=Object.keys(pt);ft.sort(),mt.sort();for(let gt=0;gt<ft.length&&gt<mt.length;++gt){const yt=__PRIVATE_primitiveComparator(ft[gt],mt[gt]);if(yt!==0)return yt;const xt=__PRIVATE_valueCompare(ht[ft[gt]],pt[mt[gt]]);if(xt!==0)return xt}return __PRIVATE_primitiveComparator(ft.length,mt.length)}(ot.mapValue,rt.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(ot,rt){if(typeof ot=="string"&&typeof rt=="string"&&ot.length===rt.length)return __PRIVATE_primitiveComparator(ot,rt);const at=__PRIVATE_normalizeTimestamp(ot),lt=__PRIVATE_normalizeTimestamp(rt),ct=__PRIVATE_primitiveComparator(at.seconds,lt.seconds);return ct!==0?ct:__PRIVATE_primitiveComparator(at.nanos,lt.nanos)}function canonicalId(ot){return __PRIVATE_canonifyValue(ot)}function __PRIVATE_canonifyValue(ot){return"nullValue"in ot?"null":"booleanValue"in ot?""+ot.booleanValue:"integerValue"in ot?""+ot.integerValue:"doubleValue"in ot?""+ot.doubleValue:"timestampValue"in ot?function(at){const lt=__PRIVATE_normalizeTimestamp(at);return`time(${lt.seconds},${lt.nanos})`}(ot.timestampValue):"stringValue"in ot?ot.stringValue:"bytesValue"in ot?function(at){return __PRIVATE_normalizeByteString(at).toBase64()}(ot.bytesValue):"referenceValue"in ot?function(at){return DocumentKey.fromName(at).toString()}(ot.referenceValue):"geoPointValue"in ot?function(at){return`geo(${at.latitude},${at.longitude})`}(ot.geoPointValue):"arrayValue"in ot?function(at){let lt="[",ct=!0;for(const ut of at.values||[])ct?ct=!1:lt+=",",lt+=__PRIVATE_canonifyValue(ut);return lt+"]"}(ot.arrayValue):"mapValue"in ot?function(at){const lt=Object.keys(at.fields||{}).sort();let ct="{",ut=!0;for(const dt of lt)ut?ut=!1:ct+=",",ct+=`${dt}:${__PRIVATE_canonifyValue(at.fields[dt])}`;return ct+"}"}(ot.mapValue):fail()}function __PRIVATE_refValue(ot,rt){return{referenceValue:`projects/${ot.projectId}/databases/${ot.database}/documents/${rt.path.canonicalString()}`}}function isInteger$1(ot){return!!ot&&"integerValue"in ot}function isArray(ot){return!!ot&&"arrayValue"in ot}function __PRIVATE_isNullValue(ot){return!!ot&&"nullValue"in ot}function __PRIVATE_isNanValue(ot){return!!ot&&"doubleValue"in ot&&isNaN(Number(ot.doubleValue))}function __PRIVATE_isMapValue(ot){return!!ot&&"mapValue"in ot}function __PRIVATE_deepClone(ot){if(ot.geoPointValue)return{geoPointValue:Object.assign({},ot.geoPointValue)};if(ot.timestampValue&&typeof ot.timestampValue=="object")return{timestampValue:Object.assign({},ot.timestampValue)};if(ot.mapValue){const rt={mapValue:{fields:{}}};return forEach(ot.mapValue.fields,(at,lt)=>rt.mapValue.fields[at]=__PRIVATE_deepClone(lt)),rt}if(ot.arrayValue){const rt={arrayValue:{values:[]}};for(let at=0;at<(ot.arrayValue.values||[]).length;++at)rt.arrayValue.values[at]=__PRIVATE_deepClone(ot.arrayValue.values[at]);return rt}return Object.assign({},ot)}function __PRIVATE_isMaxValue(ot){return(((ot.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(rt){this.value=rt}static empty(){return new ObjectValue({mapValue:{}})}field(rt){if(rt.isEmpty())return this.value;{let at=this.value;for(let lt=0;lt<rt.length-1;++lt)if(at=(at.mapValue.fields||{})[rt.get(lt)],!__PRIVATE_isMapValue(at))return null;return at=(at.mapValue.fields||{})[rt.lastSegment()],at||null}}set(rt,at){this.getFieldsMap(rt.popLast())[rt.lastSegment()]=__PRIVATE_deepClone(at)}setAll(rt){let at=FieldPath$1.emptyPath(),lt={},ct=[];rt.forEach((dt,ht)=>{if(!at.isImmediateParentOf(ht)){const ft=this.getFieldsMap(at);this.applyChanges(ft,lt,ct),lt={},ct=[],at=ht.popLast()}dt?lt[ht.lastSegment()]=__PRIVATE_deepClone(dt):ct.push(ht.lastSegment())});const ut=this.getFieldsMap(at);this.applyChanges(ut,lt,ct)}delete(rt){const at=this.field(rt.popLast());__PRIVATE_isMapValue(at)&&at.mapValue.fields&&delete at.mapValue.fields[rt.lastSegment()]}isEqual(rt){return __PRIVATE_valueEquals(this.value,rt.value)}getFieldsMap(rt){let at=this.value;at.mapValue.fields||(at.mapValue={fields:{}});for(let lt=0;lt<rt.length;++lt){let ct=at.mapValue.fields[rt.get(lt)];__PRIVATE_isMapValue(ct)&&ct.mapValue.fields||(ct={mapValue:{fields:{}}},at.mapValue.fields[rt.get(lt)]=ct),at=ct}return at.mapValue.fields}applyChanges(rt,at,lt){forEach(at,(ct,ut)=>rt[ct]=ut);for(const ct of lt)delete rt[ct]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(ot){const rt=[];return forEach(ot.fields,(at,lt)=>{const ct=new FieldPath$1([at]);if(__PRIVATE_isMapValue(lt)){const ut=__PRIVATE_extractFieldMask(lt.mapValue).fields;if(ut.length===0)rt.push(ct);else for(const dt of ut)rt.push(ct.child(dt))}else rt.push(ct)}),new FieldMask(rt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(rt,at,lt,ct,ut,dt,ht){this.key=rt,this.documentType=at,this.version=lt,this.readTime=ct,this.createTime=ut,this.data=dt,this.documentState=ht}static newInvalidDocument(rt){return new MutableDocument(rt,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(rt,at,lt,ct){return new MutableDocument(rt,1,at,SnapshotVersion.min(),lt,ct,0)}static newNoDocument(rt,at){return new MutableDocument(rt,2,at,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(rt,at){return new MutableDocument(rt,3,at,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(rt,at){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=rt),this.version=rt,this.documentType=1,this.data=at,this.documentState=0,this}convertToNoDocument(rt){return this.version=rt,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(rt){return this.version=rt,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(rt){return this.readTime=rt,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(rt){return rt instanceof MutableDocument&&this.key.isEqual(rt.key)&&this.version.isEqual(rt.version)&&this.documentType===rt.documentType&&this.documentState===rt.documentState&&this.data.isEqual(rt.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(rt,at){this.position=rt,this.inclusive=at}}function __PRIVATE_boundCompareToDocument(ot,rt,at){let lt=0;for(let ct=0;ct<ot.position.length;ct++){const ut=rt[ct],dt=ot.position[ct];if(ut.field.isKeyField()?lt=DocumentKey.comparator(DocumentKey.fromName(dt.referenceValue),at.key):lt=__PRIVATE_valueCompare(dt,at.data.field(ut.field)),ut.dir==="desc"&&(lt*=-1),lt!==0)break}return lt}function __PRIVATE_boundEquals(ot,rt){if(ot===null)return rt===null;if(rt===null||ot.inclusive!==rt.inclusive||ot.position.length!==rt.position.length)return!1;for(let at=0;at<ot.position.length;at++)if(!__PRIVATE_valueEquals(ot.position[at],rt.position[at]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(rt,at="asc"){this.field=rt,this.dir=at}}function __PRIVATE_orderByEquals(ot,rt){return ot.dir===rt.dir&&ot.field.isEqual(rt.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(rt,at,lt){super(),this.field=rt,this.op=at,this.value=lt}static create(rt,at,lt){return rt.isKeyField()?at==="in"||at==="not-in"?this.createKeyFieldInFilter(rt,at,lt):new __PRIVATE_KeyFieldFilter(rt,at,lt):at==="array-contains"?new __PRIVATE_ArrayContainsFilter(rt,lt):at==="in"?new __PRIVATE_InFilter(rt,lt):at==="not-in"?new __PRIVATE_NotInFilter(rt,lt):at==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(rt,lt):new FieldFilter(rt,at,lt)}static createKeyFieldInFilter(rt,at,lt){return at==="in"?new __PRIVATE_KeyFieldInFilter(rt,lt):new __PRIVATE_KeyFieldNotInFilter(rt,lt)}matches(rt){const at=rt.data.field(this.field);return this.op==="!="?at!==null&&this.matchesComparison(__PRIVATE_valueCompare(at,this.value)):at!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(at)&&this.matchesComparison(__PRIVATE_valueCompare(at,this.value))}matchesComparison(rt){switch(this.op){case"<":return rt<0;case"<=":return rt<=0;case"==":return rt===0;case"!=":return rt!==0;case">":return rt>0;case">=":return rt>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(rt,at){super(),this.filters=rt,this.op=at,this.ae=null}static create(rt,at){return new CompositeFilter(rt,at)}matches(rt){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(at=>!at.matches(rt))===void 0:this.filters.find(at=>at.matches(rt))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((rt,at)=>rt.concat(at.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(ot){return ot.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(ot){return __PRIVATE_compositeFilterIsFlat(ot)&&__PRIVATE_compositeFilterIsConjunction(ot)}function __PRIVATE_compositeFilterIsFlat(ot){for(const rt of ot.filters)if(rt instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(ot){if(ot instanceof FieldFilter)return ot.field.canonicalString()+ot.op.toString()+canonicalId(ot.value);if(__PRIVATE_compositeFilterIsFlatConjunction(ot))return ot.filters.map(rt=>__PRIVATE_canonifyFilter(rt)).join(",");{const rt=ot.filters.map(at=>__PRIVATE_canonifyFilter(at)).join(",");return`${ot.op}(${rt})`}}function __PRIVATE_filterEquals(ot,rt){return ot instanceof FieldFilter?function(lt,ct){return ct instanceof FieldFilter&&lt.op===ct.op&&lt.field.isEqual(ct.field)&&__PRIVATE_valueEquals(lt.value,ct.value)}(ot,rt):ot instanceof CompositeFilter?function(lt,ct){return ct instanceof CompositeFilter&&lt.op===ct.op&&lt.filters.length===ct.filters.length?lt.filters.reduce((ut,dt,ht)=>ut&&__PRIVATE_filterEquals(dt,ct.filters[ht]),!0):!1}(ot,rt):void fail()}function __PRIVATE_stringifyFilter(ot){return ot instanceof FieldFilter?function(at){return`${at.field.canonicalString()} ${at.op} ${canonicalId(at.value)}`}(ot):ot instanceof CompositeFilter?function(at){return at.op.toString()+" {"+at.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(ot):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(rt,at,lt){super(rt,at,lt),this.key=DocumentKey.fromName(lt.referenceValue)}matches(rt){const at=DocumentKey.comparator(rt.key,this.key);return this.matchesComparison(at)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(rt,at){super(rt,"in",at),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",at)}matches(rt){return this.keys.some(at=>at.isEqual(rt.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(rt,at){super(rt,"not-in",at),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",at)}matches(rt){return!this.keys.some(at=>at.isEqual(rt.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(ot,rt){var at;return(((at=rt.arrayValue)===null||at===void 0?void 0:at.values)||[]).map(lt=>DocumentKey.fromName(lt.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(rt,at){super(rt,"array-contains",at)}matches(rt){const at=rt.data.field(this.field);return isArray(at)&&__PRIVATE_arrayValueContains(at.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(rt,at){super(rt,"in",at)}matches(rt){const at=rt.data.field(this.field);return at!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,at)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(rt,at){super(rt,"not-in",at)}matches(rt){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const at=rt.data.field(this.field);return at!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,at)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(rt,at){super(rt,"array-contains-any",at)}matches(rt){const at=rt.data.field(this.field);return!(!isArray(at)||!at.arrayValue.values)&&at.arrayValue.values.some(lt=>__PRIVATE_arrayValueContains(this.value.arrayValue,lt))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(rt,at=null,lt=[],ct=[],ut=null,dt=null,ht=null){this.path=rt,this.collectionGroup=at,this.orderBy=lt,this.filters=ct,this.limit=ut,this.startAt=dt,this.endAt=ht,this.ue=null}}function __PRIVATE_newTarget(ot,rt=null,at=[],lt=[],ct=null,ut=null,dt=null){return new __PRIVATE_TargetImpl(ot,rt,at,lt,ct,ut,dt)}function __PRIVATE_canonifyTarget(ot){const rt=__PRIVATE_debugCast(ot);if(rt.ue===null){let at=rt.path.canonicalString();rt.collectionGroup!==null&&(at+="|cg:"+rt.collectionGroup),at+="|f:",at+=rt.filters.map(lt=>__PRIVATE_canonifyFilter(lt)).join(","),at+="|ob:",at+=rt.orderBy.map(lt=>function(ut){return ut.field.canonicalString()+ut.dir}(lt)).join(","),__PRIVATE_isNullOrUndefined(rt.limit)||(at+="|l:",at+=rt.limit),rt.startAt&&(at+="|lb:",at+=rt.startAt.inclusive?"b:":"a:",at+=rt.startAt.position.map(lt=>canonicalId(lt)).join(",")),rt.endAt&&(at+="|ub:",at+=rt.endAt.inclusive?"a:":"b:",at+=rt.endAt.position.map(lt=>canonicalId(lt)).join(",")),rt.ue=at}return rt.ue}function __PRIVATE_targetEquals(ot,rt){if(ot.limit!==rt.limit||ot.orderBy.length!==rt.orderBy.length)return!1;for(let at=0;at<ot.orderBy.length;at++)if(!__PRIVATE_orderByEquals(ot.orderBy[at],rt.orderBy[at]))return!1;if(ot.filters.length!==rt.filters.length)return!1;for(let at=0;at<ot.filters.length;at++)if(!__PRIVATE_filterEquals(ot.filters[at],rt.filters[at]))return!1;return ot.collectionGroup===rt.collectionGroup&&!!ot.path.isEqual(rt.path)&&!!__PRIVATE_boundEquals(ot.startAt,rt.startAt)&&__PRIVATE_boundEquals(ot.endAt,rt.endAt)}function __PRIVATE_targetIsDocumentTarget(ot){return DocumentKey.isDocumentKey(ot.path)&&ot.collectionGroup===null&&ot.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(rt,at=null,lt=[],ct=[],ut=null,dt="F",ht=null,ft=null){this.path=rt,this.collectionGroup=at,this.explicitOrderBy=lt,this.filters=ct,this.limit=ut,this.limitType=dt,this.startAt=ht,this.endAt=ft,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(ot,rt,at,lt,ct,ut,dt,ht){return new __PRIVATE_QueryImpl(ot,rt,at,lt,ct,ut,dt,ht)}function __PRIVATE_newQueryForPath(ot){return new __PRIVATE_QueryImpl(ot)}function __PRIVATE_queryMatchesAllDocuments(ot){return ot.filters.length===0&&ot.limit===null&&ot.startAt==null&&ot.endAt==null&&(ot.explicitOrderBy.length===0||ot.explicitOrderBy.length===1&&ot.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(ot){return ot.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(ot){const rt=__PRIVATE_debugCast(ot);if(rt.ce===null){rt.ce=[];const at=new Set;for(const ut of rt.explicitOrderBy)rt.ce.push(ut),at.add(ut.field.canonicalString());const lt=rt.explicitOrderBy.length>0?rt.explicitOrderBy[rt.explicitOrderBy.length-1].dir:"asc";(function(dt){let ht=new SortedSet(FieldPath$1.comparator);return dt.filters.forEach(ft=>{ft.getFlattenedFilters().forEach(pt=>{pt.isInequality()&&(ht=ht.add(pt.field))})}),ht})(rt).forEach(ut=>{at.has(ut.canonicalString())||ut.isKeyField()||rt.ce.push(new OrderBy(ut,lt))}),at.has(FieldPath$1.keyField().canonicalString())||rt.ce.push(new OrderBy(FieldPath$1.keyField(),lt))}return rt.ce}function __PRIVATE_queryToTarget(ot){const rt=__PRIVATE_debugCast(ot);return rt.le||(rt.le=__PRIVATE__queryToTarget(rt,__PRIVATE_queryNormalizedOrderBy(ot))),rt.le}function __PRIVATE__queryToTarget(ot,rt){if(ot.limitType==="F")return __PRIVATE_newTarget(ot.path,ot.collectionGroup,rt,ot.filters,ot.limit,ot.startAt,ot.endAt);{rt=rt.map(ct=>{const ut=ct.dir==="desc"?"asc":"desc";return new OrderBy(ct.field,ut)});const at=ot.endAt?new Bound(ot.endAt.position,ot.endAt.inclusive):null,lt=ot.startAt?new Bound(ot.startAt.position,ot.startAt.inclusive):null;return __PRIVATE_newTarget(ot.path,ot.collectionGroup,rt,ot.filters,ot.limit,at,lt)}}function __PRIVATE_queryWithAddedFilter(ot,rt){const at=ot.filters.concat([rt]);return new __PRIVATE_QueryImpl(ot.path,ot.collectionGroup,ot.explicitOrderBy.slice(),at,ot.limit,ot.limitType,ot.startAt,ot.endAt)}function __PRIVATE_queryWithLimit(ot,rt,at){return new __PRIVATE_QueryImpl(ot.path,ot.collectionGroup,ot.explicitOrderBy.slice(),ot.filters.slice(),rt,at,ot.startAt,ot.endAt)}function __PRIVATE_queryEquals(ot,rt){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(ot),__PRIVATE_queryToTarget(rt))&&ot.limitType===rt.limitType}function __PRIVATE_canonifyQuery(ot){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(ot))}|lt:${ot.limitType}`}function __PRIVATE_stringifyQuery(ot){return`Query(target=${function(at){let lt=at.path.canonicalString();return at.collectionGroup!==null&&(lt+=" collectionGroup="+at.collectionGroup),at.filters.length>0&&(lt+=`, filters: [${at.filters.map(ct=>__PRIVATE_stringifyFilter(ct)).join(", ")}]`),__PRIVATE_isNullOrUndefined(at.limit)||(lt+=", limit: "+at.limit),at.orderBy.length>0&&(lt+=`, orderBy: [${at.orderBy.map(ct=>function(dt){return`${dt.field.canonicalString()} (${dt.dir})`}(ct)).join(", ")}]`),at.startAt&&(lt+=", startAt: ",lt+=at.startAt.inclusive?"b:":"a:",lt+=at.startAt.position.map(ct=>canonicalId(ct)).join(",")),at.endAt&&(lt+=", endAt: ",lt+=at.endAt.inclusive?"a:":"b:",lt+=at.endAt.position.map(ct=>canonicalId(ct)).join(",")),`Target(${lt})`}(__PRIVATE_queryToTarget(ot))}; limitType=${ot.limitType})`}function __PRIVATE_queryMatches(ot,rt){return rt.isFoundDocument()&&function(lt,ct){const ut=ct.key.path;return lt.collectionGroup!==null?ct.key.hasCollectionId(lt.collectionGroup)&&lt.path.isPrefixOf(ut):DocumentKey.isDocumentKey(lt.path)?lt.path.isEqual(ut):lt.path.isImmediateParentOf(ut)}(ot,rt)&&function(lt,ct){for(const ut of __PRIVATE_queryNormalizedOrderBy(lt))if(!ut.field.isKeyField()&&ct.data.field(ut.field)===null)return!1;return!0}(ot,rt)&&function(lt,ct){for(const ut of lt.filters)if(!ut.matches(ct))return!1;return!0}(ot,rt)&&function(lt,ct){return!(lt.startAt&&!function(dt,ht,ft){const pt=__PRIVATE_boundCompareToDocument(dt,ht,ft);return dt.inclusive?pt<=0:pt<0}(lt.startAt,__PRIVATE_queryNormalizedOrderBy(lt),ct)||lt.endAt&&!function(dt,ht,ft){const pt=__PRIVATE_boundCompareToDocument(dt,ht,ft);return dt.inclusive?pt>=0:pt>0}(lt.endAt,__PRIVATE_queryNormalizedOrderBy(lt),ct))}(ot,rt)}function __PRIVATE_queryCollectionGroup(ot){return ot.collectionGroup||(ot.path.length%2==1?ot.path.lastSegment():ot.path.get(ot.path.length-2))}function __PRIVATE_newQueryComparator(ot){return(rt,at)=>{let lt=!1;for(const ct of __PRIVATE_queryNormalizedOrderBy(ot)){const ut=__PRIVATE_compareDocs(ct,rt,at);if(ut!==0)return ut;lt=lt||ct.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(ot,rt,at){const lt=ot.field.isKeyField()?DocumentKey.comparator(rt.key,at.key):function(ut,dt,ht){const ft=dt.data.field(ut),pt=ht.data.field(ut);return ft!==null&&pt!==null?__PRIVATE_valueCompare(ft,pt):fail()}(ot.field,rt,at);switch(ot.dir){case"asc":return lt;case"desc":return-1*lt;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(rt,at){this.mapKeyFn=rt,this.equalsFn=at,this.inner={},this.innerSize=0}get(rt){const at=this.mapKeyFn(rt),lt=this.inner[at];if(lt!==void 0){for(const[ct,ut]of lt)if(this.equalsFn(ct,rt))return ut}}has(rt){return this.get(rt)!==void 0}set(rt,at){const lt=this.mapKeyFn(rt),ct=this.inner[lt];if(ct===void 0)return this.inner[lt]=[[rt,at]],void this.innerSize++;for(let ut=0;ut<ct.length;ut++)if(this.equalsFn(ct[ut][0],rt))return void(ct[ut]=[rt,at]);ct.push([rt,at]),this.innerSize++}delete(rt){const at=this.mapKeyFn(rt),lt=this.inner[at];if(lt===void 0)return!1;for(let ct=0;ct<lt.length;ct++)if(this.equalsFn(lt[ct][0],rt))return lt.length===1?delete this.inner[at]:lt.splice(ct,1),this.innerSize--,!0;return!1}forEach(rt){forEach(this.inner,(at,lt)=>{for(const[ct,ut]of lt)rt(ct,ut)})}isEmpty(){return isEmpty(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return se}const oe=new SortedMap(DocumentKey.comparator);function documentMap(...ot){let rt=oe;for(const at of ot)rt=rt.insert(at.key,at);return rt}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(ot){let rt=oe;return ot.forEach((at,lt)=>rt=rt.insert(at,lt.overlayedDocument)),rt}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(ot=>ot.toString(),(ot,rt)=>ot.isEqual(rt))}const _e=new SortedMap(DocumentKey.comparator),ae=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...ot){let rt=ae;for(const at of ot)rt=rt.add(at);return rt}const ue=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ue}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(ot,rt){if(ot.useProto3Json){if(isNaN(rt))return{doubleValue:"NaN"};if(rt===1/0)return{doubleValue:"Infinity"};if(rt===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(rt)?"-0":rt}}function __PRIVATE_toInteger(ot){return{integerValue:""+ot}}function toNumber(ot,rt){return isSafeInteger(rt)?__PRIVATE_toInteger(rt):__PRIVATE_toDouble(ot,rt)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(ot,rt,at){return ot instanceof __PRIVATE_ServerTimestampTransform?function(ct,ut){const dt={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:ct.seconds,nanos:ct.nanoseconds}}}};return ut&&__PRIVATE_isServerTimestamp(ut)&&(ut=__PRIVATE_getPreviousValue(ut)),ut&&(dt.fields.__previous_value__=ut),{mapValue:dt}}(at,rt):ot instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(ot,rt):ot instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(ot,rt):function(ct,ut){const dt=__PRIVATE_computeTransformOperationBaseValue(ct,ut),ht=asNumber$1(dt)+asNumber$1(ct.Pe);return isInteger$1(dt)&&isInteger$1(ct.Pe)?__PRIVATE_toInteger(ht):__PRIVATE_toDouble(ct.serializer,ht)}(ot,rt)}function __PRIVATE_applyTransformOperationToRemoteDocument(ot,rt,at){return ot instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(ot,rt):ot instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(ot,rt):at}function __PRIVATE_computeTransformOperationBaseValue(ot,rt){return ot instanceof __PRIVATE_NumericIncrementTransformOperation?function(lt){return isInteger$1(lt)||function(ut){return!!ut&&"doubleValue"in ut}(lt)}(rt)?rt:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(rt){super(),this.elements=rt}}function __PRIVATE_applyArrayUnionTransformOperation(ot,rt){const at=__PRIVATE_coercedFieldValuesArray(rt);for(const lt of ot.elements)at.some(ct=>__PRIVATE_valueEquals(ct,lt))||at.push(lt);return{arrayValue:{values:at}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(rt){super(),this.elements=rt}}function __PRIVATE_applyArrayRemoveTransformOperation(ot,rt){let at=__PRIVATE_coercedFieldValuesArray(rt);for(const lt of ot.elements)at=at.filter(ct=>!__PRIVATE_valueEquals(ct,lt));return{arrayValue:{values:at}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(rt,at){super(),this.serializer=rt,this.Pe=at}}function asNumber$1(ot){return __PRIVATE_normalizeNumber(ot.integerValue||ot.doubleValue)}function __PRIVATE_coercedFieldValuesArray(ot){return isArray(ot)&&ot.arrayValue.values?ot.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(rt,at){this.field=rt,this.transform=at}}function __PRIVATE_fieldTransformEquals(ot,rt){return ot.field.isEqual(rt.field)&&function(lt,ct){return lt instanceof __PRIVATE_ArrayUnionTransformOperation&&ct instanceof __PRIVATE_ArrayUnionTransformOperation||lt instanceof __PRIVATE_ArrayRemoveTransformOperation&&ct instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(lt.elements,ct.elements,__PRIVATE_valueEquals):lt instanceof __PRIVATE_NumericIncrementTransformOperation&&ct instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(lt.Pe,ct.Pe):lt instanceof __PRIVATE_ServerTimestampTransform&&ct instanceof __PRIVATE_ServerTimestampTransform}(ot.transform,rt.transform)}class MutationResult{constructor(rt,at){this.version=rt,this.transformResults=at}}class Precondition{constructor(rt,at){this.updateTime=rt,this.exists=at}static none(){return new Precondition}static exists(rt){return new Precondition(void 0,rt)}static updateTime(rt){return new Precondition(rt)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(rt){return this.exists===rt.exists&&(this.updateTime?!!rt.updateTime&&this.updateTime.isEqual(rt.updateTime):!rt.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(ot,rt){return ot.updateTime!==void 0?rt.isFoundDocument()&&rt.version.isEqual(ot.updateTime):ot.exists===void 0||ot.exists===rt.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(ot,rt){if(!ot.hasLocalMutations||rt&&rt.fields.length===0)return null;if(rt===null)return ot.isNoDocument()?new __PRIVATE_DeleteMutation(ot.key,Precondition.none()):new __PRIVATE_SetMutation(ot.key,ot.data,Precondition.none());{const at=ot.data,lt=ObjectValue.empty();let ct=new SortedSet(FieldPath$1.comparator);for(let ut of rt.fields)if(!ct.has(ut)){let dt=at.field(ut);dt===null&&ut.length>1&&(ut=ut.popLast(),dt=at.field(ut)),dt===null?lt.delete(ut):lt.set(ut,dt),ct=ct.add(ut)}return new __PRIVATE_PatchMutation(ot.key,lt,new FieldMask(ct.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(ot,rt,at){ot instanceof __PRIVATE_SetMutation?function(ct,ut,dt){const ht=ct.value.clone(),ft=__PRIVATE_serverTransformResults(ct.fieldTransforms,ut,dt.transformResults);ht.setAll(ft),ut.convertToFoundDocument(dt.version,ht).setHasCommittedMutations()}(ot,rt,at):ot instanceof __PRIVATE_PatchMutation?function(ct,ut,dt){if(!__PRIVATE_preconditionIsValidForDocument(ct.precondition,ut))return void ut.convertToUnknownDocument(dt.version);const ht=__PRIVATE_serverTransformResults(ct.fieldTransforms,ut,dt.transformResults),ft=ut.data;ft.setAll(__PRIVATE_getPatch(ct)),ft.setAll(ht),ut.convertToFoundDocument(dt.version,ft).setHasCommittedMutations()}(ot,rt,at):function(ct,ut,dt){ut.convertToNoDocument(dt.version).setHasCommittedMutations()}(0,rt,at)}function __PRIVATE_mutationApplyToLocalView(ot,rt,at,lt){return ot instanceof __PRIVATE_SetMutation?function(ut,dt,ht,ft){if(!__PRIVATE_preconditionIsValidForDocument(ut.precondition,dt))return ht;const pt=ut.value.clone(),mt=__PRIVATE_localTransformResults(ut.fieldTransforms,ft,dt);return pt.setAll(mt),dt.convertToFoundDocument(dt.version,pt).setHasLocalMutations(),null}(ot,rt,at,lt):ot instanceof __PRIVATE_PatchMutation?function(ut,dt,ht,ft){if(!__PRIVATE_preconditionIsValidForDocument(ut.precondition,dt))return ht;const pt=__PRIVATE_localTransformResults(ut.fieldTransforms,ft,dt),mt=dt.data;return mt.setAll(__PRIVATE_getPatch(ut)),mt.setAll(pt),dt.convertToFoundDocument(dt.version,mt).setHasLocalMutations(),ht===null?null:ht.unionWith(ut.fieldMask.fields).unionWith(ut.fieldTransforms.map(gt=>gt.field))}(ot,rt,at,lt):function(ut,dt,ht){return __PRIVATE_preconditionIsValidForDocument(ut.precondition,dt)?(dt.convertToNoDocument(dt.version).setHasLocalMutations(),null):ht}(ot,rt,at)}function __PRIVATE_mutationExtractBaseValue(ot,rt){let at=null;for(const lt of ot.fieldTransforms){const ct=rt.data.field(lt.field),ut=__PRIVATE_computeTransformOperationBaseValue(lt.transform,ct||null);ut!=null&&(at===null&&(at=ObjectValue.empty()),at.set(lt.field,ut))}return at||null}function __PRIVATE_mutationEquals(ot,rt){return ot.type===rt.type&&!!ot.key.isEqual(rt.key)&&!!ot.precondition.isEqual(rt.precondition)&&!!function(lt,ct){return lt===void 0&&ct===void 0||!(!lt||!ct)&&__PRIVATE_arrayEquals(lt,ct,(ut,dt)=>__PRIVATE_fieldTransformEquals(ut,dt))}(ot.fieldTransforms,rt.fieldTransforms)&&(ot.type===0?ot.value.isEqual(rt.value):ot.type!==1||ot.data.isEqual(rt.data)&&ot.fieldMask.isEqual(rt.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(rt,at,lt,ct=[]){super(),this.key=rt,this.value=at,this.precondition=lt,this.fieldTransforms=ct,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(rt,at,lt,ct,ut=[]){super(),this.key=rt,this.data=at,this.fieldMask=lt,this.precondition=ct,this.fieldTransforms=ut,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(ot){const rt=new Map;return ot.fieldMask.fields.forEach(at=>{if(!at.isEmpty()){const lt=ot.data.field(at);rt.set(at,lt)}}),rt}function __PRIVATE_serverTransformResults(ot,rt,at){const lt=new Map;__PRIVATE_hardAssert(ot.length===at.length);for(let ct=0;ct<at.length;ct++){const ut=ot[ct],dt=ut.transform,ht=rt.data.field(ut.field);lt.set(ut.field,__PRIVATE_applyTransformOperationToRemoteDocument(dt,ht,at[ct]))}return lt}function __PRIVATE_localTransformResults(ot,rt,at){const lt=new Map;for(const ct of ot){const ut=ct.transform,dt=at.data.field(ct.field);lt.set(ct.field,__PRIVATE_applyTransformOperationToLocalView(ut,dt,rt))}return lt}class __PRIVATE_DeleteMutation extends Mutation{constructor(rt,at){super(),this.key=rt,this.precondition=at,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(rt,at){super(),this.key=rt,this.precondition=at,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(rt,at,lt,ct){this.batchId=rt,this.localWriteTime=at,this.baseMutations=lt,this.mutations=ct}applyToRemoteDocument(rt,at){const lt=at.mutationResults;for(let ct=0;ct<this.mutations.length;ct++){const ut=this.mutations[ct];ut.key.isEqual(rt.key)&&__PRIVATE_mutationApplyToRemoteDocument(ut,rt,lt[ct])}}applyToLocalView(rt,at){for(const lt of this.baseMutations)lt.key.isEqual(rt.key)&&(at=__PRIVATE_mutationApplyToLocalView(lt,rt,at,this.localWriteTime));for(const lt of this.mutations)lt.key.isEqual(rt.key)&&(at=__PRIVATE_mutationApplyToLocalView(lt,rt,at,this.localWriteTime));return at}applyToLocalDocumentSet(rt,at){const lt=__PRIVATE_newMutationMap();return this.mutations.forEach(ct=>{const ut=rt.get(ct.key),dt=ut.overlayedDocument;let ht=this.applyToLocalView(dt,ut.mutatedFields);ht=at.has(ct.key)?null:ht;const ft=__PRIVATE_calculateOverlayMutation(dt,ht);ft!==null&&lt.set(ct.key,ft),dt.isValidDocument()||dt.convertToNoDocument(SnapshotVersion.min())}),lt}keys(){return this.mutations.reduce((rt,at)=>rt.add(at.key),__PRIVATE_documentKeySet())}isEqual(rt){return this.batchId===rt.batchId&&__PRIVATE_arrayEquals(this.mutations,rt.mutations,(at,lt)=>__PRIVATE_mutationEquals(at,lt))&&__PRIVATE_arrayEquals(this.baseMutations,rt.baseMutations,(at,lt)=>__PRIVATE_mutationEquals(at,lt))}}class MutationBatchResult{constructor(rt,at,lt,ct){this.batch=rt,this.commitVersion=at,this.mutationResults=lt,this.docVersions=ct}static from(rt,at,lt){__PRIVATE_hardAssert(rt.mutations.length===lt.length);let ct=function(){return _e}();const ut=rt.mutations;for(let dt=0;dt<ut.length;dt++)ct=ct.insert(ut[dt].key,lt[dt].version);return new MutationBatchResult(rt,at,lt,ct)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(rt,at){this.largestBatchId=rt,this.mutation=at}getKey(){return this.mutation.key}isEqual(rt){return rt!==null&&this.mutation===rt.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(rt,at){this.count=rt,this.unchangedNames=at}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce,le;function __PRIVATE_isPermanentError(ot){switch(ot){default:return fail();case C$4.CANCELLED:case C$4.UNKNOWN:case C$4.DEADLINE_EXCEEDED:case C$4.RESOURCE_EXHAUSTED:case C$4.INTERNAL:case C$4.UNAVAILABLE:case C$4.UNAUTHENTICATED:return!1;case C$4.INVALID_ARGUMENT:case C$4.NOT_FOUND:case C$4.ALREADY_EXISTS:case C$4.PERMISSION_DENIED:case C$4.FAILED_PRECONDITION:case C$4.ABORTED:case C$4.OUT_OF_RANGE:case C$4.UNIMPLEMENTED:case C$4.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(ot){if(ot===void 0)return __PRIVATE_logError("GRPC error has no .code"),C$4.UNKNOWN;switch(ot){case ce.OK:return C$4.OK;case ce.CANCELLED:return C$4.CANCELLED;case ce.UNKNOWN:return C$4.UNKNOWN;case ce.DEADLINE_EXCEEDED:return C$4.DEADLINE_EXCEEDED;case ce.RESOURCE_EXHAUSTED:return C$4.RESOURCE_EXHAUSTED;case ce.INTERNAL:return C$4.INTERNAL;case ce.UNAVAILABLE:return C$4.UNAVAILABLE;case ce.UNAUTHENTICATED:return C$4.UNAUTHENTICATED;case ce.INVALID_ARGUMENT:return C$4.INVALID_ARGUMENT;case ce.NOT_FOUND:return C$4.NOT_FOUND;case ce.ALREADY_EXISTS:return C$4.ALREADY_EXISTS;case ce.PERMISSION_DENIED:return C$4.PERMISSION_DENIED;case ce.FAILED_PRECONDITION:return C$4.FAILED_PRECONDITION;case ce.ABORTED:return C$4.ABORTED;case ce.OUT_OF_RANGE:return C$4.OUT_OF_RANGE;case ce.UNIMPLEMENTED:return C$4.UNIMPLEMENTED;case ce.DATA_LOSS:return C$4.DATA_LOSS;default:return fail()}}(le=ce||(ce={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(ot){const rt=__PRIVATE_newTextEncoder().encode(ot),at=new Md5;return at.update(rt),new Uint8Array(at.digest())}function __PRIVATE_get64BitUints(ot){const rt=new DataView(ot.buffer),at=rt.getUint32(0,!0),lt=rt.getUint32(4,!0),ct=rt.getUint32(8,!0),ut=rt.getUint32(12,!0);return[new Integer([at,lt],0),new Integer([ct,ut],0)]}class BloomFilter{constructor(rt,at,lt){if(this.bitmap=rt,this.padding=at,this.hashCount=lt,at<0||at>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${at}`);if(lt<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${lt}`);if(rt.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${lt}`);if(rt.length===0&&at!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${at}`);this.Ie=8*rt.length-at,this.Te=Integer.fromNumber(this.Ie)}Ee(rt,at,lt){let ct=rt.add(at.multiply(Integer.fromNumber(lt)));return ct.compare(Pe)===1&&(ct=new Integer([ct.getBits(0),ct.getBits(1)],0)),ct.modulo(this.Te).toNumber()}de(rt){return(this.bitmap[Math.floor(rt/8)]&1<<rt%8)!=0}mightContain(rt){if(this.Ie===0)return!1;const at=__PRIVATE_getMd5HashValue(rt),[lt,ct]=__PRIVATE_get64BitUints(at);for(let ut=0;ut<this.hashCount;ut++){const dt=this.Ee(lt,ct,ut);if(!this.de(dt))return!1}return!0}static create(rt,at,lt){const ct=rt%8==0?0:8-rt%8,ut=new Uint8Array(Math.ceil(rt/8)),dt=new BloomFilter(ut,ct,at);return lt.forEach(ht=>dt.insert(ht)),dt}insert(rt){if(this.Ie===0)return;const at=__PRIVATE_getMd5HashValue(rt),[lt,ct]=__PRIVATE_get64BitUints(at);for(let ut=0;ut<this.hashCount;ut++){const dt=this.Ee(lt,ct,ut);this.Ae(dt)}}Ae(rt){const at=Math.floor(rt/8),lt=rt%8;this.bitmap[at]|=1<<lt}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(rt,at,lt,ct,ut){this.snapshotVersion=rt,this.targetChanges=at,this.targetMismatches=lt,this.documentUpdates=ct,this.resolvedLimboDocuments=ut}static createSynthesizedRemoteEventForCurrentChange(rt,at,lt){const ct=new Map;return ct.set(rt,TargetChange.createSynthesizedTargetChangeForCurrentChange(rt,at,lt)),new RemoteEvent(SnapshotVersion.min(),ct,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(rt,at,lt,ct,ut){this.resumeToken=rt,this.current=at,this.addedDocuments=lt,this.modifiedDocuments=ct,this.removedDocuments=ut}static createSynthesizedTargetChangeForCurrentChange(rt,at,lt){return new TargetChange(lt,at,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(rt,at,lt,ct){this.Re=rt,this.removedTargetIds=at,this.key=lt,this.Ve=ct}}class __PRIVATE_ExistenceFilterChange{constructor(rt,at){this.targetId=rt,this.me=at}}class __PRIVATE_WatchTargetChange{constructor(rt,at,lt=ByteString.EMPTY_BYTE_STRING,ct=null){this.state=rt,this.targetIds=at,this.resumeToken=lt,this.cause=ct}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(rt){rt.approximateByteSize()>0&&(this.we=!0,this.pe=rt)}Ce(){let rt=__PRIVATE_documentKeySet(),at=__PRIVATE_documentKeySet(),lt=__PRIVATE_documentKeySet();return this.ge.forEach((ct,ut)=>{switch(ut){case 0:rt=rt.add(ct);break;case 2:at=at.add(ct);break;case 1:lt=lt.add(ct);break;default:fail()}}),new TargetChange(this.pe,this.ye,rt,at,lt)}ve(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(rt,at){this.we=!0,this.ge=this.ge.insert(rt,at)}Me(rt){this.we=!0,this.ge=this.ge.remove(rt)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(rt){this.Le=rt,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(rt){for(const at of rt.Re)rt.Ve&&rt.Ve.isFoundDocument()?this.$e(at,rt.Ve):this.Ue(at,rt.key,rt.Ve);for(const at of rt.removedTargetIds)this.Ue(at,rt.key,rt.Ve)}We(rt){this.forEachTarget(rt,at=>{const lt=this.Ge(at);switch(rt.state){case 0:this.ze(at)&&lt.De(rt.resumeToken);break;case 1:lt.Oe(),lt.Se||lt.ve(),lt.De(rt.resumeToken);break;case 2:lt.Oe(),lt.Se||this.removeTarget(at);break;case 3:this.ze(at)&&(lt.Ne(),lt.De(rt.resumeToken));break;case 4:this.ze(at)&&(this.je(at),lt.De(rt.resumeToken));break;default:fail()}})}forEachTarget(rt,at){rt.targetIds.length>0?rt.targetIds.forEach(at):this.Be.forEach((lt,ct)=>{this.ze(ct)&&at(ct)})}He(rt){const at=rt.targetId,lt=rt.me.count,ct=this.Je(at);if(ct){const ut=ct.target;if(__PRIVATE_targetIsDocumentTarget(ut))if(lt===0){const dt=new DocumentKey(ut.path);this.Ue(at,dt,MutableDocument.newNoDocument(dt,SnapshotVersion.min()))}else __PRIVATE_hardAssert(lt===1);else{const dt=this.Ye(at);if(dt!==lt){const ht=this.Ze(rt),ft=ht?this.Xe(ht,rt,dt):1;if(ft!==0){this.je(at);const pt=ft===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(at,pt)}}}}}Ze(rt){const at=rt.me.unchangedNames;if(!at||!at.bits)return null;const{bits:{bitmap:lt="",padding:ct=0},hashCount:ut=0}=at;let dt,ht;try{dt=__PRIVATE_normalizeByteString(lt).toUint8Array()}catch(ft){if(ft instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+ft.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw ft}try{ht=new BloomFilter(dt,ct,ut)}catch(ft){return __PRIVATE_logWarn(ft instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",ft),null}return ht.Ie===0?null:ht}Xe(rt,at,lt){return at.me.count===lt-this.nt(rt,at.targetId)?0:2}nt(rt,at){const lt=this.Le.getRemoteKeysForTarget(at);let ct=0;return lt.forEach(ut=>{const dt=this.Le.tt(),ht=`projects/${dt.projectId}/databases/${dt.database}/documents/${ut.path.canonicalString()}`;rt.mightContain(ht)||(this.Ue(at,ut,null),ct++)}),ct}rt(rt){const at=new Map;this.Be.forEach((ut,dt)=>{const ht=this.Je(dt);if(ht){if(ut.current&&__PRIVATE_targetIsDocumentTarget(ht.target)){const ft=new DocumentKey(ht.target.path);this.ke.get(ft)!==null||this.it(dt,ft)||this.Ue(dt,ft,MutableDocument.newNoDocument(ft,rt))}ut.be&&(at.set(dt,ut.Ce()),ut.ve())}});let lt=__PRIVATE_documentKeySet();this.qe.forEach((ut,dt)=>{let ht=!0;dt.forEachWhile(ft=>{const pt=this.Je(ft);return!pt||pt.purpose==="TargetPurposeLimboResolution"||(ht=!1,!1)}),ht&&(lt=lt.add(ut))}),this.ke.forEach((ut,dt)=>dt.setReadTime(rt));const ct=new RemoteEvent(rt,at,this.Qe,this.ke,lt);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),ct}$e(rt,at){if(!this.ze(rt))return;const lt=this.it(rt,at.key)?2:0;this.Ge(rt).Fe(at.key,lt),this.ke=this.ke.insert(at.key,at),this.qe=this.qe.insert(at.key,this.st(at.key).add(rt))}Ue(rt,at,lt){if(!this.ze(rt))return;const ct=this.Ge(rt);this.it(rt,at)?ct.Fe(at,1):ct.Me(at),this.qe=this.qe.insert(at,this.st(at).delete(rt)),lt&&(this.ke=this.ke.insert(at,lt))}removeTarget(rt){this.Be.delete(rt)}Ye(rt){const at=this.Ge(rt).Ce();return this.Le.getRemoteKeysForTarget(rt).size+at.addedDocuments.size-at.removedDocuments.size}xe(rt){this.Ge(rt).xe()}Ge(rt){let at=this.Be.get(rt);return at||(at=new __PRIVATE_TargetState,this.Be.set(rt,at)),at}st(rt){let at=this.qe.get(rt);return at||(at=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(rt,at)),at}ze(rt){const at=this.Je(rt)!==null;return at||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",rt),at}Je(rt){const at=this.Be.get(rt);return at&&at.Se?null:this.Le.ot(rt)}je(rt){this.Be.set(rt,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(rt).forEach(at=>{this.Ue(rt,at,null)})}it(rt,at){return this.Le.getRemoteKeysForTarget(rt).has(at)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Ie={asc:"ASCENDING",desc:"DESCENDING"},Te={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ee={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(rt,at){this.databaseId=rt,this.useProto3Json=at}}function __PRIVATE_toInt32Proto(ot,rt){return ot.useProto3Json||__PRIVATE_isNullOrUndefined(rt)?rt:{value:rt}}function toTimestamp(ot,rt){return ot.useProto3Json?`${new Date(1e3*rt.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+rt.nanoseconds).slice(-9)}Z`:{seconds:""+rt.seconds,nanos:rt.nanoseconds}}function __PRIVATE_toBytes(ot,rt){return ot.useProto3Json?rt.toBase64():rt.toUint8Array()}function __PRIVATE_toVersion(ot,rt){return toTimestamp(ot,rt.toTimestamp())}function __PRIVATE_fromVersion(ot){return __PRIVATE_hardAssert(!!ot),SnapshotVersion.fromTimestamp(function(at){const lt=__PRIVATE_normalizeTimestamp(at);return new Timestamp(lt.seconds,lt.nanos)}(ot))}function __PRIVATE_toResourceName(ot,rt){return __PRIVATE_toResourcePath(ot,rt).canonicalString()}function __PRIVATE_toResourcePath(ot,rt){const at=function(ct){return new ResourcePath(["projects",ct.projectId,"databases",ct.database])}(ot).child("documents");return rt===void 0?at:at.child(rt)}function __PRIVATE_fromResourceName(ot){const rt=ResourcePath.fromString(ot);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(rt)),rt}function __PRIVATE_toName(ot,rt){return __PRIVATE_toResourceName(ot.databaseId,rt.path)}function fromName(ot,rt){const at=__PRIVATE_fromResourceName(rt);if(at.get(1)!==ot.databaseId.projectId)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+at.get(1)+" vs "+ot.databaseId.projectId);if(at.get(3)!==ot.databaseId.database)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+at.get(3)+" vs "+ot.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(at))}function __PRIVATE_toQueryPath(ot,rt){return __PRIVATE_toResourceName(ot.databaseId,rt)}function __PRIVATE_fromQueryPath(ot){const rt=__PRIVATE_fromResourceName(ot);return rt.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(rt)}function __PRIVATE_getEncodedDatabaseId(ot){return new ResourcePath(["projects",ot.databaseId.projectId,"databases",ot.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(ot){return __PRIVATE_hardAssert(ot.length>4&&ot.get(4)==="documents"),ot.popFirst(5)}function __PRIVATE_toMutationDocument(ot,rt,at){return{name:__PRIVATE_toName(ot,rt),fields:at.value.mapValue.fields}}function __PRIVATE_fromWatchChange(ot,rt){let at;if("targetChange"in rt){rt.targetChange;const lt=function(pt){return pt==="NO_CHANGE"?0:pt==="ADD"?1:pt==="REMOVE"?2:pt==="CURRENT"?3:pt==="RESET"?4:fail()}(rt.targetChange.targetChangeType||"NO_CHANGE"),ct=rt.targetChange.targetIds||[],ut=function(pt,mt){return pt.useProto3Json?(__PRIVATE_hardAssert(mt===void 0||typeof mt=="string"),ByteString.fromBase64String(mt||"")):(__PRIVATE_hardAssert(mt===void 0||mt instanceof Buffer||mt instanceof Uint8Array),ByteString.fromUint8Array(mt||new Uint8Array))}(ot,rt.targetChange.resumeToken),dt=rt.targetChange.cause,ht=dt&&function(pt){const mt=pt.code===void 0?C$4.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(pt.code);return new FirestoreError(mt,pt.message||"")}(dt);at=new __PRIVATE_WatchTargetChange(lt,ct,ut,ht||null)}else if("documentChange"in rt){rt.documentChange;const lt=rt.documentChange;lt.document,lt.document.name,lt.document.updateTime;const ct=fromName(ot,lt.document.name),ut=__PRIVATE_fromVersion(lt.document.updateTime),dt=lt.document.createTime?__PRIVATE_fromVersion(lt.document.createTime):SnapshotVersion.min(),ht=new ObjectValue({mapValue:{fields:lt.document.fields}}),ft=MutableDocument.newFoundDocument(ct,ut,dt,ht),pt=lt.targetIds||[],mt=lt.removedTargetIds||[];at=new __PRIVATE_DocumentWatchChange(pt,mt,ft.key,ft)}else if("documentDelete"in rt){rt.documentDelete;const lt=rt.documentDelete;lt.document;const ct=fromName(ot,lt.document),ut=lt.readTime?__PRIVATE_fromVersion(lt.readTime):SnapshotVersion.min(),dt=MutableDocument.newNoDocument(ct,ut),ht=lt.removedTargetIds||[];at=new __PRIVATE_DocumentWatchChange([],ht,dt.key,dt)}else if("documentRemove"in rt){rt.documentRemove;const lt=rt.documentRemove;lt.document;const ct=fromName(ot,lt.document),ut=lt.removedTargetIds||[];at=new __PRIVATE_DocumentWatchChange([],ut,ct,null)}else{if(!("filter"in rt))return fail();{rt.filter;const lt=rt.filter;lt.targetId;const{count:ct=0,unchangedNames:ut}=lt,dt=new ExistenceFilter(ct,ut),ht=lt.targetId;at=new __PRIVATE_ExistenceFilterChange(ht,dt)}}return at}function toMutation(ot,rt){let at;if(rt instanceof __PRIVATE_SetMutation)at={update:__PRIVATE_toMutationDocument(ot,rt.key,rt.value)};else if(rt instanceof __PRIVATE_DeleteMutation)at={delete:__PRIVATE_toName(ot,rt.key)};else if(rt instanceof __PRIVATE_PatchMutation)at={update:__PRIVATE_toMutationDocument(ot,rt.key,rt.data),updateMask:__PRIVATE_toDocumentMask(rt.fieldMask)};else{if(!(rt instanceof __PRIVATE_VerifyMutation))return fail();at={verify:__PRIVATE_toName(ot,rt.key)}}return rt.fieldTransforms.length>0&&(at.updateTransforms=rt.fieldTransforms.map(lt=>function(ut,dt){const ht=dt.transform;if(ht instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:dt.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ht instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:dt.field.canonicalString(),appendMissingElements:{values:ht.elements}};if(ht instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:dt.field.canonicalString(),removeAllFromArray:{values:ht.elements}};if(ht instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:dt.field.canonicalString(),increment:ht.Pe};throw fail()}(0,lt))),rt.precondition.isNone||(at.currentDocument=function(ct,ut){return ut.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(ct,ut.updateTime)}:ut.exists!==void 0?{exists:ut.exists}:fail()}(ot,rt.precondition)),at}function __PRIVATE_fromWriteResults(ot,rt){return ot&&ot.length>0?(__PRIVATE_hardAssert(rt!==void 0),ot.map(at=>function(ct,ut){let dt=ct.updateTime?__PRIVATE_fromVersion(ct.updateTime):__PRIVATE_fromVersion(ut);return dt.isEqual(SnapshotVersion.min())&&(dt=__PRIVATE_fromVersion(ut)),new MutationResult(dt,ct.transformResults||[])}(at,rt))):[]}function __PRIVATE_toDocumentsTarget(ot,rt){return{documents:[__PRIVATE_toQueryPath(ot,rt.path)]}}function __PRIVATE_toQueryTarget(ot,rt){const at={structuredQuery:{}},lt=rt.path;let ct;rt.collectionGroup!==null?(ct=lt,at.structuredQuery.from=[{collectionId:rt.collectionGroup,allDescendants:!0}]):(ct=lt.popLast(),at.structuredQuery.from=[{collectionId:lt.lastSegment()}]),at.parent=__PRIVATE_toQueryPath(ot,ct);const ut=function(pt){if(pt.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(pt,"and"))}(rt.filters);ut&&(at.structuredQuery.where=ut);const dt=function(pt){if(pt.length!==0)return pt.map(mt=>function(yt){return{field:__PRIVATE_toFieldPathReference(yt.field),direction:__PRIVATE_toDirection(yt.dir)}}(mt))}(rt.orderBy);dt&&(at.structuredQuery.orderBy=dt);const ht=__PRIVATE_toInt32Proto(ot,rt.limit);return ht!==null&&(at.structuredQuery.limit=ht),rt.startAt&&(at.structuredQuery.startAt=function(pt){return{before:pt.inclusive,values:pt.position}}(rt.startAt)),rt.endAt&&(at.structuredQuery.endAt=function(pt){return{before:!pt.inclusive,values:pt.position}}(rt.endAt)),{_t:at,parent:ct}}function __PRIVATE_convertQueryTargetToQuery(ot){let rt=__PRIVATE_fromQueryPath(ot.parent);const at=ot.structuredQuery,lt=at.from?at.from.length:0;let ct=null;if(lt>0){__PRIVATE_hardAssert(lt===1);const mt=at.from[0];mt.allDescendants?ct=mt.collectionId:rt=rt.child(mt.collectionId)}let ut=[];at.where&&(ut=function(gt){const yt=__PRIVATE_fromFilter(gt);return yt instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(yt)?yt.getFilters():[yt]}(at.where));let dt=[];at.orderBy&&(dt=function(gt){return gt.map(yt=>function(bt){return new OrderBy(__PRIVATE_fromFieldPathReference(bt.field),function(Rt){switch(Rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(bt.direction))}(yt))}(at.orderBy));let ht=null;at.limit&&(ht=function(gt){let yt;return yt=typeof gt=="object"?gt.value:gt,__PRIVATE_isNullOrUndefined(yt)?null:yt}(at.limit));let ft=null;at.startAt&&(ft=function(gt){const yt=!!gt.before,xt=gt.values||[];return new Bound(xt,yt)}(at.startAt));let pt=null;return at.endAt&&(pt=function(gt){const yt=!gt.before,xt=gt.values||[];return new Bound(xt,yt)}(at.endAt)),__PRIVATE_newQuery(rt,ct,dt,ut,ht,"F",ft,pt)}function __PRIVATE_toListenRequestLabels(ot,rt){const at=function(ct){switch(ct){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(rt.purpose);return at==null?null:{"goog-listen-tags":at}}function __PRIVATE_fromFilter(ot){return ot.unaryFilter!==void 0?function(at){switch(at.unaryFilter.op){case"IS_NAN":const lt=__PRIVATE_fromFieldPathReference(at.unaryFilter.field);return FieldFilter.create(lt,"==",{doubleValue:NaN});case"IS_NULL":const ct=__PRIVATE_fromFieldPathReference(at.unaryFilter.field);return FieldFilter.create(ct,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const ut=__PRIVATE_fromFieldPathReference(at.unaryFilter.field);return FieldFilter.create(ut,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const dt=__PRIVATE_fromFieldPathReference(at.unaryFilter.field);return FieldFilter.create(dt,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(ot):ot.fieldFilter!==void 0?function(at){return FieldFilter.create(__PRIVATE_fromFieldPathReference(at.fieldFilter.field),function(ct){switch(ct){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(at.fieldFilter.op),at.fieldFilter.value)}(ot):ot.compositeFilter!==void 0?function(at){return CompositeFilter.create(at.compositeFilter.filters.map(lt=>__PRIVATE_fromFilter(lt)),function(ct){switch(ct){case"AND":return"and";case"OR":return"or";default:return fail()}}(at.compositeFilter.op))}(ot):fail()}function __PRIVATE_toDirection(ot){return Ie[ot]}function __PRIVATE_toOperatorName(ot){return Te[ot]}function __PRIVATE_toCompositeOperatorName(ot){return Ee[ot]}function __PRIVATE_toFieldPathReference(ot){return{fieldPath:ot.canonicalString()}}function __PRIVATE_fromFieldPathReference(ot){return FieldPath$1.fromServerFormat(ot.fieldPath)}function __PRIVATE_toFilter(ot){return ot instanceof FieldFilter?function(at){if(at.op==="=="){if(__PRIVATE_isNanValue(at.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(at.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(at.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(at.field),op:"IS_NULL"}}}else if(at.op==="!="){if(__PRIVATE_isNanValue(at.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(at.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(at.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(at.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(at.field),op:__PRIVATE_toOperatorName(at.op),value:at.value}}}(ot):ot instanceof CompositeFilter?function(at){const lt=at.getFilters().map(ct=>__PRIVATE_toFilter(ct));return lt.length===1?lt[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(at.op),filters:lt}}}(ot):fail()}function __PRIVATE_toDocumentMask(ot){const rt=[];return ot.fields.forEach(at=>rt.push(at.canonicalString())),{fieldPaths:rt}}function __PRIVATE_isValidResourceName(ot){return ot.length>=4&&ot.get(0)==="projects"&&ot.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(rt,at,lt,ct,ut=SnapshotVersion.min(),dt=SnapshotVersion.min(),ht=ByteString.EMPTY_BYTE_STRING,ft=null){this.target=rt,this.targetId=at,this.purpose=lt,this.sequenceNumber=ct,this.snapshotVersion=ut,this.lastLimboFreeSnapshotVersion=dt,this.resumeToken=ht,this.expectedCount=ft}withSequenceNumber(rt){return new TargetData(this.target,this.targetId,this.purpose,rt,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(rt,at){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,at,this.lastLimboFreeSnapshotVersion,rt,null)}withExpectedCount(rt){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,rt)}withLastLimboFreeSnapshotVersion(rt){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,rt,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(rt){this.ct=rt}}function __PRIVATE_fromBundledQuery(ot){const rt=__PRIVATE_convertQueryTargetToQuery({parent:ot.parent,structuredQuery:ot.structuredQuery});return ot.limitType==="LAST"?__PRIVATE_queryWithLimit(rt,rt.limit,"L"):rt}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(rt,at){return this._n.add(at),PersistencePromise.resolve()}getCollectionParents(rt,at){return PersistencePromise.resolve(this._n.getEntries(at))}addFieldIndex(rt,at){return PersistencePromise.resolve()}deleteFieldIndex(rt,at){return PersistencePromise.resolve()}deleteAllFieldIndexes(rt){return PersistencePromise.resolve()}createTargetIndexes(rt,at){return PersistencePromise.resolve()}getDocumentsMatchingTarget(rt,at){return PersistencePromise.resolve(null)}getIndexType(rt,at){return PersistencePromise.resolve(0)}getFieldIndexes(rt,at){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(rt){return PersistencePromise.resolve(null)}getMinOffset(rt,at){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(rt,at){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(rt,at,lt){return PersistencePromise.resolve()}updateIndexEntries(rt,at){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(rt){const at=rt.lastSegment(),lt=rt.popLast(),ct=this.index[at]||new SortedSet(ResourcePath.comparator),ut=!ct.has(lt);return this.index[at]=ct.add(lt),ut}has(rt){const at=rt.lastSegment(),lt=rt.popLast(),ct=this.index[at];return ct&&ct.has(lt)}getEntries(rt){return(this.index[rt]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(rt){this.On=rt}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Ln(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(rt=>rt.toString(),(rt,at)=>rt.isEqual(at)),this.changesApplied=!1}addEntry(rt){this.assertNotApplied(),this.changes.set(rt.key,rt)}removeEntry(rt,at){this.assertNotApplied(),this.changes.set(rt,MutableDocument.newInvalidDocument(rt).setReadTime(at))}getEntry(rt,at){this.assertNotApplied();const lt=this.changes.get(at);return lt!==void 0?PersistencePromise.resolve(lt):this.getFromCache(rt,at)}getEntries(rt,at){return this.getAllFromCache(rt,at)}apply(rt){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(rt)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(rt,at){this.overlayedDocument=rt,this.mutatedFields=at}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(rt,at,lt,ct){this.remoteDocumentCache=rt,this.mutationQueue=at,this.documentOverlayCache=lt,this.indexManager=ct}getDocument(rt,at){let lt=null;return this.documentOverlayCache.getOverlay(rt,at).next(ct=>(lt=ct,this.remoteDocumentCache.getEntry(rt,at))).next(ct=>(lt!==null&&__PRIVATE_mutationApplyToLocalView(lt.mutation,ct,FieldMask.empty(),Timestamp.now()),ct))}getDocuments(rt,at){return this.remoteDocumentCache.getEntries(rt,at).next(lt=>this.getLocalViewOfDocuments(rt,lt,__PRIVATE_documentKeySet()).next(()=>lt))}getLocalViewOfDocuments(rt,at,lt=__PRIVATE_documentKeySet()){const ct=__PRIVATE_newOverlayMap();return this.populateOverlays(rt,ct,at).next(()=>this.computeViews(rt,at,ct,lt).next(ut=>{let dt=documentMap();return ut.forEach((ht,ft)=>{dt=dt.insert(ht,ft.overlayedDocument)}),dt}))}getOverlayedDocuments(rt,at){const lt=__PRIVATE_newOverlayMap();return this.populateOverlays(rt,lt,at).next(()=>this.computeViews(rt,at,lt,__PRIVATE_documentKeySet()))}populateOverlays(rt,at,lt){const ct=[];return lt.forEach(ut=>{at.has(ut)||ct.push(ut)}),this.documentOverlayCache.getOverlays(rt,ct).next(ut=>{ut.forEach((dt,ht)=>{at.set(dt,ht)})})}computeViews(rt,at,lt,ct){let ut=__PRIVATE_mutableDocumentMap();const dt=__PRIVATE_newDocumentKeyMap(),ht=function(){return __PRIVATE_newDocumentKeyMap()}();return at.forEach((ft,pt)=>{const mt=lt.get(pt.key);ct.has(pt.key)&&(mt===void 0||mt.mutation instanceof __PRIVATE_PatchMutation)?ut=ut.insert(pt.key,pt):mt!==void 0?(dt.set(pt.key,mt.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(mt.mutation,pt,mt.mutation.getFieldMask(),Timestamp.now())):dt.set(pt.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(rt,ut).next(ft=>(ft.forEach((pt,mt)=>dt.set(pt,mt)),at.forEach((pt,mt)=>{var gt;return ht.set(pt,new OverlayedDocument(mt,(gt=dt.get(pt))!==null&&gt!==void 0?gt:null))}),ht))}recalculateAndSaveOverlays(rt,at){const lt=__PRIVATE_newDocumentKeyMap();let ct=new SortedMap((dt,ht)=>dt-ht),ut=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(rt,at).next(dt=>{for(const ht of dt)ht.keys().forEach(ft=>{const pt=at.get(ft);if(pt===null)return;let mt=lt.get(ft)||FieldMask.empty();mt=ht.applyToLocalView(pt,mt),lt.set(ft,mt);const gt=(ct.get(ht.batchId)||__PRIVATE_documentKeySet()).add(ft);ct=ct.insert(ht.batchId,gt)})}).next(()=>{const dt=[],ht=ct.getReverseIterator();for(;ht.hasNext();){const ft=ht.getNext(),pt=ft.key,mt=ft.value,gt=__PRIVATE_newMutationMap();mt.forEach(yt=>{if(!ut.has(yt)){const xt=__PRIVATE_calculateOverlayMutation(at.get(yt),lt.get(yt));xt!==null&&gt.set(yt,xt),ut=ut.add(yt)}}),dt.push(this.documentOverlayCache.saveOverlays(rt,pt,gt))}return PersistencePromise.waitFor(dt)}).next(()=>lt)}recalculateAndSaveOverlaysForDocumentKeys(rt,at){return this.remoteDocumentCache.getEntries(rt,at).next(lt=>this.recalculateAndSaveOverlays(rt,lt))}getDocumentsMatchingQuery(rt,at,lt,ct){return function(dt){return DocumentKey.isDocumentKey(dt.path)&&dt.collectionGroup===null&&dt.filters.length===0}(at)?this.getDocumentsMatchingDocumentQuery(rt,at.path):__PRIVATE_isCollectionGroupQuery(at)?this.getDocumentsMatchingCollectionGroupQuery(rt,at,lt,ct):this.getDocumentsMatchingCollectionQuery(rt,at,lt,ct)}getNextDocuments(rt,at,lt,ct){return this.remoteDocumentCache.getAllFromCollectionGroup(rt,at,lt,ct).next(ut=>{const dt=ct-ut.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(rt,at,lt.largestBatchId,ct-ut.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let ht=-1,ft=ut;return dt.next(pt=>PersistencePromise.forEach(pt,(mt,gt)=>(ht<gt.largestBatchId&&(ht=gt.largestBatchId),ut.get(mt)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(rt,mt).next(yt=>{ft=ft.insert(mt,yt)}))).next(()=>this.populateOverlays(rt,pt,ut)).next(()=>this.computeViews(rt,ft,pt,__PRIVATE_documentKeySet())).next(mt=>({batchId:ht,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(mt)})))})}getDocumentsMatchingDocumentQuery(rt,at){return this.getDocument(rt,new DocumentKey(at)).next(lt=>{let ct=documentMap();return lt.isFoundDocument()&&(ct=ct.insert(lt.key,lt)),ct})}getDocumentsMatchingCollectionGroupQuery(rt,at,lt,ct){const ut=at.collectionGroup;let dt=documentMap();return this.indexManager.getCollectionParents(rt,ut).next(ht=>PersistencePromise.forEach(ht,ft=>{const pt=function(gt,yt){return new __PRIVATE_QueryImpl(yt,null,gt.explicitOrderBy.slice(),gt.filters.slice(),gt.limit,gt.limitType,gt.startAt,gt.endAt)}(at,ft.child(ut));return this.getDocumentsMatchingCollectionQuery(rt,pt,lt,ct).next(mt=>{mt.forEach((gt,yt)=>{dt=dt.insert(gt,yt)})})}).next(()=>dt))}getDocumentsMatchingCollectionQuery(rt,at,lt,ct){let ut;return this.documentOverlayCache.getOverlaysForCollection(rt,at.path,lt.largestBatchId).next(dt=>(ut=dt,this.remoteDocumentCache.getDocumentsMatchingQuery(rt,at,lt,ut,ct))).next(dt=>{ut.forEach((ft,pt)=>{const mt=pt.getKey();dt.get(mt)===null&&(dt=dt.insert(mt,MutableDocument.newInvalidDocument(mt)))});let ht=documentMap();return dt.forEach((ft,pt)=>{const mt=ut.get(ft);mt!==void 0&&__PRIVATE_mutationApplyToLocalView(mt.mutation,pt,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(at,pt)&&(ht=ht.insert(ft,pt))}),ht})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(rt){this.serializer=rt,this.cr=new Map,this.lr=new Map}getBundleMetadata(rt,at){return PersistencePromise.resolve(this.cr.get(at))}saveBundleMetadata(rt,at){return this.cr.set(at.id,function(ct){return{id:ct.id,version:ct.version,createTime:__PRIVATE_fromVersion(ct.createTime)}}(at)),PersistencePromise.resolve()}getNamedQuery(rt,at){return PersistencePromise.resolve(this.lr.get(at))}saveNamedQuery(rt,at){return this.lr.set(at.name,function(ct){return{name:ct.name,query:__PRIVATE_fromBundledQuery(ct.bundledQuery),readTime:__PRIVATE_fromVersion(ct.readTime)}}(at)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(rt,at){return PersistencePromise.resolve(this.overlays.get(at))}getOverlays(rt,at){const lt=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(at,ct=>this.getOverlay(rt,ct).next(ut=>{ut!==null&&lt.set(ct,ut)})).next(()=>lt)}saveOverlays(rt,at,lt){return lt.forEach((ct,ut)=>{this.ht(rt,at,ut)}),PersistencePromise.resolve()}removeOverlaysForBatchId(rt,at,lt){const ct=this.hr.get(lt);return ct!==void 0&&(ct.forEach(ut=>this.overlays=this.overlays.remove(ut)),this.hr.delete(lt)),PersistencePromise.resolve()}getOverlaysForCollection(rt,at,lt){const ct=__PRIVATE_newOverlayMap(),ut=at.length+1,dt=new DocumentKey(at.child("")),ht=this.overlays.getIteratorFrom(dt);for(;ht.hasNext();){const ft=ht.getNext().value,pt=ft.getKey();if(!at.isPrefixOf(pt.path))break;pt.path.length===ut&&ft.largestBatchId>lt&&ct.set(ft.getKey(),ft)}return PersistencePromise.resolve(ct)}getOverlaysForCollectionGroup(rt,at,lt,ct){let ut=new SortedMap((pt,mt)=>pt-mt);const dt=this.overlays.getIterator();for(;dt.hasNext();){const pt=dt.getNext().value;if(pt.getKey().getCollectionGroup()===at&&pt.largestBatchId>lt){let mt=ut.get(pt.largestBatchId);mt===null&&(mt=__PRIVATE_newOverlayMap(),ut=ut.insert(pt.largestBatchId,mt)),mt.set(pt.getKey(),pt)}}const ht=__PRIVATE_newOverlayMap(),ft=ut.getIterator();for(;ft.hasNext()&&(ft.getNext().value.forEach((pt,mt)=>ht.set(pt,mt)),!(ht.size()>=ct)););return PersistencePromise.resolve(ht)}ht(rt,at,lt){const ct=this.overlays.get(lt.key);if(ct!==null){const dt=this.hr.get(ct.largestBatchId).delete(lt.key);this.hr.set(ct.largestBatchId,dt)}this.overlays=this.overlays.insert(lt.key,new Overlay(at,lt));let ut=this.hr.get(at);ut===void 0&&(ut=__PRIVATE_documentKeySet(),this.hr.set(at,ut)),this.hr.set(at,ut.add(lt.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(rt,at){const lt=new __PRIVATE_DocReference(rt,at);this.Pr=this.Pr.add(lt),this.Tr=this.Tr.add(lt)}dr(rt,at){rt.forEach(lt=>this.addReference(lt,at))}removeReference(rt,at){this.Ar(new __PRIVATE_DocReference(rt,at))}Rr(rt,at){rt.forEach(lt=>this.removeReference(lt,at))}Vr(rt){const at=new DocumentKey(new ResourcePath([])),lt=new __PRIVATE_DocReference(at,rt),ct=new __PRIVATE_DocReference(at,rt+1),ut=[];return this.Tr.forEachInRange([lt,ct],dt=>{this.Ar(dt),ut.push(dt.key)}),ut}mr(){this.Pr.forEach(rt=>this.Ar(rt))}Ar(rt){this.Pr=this.Pr.delete(rt),this.Tr=this.Tr.delete(rt)}gr(rt){const at=new DocumentKey(new ResourcePath([])),lt=new __PRIVATE_DocReference(at,rt),ct=new __PRIVATE_DocReference(at,rt+1);let ut=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([lt,ct],dt=>{ut=ut.add(dt.key)}),ut}containsKey(rt){const at=new __PRIVATE_DocReference(rt,0),lt=this.Pr.firstAfterOrEqual(at);return lt!==null&&rt.isEqual(lt.key)}}class __PRIVATE_DocReference{constructor(rt,at){this.key=rt,this.pr=at}static Ir(rt,at){return DocumentKey.comparator(rt.key,at.key)||__PRIVATE_primitiveComparator(rt.pr,at.pr)}static Er(rt,at){return __PRIVATE_primitiveComparator(rt.pr,at.pr)||DocumentKey.comparator(rt.key,at.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(rt,at){this.indexManager=rt,this.referenceDelegate=at,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(rt){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(rt,at,lt,ct){const ut=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const dt=new MutationBatch(ut,at,lt,ct);this.mutationQueue.push(dt);for(const ht of ct)this.wr=this.wr.add(new __PRIVATE_DocReference(ht.key,ut)),this.indexManager.addToCollectionParentIndex(rt,ht.key.path.popLast());return PersistencePromise.resolve(dt)}lookupMutationBatch(rt,at){return PersistencePromise.resolve(this.Sr(at))}getNextMutationBatchAfterBatchId(rt,at){const lt=at+1,ct=this.br(lt),ut=ct<0?0:ct;return PersistencePromise.resolve(this.mutationQueue.length>ut?this.mutationQueue[ut]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(rt){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(rt,at){const lt=new __PRIVATE_DocReference(at,0),ct=new __PRIVATE_DocReference(at,Number.POSITIVE_INFINITY),ut=[];return this.wr.forEachInRange([lt,ct],dt=>{const ht=this.Sr(dt.pr);ut.push(ht)}),PersistencePromise.resolve(ut)}getAllMutationBatchesAffectingDocumentKeys(rt,at){let lt=new SortedSet(__PRIVATE_primitiveComparator);return at.forEach(ct=>{const ut=new __PRIVATE_DocReference(ct,0),dt=new __PRIVATE_DocReference(ct,Number.POSITIVE_INFINITY);this.wr.forEachInRange([ut,dt],ht=>{lt=lt.add(ht.pr)})}),PersistencePromise.resolve(this.Dr(lt))}getAllMutationBatchesAffectingQuery(rt,at){const lt=at.path,ct=lt.length+1;let ut=lt;DocumentKey.isDocumentKey(ut)||(ut=ut.child(""));const dt=new __PRIVATE_DocReference(new DocumentKey(ut),0);let ht=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile(ft=>{const pt=ft.key.path;return!!lt.isPrefixOf(pt)&&(pt.length===ct&&(ht=ht.add(ft.pr)),!0)},dt),PersistencePromise.resolve(this.Dr(ht))}Dr(rt){const at=[];return rt.forEach(lt=>{const ct=this.Sr(lt);ct!==null&&at.push(ct)}),at}removeMutationBatch(rt,at){__PRIVATE_hardAssert(this.Cr(at.batchId,"removed")===0),this.mutationQueue.shift();let lt=this.wr;return PersistencePromise.forEach(at.mutations,ct=>{const ut=new __PRIVATE_DocReference(ct.key,at.batchId);return lt=lt.delete(ut),this.referenceDelegate.markPotentiallyOrphaned(rt,ct.key)}).next(()=>{this.wr=lt})}Mn(rt){}containsKey(rt,at){const lt=new __PRIVATE_DocReference(at,0),ct=this.wr.firstAfterOrEqual(lt);return PersistencePromise.resolve(at.isEqual(ct&&ct.key))}performConsistencyCheck(rt){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(rt,at){return this.br(rt)}br(rt){return this.mutationQueue.length===0?0:rt-this.mutationQueue[0].batchId}Sr(rt){const at=this.br(rt);return at<0||at>=this.mutationQueue.length?null:this.mutationQueue[at]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(rt){this.vr=rt,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(rt){this.indexManager=rt}addEntry(rt,at){const lt=at.key,ct=this.docs.get(lt),ut=ct?ct.size:0,dt=this.vr(at);return this.docs=this.docs.insert(lt,{document:at.mutableCopy(),size:dt}),this.size+=dt-ut,this.indexManager.addToCollectionParentIndex(rt,lt.path.popLast())}removeEntry(rt){const at=this.docs.get(rt);at&&(this.docs=this.docs.remove(rt),this.size-=at.size)}getEntry(rt,at){const lt=this.docs.get(at);return PersistencePromise.resolve(lt?lt.document.mutableCopy():MutableDocument.newInvalidDocument(at))}getEntries(rt,at){let lt=__PRIVATE_mutableDocumentMap();return at.forEach(ct=>{const ut=this.docs.get(ct);lt=lt.insert(ct,ut?ut.document.mutableCopy():MutableDocument.newInvalidDocument(ct))}),PersistencePromise.resolve(lt)}getDocumentsMatchingQuery(rt,at,lt,ct){let ut=__PRIVATE_mutableDocumentMap();const dt=at.path,ht=new DocumentKey(dt.child("")),ft=this.docs.getIteratorFrom(ht);for(;ft.hasNext();){const{key:pt,value:{document:mt}}=ft.getNext();if(!dt.isPrefixOf(pt.path))break;pt.path.length>dt.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(mt),lt)<=0||(ct.has(mt.key)||__PRIVATE_queryMatches(at,mt))&&(ut=ut.insert(mt.key,mt.mutableCopy()))}return PersistencePromise.resolve(ut)}getAllFromCollectionGroup(rt,at,lt,ct){fail()}Fr(rt,at){return PersistencePromise.forEach(this.docs,lt=>at(lt))}newChangeBuffer(rt){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(rt){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(rt){super(),this.ar=rt}applyChanges(rt){const at=[];return this.changes.forEach((lt,ct)=>{ct.isValidDocument()?at.push(this.ar.addEntry(rt,ct)):this.ar.removeEntry(lt)}),PersistencePromise.waitFor(at)}getFromCache(rt,at){return this.ar.getEntry(rt,at)}getAllFromCache(rt,at){return this.ar.getEntries(rt,at)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(rt){this.persistence=rt,this.Mr=new ObjectMap(at=>__PRIVATE_canonifyTarget(at),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Lr=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(rt,at){return this.Mr.forEach((lt,ct)=>at(ct)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(rt){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(rt){return PersistencePromise.resolve(this.Or)}allocateTargetId(rt){return this.highestTargetId=this.Lr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(rt,at,lt){return lt&&(this.lastRemoteSnapshotVersion=lt),at>this.Or&&(this.Or=at),PersistencePromise.resolve()}qn(rt){this.Mr.set(rt.target,rt);const at=rt.targetId;at>this.highestTargetId&&(this.Lr=new __PRIVATE_TargetIdGenerator(at),this.highestTargetId=at),rt.sequenceNumber>this.Or&&(this.Or=rt.sequenceNumber)}addTargetData(rt,at){return this.qn(at),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(rt,at){return this.qn(at),PersistencePromise.resolve()}removeTargetData(rt,at){return this.Mr.delete(at.target),this.Nr.Vr(at.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(rt,at,lt){let ct=0;const ut=[];return this.Mr.forEach((dt,ht)=>{ht.sequenceNumber<=at&&lt.get(ht.targetId)===null&&(this.Mr.delete(dt),ut.push(this.removeMatchingKeysForTargetId(rt,ht.targetId)),ct++)}),PersistencePromise.waitFor(ut).next(()=>ct)}getTargetCount(rt){return PersistencePromise.resolve(this.targetCount)}getTargetData(rt,at){const lt=this.Mr.get(at)||null;return PersistencePromise.resolve(lt)}addMatchingKeys(rt,at,lt){return this.Nr.dr(at,lt),PersistencePromise.resolve()}removeMatchingKeys(rt,at,lt){this.Nr.Rr(at,lt);const ct=this.persistence.referenceDelegate,ut=[];return ct&&at.forEach(dt=>{ut.push(ct.markPotentiallyOrphaned(rt,dt))}),PersistencePromise.waitFor(ut)}removeMatchingKeysForTargetId(rt,at){return this.Nr.Vr(at),PersistencePromise.resolve()}getMatchingKeysForTargetId(rt,at){const lt=this.Nr.gr(at);return PersistencePromise.resolve(lt)}containsKey(rt,at){return PersistencePromise.resolve(this.Nr.containsKey(at))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(rt,at){this.Br={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=rt(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(ct){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(ct)}(lt=>this.referenceDelegate.Kr(lt)),this.serializer=new __PRIVATE_LocalSerializer(at),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(rt){return this.indexManager}getDocumentOverlayCache(rt){let at=this.overlays[rt.toKey()];return at||(at=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[rt.toKey()]=at),at}getMutationQueue(rt,at){let lt=this.Br[rt.toKey()];return lt||(lt=new __PRIVATE_MemoryMutationQueue(at,this.referenceDelegate),this.Br[rt.toKey()]=lt),lt}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(rt,at,lt){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",rt);const ct=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),lt(ct).next(ut=>this.referenceDelegate.Wr(ct).next(()=>ut)).toPromise().then(ut=>(ct.raiseOnCommittedEvent(),ut))}Gr(rt,at){return PersistencePromise.or(Object.values(this.Br).map(lt=>()=>lt.containsKey(rt,at)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(rt){super(),this.currentSequenceNumber=rt}}class __PRIVATE_MemoryEagerDelegate{constructor(rt){this.persistence=rt,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(rt){return new __PRIVATE_MemoryEagerDelegate(rt)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(rt,at,lt){return this.zr.addReference(lt,at),this.Jr.delete(lt.toString()),PersistencePromise.resolve()}removeReference(rt,at,lt){return this.zr.removeReference(lt,at),this.Jr.add(lt.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(rt,at){return this.Jr.add(at.toString()),PersistencePromise.resolve()}removeTarget(rt,at){this.zr.Vr(at.targetId).forEach(ct=>this.Jr.add(ct.toString()));const lt=this.persistence.getTargetCache();return lt.getMatchingKeysForTargetId(rt,at.targetId).next(ct=>{ct.forEach(ut=>this.Jr.add(ut.toString()))}).next(()=>lt.removeTargetData(rt,at))}Ur(){this.jr=new Set}Wr(rt){const at=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,lt=>{const ct=DocumentKey.fromPath(lt);return this.Yr(rt,ct).next(ut=>{ut||at.removeEntry(ct,SnapshotVersion.min())})}).next(()=>(this.jr=null,at.apply(rt)))}updateLimboDocument(rt,at){return this.Yr(rt,at).next(lt=>{lt?this.Jr.delete(at.toString()):this.Jr.add(at.toString())})}Kr(rt){return 0}Yr(rt,at){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(at)),()=>this.persistence.getTargetCache().containsKey(rt,at),()=>this.persistence.Gr(rt,at)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(rt,at,lt,ct){this.targetId=rt,this.fromCache=at,this.qi=lt,this.Qi=ct}static Ki(rt,at){let lt=__PRIVATE_documentKeySet(),ct=__PRIVATE_documentKeySet();for(const ut of at.docChanges)switch(ut.type){case 0:lt=lt.add(ut.doc.key);break;case 1:ct=ct.add(ut.doc.key)}return new __PRIVATE_LocalViewChanges(rt,at.fromCache,lt,ct)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(rt){this._documentReadCount+=rt}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return isSafari$1()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4}()}initialize(rt,at){this.zi=rt,this.indexManager=at,this.$i=!0}getDocumentsMatchingQuery(rt,at,lt,ct){const ut={result:null};return this.ji(rt,at).next(dt=>{ut.result=dt}).next(()=>{if(!ut.result)return this.Hi(rt,at,ct,lt).next(dt=>{ut.result=dt})}).next(()=>{if(ut.result)return;const dt=new QueryContext;return this.Ji(rt,at,dt).next(ht=>{if(ut.result=ht,this.Ui)return this.Yi(rt,at,dt,ht.size)})}).next(()=>ut.result)}Yi(rt,at,lt,ct){return lt.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(at),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(at),"scans",lt.documentReadCount,"local documents and returns",ct,"documents as results."),lt.documentReadCount>this.Gi*ct?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(at),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(rt,__PRIVATE_queryToTarget(at))):PersistencePromise.resolve())}ji(rt,at){if(__PRIVATE_queryMatchesAllDocuments(at))return PersistencePromise.resolve(null);let lt=__PRIVATE_queryToTarget(at);return this.indexManager.getIndexType(rt,lt).next(ct=>ct===0?null:(at.limit!==null&&ct===1&&(at=__PRIVATE_queryWithLimit(at,null,"F"),lt=__PRIVATE_queryToTarget(at)),this.indexManager.getDocumentsMatchingTarget(rt,lt).next(ut=>{const dt=__PRIVATE_documentKeySet(...ut);return this.zi.getDocuments(rt,dt).next(ht=>this.indexManager.getMinOffset(rt,lt).next(ft=>{const pt=this.Zi(at,ht);return this.Xi(at,pt,dt,ft.readTime)?this.ji(rt,__PRIVATE_queryWithLimit(at,null,"F")):this.es(rt,pt,at,ft)}))})))}Hi(rt,at,lt,ct){return __PRIVATE_queryMatchesAllDocuments(at)||ct.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(rt,lt).next(ut=>{const dt=this.Zi(at,ut);return this.Xi(at,dt,lt,ct)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",ct.toString(),__PRIVATE_stringifyQuery(at)),this.es(rt,dt,at,__PRIVATE_newIndexOffsetSuccessorFromReadTime(ct,-1)).next(ht=>ht))})}Zi(rt,at){let lt=new SortedSet(__PRIVATE_newQueryComparator(rt));return at.forEach((ct,ut)=>{__PRIVATE_queryMatches(rt,ut)&&(lt=lt.add(ut))}),lt}Xi(rt,at,lt,ct){if(rt.limit===null)return!1;if(lt.size!==at.size)return!0;const ut=rt.limitType==="F"?at.last():at.first();return!!ut&&(ut.hasPendingWrites||ut.version.compareTo(ct)>0)}Ji(rt,at,lt){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(at)),this.zi.getDocumentsMatchingQuery(rt,at,IndexOffset.min(),lt)}es(rt,at,lt,ct){return this.zi.getDocumentsMatchingQuery(rt,lt,ct).next(ut=>(at.forEach(dt=>{ut=ut.insert(dt.key,dt)}),ut))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(rt,at,lt,ct){this.persistence=rt,this.ts=at,this.serializer=ct,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap(ut=>__PRIVATE_canonifyTarget(ut),__PRIVATE_targetEquals),this.ss=new Map,this.os=rt.getRemoteDocumentCache(),this.Qr=rt.getTargetCache(),this.$r=rt.getBundleCache(),this._s(lt)}_s(rt){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(rt),this.indexManager=this.persistence.getIndexManager(rt),this.mutationQueue=this.persistence.getMutationQueue(rt,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(rt){return this.persistence.runTransaction("Collect garbage","readwrite-primary",at=>rt.collect(at,this.ns))}}function __PRIVATE_newLocalStore(ot,rt,at,lt){return new __PRIVATE_LocalStoreImpl(ot,rt,at,lt)}async function __PRIVATE_localStoreHandleUserChange(ot,rt){const at=__PRIVATE_debugCast(ot);return await at.persistence.runTransaction("Handle user change","readonly",lt=>{let ct;return at.mutationQueue.getAllMutationBatches(lt).next(ut=>(ct=ut,at._s(rt),at.mutationQueue.getAllMutationBatches(lt))).next(ut=>{const dt=[],ht=[];let ft=__PRIVATE_documentKeySet();for(const pt of ct){dt.push(pt.batchId);for(const mt of pt.mutations)ft=ft.add(mt.key)}for(const pt of ut){ht.push(pt.batchId);for(const mt of pt.mutations)ft=ft.add(mt.key)}return at.localDocuments.getDocuments(lt,ft).next(pt=>({us:pt,removedBatchIds:dt,addedBatchIds:ht}))})})}function __PRIVATE_localStoreAcknowledgeBatch(ot,rt){const at=__PRIVATE_debugCast(ot);return at.persistence.runTransaction("Acknowledge batch","readwrite-primary",lt=>{const ct=rt.batch.keys(),ut=at.os.newChangeBuffer({trackRemovals:!0});return function(ht,ft,pt,mt){const gt=pt.batch,yt=gt.keys();let xt=PersistencePromise.resolve();return yt.forEach(bt=>{xt=xt.next(()=>mt.getEntry(ft,bt)).next(Et=>{const Rt=pt.docVersions.get(bt);__PRIVATE_hardAssert(Rt!==null),Et.version.compareTo(Rt)<0&&(gt.applyToRemoteDocument(Et,pt),Et.isValidDocument()&&(Et.setReadTime(pt.commitVersion),mt.addEntry(Et)))})}),xt.next(()=>ht.mutationQueue.removeMutationBatch(ft,gt))}(at,lt,rt,ut).next(()=>ut.apply(lt)).next(()=>at.mutationQueue.performConsistencyCheck(lt)).next(()=>at.documentOverlayCache.removeOverlaysForBatchId(lt,ct,rt.batch.batchId)).next(()=>at.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(lt,function(ht){let ft=__PRIVATE_documentKeySet();for(let pt=0;pt<ht.mutationResults.length;++pt)ht.mutationResults[pt].transformResults.length>0&&(ft=ft.add(ht.batch.mutations[pt].key));return ft}(rt))).next(()=>at.localDocuments.getDocuments(lt,ct))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(ot){const rt=__PRIVATE_debugCast(ot);return rt.persistence.runTransaction("Get last remote snapshot version","readonly",at=>rt.Qr.getLastRemoteSnapshotVersion(at))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(ot,rt){const at=__PRIVATE_debugCast(ot),lt=rt.snapshotVersion;let ct=at.ns;return at.persistence.runTransaction("Apply remote event","readwrite-primary",ut=>{const dt=at.os.newChangeBuffer({trackRemovals:!0});ct=at.ns;const ht=[];rt.targetChanges.forEach((mt,gt)=>{const yt=ct.get(gt);if(!yt)return;ht.push(at.Qr.removeMatchingKeys(ut,mt.removedDocuments,gt).next(()=>at.Qr.addMatchingKeys(ut,mt.addedDocuments,gt)));let xt=yt.withSequenceNumber(ut.currentSequenceNumber);rt.targetMismatches.get(gt)!==null?xt=xt.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):mt.resumeToken.approximateByteSize()>0&&(xt=xt.withResumeToken(mt.resumeToken,lt)),ct=ct.insert(gt,xt),function(Et,Rt,wt){return Et.resumeToken.approximateByteSize()===0||Rt.snapshotVersion.toMicroseconds()-Et.snapshotVersion.toMicroseconds()>=3e8?!0:wt.addedDocuments.size+wt.modifiedDocuments.size+wt.removedDocuments.size>0}(yt,xt,mt)&&ht.push(at.Qr.updateTargetData(ut,xt))});let ft=__PRIVATE_mutableDocumentMap(),pt=__PRIVATE_documentKeySet();if(rt.documentUpdates.forEach(mt=>{rt.resolvedLimboDocuments.has(mt)&&ht.push(at.persistence.referenceDelegate.updateLimboDocument(ut,mt))}),ht.push(__PRIVATE_populateDocumentChangeBuffer(ut,dt,rt.documentUpdates).next(mt=>{ft=mt.cs,pt=mt.ls})),!lt.isEqual(SnapshotVersion.min())){const mt=at.Qr.getLastRemoteSnapshotVersion(ut).next(gt=>at.Qr.setTargetsMetadata(ut,ut.currentSequenceNumber,lt));ht.push(mt)}return PersistencePromise.waitFor(ht).next(()=>dt.apply(ut)).next(()=>at.localDocuments.getLocalViewOfDocuments(ut,ft,pt)).next(()=>ft)}).then(ut=>(at.ns=ct,ut))}function __PRIVATE_populateDocumentChangeBuffer(ot,rt,at){let lt=__PRIVATE_documentKeySet(),ct=__PRIVATE_documentKeySet();return at.forEach(ut=>lt=lt.add(ut)),rt.getEntries(ot,lt).next(ut=>{let dt=__PRIVATE_mutableDocumentMap();return at.forEach((ht,ft)=>{const pt=ut.get(ht);ft.isFoundDocument()!==pt.isFoundDocument()&&(ct=ct.add(ht)),ft.isNoDocument()&&ft.version.isEqual(SnapshotVersion.min())?(rt.removeEntry(ht,ft.readTime),dt=dt.insert(ht,ft)):!pt.isValidDocument()||ft.version.compareTo(pt.version)>0||ft.version.compareTo(pt.version)===0&&pt.hasPendingWrites?(rt.addEntry(ft),dt=dt.insert(ht,ft)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",ht,". Current version:",pt.version," Watch version:",ft.version)}),{cs:dt,ls:ct}})}function __PRIVATE_localStoreGetNextMutationBatch(ot,rt){const at=__PRIVATE_debugCast(ot);return at.persistence.runTransaction("Get next mutation batch","readonly",lt=>(rt===void 0&&(rt=-1),at.mutationQueue.getNextMutationBatchAfterBatchId(lt,rt)))}function __PRIVATE_localStoreAllocateTarget(ot,rt){const at=__PRIVATE_debugCast(ot);return at.persistence.runTransaction("Allocate target","readwrite",lt=>{let ct;return at.Qr.getTargetData(lt,rt).next(ut=>ut?(ct=ut,PersistencePromise.resolve(ct)):at.Qr.allocateTargetId(lt).next(dt=>(ct=new TargetData(rt,dt,"TargetPurposeListen",lt.currentSequenceNumber),at.Qr.addTargetData(lt,ct).next(()=>ct))))}).then(lt=>{const ct=at.ns.get(lt.targetId);return(ct===null||lt.snapshotVersion.compareTo(ct.snapshotVersion)>0)&&(at.ns=at.ns.insert(lt.targetId,lt),at.rs.set(rt,lt.targetId)),lt})}async function __PRIVATE_localStoreReleaseTarget(ot,rt,at){const lt=__PRIVATE_debugCast(ot),ct=lt.ns.get(rt),ut=at?"readwrite":"readwrite-primary";try{at||await lt.persistence.runTransaction("Release target",ut,dt=>lt.persistence.referenceDelegate.removeTarget(dt,ct))}catch(dt){if(!__PRIVATE_isIndexedDbTransactionError(dt))throw dt;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${rt}: ${dt}`)}lt.ns=lt.ns.remove(rt),lt.rs.delete(ct.target)}function __PRIVATE_localStoreExecuteQuery(ot,rt,at){const lt=__PRIVATE_debugCast(ot);let ct=SnapshotVersion.min(),ut=__PRIVATE_documentKeySet();return lt.persistence.runTransaction("Execute query","readwrite",dt=>function(ft,pt,mt){const gt=__PRIVATE_debugCast(ft),yt=gt.rs.get(mt);return yt!==void 0?PersistencePromise.resolve(gt.ns.get(yt)):gt.Qr.getTargetData(pt,mt)}(lt,dt,__PRIVATE_queryToTarget(rt)).next(ht=>{if(ht)return ct=ht.lastLimboFreeSnapshotVersion,lt.Qr.getMatchingKeysForTargetId(dt,ht.targetId).next(ft=>{ut=ft})}).next(()=>lt.ts.getDocumentsMatchingQuery(dt,rt,at?ct:SnapshotVersion.min(),at?ut:__PRIVATE_documentKeySet())).next(ht=>(__PRIVATE_setMaxReadTime(lt,__PRIVATE_queryCollectionGroup(rt),ht),{documents:ht,hs:ut})))}function __PRIVATE_setMaxReadTime(ot,rt,at){let lt=ot.ss.get(rt)||SnapshotVersion.min();at.forEach((ct,ut)=>{ut.readTime.compareTo(lt)>0&&(lt=ut.readTime)}),ot.ss.set(rt,lt)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}As(rt){this.activeTargetIds=this.activeTargetIds.add(rt)}Rs(rt){this.activeTargetIds=this.activeTargetIds.delete(rt)}ds(){const rt={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(rt)}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(rt){}updateMutationState(rt,at,lt){}addLocalQueryTarget(rt){return this.no.As(rt),this.ro[rt]||"not-current"}updateQueryState(rt,at,lt){this.ro[rt]=at}removeLocalQueryTarget(rt){this.no.Rs(rt)}isLocalQueryTarget(rt){return this.no.activeTargetIds.has(rt)}clearQueryState(rt){delete this.ro[rt]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(rt){return this.no.activeTargetIds.has(rt)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(rt,at,lt){}setOnlineState(rt){}shutdown(){}writeSequenceNumber(rt){}notifyBundleLoaded(rt){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{io(rt){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(rt){this.uo.push(rt)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const rt of this.uo)rt(0)}ao(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const rt of this.uo)rt(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ve=null;function __PRIVATE_generateUniqueDebugId(){return Ve===null?Ve=function(){return 268435456+Math.round(2147483648*Math.random())}():Ve++,"0x"+Ve.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(rt){this.lo=rt.lo,this.ho=rt.ho}Po(rt){this.Io=rt}To(rt){this.Eo=rt}Ao(rt){this.Ro=rt}onMessage(rt){this.Vo=rt}close(){this.ho()}send(rt){this.lo(rt)}mo(){this.Io()}fo(){this.Eo()}po(rt){this.Ro(rt)}yo(rt){this.Vo(rt)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(at){this.databaseInfo=at,this.databaseId=at.databaseId;const lt=at.ssl?"https":"http",ct=encodeURIComponent(this.databaseId.projectId),ut=encodeURIComponent(this.databaseId.database);this.wo=lt+"://"+at.host,this.So=`projects/${ct}/databases/${ut}`,this.bo=this.databaseId.database==="(default)"?`project_id=${ct}`:`project_id=${ct}&database_id=${ut}`}get Do(){return!1}Co(at,lt,ct,ut,dt){const ht=__PRIVATE_generateUniqueDebugId(),ft=this.vo(at,lt.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${at}' ${ht}:`,ft,ct);const pt={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(pt,ut,dt),this.Mo(at,ft,pt,ct).then(mt=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${at}' ${ht}: `,mt),mt),mt=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${at}' ${ht} failed with error: `,mt,"url: ",ft,"request:",ct),mt})}xo(at,lt,ct,ut,dt,ht){return this.Co(at,lt,ct,ut,dt)}Fo(at,lt,ct){at["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+b$4}(),at["Content-Type"]="text/plain",this.databaseInfo.appId&&(at["X-Firebase-GMPID"]=this.databaseInfo.appId),lt&&lt.headers.forEach((ut,dt)=>at[dt]=ut),ct&&ct.headers.forEach((ut,dt)=>at[dt]=ut)}vo(at,lt){const ct=me[at];return`${this.wo}/v1/${lt}:${ct}`}terminate(){}}{constructor(rt){super(rt),this.forceLongPolling=rt.forceLongPolling,this.autoDetectLongPolling=rt.autoDetectLongPolling,this.useFetchStreams=rt.useFetchStreams,this.longPollingOptions=rt.longPollingOptions}Mo(rt,at,lt,ct){const ut=__PRIVATE_generateUniqueDebugId();return new Promise((dt,ht)=>{const ft=new XhrIo;ft.setWithCredentials(!0),ft.listenOnce(EventType.COMPLETE,()=>{try{switch(ft.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const mt=ft.getResponseJson();__PRIVATE_logDebug(fe,`XHR for RPC '${rt}' ${ut} received:`,JSON.stringify(mt)),dt(mt);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(fe,`RPC '${rt}' ${ut} timed out`),ht(new FirestoreError(C$4.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const gt=ft.getStatus();if(__PRIVATE_logDebug(fe,`RPC '${rt}' ${ut} failed with status:`,gt,"response text:",ft.getResponseText()),gt>0){let yt=ft.getResponseJson();Array.isArray(yt)&&(yt=yt[0]);const xt=yt==null?void 0:yt.error;if(xt&&xt.status&&xt.message){const bt=function(Rt){const wt=Rt.toLowerCase().replace(/_/g,"-");return Object.values(C$4).indexOf(wt)>=0?wt:C$4.UNKNOWN}(xt.status);ht(new FirestoreError(bt,xt.message))}else ht(new FirestoreError(C$4.UNKNOWN,"Server responded with status "+ft.getStatus()))}else ht(new FirestoreError(C$4.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(fe,`RPC '${rt}' ${ut} completed.`)}});const pt=JSON.stringify(ct);__PRIVATE_logDebug(fe,`RPC '${rt}' ${ut} sending request:`,ct),ft.send(at,"POST",pt,lt,15)})}Oo(rt,at,lt){const ct=__PRIVATE_generateUniqueDebugId(),ut=[this.wo,"/","google.firestore.v1.Firestore","/",rt,"/channel"],dt=createWebChannelTransport(),ht=getStatEventTarget(),ft={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},pt=this.longPollingOptions.timeoutSeconds;pt!==void 0&&(ft.longPollingTimeout=Math.round(1e3*pt)),this.useFetchStreams&&(ft.xmlHttpFactory=new FetchXmlHttpFactory({})),this.Fo(ft.initMessageHeaders,at,lt),ft.encodeInitMessageHeaders=!0;const mt=ut.join("");__PRIVATE_logDebug(fe,`Creating RPC '${rt}' stream ${ct}: ${mt}`,ft);const gt=dt.createWebChannel(mt,ft);let yt=!1,xt=!1;const bt=new __PRIVATE_StreamBridge({lo:Rt=>{xt?__PRIVATE_logDebug(fe,`Not sending because RPC '${rt}' stream ${ct} is closed:`,Rt):(yt||(__PRIVATE_logDebug(fe,`Opening RPC '${rt}' stream ${ct} transport.`),gt.open(),yt=!0),__PRIVATE_logDebug(fe,`RPC '${rt}' stream ${ct} sending:`,Rt),gt.send(Rt))},ho:()=>gt.close()}),Et=(Rt,wt,_t)=>{Rt.listen(wt,At=>{try{_t(At)}catch(kt){setTimeout(()=>{throw kt},0)}})};return Et(gt,WebChannel.EventType.OPEN,()=>{xt||(__PRIVATE_logDebug(fe,`RPC '${rt}' stream ${ct} transport opened.`),bt.mo())}),Et(gt,WebChannel.EventType.CLOSE,()=>{xt||(xt=!0,__PRIVATE_logDebug(fe,`RPC '${rt}' stream ${ct} transport closed`),bt.po())}),Et(gt,WebChannel.EventType.ERROR,Rt=>{xt||(xt=!0,__PRIVATE_logWarn(fe,`RPC '${rt}' stream ${ct} transport errored:`,Rt),bt.po(new FirestoreError(C$4.UNAVAILABLE,"The operation could not be completed")))}),Et(gt,WebChannel.EventType.MESSAGE,Rt=>{var wt;if(!xt){const _t=Rt.data[0];__PRIVATE_hardAssert(!!_t);const At=_t,kt=At.error||((wt=At[0])===null||wt===void 0?void 0:wt.error);if(kt){__PRIVATE_logDebug(fe,`RPC '${rt}' stream ${ct} received error:`,kt);const It=kt.status;let Nt=function(Ct){const Ot=ce[Ct];if(Ot!==void 0)return __PRIVATE_mapCodeFromRpcCode(Ot)}(It),Pt=kt.message;Nt===void 0&&(Nt=C$4.INTERNAL,Pt="Unknown error status: "+It+" with message "+kt.message),xt=!0,bt.po(new FirestoreError(Nt,Pt)),gt.close()}else __PRIVATE_logDebug(fe,`RPC '${rt}' stream ${ct} received:`,_t),bt.yo(_t)}}),Et(ht,Event$1.STAT_EVENT,Rt=>{Rt.stat===Stat.PROXY?__PRIVATE_logDebug(fe,`RPC '${rt}' stream ${ct} detected buffering proxy`):Rt.stat===Stat.NOPROXY&&__PRIVATE_logDebug(fe,`RPC '${rt}' stream ${ct} detected no buffering proxy`)}),setTimeout(()=>{bt.fo()},0),bt}}function getDocument$1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(ot){return new JsonProtoSerializer(ot,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(rt,at,lt=1e3,ct=1.5,ut=6e4){this.oi=rt,this.timerId=at,this.No=lt,this.Lo=ct,this.Bo=ut,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(rt){this.cancel();const at=Math.floor(this.ko+this.Uo()),lt=Math.max(0,Date.now()-this.Qo),ct=Math.max(0,at-lt);ct>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${ct} ms (base delay: ${this.ko} ms, delay with jitter: ${at} ms, last attempt: ${lt} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,ct,()=>(this.Qo=Date.now(),rt())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(rt,at,lt,ct,ut,dt,ht,ft){this.oi=rt,this.Go=lt,this.zo=ct,this.connection=ut,this.authCredentialsProvider=dt,this.appCheckCredentialsProvider=ht,this.listener=ft,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new __PRIVATE_ExponentialBackoff(rt,at)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(rt){this.s_(),this.stream.send(rt)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(rt,at){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,rt!==4?this.Yo.reset():at&&at.code===C$4.RESOURCE_EXHAUSTED?(__PRIVATE_logError(at.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):at&&at.code===C$4.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=rt,await this.listener.Ao(at)}__(){}auth(){this.state=1;const rt=this.a_(this.jo),at=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([lt,ct])=>{this.jo===at&&this.u_(lt,ct)},lt=>{rt(()=>{const ct=new FirestoreError(C$4.UNKNOWN,"Fetching auth token failed: "+lt.message);return this.c_(ct)})})}u_(rt,at){const lt=this.a_(this.jo);this.stream=this.l_(rt,at),this.stream.Po(()=>{lt(()=>this.listener.Po())}),this.stream.To(()=>{lt(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(ct=>{lt(()=>this.c_(ct))}),this.stream.onMessage(ct=>{lt(()=>this.onMessage(ct))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(rt){return __PRIVATE_logDebug("PersistentStream",`close with error: ${rt}`),this.stream=null,this.close(4,rt)}a_(rt){return at=>{this.oi.enqueueAndForget(()=>this.jo===rt?at():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(rt,at,lt,ct,ut,dt){super(rt,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",at,lt,ct,dt),this.serializer=ut}l_(rt,at){return this.connection.Oo("Listen",rt,at)}onMessage(rt){this.Yo.reset();const at=__PRIVATE_fromWatchChange(this.serializer,rt),lt=function(ut){if(!("targetChange"in ut))return SnapshotVersion.min();const dt=ut.targetChange;return dt.targetIds&&dt.targetIds.length?SnapshotVersion.min():dt.readTime?__PRIVATE_fromVersion(dt.readTime):SnapshotVersion.min()}(rt);return this.listener.h_(at,lt)}P_(rt){const at={};at.database=__PRIVATE_getEncodedDatabaseId(this.serializer),at.addTarget=function(ut,dt){let ht;const ft=dt.target;if(ht=__PRIVATE_targetIsDocumentTarget(ft)?{documents:__PRIVATE_toDocumentsTarget(ut,ft)}:{query:__PRIVATE_toQueryTarget(ut,ft)._t},ht.targetId=dt.targetId,dt.resumeToken.approximateByteSize()>0){ht.resumeToken=__PRIVATE_toBytes(ut,dt.resumeToken);const pt=__PRIVATE_toInt32Proto(ut,dt.expectedCount);pt!==null&&(ht.expectedCount=pt)}else if(dt.snapshotVersion.compareTo(SnapshotVersion.min())>0){ht.readTime=toTimestamp(ut,dt.snapshotVersion.toTimestamp());const pt=__PRIVATE_toInt32Proto(ut,dt.expectedCount);pt!==null&&(ht.expectedCount=pt)}return ht}(this.serializer,rt);const lt=__PRIVATE_toListenRequestLabels(this.serializer,rt);lt&&(at.labels=lt),this.i_(at)}I_(rt){const at={};at.database=__PRIVATE_getEncodedDatabaseId(this.serializer),at.removeTarget=rt,this.i_(at)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(rt,at,lt,ct,ut,dt){super(rt,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",at,lt,ct,dt),this.serializer=ut,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(rt,at){return this.connection.Oo("Write",rt,at)}onMessage(rt){if(__PRIVATE_hardAssert(!!rt.streamToken),this.lastStreamToken=rt.streamToken,this.T_){this.Yo.reset();const at=__PRIVATE_fromWriteResults(rt.writeResults,rt.commitTime),lt=__PRIVATE_fromVersion(rt.commitTime);return this.listener.A_(lt,at)}return __PRIVATE_hardAssert(!rt.writeResults||rt.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const rt={};rt.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.i_(rt)}d_(rt){const at={streamToken:this.lastStreamToken,writes:rt.map(lt=>toMutation(this.serializer,lt))};this.i_(at)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(rt,at,lt,ct){super(),this.authCredentials=rt,this.appCheckCredentials=at,this.connection=lt,this.serializer=ct,this.m_=!1}f_(){if(this.m_)throw new FirestoreError(C$4.FAILED_PRECONDITION,"The client has already been terminated.")}Co(rt,at,lt,ct){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ut,dt])=>this.connection.Co(rt,__PRIVATE_toResourcePath(at,lt),ct,ut,dt)).catch(ut=>{throw ut.name==="FirebaseError"?(ut.code===C$4.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ut):new FirestoreError(C$4.UNKNOWN,ut.toString())})}xo(rt,at,lt,ct,ut){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([dt,ht])=>this.connection.xo(rt,__PRIVATE_toResourcePath(at,lt),ct,dt,ht,ut)).catch(dt=>{throw dt.name==="FirebaseError"?(dt.code===C$4.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),dt):new FirestoreError(C$4.UNKNOWN,dt.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(rt,at){this.asyncQueue=rt,this.onlineStateHandler=at,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(rt){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${rt.toString()}`),this.S_("Offline")))}set(rt){this.C_(),this.g_=0,rt==="Online"&&(this.y_=!1),this.S_(rt)}S_(rt){rt!==this.state&&(this.state=rt,this.onlineStateHandler(rt))}b_(rt){const at=`Could not reach Cloud Firestore backend. ${rt}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(__PRIVATE_logError(at),this.y_=!1):__PRIVATE_logDebug("OnlineStateTracker",at)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(rt,at,lt,ct,ut){this.localStore=rt,this.datastore=at,this.asyncQueue=lt,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=ut,this.O_.io(dt=>{lt.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(ft){const pt=__PRIVATE_debugCast(ft);pt.M_.add(4),await __PRIVATE_disableNetworkInternal(pt),pt.N_.set("Unknown"),pt.M_.delete(4),await __PRIVATE_enableNetworkInternal(pt)}(this))})}),this.N_=new __PRIVATE_OnlineStateTracker(lt,ct)}}async function __PRIVATE_enableNetworkInternal(ot){if(__PRIVATE_canUseNetwork(ot))for(const rt of ot.x_)await rt(!0)}async function __PRIVATE_disableNetworkInternal(ot){for(const rt of ot.x_)await rt(!1)}function __PRIVATE_remoteStoreListen(ot,rt){const at=__PRIVATE_debugCast(ot);at.F_.has(rt.targetId)||(at.F_.set(rt.targetId,rt),__PRIVATE_shouldStartWatchStream(at)?__PRIVATE_startWatchStream(at):__PRIVATE_ensureWatchStream(at).Xo()&&__PRIVATE_sendWatchRequest(at,rt))}function __PRIVATE_remoteStoreUnlisten(ot,rt){const at=__PRIVATE_debugCast(ot),lt=__PRIVATE_ensureWatchStream(at);at.F_.delete(rt),lt.Xo()&&__PRIVATE_sendUnwatchRequest(at,rt),at.F_.size===0&&(lt.Xo()?lt.n_():__PRIVATE_canUseNetwork(at)&&at.N_.set("Unknown"))}function __PRIVATE_sendWatchRequest(ot,rt){if(ot.L_.xe(rt.targetId),rt.resumeToken.approximateByteSize()>0||rt.snapshotVersion.compareTo(SnapshotVersion.min())>0){const at=ot.remoteSyncer.getRemoteKeysForTarget(rt.targetId).size;rt=rt.withExpectedCount(at)}__PRIVATE_ensureWatchStream(ot).P_(rt)}function __PRIVATE_sendUnwatchRequest(ot,rt){ot.L_.xe(rt),__PRIVATE_ensureWatchStream(ot).I_(rt)}function __PRIVATE_startWatchStream(ot){ot.L_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:rt=>ot.remoteSyncer.getRemoteKeysForTarget(rt),ot:rt=>ot.F_.get(rt)||null,tt:()=>ot.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(ot).start(),ot.N_.w_()}function __PRIVATE_shouldStartWatchStream(ot){return __PRIVATE_canUseNetwork(ot)&&!__PRIVATE_ensureWatchStream(ot).Zo()&&ot.F_.size>0}function __PRIVATE_canUseNetwork(ot){return __PRIVATE_debugCast(ot).M_.size===0}function __PRIVATE_cleanUpWatchStreamState(ot){ot.L_=void 0}async function __PRIVATE_onWatchStreamConnected(ot){ot.N_.set("Online")}async function __PRIVATE_onWatchStreamOpen(ot){ot.F_.forEach((rt,at)=>{__PRIVATE_sendWatchRequest(ot,rt)})}async function __PRIVATE_onWatchStreamClose(ot,rt){__PRIVATE_cleanUpWatchStreamState(ot),__PRIVATE_shouldStartWatchStream(ot)?(ot.N_.D_(rt),__PRIVATE_startWatchStream(ot)):ot.N_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(ot,rt,at){if(ot.N_.set("Online"),rt instanceof __PRIVATE_WatchTargetChange&&rt.state===2&&rt.cause)try{await async function(ct,ut){const dt=ut.cause;for(const ht of ut.targetIds)ct.F_.has(ht)&&(await ct.remoteSyncer.rejectListen(ht,dt),ct.F_.delete(ht),ct.L_.removeTarget(ht))}(ot,rt)}catch(lt){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",rt.targetIds.join(","),lt),await __PRIVATE_disableNetworkUntilRecovery(ot,lt)}else if(rt instanceof __PRIVATE_DocumentWatchChange?ot.L_.Ke(rt):rt instanceof __PRIVATE_ExistenceFilterChange?ot.L_.He(rt):ot.L_.We(rt),!at.isEqual(SnapshotVersion.min()))try{const lt=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(ot.localStore);at.compareTo(lt)>=0&&await function(ut,dt){const ht=ut.L_.rt(dt);return ht.targetChanges.forEach((ft,pt)=>{if(ft.resumeToken.approximateByteSize()>0){const mt=ut.F_.get(pt);mt&&ut.F_.set(pt,mt.withResumeToken(ft.resumeToken,dt))}}),ht.targetMismatches.forEach((ft,pt)=>{const mt=ut.F_.get(ft);if(!mt)return;ut.F_.set(ft,mt.withResumeToken(ByteString.EMPTY_BYTE_STRING,mt.snapshotVersion)),__PRIVATE_sendUnwatchRequest(ut,ft);const gt=new TargetData(mt.target,ft,pt,mt.sequenceNumber);__PRIVATE_sendWatchRequest(ut,gt)}),ut.remoteSyncer.applyRemoteEvent(ht)}(ot,at)}catch(lt){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",lt),await __PRIVATE_disableNetworkUntilRecovery(ot,lt)}}async function __PRIVATE_disableNetworkUntilRecovery(ot,rt,at){if(!__PRIVATE_isIndexedDbTransactionError(rt))throw rt;ot.M_.add(1),await __PRIVATE_disableNetworkInternal(ot),ot.N_.set("Offline"),at||(at=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(ot.localStore)),ot.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await at(),ot.M_.delete(1),await __PRIVATE_enableNetworkInternal(ot)})}function __PRIVATE_executeWithRecovery(ot,rt){return rt().catch(at=>__PRIVATE_disableNetworkUntilRecovery(ot,at,rt))}async function __PRIVATE_fillWritePipeline(ot){const rt=__PRIVATE_debugCast(ot),at=__PRIVATE_ensureWriteStream(rt);let lt=rt.v_.length>0?rt.v_[rt.v_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(rt);)try{const ct=await __PRIVATE_localStoreGetNextMutationBatch(rt.localStore,lt);if(ct===null){rt.v_.length===0&&at.n_();break}lt=ct.batchId,__PRIVATE_addToWritePipeline(rt,ct)}catch(ct){await __PRIVATE_disableNetworkUntilRecovery(rt,ct)}__PRIVATE_shouldStartWriteStream(rt)&&__PRIVATE_startWriteStream(rt)}function __PRIVATE_canAddToWritePipeline(ot){return __PRIVATE_canUseNetwork(ot)&&ot.v_.length<10}function __PRIVATE_addToWritePipeline(ot,rt){ot.v_.push(rt);const at=__PRIVATE_ensureWriteStream(ot);at.Xo()&&at.E_&&at.d_(rt.mutations)}function __PRIVATE_shouldStartWriteStream(ot){return __PRIVATE_canUseNetwork(ot)&&!__PRIVATE_ensureWriteStream(ot).Zo()&&ot.v_.length>0}function __PRIVATE_startWriteStream(ot){__PRIVATE_ensureWriteStream(ot).start()}async function __PRIVATE_onWriteStreamOpen(ot){__PRIVATE_ensureWriteStream(ot).V_()}async function __PRIVATE_onWriteHandshakeComplete(ot){const rt=__PRIVATE_ensureWriteStream(ot);for(const at of ot.v_)rt.d_(at.mutations)}async function __PRIVATE_onMutationResult(ot,rt,at){const lt=ot.v_.shift(),ct=MutationBatchResult.from(lt,rt,at);await __PRIVATE_executeWithRecovery(ot,()=>ot.remoteSyncer.applySuccessfulWrite(ct)),await __PRIVATE_fillWritePipeline(ot)}async function __PRIVATE_onWriteStreamClose(ot,rt){rt&&__PRIVATE_ensureWriteStream(ot).E_&&await async function(lt,ct){if(function(dt){return __PRIVATE_isPermanentError(dt)&&dt!==C$4.ABORTED}(ct.code)){const ut=lt.v_.shift();__PRIVATE_ensureWriteStream(lt).t_(),await __PRIVATE_executeWithRecovery(lt,()=>lt.remoteSyncer.rejectFailedWrite(ut.batchId,ct)),await __PRIVATE_fillWritePipeline(lt)}}(ot,rt),__PRIVATE_shouldStartWriteStream(ot)&&__PRIVATE_startWriteStream(ot)}async function __PRIVATE_remoteStoreHandleCredentialChange(ot,rt){const at=__PRIVATE_debugCast(ot);at.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const lt=__PRIVATE_canUseNetwork(at);at.M_.add(3),await __PRIVATE_disableNetworkInternal(at),lt&&at.N_.set("Unknown"),await at.remoteSyncer.handleCredentialChange(rt),at.M_.delete(3),await __PRIVATE_enableNetworkInternal(at)}async function __PRIVATE_remoteStoreApplyPrimaryState(ot,rt){const at=__PRIVATE_debugCast(ot);rt?(at.M_.delete(2),await __PRIVATE_enableNetworkInternal(at)):rt||(at.M_.add(2),await __PRIVATE_disableNetworkInternal(at),at.N_.set("Unknown"))}function __PRIVATE_ensureWatchStream(ot){return ot.B_||(ot.B_=function(at,lt,ct){const ut=__PRIVATE_debugCast(at);return ut.f_(),new __PRIVATE_PersistentListenStream(lt,ut.connection,ut.authCredentials,ut.appCheckCredentials,ut.serializer,ct)}(ot.datastore,ot.asyncQueue,{Po:__PRIVATE_onWatchStreamConnected.bind(null,ot),To:__PRIVATE_onWatchStreamOpen.bind(null,ot),Ao:__PRIVATE_onWatchStreamClose.bind(null,ot),h_:__PRIVATE_onWatchStreamChange.bind(null,ot)}),ot.x_.push(async rt=>{rt?(ot.B_.t_(),__PRIVATE_shouldStartWatchStream(ot)?__PRIVATE_startWatchStream(ot):ot.N_.set("Unknown")):(await ot.B_.stop(),__PRIVATE_cleanUpWatchStreamState(ot))})),ot.B_}function __PRIVATE_ensureWriteStream(ot){return ot.k_||(ot.k_=function(at,lt,ct){const ut=__PRIVATE_debugCast(at);return ut.f_(),new __PRIVATE_PersistentWriteStream(lt,ut.connection,ut.authCredentials,ut.appCheckCredentials,ut.serializer,ct)}(ot.datastore,ot.asyncQueue,{Po:()=>Promise.resolve(),To:__PRIVATE_onWriteStreamOpen.bind(null,ot),Ao:__PRIVATE_onWriteStreamClose.bind(null,ot),R_:__PRIVATE_onWriteHandshakeComplete.bind(null,ot),A_:__PRIVATE_onMutationResult.bind(null,ot)}),ot.x_.push(async rt=>{rt?(ot.k_.t_(),await __PRIVATE_fillWritePipeline(ot)):(await ot.k_.stop(),ot.v_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${ot.v_.length} pending writes`),ot.v_=[]))})),ot.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(rt,at,lt,ct,ut){this.asyncQueue=rt,this.timerId=at,this.targetTimeMs=lt,this.op=ct,this.removalCallback=ut,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(dt=>{})}get promise(){return this.deferred.promise}static createAndSchedule(rt,at,lt,ct,ut){const dt=Date.now()+lt,ht=new DelayedOperation(rt,at,dt,ct,ut);return ht.start(lt),ht}start(rt){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),rt)}skipDelay(){return this.handleDelayElapsed()}cancel(rt){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C$4.CANCELLED,"Operation cancelled"+(rt?": "+rt:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(rt=>this.deferred.resolve(rt))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(ot,rt){if(__PRIVATE_logError("AsyncQueue",`${rt}: ${ot}`),__PRIVATE_isIndexedDbTransactionError(ot))return new FirestoreError(C$4.UNAVAILABLE,`${rt}: ${ot}`);throw ot}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(rt){this.comparator=rt?(at,lt)=>rt(at,lt)||DocumentKey.comparator(at.key,lt.key):(at,lt)=>DocumentKey.comparator(at.key,lt.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(rt){return new DocumentSet(rt.comparator)}has(rt){return this.keyedMap.get(rt)!=null}get(rt){return this.keyedMap.get(rt)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(rt){const at=this.keyedMap.get(rt);return at?this.sortedSet.indexOf(at):-1}get size(){return this.sortedSet.size}forEach(rt){this.sortedSet.inorderTraversal((at,lt)=>(rt(at),!1))}add(rt){const at=this.delete(rt.key);return at.copy(at.keyedMap.insert(rt.key,rt),at.sortedSet.insert(rt,null))}delete(rt){const at=this.get(rt);return at?this.copy(this.keyedMap.remove(rt),this.sortedSet.remove(at)):this}isEqual(rt){if(!(rt instanceof DocumentSet)||this.size!==rt.size)return!1;const at=this.sortedSet.getIterator(),lt=rt.sortedSet.getIterator();for(;at.hasNext();){const ct=at.getNext().key,ut=lt.getNext().key;if(!ct.isEqual(ut))return!1}return!0}toString(){const rt=[];return this.forEach(at=>{rt.push(at.toString())}),rt.length===0?"DocumentSet ()":`DocumentSet (
  `+rt.join(`  
`)+`
)`}copy(rt,at){const lt=new DocumentSet;return lt.comparator=this.comparator,lt.keyedMap=rt,lt.sortedSet=at,lt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.q_=new SortedMap(DocumentKey.comparator)}track(rt){const at=rt.doc.key,lt=this.q_.get(at);lt?rt.type!==0&&lt.type===3?this.q_=this.q_.insert(at,rt):rt.type===3&&lt.type!==1?this.q_=this.q_.insert(at,{type:lt.type,doc:rt.doc}):rt.type===2&&lt.type===2?this.q_=this.q_.insert(at,{type:2,doc:rt.doc}):rt.type===2&&lt.type===0?this.q_=this.q_.insert(at,{type:0,doc:rt.doc}):rt.type===1&&lt.type===0?this.q_=this.q_.remove(at):rt.type===1&&lt.type===2?this.q_=this.q_.insert(at,{type:1,doc:lt.doc}):rt.type===0&&lt.type===1?this.q_=this.q_.insert(at,{type:2,doc:rt.doc}):fail():this.q_=this.q_.insert(at,rt)}Q_(){const rt=[];return this.q_.inorderTraversal((at,lt)=>{rt.push(lt)}),rt}}class ViewSnapshot{constructor(rt,at,lt,ct,ut,dt,ht,ft,pt){this.query=rt,this.docs=at,this.oldDocs=lt,this.docChanges=ct,this.mutatedKeys=ut,this.fromCache=dt,this.syncStateChanged=ht,this.excludesMetadataChanges=ft,this.hasCachedResults=pt}static fromInitialDocuments(rt,at,lt,ct,ut){const dt=[];return at.forEach(ht=>{dt.push({type:0,doc:ht})}),new ViewSnapshot(rt,at,DocumentSet.emptySet(at),dt,lt,ct,!0,!1,ut)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(rt){if(!(this.fromCache===rt.fromCache&&this.hasCachedResults===rt.hasCachedResults&&this.syncStateChanged===rt.syncStateChanged&&this.mutatedKeys.isEqual(rt.mutatedKeys)&&__PRIVATE_queryEquals(this.query,rt.query)&&this.docs.isEqual(rt.docs)&&this.oldDocs.isEqual(rt.oldDocs)))return!1;const at=this.docChanges,lt=rt.docChanges;if(at.length!==lt.length)return!1;for(let ct=0;ct<at.length;ct++)if(at[ct].type!==lt[ct].type||!at[ct].doc.isEqual(lt[ct].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(rt=>rt.G_())}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap(rt=>__PRIVATE_canonifyQuery(rt),__PRIVATE_queryEquals),this.onlineState="Unknown",this.z_=new Set}}async function __PRIVATE_eventManagerListen(ot,rt){const at=__PRIVATE_debugCast(ot);let lt=3;const ct=rt.query;let ut=at.queries.get(ct);ut?!ut.W_()&&rt.G_()&&(lt=2):(ut=new __PRIVATE_QueryListenersInfo,lt=rt.G_()?0:1);try{switch(lt){case 0:ut.K_=await at.onListen(ct,!0);break;case 1:ut.K_=await at.onListen(ct,!1);break;case 2:await at.onFirstRemoteStoreListen(ct)}}catch(dt){const ht=__PRIVATE_wrapInUserErrorIfRecoverable(dt,`Initialization of query '${__PRIVATE_stringifyQuery(rt.query)}' failed`);return void rt.onError(ht)}at.queries.set(ct,ut),ut.U_.push(rt),rt.j_(at.onlineState),ut.K_&&rt.H_(ut.K_)&&__PRIVATE_raiseSnapshotsInSyncEvent(at)}async function __PRIVATE_eventManagerUnlisten(ot,rt){const at=__PRIVATE_debugCast(ot),lt=rt.query;let ct=3;const ut=at.queries.get(lt);if(ut){const dt=ut.U_.indexOf(rt);dt>=0&&(ut.U_.splice(dt,1),ut.U_.length===0?ct=rt.G_()?0:1:!ut.W_()&&rt.G_()&&(ct=2))}switch(ct){case 0:return at.queries.delete(lt),at.onUnlisten(lt,!0);case 1:return at.queries.delete(lt),at.onUnlisten(lt,!1);case 2:return at.onLastRemoteStoreUnlisten(lt);default:return}}function __PRIVATE_eventManagerOnWatchChange(ot,rt){const at=__PRIVATE_debugCast(ot);let lt=!1;for(const ct of rt){const ut=ct.query,dt=at.queries.get(ut);if(dt){for(const ht of dt.U_)ht.H_(ct)&&(lt=!0);dt.K_=ct}}lt&&__PRIVATE_raiseSnapshotsInSyncEvent(at)}function __PRIVATE_eventManagerOnWatchError(ot,rt,at){const lt=__PRIVATE_debugCast(ot),ct=lt.queries.get(rt);if(ct)for(const ut of ct.U_)ut.onError(at);lt.queries.delete(rt)}function __PRIVATE_raiseSnapshotsInSyncEvent(ot){ot.z_.forEach(rt=>{rt.next()})}var ge,pe;(pe=ge||(ge={})).J_="default",pe.Cache="cache";class __PRIVATE_QueryListener{constructor(rt,at,lt){this.query=rt,this.Y_=at,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=lt||{}}H_(rt){if(!this.options.includeMetadataChanges){const lt=[];for(const ct of rt.docChanges)ct.type!==3&&lt.push(ct);rt=new ViewSnapshot(rt.query,rt.docs,rt.oldDocs,lt,rt.mutatedKeys,rt.fromCache,rt.syncStateChanged,!0,rt.hasCachedResults)}let at=!1;return this.Z_?this.ea(rt)&&(this.Y_.next(rt),at=!0):this.ta(rt,this.onlineState)&&(this.na(rt),at=!0),this.X_=rt,at}onError(rt){this.Y_.error(rt)}j_(rt){this.onlineState=rt;let at=!1;return this.X_&&!this.Z_&&this.ta(this.X_,rt)&&(this.na(this.X_),at=!0),at}ta(rt,at){if(!rt.fromCache||!this.G_())return!0;const lt=at!=="Offline";return(!this.options.ra||!lt)&&(!rt.docs.isEmpty()||rt.hasCachedResults||at==="Offline")}ea(rt){if(rt.docChanges.length>0)return!0;const at=this.X_&&this.X_.hasPendingWrites!==rt.hasPendingWrites;return!(!rt.syncStateChanged&&!at)&&this.options.includeMetadataChanges===!0}na(rt){rt=ViewSnapshot.fromInitialDocuments(rt.query,rt.docs,rt.mutatedKeys,rt.fromCache,rt.hasCachedResults),this.Z_=!0,this.Y_.next(rt)}G_(){return this.options.source!==ge.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(rt){this.key=rt}}class __PRIVATE_RemovedLimboDocument{constructor(rt){this.key=rt}}class __PRIVATE_View{constructor(rt,at){this.query=rt,this.la=at,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Ia=__PRIVATE_newQueryComparator(rt),this.Ta=new DocumentSet(this.Ia)}get Ea(){return this.la}da(rt,at){const lt=at?at.Aa:new __PRIVATE_DocumentChangeSet,ct=at?at.Ta:this.Ta;let ut=at?at.mutatedKeys:this.mutatedKeys,dt=ct,ht=!1;const ft=this.query.limitType==="F"&&ct.size===this.query.limit?ct.last():null,pt=this.query.limitType==="L"&&ct.size===this.query.limit?ct.first():null;if(rt.inorderTraversal((mt,gt)=>{const yt=ct.get(mt),xt=__PRIVATE_queryMatches(this.query,gt)?gt:null,bt=!!yt&&this.mutatedKeys.has(yt.key),Et=!!xt&&(xt.hasLocalMutations||this.mutatedKeys.has(xt.key)&&xt.hasCommittedMutations);let Rt=!1;yt&&xt?yt.data.isEqual(xt.data)?bt!==Et&&(lt.track({type:3,doc:xt}),Rt=!0):this.Ra(yt,xt)||(lt.track({type:2,doc:xt}),Rt=!0,(ft&&this.Ia(xt,ft)>0||pt&&this.Ia(xt,pt)<0)&&(ht=!0)):!yt&&xt?(lt.track({type:0,doc:xt}),Rt=!0):yt&&!xt&&(lt.track({type:1,doc:yt}),Rt=!0,(ft||pt)&&(ht=!0)),Rt&&(xt?(dt=dt.add(xt),ut=Et?ut.add(mt):ut.delete(mt)):(dt=dt.delete(mt),ut=ut.delete(mt)))}),this.query.limit!==null)for(;dt.size>this.query.limit;){const mt=this.query.limitType==="F"?dt.last():dt.first();dt=dt.delete(mt.key),ut=ut.delete(mt.key),lt.track({type:1,doc:mt})}return{Ta:dt,Aa:lt,Xi:ht,mutatedKeys:ut}}Ra(rt,at){return rt.hasLocalMutations&&at.hasCommittedMutations&&!at.hasLocalMutations}applyChanges(rt,at,lt,ct){const ut=this.Ta;this.Ta=rt.Ta,this.mutatedKeys=rt.mutatedKeys;const dt=rt.Aa.Q_();dt.sort((mt,gt)=>function(xt,bt){const Et=Rt=>{switch(Rt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return Et(xt)-Et(bt)}(mt.type,gt.type)||this.Ia(mt.doc,gt.doc)),this.Va(lt),ct=ct!=null&&ct;const ht=at&&!ct?this.ma():[],ft=this.Pa.size===0&&this.current&&!ct?1:0,pt=ft!==this.ha;return this.ha=ft,dt.length!==0||pt?{snapshot:new ViewSnapshot(this.query,rt.Ta,ut,dt,rt.mutatedKeys,ft===0,pt,!1,!!lt&&lt.resumeToken.approximateByteSize()>0),fa:ht}:{fa:ht}}j_(rt){return this.current&&rt==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(rt){return!this.la.has(rt)&&!!this.Ta.has(rt)&&!this.Ta.get(rt).hasLocalMutations}Va(rt){rt&&(rt.addedDocuments.forEach(at=>this.la=this.la.add(at)),rt.modifiedDocuments.forEach(at=>{}),rt.removedDocuments.forEach(at=>this.la=this.la.delete(at)),this.current=rt.current)}ma(){if(!this.current)return[];const rt=this.Pa;this.Pa=__PRIVATE_documentKeySet(),this.Ta.forEach(lt=>{this.ga(lt.key)&&(this.Pa=this.Pa.add(lt.key))});const at=[];return rt.forEach(lt=>{this.Pa.has(lt)||at.push(new __PRIVATE_RemovedLimboDocument(lt))}),this.Pa.forEach(lt=>{rt.has(lt)||at.push(new __PRIVATE_AddedLimboDocument(lt))}),at}pa(rt){this.la=rt.hs,this.Pa=__PRIVATE_documentKeySet();const at=this.da(rt.documents);return this.applyChanges(at,!0)}ya(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(rt,at,lt){this.query=rt,this.targetId=at,this.view=lt}}class LimboResolution{constructor(rt){this.key=rt,this.wa=!1}}class __PRIVATE_SyncEngineImpl{constructor(rt,at,lt,ct,ut,dt){this.localStore=rt,this.remoteStore=at,this.eventManager=lt,this.sharedClientState=ct,this.currentUser=ut,this.maxConcurrentLimboResolutions=dt,this.Sa={},this.ba=new ObjectMap(ht=>__PRIVATE_canonifyQuery(ht),__PRIVATE_queryEquals),this.Da=new Map,this.Ca=new Set,this.va=new SortedMap(DocumentKey.comparator),this.Fa=new Map,this.Ma=new __PRIVATE_ReferenceSet,this.xa={},this.Oa=new Map,this.Na=__PRIVATE_TargetIdGenerator.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function __PRIVATE_syncEngineListen(ot,rt,at=!0){const lt=__PRIVATE_ensureWatchCallbacks(ot);let ct;const ut=lt.ba.get(rt);return ut?(lt.sharedClientState.addLocalQueryTarget(ut.targetId),ct=ut.view.ya()):ct=await __PRIVATE_allocateTargetAndMaybeListen(lt,rt,at,!0),ct}async function __PRIVATE_triggerRemoteStoreListen(ot,rt){const at=__PRIVATE_ensureWatchCallbacks(ot);await __PRIVATE_allocateTargetAndMaybeListen(at,rt,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(ot,rt,at,lt){const ct=await __PRIVATE_localStoreAllocateTarget(ot.localStore,__PRIVATE_queryToTarget(rt)),ut=ct.targetId,dt=at?ot.sharedClientState.addLocalQueryTarget(ut):"not-current";let ht;return lt&&(ht=await __PRIVATE_initializeViewAndComputeSnapshot(ot,rt,ut,dt==="current",ct.resumeToken)),ot.isPrimaryClient&&at&&__PRIVATE_remoteStoreListen(ot.remoteStore,ct),ht}async function __PRIVATE_initializeViewAndComputeSnapshot(ot,rt,at,lt,ct){ot.Ba=(gt,yt,xt)=>async function(Et,Rt,wt,_t){let At=Rt.view.da(wt);At.Xi&&(At=await __PRIVATE_localStoreExecuteQuery(Et.localStore,Rt.query,!1).then(({documents:Pt})=>Rt.view.da(Pt,At)));const kt=_t&&_t.targetChanges.get(Rt.targetId),It=_t&&_t.targetMismatches.get(Rt.targetId)!=null,Nt=Rt.view.applyChanges(At,Et.isPrimaryClient,kt,It);return __PRIVATE_updateTrackedLimbos(Et,Rt.targetId,Nt.fa),Nt.snapshot}(ot,gt,yt,xt);const ut=await __PRIVATE_localStoreExecuteQuery(ot.localStore,rt,!0),dt=new __PRIVATE_View(rt,ut.hs),ht=dt.da(ut.documents),ft=TargetChange.createSynthesizedTargetChangeForCurrentChange(at,lt&&ot.onlineState!=="Offline",ct),pt=dt.applyChanges(ht,ot.isPrimaryClient,ft);__PRIVATE_updateTrackedLimbos(ot,at,pt.fa);const mt=new __PRIVATE_QueryView(rt,at,dt);return ot.ba.set(rt,mt),ot.Da.has(at)?ot.Da.get(at).push(rt):ot.Da.set(at,[rt]),pt.snapshot}async function __PRIVATE_syncEngineUnlisten(ot,rt,at){const lt=__PRIVATE_debugCast(ot),ct=lt.ba.get(rt),ut=lt.Da.get(ct.targetId);if(ut.length>1)return lt.Da.set(ct.targetId,ut.filter(dt=>!__PRIVATE_queryEquals(dt,rt))),void lt.ba.delete(rt);lt.isPrimaryClient?(lt.sharedClientState.removeLocalQueryTarget(ct.targetId),lt.sharedClientState.isActiveQueryTarget(ct.targetId)||await __PRIVATE_localStoreReleaseTarget(lt.localStore,ct.targetId,!1).then(()=>{lt.sharedClientState.clearQueryState(ct.targetId),at&&__PRIVATE_remoteStoreUnlisten(lt.remoteStore,ct.targetId),__PRIVATE_removeAndCleanupTarget(lt,ct.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(lt,ct.targetId),await __PRIVATE_localStoreReleaseTarget(lt.localStore,ct.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(ot,rt){const at=__PRIVATE_debugCast(ot),lt=at.ba.get(rt),ct=at.Da.get(lt.targetId);at.isPrimaryClient&&ct.length===1&&(at.sharedClientState.removeLocalQueryTarget(lt.targetId),__PRIVATE_remoteStoreUnlisten(at.remoteStore,lt.targetId))}async function __PRIVATE_syncEngineWrite(ot,rt,at){const lt=__PRIVATE_syncEngineEnsureWriteCallbacks(ot);try{const ct=await function(dt,ht){const ft=__PRIVATE_debugCast(dt),pt=Timestamp.now(),mt=ht.reduce((xt,bt)=>xt.add(bt.key),__PRIVATE_documentKeySet());let gt,yt;return ft.persistence.runTransaction("Locally write mutations","readwrite",xt=>{let bt=__PRIVATE_mutableDocumentMap(),Et=__PRIVATE_documentKeySet();return ft.os.getEntries(xt,mt).next(Rt=>{bt=Rt,bt.forEach((wt,_t)=>{_t.isValidDocument()||(Et=Et.add(wt))})}).next(()=>ft.localDocuments.getOverlayedDocuments(xt,bt)).next(Rt=>{gt=Rt;const wt=[];for(const _t of ht){const At=__PRIVATE_mutationExtractBaseValue(_t,gt.get(_t.key).overlayedDocument);At!=null&&wt.push(new __PRIVATE_PatchMutation(_t.key,At,__PRIVATE_extractFieldMask(At.value.mapValue),Precondition.exists(!0)))}return ft.mutationQueue.addMutationBatch(xt,pt,wt,ht)}).next(Rt=>{yt=Rt;const wt=Rt.applyToLocalDocumentSet(gt,Et);return ft.documentOverlayCache.saveOverlays(xt,Rt.batchId,wt)})}).then(()=>({batchId:yt.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(gt)}))}(lt.localStore,rt);lt.sharedClientState.addPendingMutation(ct.batchId),function(dt,ht,ft){let pt=dt.xa[dt.currentUser.toKey()];pt||(pt=new SortedMap(__PRIVATE_primitiveComparator)),pt=pt.insert(ht,ft),dt.xa[dt.currentUser.toKey()]=pt}(lt,ct.batchId,at),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(lt,ct.changes),await __PRIVATE_fillWritePipeline(lt.remoteStore)}catch(ct){const ut=__PRIVATE_wrapInUserErrorIfRecoverable(ct,"Failed to persist write");at.reject(ut)}}async function __PRIVATE_syncEngineApplyRemoteEvent(ot,rt){const at=__PRIVATE_debugCast(ot);try{const lt=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(at.localStore,rt);rt.targetChanges.forEach((ct,ut)=>{const dt=at.Fa.get(ut);dt&&(__PRIVATE_hardAssert(ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size<=1),ct.addedDocuments.size>0?dt.wa=!0:ct.modifiedDocuments.size>0?__PRIVATE_hardAssert(dt.wa):ct.removedDocuments.size>0&&(__PRIVATE_hardAssert(dt.wa),dt.wa=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(at,lt,rt)}catch(lt){await __PRIVATE_ignoreIfPrimaryLeaseLoss(lt)}}function __PRIVATE_syncEngineApplyOnlineStateChange(ot,rt,at){const lt=__PRIVATE_debugCast(ot);if(lt.isPrimaryClient&&at===0||!lt.isPrimaryClient&&at===1){const ct=[];lt.ba.forEach((ut,dt)=>{const ht=dt.view.j_(rt);ht.snapshot&&ct.push(ht.snapshot)}),function(dt,ht){const ft=__PRIVATE_debugCast(dt);ft.onlineState=ht;let pt=!1;ft.queries.forEach((mt,gt)=>{for(const yt of gt.U_)yt.j_(ht)&&(pt=!0)}),pt&&__PRIVATE_raiseSnapshotsInSyncEvent(ft)}(lt.eventManager,rt),ct.length&&lt.Sa.h_(ct),lt.onlineState=rt,lt.isPrimaryClient&&lt.sharedClientState.setOnlineState(rt)}}async function __PRIVATE_syncEngineRejectListen(ot,rt,at){const lt=__PRIVATE_debugCast(ot);lt.sharedClientState.updateQueryState(rt,"rejected",at);const ct=lt.Fa.get(rt),ut=ct&&ct.key;if(ut){let dt=new SortedMap(DocumentKey.comparator);dt=dt.insert(ut,MutableDocument.newNoDocument(ut,SnapshotVersion.min()));const ht=__PRIVATE_documentKeySet().add(ut),ft=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),dt,ht);await __PRIVATE_syncEngineApplyRemoteEvent(lt,ft),lt.va=lt.va.remove(ut),lt.Fa.delete(rt),__PRIVATE_pumpEnqueuedLimboResolutions(lt)}else await __PRIVATE_localStoreReleaseTarget(lt.localStore,rt,!1).then(()=>__PRIVATE_removeAndCleanupTarget(lt,rt,at)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(ot,rt){const at=__PRIVATE_debugCast(ot),lt=rt.batch.batchId;try{const ct=await __PRIVATE_localStoreAcknowledgeBatch(at.localStore,rt);__PRIVATE_processUserCallback(at,lt,null),__PRIVATE_triggerPendingWritesCallbacks(at,lt),at.sharedClientState.updateMutationState(lt,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(at,ct)}catch(ct){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ct)}}async function __PRIVATE_syncEngineRejectFailedWrite(ot,rt,at){const lt=__PRIVATE_debugCast(ot);try{const ct=await function(dt,ht){const ft=__PRIVATE_debugCast(dt);return ft.persistence.runTransaction("Reject batch","readwrite-primary",pt=>{let mt;return ft.mutationQueue.lookupMutationBatch(pt,ht).next(gt=>(__PRIVATE_hardAssert(gt!==null),mt=gt.keys(),ft.mutationQueue.removeMutationBatch(pt,gt))).next(()=>ft.mutationQueue.performConsistencyCheck(pt)).next(()=>ft.documentOverlayCache.removeOverlaysForBatchId(pt,mt,ht)).next(()=>ft.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(pt,mt)).next(()=>ft.localDocuments.getDocuments(pt,mt))})}(lt.localStore,rt);__PRIVATE_processUserCallback(lt,rt,at),__PRIVATE_triggerPendingWritesCallbacks(lt,rt),lt.sharedClientState.updateMutationState(rt,"rejected",at),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(lt,ct)}catch(ct){await __PRIVATE_ignoreIfPrimaryLeaseLoss(ct)}}function __PRIVATE_triggerPendingWritesCallbacks(ot,rt){(ot.Oa.get(rt)||[]).forEach(at=>{at.resolve()}),ot.Oa.delete(rt)}function __PRIVATE_processUserCallback(ot,rt,at){const lt=__PRIVATE_debugCast(ot);let ct=lt.xa[lt.currentUser.toKey()];if(ct){const ut=ct.get(rt);ut&&(at?ut.reject(at):ut.resolve(),ct=ct.remove(rt)),lt.xa[lt.currentUser.toKey()]=ct}}function __PRIVATE_removeAndCleanupTarget(ot,rt,at=null){ot.sharedClientState.removeLocalQueryTarget(rt);for(const lt of ot.Da.get(rt))ot.ba.delete(lt),at&&ot.Sa.ka(lt,at);ot.Da.delete(rt),ot.isPrimaryClient&&ot.Ma.Vr(rt).forEach(lt=>{ot.Ma.containsKey(lt)||__PRIVATE_removeLimboTarget(ot,lt)})}function __PRIVATE_removeLimboTarget(ot,rt){ot.Ca.delete(rt.path.canonicalString());const at=ot.va.get(rt);at!==null&&(__PRIVATE_remoteStoreUnlisten(ot.remoteStore,at),ot.va=ot.va.remove(rt),ot.Fa.delete(at),__PRIVATE_pumpEnqueuedLimboResolutions(ot))}function __PRIVATE_updateTrackedLimbos(ot,rt,at){for(const lt of at)lt instanceof __PRIVATE_AddedLimboDocument?(ot.Ma.addReference(lt.key,rt),__PRIVATE_trackLimboChange(ot,lt)):lt instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+lt.key),ot.Ma.removeReference(lt.key,rt),ot.Ma.containsKey(lt.key)||__PRIVATE_removeLimboTarget(ot,lt.key)):fail()}function __PRIVATE_trackLimboChange(ot,rt){const at=rt.key,lt=at.path.canonicalString();ot.va.get(at)||ot.Ca.has(lt)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+at),ot.Ca.add(lt),__PRIVATE_pumpEnqueuedLimboResolutions(ot))}function __PRIVATE_pumpEnqueuedLimboResolutions(ot){for(;ot.Ca.size>0&&ot.va.size<ot.maxConcurrentLimboResolutions;){const rt=ot.Ca.values().next().value;ot.Ca.delete(rt);const at=new DocumentKey(ResourcePath.fromString(rt)),lt=ot.Na.next();ot.Fa.set(lt,new LimboResolution(at)),ot.va=ot.va.insert(at,lt),__PRIVATE_remoteStoreListen(ot.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(at.path)),lt,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(ot,rt,at){const lt=__PRIVATE_debugCast(ot),ct=[],ut=[],dt=[];lt.ba.isEmpty()||(lt.ba.forEach((ht,ft)=>{dt.push(lt.Ba(ft,rt,at).then(pt=>{var mt;if((pt||at)&&lt.isPrimaryClient){const gt=pt?!pt.fromCache:(mt=at==null?void 0:at.targetChanges.get(ft.targetId))===null||mt===void 0?void 0:mt.current;lt.sharedClientState.updateQueryState(ft.targetId,gt?"current":"not-current")}if(pt){ct.push(pt);const gt=__PRIVATE_LocalViewChanges.Ki(ft.targetId,pt);ut.push(gt)}}))}),await Promise.all(dt),lt.Sa.h_(ct),await async function(ft,pt){const mt=__PRIVATE_debugCast(ft);try{await mt.persistence.runTransaction("notifyLocalViewChanges","readwrite",gt=>PersistencePromise.forEach(pt,yt=>PersistencePromise.forEach(yt.qi,xt=>mt.persistence.referenceDelegate.addReference(gt,yt.targetId,xt)).next(()=>PersistencePromise.forEach(yt.Qi,xt=>mt.persistence.referenceDelegate.removeReference(gt,yt.targetId,xt)))))}catch(gt){if(!__PRIVATE_isIndexedDbTransactionError(gt))throw gt;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+gt)}for(const gt of pt){const yt=gt.targetId;if(!gt.fromCache){const xt=mt.ns.get(yt),bt=xt.snapshotVersion,Et=xt.withLastLimboFreeSnapshotVersion(bt);mt.ns=mt.ns.insert(yt,Et)}}}(lt.localStore,ut))}async function __PRIVATE_syncEngineHandleCredentialChange(ot,rt){const at=__PRIVATE_debugCast(ot);if(!at.currentUser.isEqual(rt)){__PRIVATE_logDebug("SyncEngine","User change. New user:",rt.toKey());const lt=await __PRIVATE_localStoreHandleUserChange(at.localStore,rt);at.currentUser=rt,function(ut,dt){ut.Oa.forEach(ht=>{ht.forEach(ft=>{ft.reject(new FirestoreError(C$4.CANCELLED,dt))})}),ut.Oa.clear()}(at,"'waitForPendingWrites' promise is rejected due to a user change."),at.sharedClientState.handleUserChange(rt,lt.removedBatchIds,lt.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(at,lt.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(ot,rt){const at=__PRIVATE_debugCast(ot),lt=at.Fa.get(rt);if(lt&&lt.wa)return __PRIVATE_documentKeySet().add(lt.key);{let ct=__PRIVATE_documentKeySet();const ut=at.Da.get(rt);if(!ut)return ct;for(const dt of ut){const ht=at.ba.get(dt);ct=ct.unionWith(ht.view.Ea)}return ct}}function __PRIVATE_ensureWatchCallbacks(ot){const rt=__PRIVATE_debugCast(ot);return rt.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,rt),rt.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,rt),rt.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,rt),rt.Sa.h_=__PRIVATE_eventManagerOnWatchChange.bind(null,rt.eventManager),rt.Sa.ka=__PRIVATE_eventManagerOnWatchError.bind(null,rt.eventManager),rt}function __PRIVATE_syncEngineEnsureWriteCallbacks(ot){const rt=__PRIVATE_debugCast(ot);return rt.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,rt),rt.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,rt),rt}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(rt){this.serializer=__PRIVATE_newSerializer(rt.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(rt),this.persistence=this.createPersistence(rt),await this.persistence.start(),this.localStore=this.createLocalStore(rt),this.gcScheduler=this.createGarbageCollectionScheduler(rt,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(rt,this.localStore)}createGarbageCollectionScheduler(rt,at){return null}createIndexBackfillerScheduler(rt,at){return null}createLocalStore(rt){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,rt.initialUser,this.serializer)}createPersistence(rt){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(rt){return new __PRIVATE_MemorySharedClientState}async terminate(){var rt,at;(rt=this.gcScheduler)===null||rt===void 0||rt.stop(),(at=this.indexBackfillerScheduler)===null||at===void 0||at.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(rt,at){this.localStore||(this.localStore=rt.localStore,this.sharedClientState=rt.sharedClientState,this.datastore=this.createDatastore(at),this.remoteStore=this.createRemoteStore(at),this.eventManager=this.createEventManager(at),this.syncEngine=this.createSyncEngine(at,!rt.synchronizeTabs),this.sharedClientState.onlineStateHandler=lt=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,lt,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(rt){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(rt){const at=__PRIVATE_newSerializer(rt.databaseInfo.databaseId),lt=function(ut){return new __PRIVATE_WebChannelConnection(ut)}(rt.databaseInfo);return function(ut,dt,ht,ft){return new __PRIVATE_DatastoreImpl(ut,dt,ht,ft)}(rt.authCredentials,rt.appCheckCredentials,lt,at)}createRemoteStore(rt){return function(lt,ct,ut,dt,ht){return new __PRIVATE_RemoteStoreImpl(lt,ct,ut,dt,ht)}(this.localStore,this.datastore,rt.asyncQueue,at=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,at,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(rt,at){return function(ct,ut,dt,ht,ft,pt,mt){const gt=new __PRIVATE_SyncEngineImpl(ct,ut,dt,ht,ft,pt);return mt&&(gt.La=!0),gt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,rt.initialUser,rt.maxConcurrentLimboResolutions,at)}async terminate(){var rt;await async function(lt){const ct=__PRIVATE_debugCast(lt);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),ct.M_.add(5),await __PRIVATE_disableNetworkInternal(ct),ct.O_.shutdown(),ct.N_.set("Unknown")}(this.remoteStore),(rt=this.datastore)===null||rt===void 0||rt.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(rt){this.observer=rt,this.muted=!1}next(rt){this.observer.next&&this.Ka(this.observer.next,rt)}error(rt){this.observer.error?this.Ka(this.observer.error,rt):__PRIVATE_logError("Uncaught Error in snapshot listener:",rt.toString())}$a(){this.muted=!0}Ka(rt,at){this.muted||setTimeout(()=>{this.muted||rt(at)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(rt,at,lt,ct){this.authCredentials=rt,this.appCheckCredentials=at,this.asyncQueue=lt,this.databaseInfo=ct,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(lt,async ut=>{__PRIVATE_logDebug("FirestoreClient","Received user=",ut.uid),await this.authCredentialListener(ut),this.user=ut}),this.appCheckCredentials.start(lt,ut=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",ut),this.appCheckCredentialListener(ut,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(rt){this.authCredentialListener=rt}setAppCheckTokenChangeListener(rt){this.appCheckCredentialListener=rt}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(C$4.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const rt=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),rt.resolve()}catch(at){const lt=__PRIVATE_wrapInUserErrorIfRecoverable(at,"Failed to shutdown persistence");rt.reject(lt)}}),rt.promise}}async function __PRIVATE_setOfflineComponentProvider(ot,rt){ot.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const at=ot.configuration;await rt.initialize(at);let lt=at.initialUser;ot.setCredentialChangeListener(async ct=>{lt.isEqual(ct)||(await __PRIVATE_localStoreHandleUserChange(rt.localStore,ct),lt=ct)}),rt.persistence.setDatabaseDeletedListener(()=>ot.terminate()),ot._offlineComponents=rt}async function __PRIVATE_setOnlineComponentProvider(ot,rt){ot.asyncQueue.verifyOperationInProgress();const at=await __PRIVATE_ensureOfflineComponents(ot);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await rt.initialize(at,ot.configuration),ot.setCredentialChangeListener(lt=>__PRIVATE_remoteStoreHandleCredentialChange(rt.remoteStore,lt)),ot.setAppCheckTokenChangeListener((lt,ct)=>__PRIVATE_remoteStoreHandleCredentialChange(rt.remoteStore,ct)),ot._onlineComponents=rt}function __PRIVATE_canFallbackFromIndexedDbError(ot){return ot.name==="FirebaseError"?ot.code===C$4.FAILED_PRECONDITION||ot.code===C$4.UNIMPLEMENTED:!(typeof DOMException<"u"&&ot instanceof DOMException)||ot.code===22||ot.code===20||ot.code===11}async function __PRIVATE_ensureOfflineComponents(ot){if(!ot._offlineComponents)if(ot._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(ot,ot._uninitializedComponentsProvider._offline)}catch(rt){const at=rt;if(!__PRIVATE_canFallbackFromIndexedDbError(at))throw at;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+at),await __PRIVATE_setOfflineComponentProvider(ot,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(ot,new MemoryOfflineComponentProvider);return ot._offlineComponents}async function __PRIVATE_ensureOnlineComponents(ot){return ot._onlineComponents||(ot._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(ot,ot._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(ot,new OnlineComponentProvider))),ot._onlineComponents}function __PRIVATE_getSyncEngine(ot){return __PRIVATE_ensureOnlineComponents(ot).then(rt=>rt.syncEngine)}async function __PRIVATE_getEventManager(ot){const rt=await __PRIVATE_ensureOnlineComponents(ot),at=rt.eventManager;return at.onListen=__PRIVATE_syncEngineListen.bind(null,rt.syncEngine),at.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,rt.syncEngine),at.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,rt.syncEngine),at.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,rt.syncEngine),at}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ot,rt,at={}){const lt=new __PRIVATE_Deferred;return ot.asyncQueue.enqueueAndForget(async()=>function(ut,dt,ht,ft,pt){const mt=new __PRIVATE_AsyncObserver({next:yt=>{dt.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(ut,gt));const xt=yt.docs.has(ht);!xt&&yt.fromCache?pt.reject(new FirestoreError(C$4.UNAVAILABLE,"Failed to get document because the client is offline.")):xt&&yt.fromCache&&ft&&ft.source==="server"?pt.reject(new FirestoreError(C$4.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):pt.resolve(yt)},error:yt=>pt.reject(yt)}),gt=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(ht.path),mt,{includeMetadataChanges:!0,ra:!0});return __PRIVATE_eventManagerListen(ut,gt)}(await __PRIVATE_getEventManager(ot),ot.asyncQueue,rt,at,lt)),lt.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(ot,rt,at={}){const lt=new __PRIVATE_Deferred;return ot.asyncQueue.enqueueAndForget(async()=>function(ut,dt,ht,ft,pt){const mt=new __PRIVATE_AsyncObserver({next:yt=>{dt.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(ut,gt)),yt.fromCache&&ft.source==="server"?pt.reject(new FirestoreError(C$4.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):pt.resolve(yt)},error:yt=>pt.reject(yt)}),gt=new __PRIVATE_QueryListener(ht,mt,{includeMetadataChanges:!0,ra:!0});return __PRIVATE_eventManagerListen(ut,gt)}(await __PRIVATE_getEventManager(ot),ot.asyncQueue,rt,at,lt)),lt.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(ot){const rt={};return ot.timeoutSeconds!==void 0&&(rt.timeoutSeconds=ot.timeoutSeconds),rt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(ot,rt,at){if(!at)throw new FirestoreError(C$4.INVALID_ARGUMENT,`Function ${ot}() cannot be called with an empty ${rt}.`)}function __PRIVATE_validateIsNotUsedTogether(ot,rt,at,lt){if(rt===!0&&lt===!0)throw new FirestoreError(C$4.INVALID_ARGUMENT,`${ot} and ${at} cannot be used together.`)}function __PRIVATE_validateDocumentPath(ot){if(!DocumentKey.isDocumentKey(ot))throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${ot} has ${ot.length}.`)}function __PRIVATE_validateCollectionPath(ot){if(DocumentKey.isDocumentKey(ot))throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${ot} has ${ot.length}.`)}function __PRIVATE_valueDescription(ot){if(ot===void 0)return"undefined";if(ot===null)return"null";if(typeof ot=="string")return ot.length>20&&(ot=`${ot.substring(0,20)}...`),JSON.stringify(ot);if(typeof ot=="number"||typeof ot=="boolean")return""+ot;if(typeof ot=="object"){if(ot instanceof Array)return"an array";{const rt=function(lt){return lt.constructor?lt.constructor.name:null}(ot);return rt?`a custom ${rt} object`:"an object"}}return typeof ot=="function"?"a function":fail()}function __PRIVATE_cast(ot,rt){if("_delegate"in ot&&(ot=ot._delegate),!(ot instanceof rt)){if(rt.name===ot.constructor.name)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const at=__PRIVATE_valueDescription(ot);throw new FirestoreError(C$4.INVALID_ARGUMENT,`Expected type '${rt.name}', but it was: ${at}`)}}return ot}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(rt){var at,lt;if(rt.host===void 0){if(rt.ssl!==void 0)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=rt.host,this.ssl=(at=rt.ssl)===null||at===void 0||at;if(this.credentials=rt.credentials,this.ignoreUndefinedProperties=!!rt.ignoreUndefinedProperties,this.localCache=rt.localCache,rt.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(rt.cacheSizeBytes!==-1&&rt.cacheSizeBytes<1048576)throw new FirestoreError(C$4.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=rt.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",rt.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",rt.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!rt.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:rt.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!rt.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((lt=rt.experimentalLongPollingOptions)!==null&&lt!==void 0?lt:{}),function(ut){if(ut.timeoutSeconds!==void 0){if(isNaN(ut.timeoutSeconds))throw new FirestoreError(C$4.INVALID_ARGUMENT,`invalid long polling timeout: ${ut.timeoutSeconds} (must not be NaN)`);if(ut.timeoutSeconds<5)throw new FirestoreError(C$4.INVALID_ARGUMENT,`invalid long polling timeout: ${ut.timeoutSeconds} (minimum allowed value is 5)`);if(ut.timeoutSeconds>30)throw new FirestoreError(C$4.INVALID_ARGUMENT,`invalid long polling timeout: ${ut.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!rt.useFetchStreams}isEqual(rt){return this.host===rt.host&&this.ssl===rt.ssl&&this.credentials===rt.credentials&&this.cacheSizeBytes===rt.cacheSizeBytes&&this.experimentalForceLongPolling===rt.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===rt.experimentalAutoDetectLongPolling&&function(lt,ct){return lt.timeoutSeconds===ct.timeoutSeconds}(this.experimentalLongPollingOptions,rt.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===rt.ignoreUndefinedProperties&&this.useFetchStreams===rt.useFetchStreams}}class Firestore$1{constructor(rt,at,lt,ct){this._authCredentials=rt,this._appCheckCredentials=at,this._databaseId=lt,this._app=ct,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(C$4.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(rt){if(this._settingsFrozen)throw new FirestoreError(C$4.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(rt),rt.credentials!==void 0&&(this._authCredentials=function(lt){if(!lt)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(lt.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(lt.sessionIndex||"0",lt.iamToken||null,lt.authTokenFactory||null);case"provider":return lt.client;default:throw new FirestoreError(C$4.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(rt.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(at){const lt=ye.get(at);lt&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),ye.delete(at),lt.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(ot,rt,at,lt={}){var ct;const ut=(ot=__PRIVATE_cast(ot,Firestore$1))._getSettings(),dt=`${rt}:${at}`;if(ut.host!=="firestore.googleapis.com"&&ut.host!==dt&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),ot._setSettings(Object.assign(Object.assign({},ut),{host:dt,ssl:!1})),lt.mockUserToken){let ht,ft;if(typeof lt.mockUserToken=="string")ht=lt.mockUserToken,ft=User.MOCK_USER;else{ht=createMockUserToken(lt.mockUserToken,(ct=ot._app)===null||ct===void 0?void 0:ct.options.projectId);const pt=lt.mockUserToken.sub||lt.mockUserToken.user_id;if(!pt)throw new FirestoreError(C$4.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ft=new User(pt)}ot._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(ht,ft))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(rt,at,lt){this.converter=at,this._query=lt,this.type="query",this.firestore=rt}withConverter(rt){return new Query(this.firestore,rt,this._query)}}class DocumentReference{constructor(rt,at,lt){this.converter=at,this._key=lt,this.type="document",this.firestore=rt}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(rt){return new DocumentReference(this.firestore,rt,this._key)}}class CollectionReference extends Query{constructor(rt,at,lt){super(rt,at,__PRIVATE_newQueryForPath(lt)),this._path=lt,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const rt=this._path.popLast();return rt.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(rt))}withConverter(rt){return new CollectionReference(this.firestore,rt,this._path)}}function collection(ot,rt,...at){if(ot=getModularInstance(ot),__PRIVATE_validateNonEmptyArgument("collection","path",rt),ot instanceof Firestore$1){const lt=ResourcePath.fromString(rt,...at);return __PRIVATE_validateCollectionPath(lt),new CollectionReference(ot,null,lt)}{if(!(ot instanceof DocumentReference||ot instanceof CollectionReference))throw new FirestoreError(C$4.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const lt=ot._path.child(ResourcePath.fromString(rt,...at));return __PRIVATE_validateCollectionPath(lt),new CollectionReference(ot.firestore,null,lt)}}function doc(ot,rt,...at){if(ot=getModularInstance(ot),arguments.length===1&&(rt=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",rt),ot instanceof Firestore$1){const lt=ResourcePath.fromString(rt,...at);return __PRIVATE_validateDocumentPath(lt),new DocumentReference(ot,null,new DocumentKey(lt))}{if(!(ot instanceof DocumentReference||ot instanceof CollectionReference))throw new FirestoreError(C$4.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const lt=ot._path.child(ResourcePath.fromString(rt,...at));return __PRIVATE_validateDocumentPath(lt),new DocumentReference(ot.firestore,ot instanceof CollectionReference?ot.converter:null,new DocumentKey(lt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.hu=()=>{const at=getDocument$1();at&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+at.visibilityState),this.Yo.Wo()};const rt=getDocument$1();rt&&typeof rt.addEventListener=="function"&&rt.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(rt){this.enqueue(rt)}enqueueAndForgetEvenWhileRestricted(rt){this.Pu(),this.Iu(rt)}enterRestrictedMode(rt){if(!this.ou){this.ou=!0,this.cu=rt||!1;const at=getDocument$1();at&&typeof at.removeEventListener=="function"&&at.removeEventListener("visibilitychange",this.hu)}}enqueue(rt){if(this.Pu(),this.ou)return new Promise(()=>{});const at=new __PRIVATE_Deferred;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(rt().then(at.resolve,at.reject),at.promise)).then(()=>at.promise)}enqueueRetryable(rt){this.enqueueAndForget(()=>(this.su.push(rt),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(rt){if(!__PRIVATE_isIndexedDbTransactionError(rt))throw rt;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+rt)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(rt){const at=this.iu.then(()=>(this.uu=!0,rt().catch(lt=>{this.au=lt,this.uu=!1;const ct=function(dt){let ht=dt.message||"";return dt.stack&&(ht=dt.stack.includes(dt.message)?dt.stack:dt.message+`
`+dt.stack),ht}(lt);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",ct),lt}).then(lt=>(this.uu=!1,lt))));return this.iu=at,at}enqueueAfterDelay(rt,at,lt){this.Pu(),this.lu.indexOf(rt)>-1&&(at=0);const ct=DelayedOperation.createAndSchedule(this,rt,at,lt,ut=>this.Eu(ut));return this._u.push(ct),ct}Pu(){this.au&&fail()}verifyOperationInProgress(){}async du(){let rt;do rt=this.iu,await rt;while(rt!==this.iu)}Au(rt){for(const at of this._u)if(at.timerId===rt)return!0;return!1}Ru(rt){return this.du().then(()=>{this._u.sort((at,lt)=>at.targetTimeMs-lt.targetTimeMs);for(const at of this._u)if(at.skipDelay(),rt!=="all"&&at.timerId===rt)break;return this.du()})}Vu(rt){this.lu.push(rt)}Eu(rt){const at=this._u.indexOf(rt);this._u.splice(at,1)}}function __PRIVATE_isPartialObserver(ot){return function(at,lt){if(typeof at!="object"||at===null)return!1;const ct=at;for(const ut of lt)if(ut in ct&&typeof ct[ut]=="function")return!0;return!1}(ot,["next","error","complete"])}class Firestore extends Firestore$1{constructor(rt,at,lt,ct){super(rt,at,lt,ct),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(ct==null?void 0:ct.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore(ot,rt){const at=typeof ot=="object"?ot:getApp(),lt=typeof ot=="string"?ot:"(default)",ct=_getProvider(at,"firestore").getImmediate({identifier:lt});if(!ct._initialized){const ut=getDefaultEmulatorHostnameAndPort("firestore");ut&&connectFirestoreEmulator(ct,...ut)}return ct}function ensureFirestoreConfigured(ot){return ot._firestoreClient||__PRIVATE_configureFirestore(ot),ot._firestoreClient.verifyNotTerminated(),ot._firestoreClient}function __PRIVATE_configureFirestore(ot){var rt,at,lt;const ct=ot._freezeSettings(),ut=function(ht,ft,pt,mt){return new DatabaseInfo(ht,ft,pt,mt.host,mt.ssl,mt.experimentalForceLongPolling,mt.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(mt.experimentalLongPollingOptions),mt.useFetchStreams)}(ot._databaseId,((rt=ot._app)===null||rt===void 0?void 0:rt.options.appId)||"",ot._persistenceKey,ct);ot._firestoreClient=new FirestoreClient(ot._authCredentials,ot._appCheckCredentials,ot._queue,ut),!((at=ct.localCache)===null||at===void 0)&&at._offlineComponentProvider&&(!((lt=ct.localCache)===null||lt===void 0)&&lt._onlineComponentProvider)&&(ot._firestoreClient._uninitializedComponentsProvider={_offlineKind:ct.localCache.kind,_offline:ct.localCache._offlineComponentProvider,_online:ct.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(rt){this._byteString=rt}static fromBase64String(rt){try{return new Bytes(ByteString.fromBase64String(rt))}catch(at){throw new FirestoreError(C$4.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+at)}}static fromUint8Array(rt){return new Bytes(ByteString.fromUint8Array(rt))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(rt){return this._byteString.isEqual(rt._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...rt){for(let at=0;at<rt.length;++at)if(rt[at].length===0)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(rt)}isEqual(rt){return this._internalPath.isEqual(rt._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(rt){this._methodName=rt}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(rt,at){if(!isFinite(rt)||rt<-90||rt>90)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+rt);if(!isFinite(at)||at<-180||at>180)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+at);this._lat=rt,this._long=at}get latitude(){return this._lat}get longitude(){return this._long}isEqual(rt){return this._lat===rt._lat&&this._long===rt._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(rt){return __PRIVATE_primitiveComparator(this._lat,rt._lat)||__PRIVATE_primitiveComparator(this._long,rt._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se=/^__.*__$/;class ParsedSetData{constructor(rt,at,lt){this.data=rt,this.fieldMask=at,this.fieldTransforms=lt}toMutation(rt,at){return this.fieldMask!==null?new __PRIVATE_PatchMutation(rt,this.data,this.fieldMask,at,this.fieldTransforms):new __PRIVATE_SetMutation(rt,this.data,at,this.fieldTransforms)}}class ParsedUpdateData{constructor(rt,at,lt){this.data=rt,this.fieldMask=at,this.fieldTransforms=lt}toMutation(rt,at){return new __PRIVATE_PatchMutation(rt,this.data,this.fieldMask,at,this.fieldTransforms)}}function __PRIVATE_isWrite(ot){switch(ot){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(rt,at,lt,ct,ut,dt){this.settings=rt,this.databaseId=at,this.serializer=lt,this.ignoreUndefinedProperties=ct,ut===void 0&&this.mu(),this.fieldTransforms=ut||[],this.fieldMask=dt||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(rt){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),rt),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(rt){var at;const lt=(at=this.path)===null||at===void 0?void 0:at.child(rt),ct=this.gu({path:lt,yu:!1});return ct.wu(rt),ct}Su(rt){var at;const lt=(at=this.path)===null||at===void 0?void 0:at.child(rt),ct=this.gu({path:lt,yu:!1});return ct.mu(),ct}bu(rt){return this.gu({path:void 0,yu:!0})}Du(rt){return __PRIVATE_createError(rt,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(rt){return this.fieldMask.find(at=>rt.isPrefixOf(at))!==void 0||this.fieldTransforms.find(at=>rt.isPrefixOf(at.field))!==void 0}mu(){if(this.path)for(let rt=0;rt<this.path.length;rt++)this.wu(this.path.get(rt))}wu(rt){if(rt.length===0)throw this.Du("Document fields must not be empty");if(__PRIVATE_isWrite(this.fu)&&Se.test(rt))throw this.Du('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(rt,at,lt){this.databaseId=rt,this.ignoreUndefinedProperties=at,this.serializer=lt||__PRIVATE_newSerializer(rt)}Fu(rt,at,lt,ct=!1){return new __PRIVATE_ParseContextImpl({fu:rt,methodName:at,vu:lt,path:FieldPath$1.emptyPath(),yu:!1,Cu:ct},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(ot){const rt=ot._freezeSettings(),at=__PRIVATE_newSerializer(ot._databaseId);return new __PRIVATE_UserDataReader(ot._databaseId,!!rt.ignoreUndefinedProperties,at)}function __PRIVATE_parseSetData(ot,rt,at,lt,ct,ut={}){const dt=ot.Fu(ut.merge||ut.mergeFields?2:0,rt,at,ct);__PRIVATE_validatePlainObject("Data must be an object, but it was:",dt,lt);const ht=__PRIVATE_parseObject(lt,dt);let ft,pt;if(ut.merge)ft=new FieldMask(dt.fieldMask),pt=dt.fieldTransforms;else if(ut.mergeFields){const mt=[];for(const gt of ut.mergeFields){const yt=__PRIVATE_fieldPathFromArgument$1(rt,gt,at);if(!dt.contains(yt))throw new FirestoreError(C$4.INVALID_ARGUMENT,`Field '${yt}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(mt,yt)||mt.push(yt)}ft=new FieldMask(mt),pt=dt.fieldTransforms.filter(gt=>ft.covers(gt.field))}else ft=null,pt=dt.fieldTransforms;return new ParsedSetData(new ObjectValue(ht),ft,pt)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(rt){if(rt.fu!==2)throw rt.fu===1?rt.Du(`${this._methodName}() can only appear at the top level of your update data`):rt.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return rt.fieldMask.push(rt.path),null}isEqual(rt){return rt instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_createSentinelChildContext(ot,rt,at){return new __PRIVATE_ParseContextImpl({fu:3,vu:rt.settings.vu,methodName:ot._methodName,yu:at},rt.databaseId,rt.serializer,rt.ignoreUndefinedProperties)}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(rt){return new FieldTransform(rt.path,new __PRIVATE_ServerTimestampTransform)}isEqual(rt){return rt instanceof __PRIVATE_ServerTimestampFieldValueImpl}}class __PRIVATE_ArrayUnionFieldValueImpl extends FieldValue{constructor(rt,at){super(rt),this.Mu=at}_toFieldTransform(rt){const at=__PRIVATE_createSentinelChildContext(this,rt,!0),lt=this.Mu.map(ut=>__PRIVATE_parseData(ut,at)),ct=new __PRIVATE_ArrayUnionTransformOperation(lt);return new FieldTransform(rt.path,ct)}isEqual(rt){return rt instanceof __PRIVATE_ArrayUnionFieldValueImpl&&deepEqual$1(this.Mu,rt.Mu)}}function __PRIVATE_parseUpdateData(ot,rt,at,lt){const ct=ot.Fu(1,rt,at);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ct,lt);const ut=[],dt=ObjectValue.empty();forEach(lt,(ft,pt)=>{const mt=__PRIVATE_fieldPathFromDotSeparatedString(rt,ft,at);pt=getModularInstance(pt);const gt=ct.Su(mt);if(pt instanceof __PRIVATE_DeleteFieldValueImpl)ut.push(mt);else{const yt=__PRIVATE_parseData(pt,gt);yt!=null&&(ut.push(mt),dt.set(mt,yt))}});const ht=new FieldMask(ut);return new ParsedUpdateData(dt,ht,ct.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(ot,rt,at,lt,ct,ut){const dt=ot.Fu(1,rt,at),ht=[__PRIVATE_fieldPathFromArgument$1(rt,lt,at)],ft=[ct];if(ut.length%2!=0)throw new FirestoreError(C$4.INVALID_ARGUMENT,`Function ${rt}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let yt=0;yt<ut.length;yt+=2)ht.push(__PRIVATE_fieldPathFromArgument$1(rt,ut[yt])),ft.push(ut[yt+1]);const pt=[],mt=ObjectValue.empty();for(let yt=ht.length-1;yt>=0;--yt)if(!__PRIVATE_fieldMaskContains(pt,ht[yt])){const xt=ht[yt];let bt=ft[yt];bt=getModularInstance(bt);const Et=dt.Su(xt);if(bt instanceof __PRIVATE_DeleteFieldValueImpl)pt.push(xt);else{const Rt=__PRIVATE_parseData(bt,Et);Rt!=null&&(pt.push(xt),mt.set(xt,Rt))}}const gt=new FieldMask(pt);return new ParsedUpdateData(mt,gt,dt.fieldTransforms)}function __PRIVATE_parseQueryValue(ot,rt,at,lt=!1){return __PRIVATE_parseData(at,ot.Fu(lt?4:3,rt))}function __PRIVATE_parseData(ot,rt){if(__PRIVATE_looksLikeJsonObject(ot=getModularInstance(ot)))return __PRIVATE_validatePlainObject("Unsupported field value:",rt,ot),__PRIVATE_parseObject(ot,rt);if(ot instanceof FieldValue)return function(lt,ct){if(!__PRIVATE_isWrite(ct.fu))throw ct.Du(`${lt._methodName}() can only be used with update() and set()`);if(!ct.path)throw ct.Du(`${lt._methodName}() is not currently supported inside arrays`);const ut=lt._toFieldTransform(ct);ut&&ct.fieldTransforms.push(ut)}(ot,rt),null;if(ot===void 0&&rt.ignoreUndefinedProperties)return null;if(rt.path&&rt.fieldMask.push(rt.path),ot instanceof Array){if(rt.settings.yu&&rt.fu!==4)throw rt.Du("Nested arrays are not supported");return function(lt,ct){const ut=[];let dt=0;for(const ht of lt){let ft=__PRIVATE_parseData(ht,ct.bu(dt));ft==null&&(ft={nullValue:"NULL_VALUE"}),ut.push(ft),dt++}return{arrayValue:{values:ut}}}(ot,rt)}return function(lt,ct){if((lt=getModularInstance(lt))===null)return{nullValue:"NULL_VALUE"};if(typeof lt=="number")return toNumber(ct.serializer,lt);if(typeof lt=="boolean")return{booleanValue:lt};if(typeof lt=="string")return{stringValue:lt};if(lt instanceof Date){const ut=Timestamp.fromDate(lt);return{timestampValue:toTimestamp(ct.serializer,ut)}}if(lt instanceof Timestamp){const ut=new Timestamp(lt.seconds,1e3*Math.floor(lt.nanoseconds/1e3));return{timestampValue:toTimestamp(ct.serializer,ut)}}if(lt instanceof GeoPoint)return{geoPointValue:{latitude:lt.latitude,longitude:lt.longitude}};if(lt instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(ct.serializer,lt._byteString)};if(lt instanceof DocumentReference){const ut=ct.databaseId,dt=lt.firestore._databaseId;if(!dt.isEqual(ut))throw ct.Du(`Document reference is for database ${dt.projectId}/${dt.database} but should be for database ${ut.projectId}/${ut.database}`);return{referenceValue:__PRIVATE_toResourceName(lt.firestore._databaseId||ct.databaseId,lt._key.path)}}throw ct.Du(`Unsupported field value: ${__PRIVATE_valueDescription(lt)}`)}(ot,rt)}function __PRIVATE_parseObject(ot,rt){const at={};return isEmpty(ot)?rt.path&&rt.path.length>0&&rt.fieldMask.push(rt.path):forEach(ot,(lt,ct)=>{const ut=__PRIVATE_parseData(ct,rt.pu(lt));ut!=null&&(at[lt]=ut)}),{mapValue:{fields:at}}}function __PRIVATE_looksLikeJsonObject(ot){return!(typeof ot!="object"||ot===null||ot instanceof Array||ot instanceof Date||ot instanceof Timestamp||ot instanceof GeoPoint||ot instanceof Bytes||ot instanceof DocumentReference||ot instanceof FieldValue)}function __PRIVATE_validatePlainObject(ot,rt,at){if(!__PRIVATE_looksLikeJsonObject(at)||!function(ct){return typeof ct=="object"&&ct!==null&&(Object.getPrototypeOf(ct)===Object.prototype||Object.getPrototypeOf(ct)===null)}(at)){const lt=__PRIVATE_valueDescription(at);throw lt==="an object"?rt.Du(ot+" a custom object"):rt.Du(ot+" "+lt)}}function __PRIVATE_fieldPathFromArgument$1(ot,rt,at){if((rt=getModularInstance(rt))instanceof FieldPath)return rt._internalPath;if(typeof rt=="string")return __PRIVATE_fieldPathFromDotSeparatedString(ot,rt);throw __PRIVATE_createError("Field path arguments must be of type string or ",ot,!1,void 0,at)}const be=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(ot,rt,at){if(rt.search(be)>=0)throw __PRIVATE_createError(`Invalid field path (${rt}). Paths must not contain '~', '*', '/', '[', or ']'`,ot,!1,void 0,at);try{return new FieldPath(...rt.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${rt}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,ot,!1,void 0,at)}}function __PRIVATE_createError(ot,rt,at,lt,ct){const ut=lt&&!lt.isEmpty(),dt=ct!==void 0;let ht=`Function ${rt}() called with invalid data`;at&&(ht+=" (via `toFirestore()`)"),ht+=". ";let ft="";return(ut||dt)&&(ft+=" (found",ut&&(ft+=` in field ${lt}`),dt&&(ft+=` in document ${ct}`),ft+=")"),new FirestoreError(C$4.INVALID_ARGUMENT,ht+ot+ft)}function __PRIVATE_fieldMaskContains(ot,rt){return ot.some(at=>at.isEqual(rt))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(rt,at,lt,ct,ut){this._firestore=rt,this._userDataWriter=at,this._key=lt,this._document=ct,this._converter=ut}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const rt=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(rt)}return this._userDataWriter.convertValue(this._document.data.value)}}get(rt){if(this._document){const at=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",rt));if(at!==null)return this._userDataWriter.convertValue(at)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(ot,rt){return typeof rt=="string"?__PRIVATE_fieldPathFromDotSeparatedString(ot,rt):rt instanceof FieldPath?rt._internalPath:rt._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(ot){if(ot.limitType==="L"&&ot.explicitOrderBy.length===0)throw new FirestoreError(C$4.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(ot,rt,...at){let lt=[];rt instanceof AppliableConstraint&&lt.push(rt),lt=lt.concat(at),function(ut){const dt=ut.filter(ft=>ft instanceof QueryCompositeFilterConstraint).length,ht=ut.filter(ft=>ft instanceof QueryFieldFilterConstraint).length;if(dt>1||dt>0&&ht>0)throw new FirestoreError(C$4.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(lt);for(const ct of lt)ot=ct._apply(ot);return ot}class QueryFieldFilterConstraint extends QueryConstraint{constructor(rt,at,lt){super(),this._field=rt,this._op=at,this._value=lt,this.type="where"}static _create(rt,at,lt){return new QueryFieldFilterConstraint(rt,at,lt)}_apply(rt){const at=this._parse(rt);return __PRIVATE_validateNewFieldFilter(rt._query,at),new Query(rt.firestore,rt.converter,__PRIVATE_queryWithAddedFilter(rt._query,at))}_parse(rt){const at=__PRIVATE_newUserDataReader(rt.firestore);return function(ut,dt,ht,ft,pt,mt,gt){let yt;if(pt.isKeyField()){if(mt==="array-contains"||mt==="array-contains-any")throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid Query. You can't perform '${mt}' queries on documentId().`);if(mt==="in"||mt==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(gt,mt);const xt=[];for(const bt of gt)xt.push(__PRIVATE_parseDocumentIdValue(ft,ut,bt));yt={arrayValue:{values:xt}}}else yt=__PRIVATE_parseDocumentIdValue(ft,ut,gt)}else mt!=="in"&&mt!=="not-in"&&mt!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(gt,mt),yt=__PRIVATE_parseQueryValue(ht,dt,gt,mt==="in"||mt==="not-in");return FieldFilter.create(pt,mt,yt)}(rt._query,"where",at,rt.firestore._databaseId,this._field,this._op,this._value)}}function where(ot,rt,at){const lt=rt,ct=__PRIVATE_fieldPathFromArgument("where",ot);return QueryFieldFilterConstraint._create(ct,lt,at)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(rt,at){super(),this.type=rt,this._queryConstraints=at}static _create(rt,at){return new QueryCompositeFilterConstraint(rt,at)}_parse(rt){const at=this._queryConstraints.map(lt=>lt._parse(rt)).filter(lt=>lt.getFilters().length>0);return at.length===1?at[0]:CompositeFilter.create(at,this._getOperator())}_apply(rt){const at=this._parse(rt);return at.getFilters().length===0?rt:(function(ct,ut){let dt=ct;const ht=ut.getFlattenedFilters();for(const ft of ht)__PRIVATE_validateNewFieldFilter(dt,ft),dt=__PRIVATE_queryWithAddedFilter(dt,ft)}(rt._query,at),new Query(rt.firestore,rt.converter,__PRIVATE_queryWithAddedFilter(rt._query,at)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(rt,at){super(),this._field=rt,this._direction=at,this.type="orderBy"}static _create(rt,at){return new QueryOrderByConstraint(rt,at)}_apply(rt){const at=function(ct,ut,dt){if(ct.startAt!==null)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(ct.endAt!==null)throw new FirestoreError(C$4.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(ut,dt)}(rt._query,this._field,this._direction);return new Query(rt.firestore,rt.converter,function(ct,ut){const dt=ct.explicitOrderBy.concat([ut]);return new __PRIVATE_QueryImpl(ct.path,ct.collectionGroup,dt,ct.filters.slice(),ct.limit,ct.limitType,ct.startAt,ct.endAt)}(rt._query,at))}}function orderBy(ot,rt="asc"){const at=rt,lt=__PRIVATE_fieldPathFromArgument("orderBy",ot);return QueryOrderByConstraint._create(lt,at)}function __PRIVATE_parseDocumentIdValue(ot,rt,at){if(typeof(at=getModularInstance(at))=="string"){if(at==="")throw new FirestoreError(C$4.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(rt)&&at.indexOf("/")!==-1)throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${at}' contains a '/' character.`);const lt=rt.path.child(ResourcePath.fromString(at));if(!DocumentKey.isDocumentKey(lt))throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${lt}' is not because it has an odd number of segments (${lt.length}).`);return __PRIVATE_refValue(ot,new DocumentKey(lt))}if(at instanceof DocumentReference)return __PRIVATE_refValue(ot,at._key);throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(at)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(ot,rt){if(!Array.isArray(ot)||ot.length===0)throw new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${rt.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(ot,rt){const at=function(ct,ut){for(const dt of ct)for(const ht of dt.getFlattenedFilters())if(ut.indexOf(ht.op)>=0)return ht.op;return null}(ot.filters,function(ct){switch(ct){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(rt.op));if(at!==null)throw at===rt.op?new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${rt.op.toString()}' filter.`):new FirestoreError(C$4.INVALID_ARGUMENT,`Invalid query. You cannot use '${rt.op.toString()}' filters with '${at.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(rt,at="none"){switch(__PRIVATE_typeOrder(rt)){case 0:return null;case 1:return rt.booleanValue;case 2:return __PRIVATE_normalizeNumber(rt.integerValue||rt.doubleValue);case 3:return this.convertTimestamp(rt.timestampValue);case 4:return this.convertServerTimestamp(rt,at);case 5:return rt.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(rt.bytesValue));case 7:return this.convertReference(rt.referenceValue);case 8:return this.convertGeoPoint(rt.geoPointValue);case 9:return this.convertArray(rt.arrayValue,at);case 10:return this.convertObject(rt.mapValue,at);default:throw fail()}}convertObject(rt,at){return this.convertObjectMap(rt.fields,at)}convertObjectMap(rt,at="none"){const lt={};return forEach(rt,(ct,ut)=>{lt[ct]=this.convertValue(ut,at)}),lt}convertGeoPoint(rt){return new GeoPoint(__PRIVATE_normalizeNumber(rt.latitude),__PRIVATE_normalizeNumber(rt.longitude))}convertArray(rt,at){return(rt.values||[]).map(lt=>this.convertValue(lt,at))}convertServerTimestamp(rt,at){switch(at){case"previous":const lt=__PRIVATE_getPreviousValue(rt);return lt==null?null:this.convertValue(lt,at);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(rt));default:return null}}convertTimestamp(rt){const at=__PRIVATE_normalizeTimestamp(rt);return new Timestamp(at.seconds,at.nanos)}convertDocumentKey(rt,at){const lt=ResourcePath.fromString(rt);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(lt));const ct=new DatabaseId(lt.get(1),lt.get(3)),ut=new DocumentKey(lt.popFirst(5));return ct.isEqual(at)||__PRIVATE_logError(`Document ${ut} contains a document reference within a different database (${ct.projectId}/${ct.database}) which is not supported. It will be treated as a reference in the current database (${at.projectId}/${at.database}) instead.`),ut}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(ot,rt,at){let lt;return lt=ot?at&&(at.merge||at.mergeFields)?ot.toFirestore(rt,at):ot.toFirestore(rt):rt,lt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(rt,at){this.hasPendingWrites=rt,this.fromCache=at}isEqual(rt){return this.hasPendingWrites===rt.hasPendingWrites&&this.fromCache===rt.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(rt,at,lt,ct,ut,dt){super(rt,at,lt,ct,dt),this._firestore=rt,this._firestoreImpl=rt,this.metadata=ut}exists(){return super.exists()}data(rt={}){if(this._document){if(this._converter){const at=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(at,rt)}return this._userDataWriter.convertValue(this._document.data.value,rt.serverTimestamps)}}get(rt,at={}){if(this._document){const lt=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",rt));if(lt!==null)return this._userDataWriter.convertValue(lt,at.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(rt={}){return super.data(rt)}}class QuerySnapshot{constructor(rt,at,lt,ct){this._firestore=rt,this._userDataWriter=at,this._snapshot=ct,this.metadata=new SnapshotMetadata(ct.hasPendingWrites,ct.fromCache),this.query=lt}get docs(){const rt=[];return this.forEach(at=>rt.push(at)),rt}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(rt,at){this._snapshot.docs.forEach(lt=>{rt.call(at,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,lt.key,lt,new SnapshotMetadata(this._snapshot.mutatedKeys.has(lt.key),this._snapshot.fromCache),this.query.converter))})}docChanges(rt={}){const at=!!rt.includeMetadataChanges;if(at&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(C$4.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===at||(this._cachedChanges=function(ct,ut){if(ct._snapshot.oldDocs.isEmpty()){let dt=0;return ct._snapshot.docChanges.map(ht=>{const ft=new QueryDocumentSnapshot(ct._firestore,ct._userDataWriter,ht.doc.key,ht.doc,new SnapshotMetadata(ct._snapshot.mutatedKeys.has(ht.doc.key),ct._snapshot.fromCache),ct.query.converter);return ht.doc,{type:"added",doc:ft,oldIndex:-1,newIndex:dt++}})}{let dt=ct._snapshot.oldDocs;return ct._snapshot.docChanges.filter(ht=>ut||ht.type!==3).map(ht=>{const ft=new QueryDocumentSnapshot(ct._firestore,ct._userDataWriter,ht.doc.key,ht.doc,new SnapshotMetadata(ct._snapshot.mutatedKeys.has(ht.doc.key),ct._snapshot.fromCache),ct.query.converter);let pt=-1,mt=-1;return ht.type!==0&&(pt=dt.indexOf(ht.doc.key),dt=dt.delete(ht.doc.key)),ht.type!==1&&(dt=dt.add(ht.doc),mt=dt.indexOf(ht.doc.key)),{type:__PRIVATE_resultChangeType(ht.type),doc:ft,oldIndex:pt,newIndex:mt}})}}(this,at),this._cachedChangesIncludeMetadataChanges=at),this._cachedChanges}}function __PRIVATE_resultChangeType(ot){switch(ot){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(ot){ot=__PRIVATE_cast(ot,DocumentReference);const rt=__PRIVATE_cast(ot.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(rt),ot._key).then(at=>__PRIVATE_convertToDocSnapshot(rt,ot,at))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(rt){super(),this.firestore=rt}convertBytes(rt){return new Bytes(rt)}convertReference(rt){const at=this.convertDocumentKey(rt,this.firestore._databaseId);return new DocumentReference(this.firestore,null,at)}}function getDocs(ot){ot=__PRIVATE_cast(ot,Query);const rt=__PRIVATE_cast(ot.firestore,Firestore),at=ensureFirestoreConfigured(rt),lt=new __PRIVATE_ExpUserDataWriter(rt);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(ot._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(at,ot._query).then(ct=>new QuerySnapshot(rt,lt,ot,ct))}function setDoc(ot,rt,at){ot=__PRIVATE_cast(ot,DocumentReference);const lt=__PRIVATE_cast(ot.firestore,Firestore),ct=__PRIVATE_applyFirestoreDataConverter(ot.converter,rt,at);return executeWrite(lt,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(lt),"setDoc",ot._key,ct,ot.converter!==null,at).toMutation(ot._key,Precondition.none())])}function updateDoc(ot,rt,at,...lt){ot=__PRIVATE_cast(ot,DocumentReference);const ct=__PRIVATE_cast(ot.firestore,Firestore),ut=__PRIVATE_newUserDataReader(ct);let dt;return dt=typeof(rt=getModularInstance(rt))=="string"||rt instanceof FieldPath?__PRIVATE_parseUpdateVarargs(ut,"updateDoc",ot._key,rt,at,lt):__PRIVATE_parseUpdateData(ut,"updateDoc",ot._key,rt),executeWrite(ct,[dt.toMutation(ot._key,Precondition.exists(!0))])}function addDoc(ot,rt){const at=__PRIVATE_cast(ot.firestore,Firestore),lt=doc(ot),ct=__PRIVATE_applyFirestoreDataConverter(ot.converter,rt);return executeWrite(at,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(ot.firestore),"addDoc",lt._key,ct,ot.converter!==null,{}).toMutation(lt._key,Precondition.exists(!1))]).then(()=>lt)}function onSnapshot(ot,...rt){var at,lt,ct;ot=getModularInstance(ot);let ut={includeMetadataChanges:!1,source:"default"},dt=0;typeof rt[dt]!="object"||__PRIVATE_isPartialObserver(rt[dt])||(ut=rt[dt],dt++);const ht={includeMetadataChanges:ut.includeMetadataChanges,source:ut.source};if(__PRIVATE_isPartialObserver(rt[dt])){const gt=rt[dt];rt[dt]=(at=gt.next)===null||at===void 0?void 0:at.bind(gt),rt[dt+1]=(lt=gt.error)===null||lt===void 0?void 0:lt.bind(gt),rt[dt+2]=(ct=gt.complete)===null||ct===void 0?void 0:ct.bind(gt)}let ft,pt,mt;if(ot instanceof DocumentReference)pt=__PRIVATE_cast(ot.firestore,Firestore),mt=__PRIVATE_newQueryForPath(ot._key.path),ft={next:gt=>{rt[dt]&&rt[dt](__PRIVATE_convertToDocSnapshot(pt,ot,gt))},error:rt[dt+1],complete:rt[dt+2]};else{const gt=__PRIVATE_cast(ot,Query);pt=__PRIVATE_cast(gt.firestore,Firestore),mt=gt._query;const yt=new __PRIVATE_ExpUserDataWriter(pt);ft={next:xt=>{rt[dt]&&rt[dt](new QuerySnapshot(pt,yt,gt,xt))},error:rt[dt+1],complete:rt[dt+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(ot._query)}return function(yt,xt,bt,Et){const Rt=new __PRIVATE_AsyncObserver(Et),wt=new __PRIVATE_QueryListener(xt,Rt,bt);return yt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(yt),wt)),()=>{Rt.$a(),yt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(yt),wt))}}(ensureFirestoreConfigured(pt),mt,ht,ft)}function executeWrite(ot,rt){return function(lt,ct){const ut=new __PRIVATE_Deferred;return lt.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(lt),ct,ut)),ut.promise}(ensureFirestoreConfigured(ot),rt)}function __PRIVATE_convertToDocSnapshot(ot,rt,at){const lt=at.docs.get(rt._key),ct=new __PRIVATE_ExpUserDataWriter(ot);return new DocumentSnapshot(ot,ct,rt._key,lt,new SnapshotMetadata(at.hasPendingWrites,at.fromCache),rt.converter)}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}function arrayUnion(...ot){return new __PRIVATE_ArrayUnionFieldValueImpl("arrayUnion",ot)}(function(rt,at=!0){(function(ct){b$4=ct})(SDK_VERSION),_registerComponent(new Component("firestore",(lt,{instanceIdentifier:ct,options:ut})=>{const dt=lt.getProvider("app").getImmediate(),ht=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(lt.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(lt.getProvider("app-check-internal")),function(pt,mt){if(!Object.prototype.hasOwnProperty.apply(pt.options,["projectId"]))throw new FirestoreError(C$4.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(pt.options.projectId,mt)}(dt,ct),dt);return ut=Object.assign({useFetchStreams:at},ut),ht._setSettings(ut),ht},"PUBLIC").setMultipleInstances(!0)),registerVersion(S$3,"4.6.4",rt),registerVersion(S$3,"4.6.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(rt,at,lt=0){super(prependCode(rt),`Firebase Storage: ${at} (${prependCode(rt)})`),this.status_=lt,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(rt){this.status_=rt}_codeEquals(rt){return prependCode(rt)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(rt){this.customData.serverResponse=rt,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(ot){ot.UNKNOWN="unknown",ot.OBJECT_NOT_FOUND="object-not-found",ot.BUCKET_NOT_FOUND="bucket-not-found",ot.PROJECT_NOT_FOUND="project-not-found",ot.QUOTA_EXCEEDED="quota-exceeded",ot.UNAUTHENTICATED="unauthenticated",ot.UNAUTHORIZED="unauthorized",ot.UNAUTHORIZED_APP="unauthorized-app",ot.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",ot.INVALID_CHECKSUM="invalid-checksum",ot.CANCELED="canceled",ot.INVALID_EVENT_NAME="invalid-event-name",ot.INVALID_URL="invalid-url",ot.INVALID_DEFAULT_BUCKET="invalid-default-bucket",ot.NO_DEFAULT_BUCKET="no-default-bucket",ot.CANNOT_SLICE_BLOB="cannot-slice-blob",ot.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",ot.NO_DOWNLOAD_URL="no-download-url",ot.INVALID_ARGUMENT="invalid-argument",ot.INVALID_ARGUMENT_COUNT="invalid-argument-count",ot.APP_DELETED="app-deleted",ot.INVALID_ROOT_OPERATION="invalid-root-operation",ot.INVALID_FORMAT="invalid-format",ot.INTERNAL_ERROR="internal-error",ot.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(ot){return"storage/"+ot}function unknown(){const ot="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,ot)}function objectNotFound(ot){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+ot+"' does not exist.")}function quotaExceeded(ot){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+ot+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const ot="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,ot)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(ot){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+ot+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(ot){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+ot+"'.")}function invalidDefaultBucket(ot){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+ot+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(ot){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${ot} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(ot){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,ot)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(ot){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+ot+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(ot,rt){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+ot+"': "+rt)}function internalError(ot){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(rt,at){this.bucket=rt,this.path_=at}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const rt=encodeURIComponent;return"/b/"+rt(this.bucket)+"/o/"+rt(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(rt,at){let lt;try{lt=Location.makeFromUrl(rt,at)}catch{return new Location(rt,"")}if(lt.path==="")return lt;throw invalidDefaultBucket(rt)}static makeFromUrl(rt,at){let lt=null;const ct="([A-Za-z0-9.\\-_]+)";function ut(kt){kt.path.charAt(kt.path.length-1)==="/"&&(kt.path_=kt.path_.slice(0,-1))}const dt="(/(.*))?$",ht=new RegExp("^gs://"+ct+dt,"i"),ft={bucket:1,path:3};function pt(kt){kt.path_=decodeURIComponent(kt.path)}const mt="v[A-Za-z0-9_]+",gt=at.replace(/[.]/g,"\\."),yt="(/([^?#]*).*)?$",xt=new RegExp(`^https?://${gt}/${mt}/b/${ct}/o${yt}`,"i"),bt={bucket:1,path:3},Et=at===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":at,Rt="([^?#]*)",wt=new RegExp(`^https?://${Et}/${ct}/${Rt}`,"i"),At=[{regex:ht,indices:ft,postModify:ut},{regex:xt,indices:bt,postModify:pt},{regex:wt,indices:{bucket:1,path:2},postModify:pt}];for(let kt=0;kt<At.length;kt++){const It=At[kt],Nt=It.regex.exec(rt);if(Nt){const Pt=Nt[It.indices.bucket];let Tt=Nt[It.indices.path];Tt||(Tt=""),lt=new Location(Pt,Tt),It.postModify(lt);break}}if(lt==null)throw invalidUrl(rt);return lt}}class FailRequest{constructor(rt){this.promise_=Promise.reject(rt)}getPromise(){return this.promise_}cancel(rt=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(ot,rt,at){let lt=1,ct=null,ut=null,dt=!1,ht=0;function ft(){return ht===2}let pt=!1;function mt(...Rt){pt||(pt=!0,rt.apply(null,Rt))}function gt(Rt){ct=setTimeout(()=>{ct=null,ot(xt,ft())},Rt)}function yt(){ut&&clearTimeout(ut)}function xt(Rt,...wt){if(pt){yt();return}if(Rt){yt(),mt.call(null,Rt,...wt);return}if(ft()||dt){yt(),mt.call(null,Rt,...wt);return}lt<64&&(lt*=2);let At;ht===1?(ht=2,At=0):At=(lt+Math.random())*1e3,gt(At)}let bt=!1;function Et(Rt){bt||(bt=!0,yt(),!pt&&(ct!==null?(Rt||(ht=2),clearTimeout(ct),gt(0)):Rt||(ht=1)))}return gt(0),ut=setTimeout(()=>{dt=!0,Et(!0)},at),Et}function stop(ot){ot(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(ot){return ot!==void 0}function isNonArrayObject(ot){return typeof ot=="object"&&!Array.isArray(ot)}function isString$1(ot){return typeof ot=="string"||ot instanceof String}function isNativeBlob(ot){return isNativeBlobDefined()&&ot instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(ot,rt,at,lt){if(lt<rt)throw invalidArgument(`Invalid value for '${ot}'. Expected ${rt} or greater.`);if(lt>at)throw invalidArgument(`Invalid value for '${ot}'. Expected ${at} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(ot,rt,at){let lt=rt;return at==null&&(lt=`https://${rt}`),`${at}://${lt}/v0${ot}`}function makeQueryString(ot){const rt=encodeURIComponent;let at="?";for(const lt in ot)if(ot.hasOwnProperty(lt)){const ct=rt(lt)+"="+rt(ot[lt]);at=at+ct+"&"}return at=at.slice(0,-1),at}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(ot){ot[ot.NO_ERROR=0]="NO_ERROR",ot[ot.NETWORK_ERROR=1]="NETWORK_ERROR",ot[ot.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(ot,rt){const at=ot>=500&&ot<600,ct=[408,429].indexOf(ot)!==-1,ut=rt.indexOf(ot)!==-1;return at||ct||ut}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(rt,at,lt,ct,ut,dt,ht,ft,pt,mt,gt,yt=!0){this.url_=rt,this.method_=at,this.headers_=lt,this.body_=ct,this.successCodes_=ut,this.additionalRetryCodes_=dt,this.callback_=ht,this.errorCallback_=ft,this.timeout_=pt,this.progressCallback_=mt,this.connectionFactory_=gt,this.retry=yt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((xt,bt)=>{this.resolve_=xt,this.reject_=bt,this.start_()})}start_(){const rt=(lt,ct)=>{if(ct){lt(!1,new RequestEndStatus(!1,null,!0));return}const ut=this.connectionFactory_();this.pendingConnection_=ut;const dt=ht=>{const ft=ht.loaded,pt=ht.lengthComputable?ht.total:-1;this.progressCallback_!==null&&this.progressCallback_(ft,pt)};this.progressCallback_!==null&&ut.addUploadProgressListener(dt),ut.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&ut.removeUploadProgressListener(dt),this.pendingConnection_=null;const ht=ut.getErrorCode()===ErrorCode.NO_ERROR,ft=ut.getStatus();if(!ht||isRetryStatusCode(ft,this.additionalRetryCodes_)&&this.retry){const mt=ut.getErrorCode()===ErrorCode.ABORT;lt(!1,new RequestEndStatus(!1,null,mt));return}const pt=this.successCodes_.indexOf(ft)!==-1;lt(!0,new RequestEndStatus(pt,ut))})},at=(lt,ct)=>{const ut=this.resolve_,dt=this.reject_,ht=ct.connection;if(ct.wasSuccessCode)try{const ft=this.callback_(ht,ht.getResponse());isJustDef(ft)?ut(ft):ut()}catch(ft){dt(ft)}else if(ht!==null){const ft=unknown();ft.serverResponse=ht.getErrorText(),this.errorCallback_?dt(this.errorCallback_(ht,ft)):dt(ft)}else if(ct.canceled){const ft=this.appDelete_?appDeleted():canceled();dt(ft)}else{const ft=retryLimitExceeded();dt(ft)}};this.canceled_?at(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(rt,at,this.timeout_)}getPromise(){return this.promise_}cancel(rt){this.canceled_=!0,this.appDelete_=rt||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(rt,at,lt){this.wasSuccessCode=rt,this.connection=at,this.canceled=!!lt}}function addAuthHeader_(ot,rt){rt!==null&&rt.length>0&&(ot.Authorization="Firebase "+rt)}function addVersionHeader_(ot,rt){ot["X-Firebase-Storage-Version"]="webjs/"+(rt??"AppManager")}function addGmpidHeader_(ot,rt){rt&&(ot["X-Firebase-GMPID"]=rt)}function addAppCheckHeader_(ot,rt){rt!==null&&(ot["X-Firebase-AppCheck"]=rt)}function makeRequest(ot,rt,at,lt,ct,ut,dt=!0){const ht=makeQueryString(ot.urlParams),ft=ot.url+ht,pt=Object.assign({},ot.headers);return addGmpidHeader_(pt,rt),addAuthHeader_(pt,at),addVersionHeader_(pt,ut),addAppCheckHeader_(pt,lt),new NetworkRequest(ft,ot.method,pt,ot.body,ot.successCodes,ot.additionalRetryCodes,ot.handler,ot.errorHandler,ot.timeout,ot.progressCallback,ct,dt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...ot){const rt=getBlobBuilder();if(rt!==void 0){const at=new rt;for(let lt=0;lt<ot.length;lt++)at.append(ot[lt]);return at.getBlob()}else{if(isNativeBlobDefined())return new Blob(ot);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(ot,rt,at){return ot.webkitSlice?ot.webkitSlice(rt,at):ot.mozSlice?ot.mozSlice(rt,at):ot.slice?ot.slice(rt,at):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(ot){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(rt,at){this.data=rt,this.contentType=at||null}}function dataFromString(ot,rt){switch(ot){case StringFormat.RAW:return new StringData(utf8Bytes_(rt));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(ot,rt));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(rt),dataURLContentType_(rt))}throw unknown()}function utf8Bytes_(ot){const rt=[];for(let at=0;at<ot.length;at++){let lt=ot.charCodeAt(at);if(lt<=127)rt.push(lt);else if(lt<=2047)rt.push(192|lt>>6,128|lt&63);else if((lt&64512)===55296)if(!(at<ot.length-1&&(ot.charCodeAt(at+1)&64512)===56320))rt.push(239,191,189);else{const ut=lt,dt=ot.charCodeAt(++at);lt=65536|(ut&1023)<<10|dt&1023,rt.push(240|lt>>18,128|lt>>12&63,128|lt>>6&63,128|lt&63)}else(lt&64512)===56320?rt.push(239,191,189):rt.push(224|lt>>12,128|lt>>6&63,128|lt&63)}return new Uint8Array(rt)}function percentEncodedBytes_(ot){let rt;try{rt=decodeURIComponent(ot)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(rt)}function base64Bytes_(ot,rt){switch(ot){case StringFormat.BASE64:{const ct=rt.indexOf("-")!==-1,ut=rt.indexOf("_")!==-1;if(ct||ut)throw invalidFormat(ot,"Invalid character '"+(ct?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const ct=rt.indexOf("+")!==-1,ut=rt.indexOf("/")!==-1;if(ct||ut)throw invalidFormat(ot,"Invalid character '"+(ct?"+":"/")+"' found: is it base64 encoded?");rt=rt.replace(/-/g,"+").replace(/_/g,"/");break}}let at;try{at=decodeBase64(rt)}catch(ct){throw ct.message.includes("polyfill")?ct:invalidFormat(ot,"Invalid character found")}const lt=new Uint8Array(at.length);for(let ct=0;ct<at.length;ct++)lt[ct]=at.charCodeAt(ct);return lt}class DataURLParts{constructor(rt){this.base64=!1,this.contentType=null;const at=rt.match(/^data:([^,]+)?,/);if(at===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const lt=at[1]||null;lt!=null&&(this.base64=endsWith(lt,";base64"),this.contentType=this.base64?lt.substring(0,lt.length-7):lt),this.rest=rt.substring(rt.indexOf(",")+1)}}function dataURLBytes_(ot){const rt=new DataURLParts(ot);return rt.base64?base64Bytes_(StringFormat.BASE64,rt.rest):percentEncodedBytes_(rt.rest)}function dataURLContentType_(ot){return new DataURLParts(ot).contentType}function endsWith(ot,rt){return ot.length>=rt.length?ot.substring(ot.length-rt.length)===rt:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(rt,at){let lt=0,ct="";isNativeBlob(rt)?(this.data_=rt,lt=rt.size,ct=rt.type):rt instanceof ArrayBuffer?(at?this.data_=new Uint8Array(rt):(this.data_=new Uint8Array(rt.byteLength),this.data_.set(new Uint8Array(rt))),lt=this.data_.length):rt instanceof Uint8Array&&(at?this.data_=rt:(this.data_=new Uint8Array(rt.length),this.data_.set(rt)),lt=rt.length),this.size_=lt,this.type_=ct}size(){return this.size_}type(){return this.type_}slice(rt,at){if(isNativeBlob(this.data_)){const lt=this.data_,ct=sliceBlob(lt,rt,at);return ct===null?null:new FbsBlob(ct)}else{const lt=new Uint8Array(this.data_.buffer,rt,at-rt);return new FbsBlob(lt,!0)}}static getBlob(...rt){if(isNativeBlobDefined()){const at=rt.map(lt=>lt instanceof FbsBlob?lt.data_:lt);return new FbsBlob(getBlob$1.apply(null,at))}else{const at=rt.map(dt=>isString$1(dt)?dataFromString(StringFormat.RAW,dt).data:dt.data_);let lt=0;at.forEach(dt=>{lt+=dt.byteLength});const ct=new Uint8Array(lt);let ut=0;return at.forEach(dt=>{for(let ht=0;ht<dt.length;ht++)ct[ut++]=dt[ht]}),new FbsBlob(ct,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(ot){let rt;try{rt=JSON.parse(ot)}catch{return null}return isNonArrayObject(rt)?rt:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(ot){if(ot.length===0)return null;const rt=ot.lastIndexOf("/");return rt===-1?"":ot.slice(0,rt)}function child(ot,rt){const at=rt.split("/").filter(lt=>lt.length>0).join("/");return ot.length===0?at:ot+"/"+at}function lastComponent(ot){const rt=ot.lastIndexOf("/",ot.length-2);return rt===-1?ot:ot.slice(rt+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(ot,rt){return rt}class Mapping{constructor(rt,at,lt,ct){this.server=rt,this.local=at||rt,this.writable=!!lt,this.xform=ct||noXform_}}let mappings_=null;function xformPath(ot){return!isString$1(ot)||ot.length<2?ot:lastComponent(ot)}function getMappings(){if(mappings_)return mappings_;const ot=[];ot.push(new Mapping("bucket")),ot.push(new Mapping("generation")),ot.push(new Mapping("metageneration")),ot.push(new Mapping("name","fullPath",!0));function rt(ut,dt){return xformPath(dt)}const at=new Mapping("name");at.xform=rt,ot.push(at);function lt(ut,dt){return dt!==void 0?Number(dt):dt}const ct=new Mapping("size");return ct.xform=lt,ot.push(ct),ot.push(new Mapping("timeCreated")),ot.push(new Mapping("updated")),ot.push(new Mapping("md5Hash",null,!0)),ot.push(new Mapping("cacheControl",null,!0)),ot.push(new Mapping("contentDisposition",null,!0)),ot.push(new Mapping("contentEncoding",null,!0)),ot.push(new Mapping("contentLanguage",null,!0)),ot.push(new Mapping("contentType",null,!0)),ot.push(new Mapping("metadata","customMetadata",!0)),mappings_=ot,mappings_}function addRef(ot,rt){function at(){const lt=ot.bucket,ct=ot.fullPath,ut=new Location(lt,ct);return rt._makeStorageReference(ut)}Object.defineProperty(ot,"ref",{get:at})}function fromResource(ot,rt,at){const lt={};lt.type="file";const ct=at.length;for(let ut=0;ut<ct;ut++){const dt=at[ut];lt[dt.local]=dt.xform(lt,rt[dt.server])}return addRef(lt,ot),lt}function fromResourceString(ot,rt,at){const lt=jsonObjectOrNull(rt);return lt===null?null:fromResource(ot,lt,at)}function downloadUrlFromResourceString(ot,rt,at,lt){const ct=jsonObjectOrNull(rt);if(ct===null||!isString$1(ct.downloadTokens))return null;const ut=ct.downloadTokens;if(ut.length===0)return null;const dt=encodeURIComponent;return ut.split(",").map(pt=>{const mt=ot.bucket,gt=ot.fullPath,yt="/b/"+dt(mt)+"/o/"+dt(gt),xt=makeUrl(yt,at,lt),bt=makeQueryString({alt:"media",token:pt});return xt+bt})[0]}function toResourceString(ot,rt){const at={},lt=rt.length;for(let ct=0;ct<lt;ct++){const ut=rt[ct];ut.writable&&(at[ut.server]=ot[ut.local])}return JSON.stringify(at)}class RequestInfo{constructor(rt,at,lt,ct){this.url=rt,this.method=at,this.handler=lt,this.timeout=ct,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(ot){if(!ot)throw unknown()}function metadataHandler(ot,rt){function at(lt,ct){const ut=fromResourceString(ot,ct,rt);return handlerCheck(ut!==null),ut}return at}function downloadUrlHandler(ot,rt){function at(lt,ct){const ut=fromResourceString(ot,ct,rt);return handlerCheck(ut!==null),downloadUrlFromResourceString(ut,ct,ot.host,ot._protocol)}return at}function sharedErrorHandler(ot){function rt(at,lt){let ct;return at.getStatus()===401?at.getErrorText().includes("Firebase App Check token is invalid")?ct=unauthorizedApp():ct=unauthenticated():at.getStatus()===402?ct=quotaExceeded(ot.bucket):at.getStatus()===403?ct=unauthorized(ot.path):ct=lt,ct.status=at.getStatus(),ct.serverResponse=lt.serverResponse,ct}return rt}function objectErrorHandler(ot){const rt=sharedErrorHandler(ot);function at(lt,ct){let ut=rt(lt,ct);return lt.getStatus()===404&&(ut=objectNotFound(ot.path)),ut.serverResponse=ct.serverResponse,ut}return at}function getDownloadUrl(ot,rt,at){const lt=rt.fullServerUrl(),ct=makeUrl(lt,ot.host,ot._protocol),ut="GET",dt=ot.maxOperationRetryTime,ht=new RequestInfo(ct,ut,downloadUrlHandler(ot,at),dt);return ht.errorHandler=objectErrorHandler(rt),ht}function determineContentType_(ot,rt){return ot&&ot.contentType||rt&&rt.type()||"application/octet-stream"}function metadataForUpload_(ot,rt,at){const lt=Object.assign({},at);return lt.fullPath=ot.path,lt.size=rt.size(),lt.contentType||(lt.contentType=determineContentType_(null,rt)),lt}function multipartUpload(ot,rt,at,lt,ct){const ut=rt.bucketOnlyServerUrl(),dt={"X-Goog-Upload-Protocol":"multipart"};function ht(){let At="";for(let kt=0;kt<2;kt++)At=At+Math.random().toString().slice(2);return At}const ft=ht();dt["Content-Type"]="multipart/related; boundary="+ft;const pt=metadataForUpload_(rt,lt,ct),mt=toResourceString(pt,at),gt="--"+ft+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+mt+`\r
--`+ft+`\r
Content-Type: `+pt.contentType+`\r
\r
`,yt=`\r
--`+ft+"--",xt=FbsBlob.getBlob(gt,lt,yt);if(xt===null)throw cannotSliceBlob();const bt={name:pt.fullPath},Et=makeUrl(ut,ot.host,ot._protocol),Rt="POST",wt=ot.maxUploadRetryTime,_t=new RequestInfo(Et,Rt,metadataHandler(ot,at),wt);return _t.urlParams=bt,_t.headers=dt,_t.body=xt.uploadData(),_t.errorHandler=sharedErrorHandler(rt),_t}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(rt=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,rt()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,rt()}),this.xhr_.addEventListener("load",()=>{rt()})})}send(rt,at,lt,ct){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(at,rt,!0),ct!==void 0)for(const ut in ct)ct.hasOwnProperty(ut)&&this.xhr_.setRequestHeader(ut,ct[ut].toString());return lt!==void 0?this.xhr_.send(lt):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(rt){return this.xhr_.getResponseHeader(rt)}addUploadProgressListener(rt){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",rt)}removeUploadProgressListener(rt){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",rt)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(rt,at){this._service=rt,at instanceof Location?this._location=at:this._location=Location.makeFromUrl(at,rt.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(rt,at){return new Reference(rt,at)}get root(){const rt=new Location(this._location.bucket,"");return this._newRef(this._service,rt)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const rt=parent(this._location.path);if(rt===null)return null;const at=new Location(this._location.bucket,rt);return new Reference(this._service,at)}_throwIfRoot(rt){if(this._location.path==="")throw invalidRootOperation(rt)}}function uploadBytes$1(ot,rt,at){ot._throwIfRoot("uploadBytes");const lt=multipartUpload(ot.storage,ot._location,getMappings(),new FbsBlob(rt,!0),at);return ot.storage.makeRequestWithTokens(lt,newTextConnection).then(ct=>({metadata:ct,ref:ot}))}function getDownloadURL$1(ot){ot._throwIfRoot("getDownloadURL");const rt=getDownloadUrl(ot.storage,ot._location,getMappings());return ot.storage.makeRequestWithTokens(rt,newTextConnection).then(at=>{if(at===null)throw noDownloadURL();return at})}function _getChild$1(ot,rt){const at=child(ot._location.path,rt),lt=new Location(ot._location.bucket,at);return new Reference(ot.storage,lt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(ot){return/^[A-Za-z]+:\/\//.test(ot)}function refFromURL(ot,rt){return new Reference(ot,rt)}function refFromPath(ot,rt){if(ot instanceof FirebaseStorageImpl){const at=ot;if(at._bucket==null)throw noDefaultBucket();const lt=new Reference(at,at._bucket);return rt!=null?refFromPath(lt,rt):lt}else return rt!==void 0?_getChild$1(ot,rt):ot}function ref$1(ot,rt){if(rt&&isUrl(rt)){if(ot instanceof FirebaseStorageImpl)return refFromURL(ot,rt);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(ot,rt)}function extractBucket(ot,rt){const at=rt==null?void 0:rt[CONFIG_STORAGE_BUCKET_KEY];return at==null?null:Location.makeFromBucketSpec(at,ot)}function connectStorageEmulator$1(ot,rt,at,lt={}){ot.host=`${rt}:${at}`,ot._protocol="http";const{mockUserToken:ct}=lt;ct&&(ot._overrideAuthToken=typeof ct=="string"?ct:createMockUserToken(ct,ot.app.options.projectId))}class FirebaseStorageImpl{constructor(rt,at,lt,ct,ut){this.app=rt,this._authProvider=at,this._appCheckProvider=lt,this._url=ct,this._firebaseVersion=ut,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,ct!=null?this._bucket=Location.makeFromBucketSpec(ct,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(rt){this._host=rt,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,rt):this._bucket=extractBucket(rt,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(rt){validateNumber("time",0,Number.POSITIVE_INFINITY,rt),this._maxUploadRetryTime=rt}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(rt){validateNumber("time",0,Number.POSITIVE_INFINITY,rt),this._maxOperationRetryTime=rt}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const rt=this._authProvider.getImmediate({optional:!0});if(rt){const at=await rt.getToken();if(at!==null)return at.accessToken}return null}async _getAppCheckToken(){const rt=this._appCheckProvider.getImmediate({optional:!0});return rt?(await rt.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(rt=>rt.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(rt){return new Reference(this,rt)}_makeRequest(rt,at,lt,ct,ut=!0){if(this._deleted)return new FailRequest(appDeleted());{const dt=makeRequest(rt,this._appId,lt,ct,at,this._firebaseVersion,ut);return this._requests.add(dt),dt.getPromise().then(()=>this._requests.delete(dt),()=>this._requests.delete(dt)),dt}}async makeRequestWithTokens(rt,at){const[lt,ct]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(rt,at,lt,ct).getPromise()}}const name="@firebase/storage",version="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(ot,rt,at){return ot=getModularInstance(ot),uploadBytes$1(ot,rt,at)}function getDownloadURL(ot){return ot=getModularInstance(ot),getDownloadURL$1(ot)}function ref(ot,rt){return ot=getModularInstance(ot),ref$1(ot,rt)}function getStorage(ot=getApp(),rt){ot=getModularInstance(ot);const lt=_getProvider(ot,STORAGE_TYPE).getImmediate({identifier:rt}),ct=getDefaultEmulatorHostnameAndPort("storage");return ct&&connectStorageEmulator(lt,...ct),lt}function connectStorageEmulator(ot,rt,at,lt={}){connectStorageEmulator$1(ot,rt,at,lt)}function factory(ot,{instanceIdentifier:rt}){const at=ot.getProvider("app").getImmediate(),lt=ot.getProvider("auth-internal"),ct=ot.getProvider("app-check-internal");return new FirebaseStorageImpl(at,lt,ct,rt,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyAY2tlLj3wojDcXZaqfG2_o2GE9PMM5sNI",authDomain:"postgradsystem-e090a.firebaseapp.com",projectId:"postgradsystem-e090a",storageBucket:"postgradsystem-e090a.appspot.com",messagingSenderId:"961932972960",appId:"1:961932972960:web:346e3ad2481c0a4f5d8ac5",measurementId:"G-JKEYC42CPF"},app=initializeApp(firebaseConfig),auth=getAuth(),db$2=getFirestore(app),storage=getStorage(app),CLASS_PART_SEPARATOR="-";function createClassUtils(ot){const rt=createClassMap(ot),{conflictingClassGroups:at,conflictingClassGroupModifiers:lt}=ot;function ct(dt){const ht=dt.split(CLASS_PART_SEPARATOR);return ht[0]===""&&ht.length!==1&&ht.shift(),getGroupRecursive(ht,rt)||getGroupIdForArbitraryProperty(dt)}function ut(dt,ht){const ft=at[dt]||[];return ht&&lt[dt]?[...ft,...lt[dt]]:ft}return{getClassGroupId:ct,getConflictingClassGroupIds:ut}}function getGroupRecursive(ot,rt){var dt;if(ot.length===0)return rt.classGroupId;const at=ot[0],lt=rt.nextPart.get(at),ct=lt?getGroupRecursive(ot.slice(1),lt):void 0;if(ct)return ct;if(rt.validators.length===0)return;const ut=ot.join(CLASS_PART_SEPARATOR);return(dt=rt.validators.find(({validator:ht})=>ht(ut)))==null?void 0:dt.classGroupId}const arbitraryPropertyRegex=/^\[(.+)\]$/;function getGroupIdForArbitraryProperty(ot){if(arbitraryPropertyRegex.test(ot)){const rt=arbitraryPropertyRegex.exec(ot)[1],at=rt==null?void 0:rt.substring(0,rt.indexOf(":"));if(at)return"arbitrary.."+at}}function createClassMap(ot){const{theme:rt,prefix:at}=ot,lt={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(ot.classGroups),at).forEach(([ut,dt])=>{processClassesRecursively(dt,lt,ut,rt)}),lt}function processClassesRecursively(ot,rt,at,lt){ot.forEach(ct=>{if(typeof ct=="string"){const ut=ct===""?rt:getPart(rt,ct);ut.classGroupId=at;return}if(typeof ct=="function"){if(isThemeGetter(ct)){processClassesRecursively(ct(lt),rt,at,lt);return}rt.validators.push({validator:ct,classGroupId:at});return}Object.entries(ct).forEach(([ut,dt])=>{processClassesRecursively(dt,getPart(rt,ut),at,lt)})})}function getPart(ot,rt){let at=ot;return rt.split(CLASS_PART_SEPARATOR).forEach(lt=>{at.nextPart.has(lt)||at.nextPart.set(lt,{nextPart:new Map,validators:[]}),at=at.nextPart.get(lt)}),at}function isThemeGetter(ot){return ot.isThemeGetter}function getPrefixedClassGroupEntries(ot,rt){return rt?ot.map(([at,lt])=>{const ct=lt.map(ut=>typeof ut=="string"?rt+ut:typeof ut=="object"?Object.fromEntries(Object.entries(ut).map(([dt,ht])=>[rt+dt,ht])):ut);return[at,ct]}):ot}function createLruCache(ot){if(ot<1)return{get:()=>{},set:()=>{}};let rt=0,at=new Map,lt=new Map;function ct(ut,dt){at.set(ut,dt),rt++,rt>ot&&(rt=0,lt=at,at=new Map)}return{get(ut){let dt=at.get(ut);if(dt!==void 0)return dt;if((dt=lt.get(ut))!==void 0)return ct(ut,dt),dt},set(ut,dt){at.has(ut)?at.set(ut,dt):ct(ut,dt)}}}const IMPORTANT_MODIFIER="!";function createSplitModifiers(ot){const rt=ot.separator,at=rt.length===1,lt=rt[0],ct=rt.length;return function(dt){const ht=[];let ft=0,pt=0,mt;for(let Et=0;Et<dt.length;Et++){let Rt=dt[Et];if(ft===0){if(Rt===lt&&(at||dt.slice(Et,Et+ct)===rt)){ht.push(dt.slice(pt,Et)),pt=Et+ct;continue}if(Rt==="/"){mt=Et;continue}}Rt==="["?ft++:Rt==="]"&&ft--}const gt=ht.length===0?dt:dt.substring(pt),yt=gt.startsWith(IMPORTANT_MODIFIER),xt=yt?gt.substring(1):gt,bt=mt&&mt>pt?mt-pt:void 0;return{modifiers:ht,hasImportantModifier:yt,baseClassName:xt,maybePostfixModifierPosition:bt}}}function sortModifiers(ot){if(ot.length<=1)return ot;const rt=[];let at=[];return ot.forEach(lt=>{lt[0]==="["?(rt.push(...at.sort(),lt),at=[]):at.push(lt)}),rt.push(...at.sort()),rt}function createConfigUtils(ot){return{cache:createLruCache(ot.cacheSize),splitModifiers:createSplitModifiers(ot),...createClassUtils(ot)}}const SPLIT_CLASSES_REGEX=/\s+/;function mergeClassList(ot,rt){const{splitModifiers:at,getClassGroupId:lt,getConflictingClassGroupIds:ct}=rt,ut=new Set;return ot.trim().split(SPLIT_CLASSES_REGEX).map(dt=>{const{modifiers:ht,hasImportantModifier:ft,baseClassName:pt,maybePostfixModifierPosition:mt}=at(dt);let gt=lt(mt?pt.substring(0,mt):pt),yt=!!mt;if(!gt){if(!mt)return{isTailwindClass:!1,originalClassName:dt};if(gt=lt(pt),!gt)return{isTailwindClass:!1,originalClassName:dt};yt=!1}const xt=sortModifiers(ht).join(":");return{isTailwindClass:!0,modifierId:ft?xt+IMPORTANT_MODIFIER:xt,classGroupId:gt,originalClassName:dt,hasPostfixModifier:yt}}).reverse().filter(dt=>{if(!dt.isTailwindClass)return!0;const{modifierId:ht,classGroupId:ft,hasPostfixModifier:pt}=dt,mt=ht+ft;return ut.has(mt)?!1:(ut.add(mt),ct(ft,pt).forEach(gt=>ut.add(ht+gt)),!0)}).reverse().map(dt=>dt.originalClassName).join(" ")}function twJoin(){let ot=0,rt,at,lt="";for(;ot<arguments.length;)(rt=arguments[ot++])&&(at=toValue(rt))&&(lt&&(lt+=" "),lt+=at);return lt}function toValue(ot){if(typeof ot=="string")return ot;let rt,at="";for(let lt=0;lt<ot.length;lt++)ot[lt]&&(rt=toValue(ot[lt]))&&(at&&(at+=" "),at+=rt);return at}function createTailwindMerge(ot,...rt){let at,lt,ct,ut=dt;function dt(ft){const pt=rt.reduce((mt,gt)=>gt(mt),ot());return at=createConfigUtils(pt),lt=at.cache.get,ct=at.cache.set,ut=ht,ht(ft)}function ht(ft){const pt=lt(ft);if(pt)return pt;const mt=mergeClassList(ft,at);return ct(ft,mt),mt}return function(){return ut(twJoin.apply(null,arguments))}}function fromTheme(ot){const rt=at=>at[ot]||[];return rt.isThemeGetter=!0,rt}const arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function isLength(ot){return isNumber(ot)||stringLengths.has(ot)||fractionRegex.test(ot)}function isArbitraryLength(ot){return getIsArbitraryValue(ot,"length",isLengthOnly)}function isNumber(ot){return!!ot&&!Number.isNaN(Number(ot))}function isArbitraryNumber(ot){return getIsArbitraryValue(ot,"number",isNumber)}function isInteger(ot){return!!ot&&Number.isInteger(Number(ot))}function isPercent(ot){return ot.endsWith("%")&&isNumber(ot.slice(0,-1))}function isArbitraryValue(ot){return arbitraryValueRegex.test(ot)}function isTshirtSize(ot){return tshirtUnitRegex.test(ot)}const sizeLabels=new Set(["length","size","percentage"]);function isArbitrarySize(ot){return getIsArbitraryValue(ot,sizeLabels,isNever)}function isArbitraryPosition(ot){return getIsArbitraryValue(ot,"position",isNever)}const imageLabels=new Set(["image","url"]);function isArbitraryImage(ot){return getIsArbitraryValue(ot,imageLabels,isImage)}function isArbitraryShadow(ot){return getIsArbitraryValue(ot,"",isShadow)}function isAny(){return!0}function getIsArbitraryValue(ot,rt,at){const lt=arbitraryValueRegex.exec(ot);return lt?lt[1]?typeof rt=="string"?lt[1]===rt:rt.has(lt[1]):at(lt[2]):!1}function isLengthOnly(ot){return lengthUnitRegex.test(ot)&&!colorFunctionRegex.test(ot)}function isNever(){return!1}function isShadow(ot){return shadowRegex.test(ot)}function isImage(ot){return imageRegex.test(ot)}function getDefaultConfig(){const ot=fromTheme("colors"),rt=fromTheme("spacing"),at=fromTheme("blur"),lt=fromTheme("brightness"),ct=fromTheme("borderColor"),ut=fromTheme("borderRadius"),dt=fromTheme("borderSpacing"),ht=fromTheme("borderWidth"),ft=fromTheme("contrast"),pt=fromTheme("grayscale"),mt=fromTheme("hueRotate"),gt=fromTheme("invert"),yt=fromTheme("gap"),xt=fromTheme("gradientColorStops"),bt=fromTheme("gradientColorStopPositions"),Et=fromTheme("inset"),Rt=fromTheme("margin"),wt=fromTheme("opacity"),_t=fromTheme("padding"),At=fromTheme("saturate"),kt=fromTheme("scale"),It=fromTheme("sepia"),Nt=fromTheme("skew"),Pt=fromTheme("space"),Tt=fromTheme("translate"),Ct=()=>["auto","contain","none"],Ot=()=>["auto","hidden","clip","visible","scroll"],Dt=()=>["auto",isArbitraryValue,rt],jt=()=>[isArbitraryValue,rt],Mt=()=>["",isLength,isArbitraryLength],zt=()=>["auto",isNumber,isArbitraryValue],Qt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],qt=()=>["solid","dashed","dotted","double","none"],Kt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],sn=()=>["start","end","center","between","around","evenly","stretch"],Gt=()=>["","0",isArbitraryValue],Wt=()=>["auto","avoid","all","avoid-page","page","left","right","column"],pn=()=>[isNumber,isArbitraryNumber],rn=()=>[isNumber,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:pn(),borderColor:[ot],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:jt(),borderWidth:Mt(),contrast:pn(),grayscale:Gt(),hueRotate:rn(),invert:Gt(),gap:jt(),gradientColorStops:[ot],gradientColorStopPositions:[isPercent,isArbitraryLength],inset:Dt(),margin:Dt(),opacity:pn(),padding:jt(),saturate:pn(),scale:pn(),sepia:Gt(),skew:rn(),space:jt(),translate:jt()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":Wt()}],"break-before":[{"break-before":Wt()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Qt(),isArbitraryValue]}],overflow:[{overflow:Ot()}],"overflow-x":[{"overflow-x":Ot()}],"overflow-y":[{"overflow-y":Ot()}],overscroll:[{overscroll:Ct()}],"overscroll-x":[{"overscroll-x":Ct()}],"overscroll-y":[{"overscroll-y":Ct()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[Et]}],"inset-x":[{"inset-x":[Et]}],"inset-y":[{"inset-y":[Et]}],start:[{start:[Et]}],end:[{end:[Et]}],top:[{top:[Et]}],right:[{right:[Et]}],bottom:[{bottom:[Et]}],left:[{left:[Et]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:Dt()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:Gt()}],shrink:[{shrink:Gt()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":zt()}],"col-end":[{"col-end":zt()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":zt()}],"row-end":[{"row-end":zt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[yt]}],"gap-x":[{"gap-x":[yt]}],"gap-y":[{"gap-y":[yt]}],"justify-content":[{justify:["normal",...sn()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...sn(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...sn(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_t]}],px:[{px:[_t]}],py:[{py:[_t]}],ps:[{ps:[_t]}],pe:[{pe:[_t]}],pt:[{pt:[_t]}],pr:[{pr:[_t]}],pb:[{pb:[_t]}],pl:[{pl:[_t]}],m:[{m:[Rt]}],mx:[{mx:[Rt]}],my:[{my:[Rt]}],ms:[{ms:[Rt]}],me:[{me:[Rt]}],mt:[{mt:[Rt]}],mr:[{mr:[Rt]}],mb:[{mb:[Rt]}],ml:[{ml:[Rt]}],"space-x":[{"space-x":[Pt]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Pt]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,rt]}],"min-w":[{"min-w":[isArbitraryValue,rt,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,rt,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,rt,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,rt,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,rt,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,rt,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[ot]}],"placeholder-opacity":[{"placeholder-opacity":[wt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[ot]}],"text-opacity":[{"text-opacity":[wt]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qt(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength,isArbitraryValue]}],"text-decoration-color":[{decoration:[ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:jt()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[wt]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Qt(),isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[ot]}],"gradient-from-pos":[{from:[bt]}],"gradient-via-pos":[{via:[bt]}],"gradient-to-pos":[{to:[bt]}],"gradient-from":[{from:[xt]}],"gradient-via":[{via:[xt]}],"gradient-to":[{to:[xt]}],rounded:[{rounded:[ut]}],"rounded-s":[{"rounded-s":[ut]}],"rounded-e":[{"rounded-e":[ut]}],"rounded-t":[{"rounded-t":[ut]}],"rounded-r":[{"rounded-r":[ut]}],"rounded-b":[{"rounded-b":[ut]}],"rounded-l":[{"rounded-l":[ut]}],"rounded-ss":[{"rounded-ss":[ut]}],"rounded-se":[{"rounded-se":[ut]}],"rounded-ee":[{"rounded-ee":[ut]}],"rounded-es":[{"rounded-es":[ut]}],"rounded-tl":[{"rounded-tl":[ut]}],"rounded-tr":[{"rounded-tr":[ut]}],"rounded-br":[{"rounded-br":[ut]}],"rounded-bl":[{"rounded-bl":[ut]}],"border-w":[{border:[ht]}],"border-w-x":[{"border-x":[ht]}],"border-w-y":[{"border-y":[ht]}],"border-w-s":[{"border-s":[ht]}],"border-w-e":[{"border-e":[ht]}],"border-w-t":[{"border-t":[ht]}],"border-w-r":[{"border-r":[ht]}],"border-w-b":[{"border-b":[ht]}],"border-w-l":[{"border-l":[ht]}],"border-opacity":[{"border-opacity":[wt]}],"border-style":[{border:[...qt(),"hidden"]}],"divide-x":[{"divide-x":[ht]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[ht]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[wt]}],"divide-style":[{divide:qt()}],"border-color":[{border:[ct]}],"border-color-x":[{"border-x":[ct]}],"border-color-y":[{"border-y":[ct]}],"border-color-t":[{"border-t":[ct]}],"border-color-r":[{"border-r":[ct]}],"border-color-b":[{"border-b":[ct]}],"border-color-l":[{"border-l":[ct]}],"divide-color":[{divide:[ct]}],"outline-style":[{outline:["",...qt()]}],"outline-offset":[{"outline-offset":[isLength,isArbitraryValue]}],"outline-w":[{outline:[isLength,isArbitraryLength]}],"outline-color":[{outline:[ot]}],"ring-w":[{ring:Mt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[ot]}],"ring-opacity":[{"ring-opacity":[wt]}],"ring-offset-w":[{"ring-offset":[isLength,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[ot]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[wt]}],"mix-blend":[{"mix-blend":[...Kt(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Kt()}],filter:[{filter:["","none"]}],blur:[{blur:[at]}],brightness:[{brightness:[lt]}],contrast:[{contrast:[ft]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[pt]}],"hue-rotate":[{"hue-rotate":[mt]}],invert:[{invert:[gt]}],saturate:[{saturate:[At]}],sepia:[{sepia:[It]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[at]}],"backdrop-brightness":[{"backdrop-brightness":[lt]}],"backdrop-contrast":[{"backdrop-contrast":[ft]}],"backdrop-grayscale":[{"backdrop-grayscale":[pt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[mt]}],"backdrop-invert":[{"backdrop-invert":[gt]}],"backdrop-opacity":[{"backdrop-opacity":[wt]}],"backdrop-saturate":[{"backdrop-saturate":[At]}],"backdrop-sepia":[{"backdrop-sepia":[It]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[dt]}],"border-spacing-x":[{"border-spacing-x":[dt]}],"border-spacing-y":[{"border-spacing-y":[dt]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:rn()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:rn()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[kt]}],"scale-x":[{"scale-x":[kt]}],"scale-y":[{"scale-y":[kt]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[Tt]}],"translate-y":[{"translate-y":[Tt]}],"skew-x":[{"skew-x":[Nt]}],"skew-y":[{"skew-y":[Nt]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",ot]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[ot]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":jt()}],"scroll-mx":[{"scroll-mx":jt()}],"scroll-my":[{"scroll-my":jt()}],"scroll-ms":[{"scroll-ms":jt()}],"scroll-me":[{"scroll-me":jt()}],"scroll-mt":[{"scroll-mt":jt()}],"scroll-mr":[{"scroll-mr":jt()}],"scroll-mb":[{"scroll-mb":jt()}],"scroll-ml":[{"scroll-ml":jt()}],"scroll-p":[{"scroll-p":jt()}],"scroll-px":[{"scroll-px":jt()}],"scroll-py":[{"scroll-py":jt()}],"scroll-ps":[{"scroll-ps":jt()}],"scroll-pe":[{"scroll-pe":jt()}],"scroll-pt":[{"scroll-pt":jt()}],"scroll-pr":[{"scroll-pr":jt()}],"scroll-pb":[{"scroll-pb":jt()}],"scroll-pl":[{"scroll-pl":jt()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[ot,"none"]}],"stroke-w":[{stroke:[isLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[ot,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const twMerge=createTailwindMerge(getDefaultConfig);function isObject$1(ot){return ot!==null&&typeof ot=="object"&&ot.constructor===Object}function cloneDeep(ot){if(!isObject$1(ot))return ot;const rt={};for(const at in ot)rt[at]=cloneDeep(ot[at]);return rt}function mergeDeep(ot,rt){if(isObject$1(rt)&&Object.keys(rt).length===0)return cloneDeep({...ot,...rt});const at={...ot,...rt};if(isObject$1(rt)&&isObject$1(ot))for(const lt in rt)isObject$1(rt[lt])&&lt in ot&&isObject$1(ot[lt])?at[lt]=mergeDeep(ot[lt],rt[lt]):at[lt]=isObject$1(rt[lt])?cloneDeep(rt[lt]):rt[lt];return at}function createTheme(ot){return ot}const accordionTheme={root:{base:"divide-y divide-gray-200 border-gray-200 dark:divide-gray-700 dark:border-gray-700",flush:{off:"rounded-lg border",on:"border-b"}},content:{base:"p-5 first:rounded-t-lg last:rounded-b-lg dark:bg-gray-900"},title:{arrow:{base:"h-6 w-6 shrink-0",open:{off:"",on:"rotate-180"}},base:"flex w-full items-center justify-between p-5 text-left font-medium text-gray-500 first:rounded-t-lg last:rounded-b-lg dark:text-gray-400",flush:{off:"hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:hover:bg-gray-800 dark:focus:ring-gray-800",on:"bg-transparent dark:bg-transparent"},heading:"",open:{off:"",on:"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white"}}},alertTheme={base:"flex flex-col gap-2 p-4 text-sm",borderAccent:"border-t-4",closeButton:{base:"-m-1.5 ml-auto inline-flex h-8 w-8 rounded-lg p-1.5 focus:ring-2",icon:"h-5 w-5",color:{info:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",gray:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",failure:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",success:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",warning:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",red:"bg-red-100 text-red-500 hover:bg-red-200 focus:ring-red-400 dark:bg-red-200 dark:text-red-600 dark:hover:bg-red-300",green:"bg-green-100 text-green-500 hover:bg-green-200 focus:ring-green-400 dark:bg-green-200 dark:text-green-600 dark:hover:bg-green-300",yellow:"bg-yellow-100 text-yellow-500 hover:bg-yellow-200 focus:ring-yellow-400 dark:bg-yellow-200 dark:text-yellow-600 dark:hover:bg-yellow-300",blue:"bg-blue-100 text-blue-500 hover:bg-blue-200 focus:ring-blue-400 dark:bg-blue-200 dark:text-blue-600 dark:hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-500 hover:bg-cyan-200 focus:ring-cyan-400 dark:bg-cyan-200 dark:text-cyan-600 dark:hover:bg-cyan-300",pink:"bg-pink-100 text-pink-500 hover:bg-pink-200 focus:ring-pink-400 dark:bg-pink-200 dark:text-pink-600 dark:hover:bg-pink-300",lime:"bg-lime-100 text-lime-500 hover:bg-lime-200 focus:ring-lime-400 dark:bg-lime-200 dark:text-lime-600 dark:hover:bg-lime-300",dark:"bg-gray-100 text-gray-500 hover:bg-gray-200 focus:ring-gray-400 dark:bg-gray-200 dark:text-gray-600 dark:hover:bg-gray-300",indigo:"bg-indigo-100 text-indigo-500 hover:bg-indigo-200 focus:ring-indigo-400 dark:bg-indigo-200 dark:text-indigo-600 dark:hover:bg-indigo-300",purple:"bg-purple-100 text-purple-500 hover:bg-purple-200 focus:ring-purple-400 dark:bg-purple-200 dark:text-purple-600 dark:hover:bg-purple-300",teal:"bg-teal-100 text-teal-500 hover:bg-teal-200 focus:ring-teal-400 dark:bg-teal-200 dark:text-teal-600 dark:hover:bg-teal-300",light:"bg-gray-50 text-gray-500 hover:bg-gray-100 focus:ring-gray-200 dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-700 dark:hover:text-white"}},color:{info:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",gray:"border-gray-500 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300",failure:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",success:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",warning:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",red:"border-red-500 bg-red-100 text-red-700 dark:bg-red-200 dark:text-red-800",green:"border-green-500 bg-green-100 text-green-700 dark:bg-green-200 dark:text-green-800",yellow:"border-yellow-500 bg-yellow-100 text-yellow-700 dark:bg-yellow-200 dark:text-yellow-800",blue:"border-blue-500 bg-blue-100 text-blue-700 dark:bg-blue-200 dark:text-blue-800",cyan:"border-cyan-500 bg-cyan-100 text-cyan-700 dark:bg-cyan-200 dark:text-cyan-800",pink:"border-pink-500 bg-pink-100 text-pink-700 dark:bg-pink-200 dark:text-pink-800",lime:"border-lime-500 bg-lime-100 text-lime-700 dark:bg-lime-200 dark:text-lime-800",dark:"border-gray-600 bg-gray-800 text-gray-200 dark:bg-gray-900 dark:text-gray-300",indigo:"border-indigo-500 bg-indigo-100 text-indigo-700 dark:bg-indigo-200 dark:text-indigo-800",purple:"border-purple-500 bg-purple-100 text-purple-700 dark:bg-purple-200 dark:text-purple-800",teal:"border-teal-500 bg-teal-100 text-teal-700 dark:bg-teal-200 dark:text-teal-800",light:"border-gray-400 bg-gray-50 text-gray-600 dark:bg-gray-500 dark:text-gray-200"},icon:"mr-3 inline h-5 w-5 flex-shrink-0",rounded:"rounded-lg",wrapper:"flex items-center"},avatarTheme={root:{base:"flex items-center justify-center space-x-4 rounded",bordered:"p-1 ring-2",rounded:"rounded-full",color:{dark:"ring-gray-800 dark:ring-gray-800",failure:"ring-red-500 dark:ring-red-700",gray:"ring-gray-500 dark:ring-gray-400",info:"ring-cyan-400 dark:ring-cyan-800",light:"ring-gray-300 dark:ring-gray-500",purple:"ring-purple-500 dark:ring-purple-600",success:"ring-green-500 dark:ring-green-500",warning:"ring-yellow-300 dark:ring-yellow-500",pink:"ring-pink-500 dark:ring-pink-500"},img:{base:"rounded",off:"relative overflow-hidden bg-gray-100 dark:bg-gray-600",on:"",placeholder:"absolute -bottom-1 h-auto w-auto text-gray-400"},size:{xs:"h-6 w-6",sm:"h-8 w-8",md:"h-10 w-10",lg:"h-20 w-20",xl:"h-36 w-36"},stacked:"ring-2 ring-gray-300 dark:ring-gray-500",statusPosition:{"bottom-left":"-bottom-1 -left-1","bottom-center":"-bottom-1","bottom-right":"-bottom-1 -right-1","top-left":"-left-1 -top-1","top-center":"-top-1","top-right":"-right-1 -top-1","center-right":"-right-1",center:"","center-left":"-left-1"},status:{away:"bg-yellow-400",base:"absolute h-3.5 w-3.5 rounded-full border-2 border-white dark:border-gray-800",busy:"bg-red-400",offline:"bg-gray-400",online:"bg-green-400"},initials:{text:"font-medium text-gray-600 dark:text-gray-300",base:"relative inline-flex items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-600"}},group:{base:"flex -space-x-4"},groupCounter:{base:"relative flex h-10 w-10 items-center justify-center rounded-full bg-gray-700 text-xs font-medium text-white ring-2 ring-gray-300 hover:bg-gray-600 dark:ring-gray-500"}},badgeTheme={root:{base:"flex h-fit items-center gap-1 font-semibold",color:{info:"bg-cyan-100 text-cyan-800 group-hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-800 dark:group-hover:bg-cyan-300",gray:"bg-gray-100 text-gray-800 group-hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:group-hover:bg-gray-600",failure:"bg-red-100 text-red-800 group-hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:group-hover:bg-red-300",success:"bg-green-100 text-green-800 group-hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:group-hover:bg-green-300",warning:"bg-yellow-100 text-yellow-800 group-hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:group-hover:bg-yellow-300",indigo:"bg-indigo-100 text-indigo-800 group-hover:bg-indigo-200 dark:bg-indigo-200 dark:text-indigo-900 dark:group-hover:bg-indigo-300",purple:"bg-purple-100 text-purple-800 group-hover:bg-purple-200 dark:bg-purple-200 dark:text-purple-900 dark:group-hover:bg-purple-300",pink:"bg-pink-100 text-pink-800 group-hover:bg-pink-200 dark:bg-pink-200 dark:text-pink-900 dark:group-hover:bg-pink-300",blue:"bg-blue-100 text-blue-800 group-hover:bg-blue-200 dark:bg-blue-200 dark:text-blue-900 dark:group-hover:bg-blue-300",cyan:"bg-cyan-100 text-cyan-800 group-hover:bg-cyan-200 dark:bg-cyan-200 dark:text-cyan-900 dark:group-hover:bg-cyan-300",dark:"bg-gray-600 text-gray-100 group-hover:bg-gray-500 dark:bg-gray-900 dark:text-gray-200 dark:group-hover:bg-gray-700",light:"bg-gray-200 text-gray-800 group-hover:bg-gray-300 dark:bg-gray-400 dark:text-gray-900 dark:group-hover:bg-gray-500",green:"bg-green-100 text-green-800 group-hover:bg-green-200 dark:bg-green-200 dark:text-green-900 dark:group-hover:bg-green-300",lime:"bg-lime-100 text-lime-800 group-hover:bg-lime-200 dark:bg-lime-200 dark:text-lime-900 dark:group-hover:bg-lime-300",red:"bg-red-100 text-red-800 group-hover:bg-red-200 dark:bg-red-200 dark:text-red-900 dark:group-hover:bg-red-300",teal:"bg-teal-100 text-teal-800 group-hover:bg-teal-200 dark:bg-teal-200 dark:text-teal-900 dark:group-hover:bg-teal-300",yellow:"bg-yellow-100 text-yellow-800 group-hover:bg-yellow-200 dark:bg-yellow-200 dark:text-yellow-900 dark:group-hover:bg-yellow-300"},href:"group",size:{xs:"p-1 text-xs",sm:"p-1.5 text-sm"}},icon:{off:"rounded px-2 py-0.5",on:"rounded-full p-1.5",size:{xs:"h-3 w-3",sm:"h-3.5 w-3.5"}}},blockquoteTheme={root:{base:"text-xl font-semibold italic text-gray-900 dark:text-white"}},breadcrumbTheme={root:{base:"",list:"flex items-center"},item:{base:"group flex items-center",chevron:"mx-1 h-4 w-4 text-gray-400 group-first:hidden md:mx-2",href:{off:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",on:"flex items-center text-sm font-medium text-gray-700 hover:text-gray-900 dark:text-gray-400 dark:hover:text-white"},icon:"mr-2 h-4 w-4"}},buttonTheme={base:"group relative flex items-stretch justify-center p-0.5 text-center font-medium transition-[color,background-color,border-color,text-decoration-color,fill,stroke,box-shadow] focus:z-10 focus:outline-none",fullSized:"w-full",color:{dark:"border border-transparent bg-gray-800 text-white focus:ring-4 focus:ring-gray-300 enabled:hover:bg-gray-900 dark:border-gray-700 dark:bg-gray-800 dark:focus:ring-gray-800 dark:enabled:hover:bg-gray-700",failure:"border border-transparent bg-red-700 text-white focus:ring-4 focus:ring-red-300 enabled:hover:bg-red-800 dark:bg-red-600 dark:focus:ring-red-900 dark:enabled:hover:bg-red-700",gray:":ring-cyan-700 border border-gray-200 bg-white text-gray-900 focus:text-cyan-700 focus:ring-4 enabled:hover:bg-gray-100 enabled:hover:text-cyan-700 dark:border-gray-600 dark:bg-transparent dark:text-gray-400 dark:enabled:hover:bg-gray-700 dark:enabled:hover:text-white",info:"border border-transparent bg-cyan-700 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-cyan-800 dark:bg-cyan-600 dark:focus:ring-cyan-800 dark:enabled:hover:bg-cyan-700",light:"border border-gray-300 bg-white text-gray-900 focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-600 dark:text-white dark:focus:ring-gray-700 dark:enabled:hover:border-gray-700 dark:enabled:hover:bg-gray-700",purple:"border border-transparent bg-purple-700 text-white focus:ring-4 focus:ring-purple-300 enabled:hover:bg-purple-800 dark:bg-purple-600 dark:focus:ring-purple-900 dark:enabled:hover:bg-purple-700",success:"border border-transparent bg-green-700 text-white focus:ring-4 focus:ring-green-300 enabled:hover:bg-green-800 dark:bg-green-600 dark:focus:ring-green-800 dark:enabled:hover:bg-green-700",warning:"border border-transparent bg-yellow-400 text-white focus:ring-4 focus:ring-yellow-300 enabled:hover:bg-yellow-500 dark:focus:ring-yellow-900",blue:"border border-transparent bg-blue-700 text-white focus:ring-4 focus:ring-blue-300 enabled:hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",cyan:"border border-cyan-300 bg-white text-cyan-900 focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-cyan-100 dark:border-cyan-600 dark:bg-cyan-600 dark:text-white dark:focus:ring-cyan-700 dark:enabled:hover:border-cyan-700 dark:enabled:hover:bg-cyan-700",green:"border border-green-300 bg-white text-green-900 focus:ring-4 focus:ring-green-300 enabled:hover:bg-green-100 dark:border-green-600 dark:bg-green-600 dark:text-white dark:focus:ring-green-700 dark:enabled:hover:border-green-700 dark:enabled:hover:bg-green-700",indigo:"border border-indigo-300 bg-white text-indigo-900 focus:ring-4 focus:ring-indigo-300 enabled:hover:bg-indigo-100 dark:border-indigo-600 dark:bg-indigo-600 dark:text-white dark:focus:ring-indigo-700 dark:enabled:hover:border-indigo-700 dark:enabled:hover:bg-indigo-700",lime:"border border-lime-300 bg-white text-lime-900 focus:ring-4 focus:ring-lime-300 enabled:hover:bg-lime-100 dark:border-lime-600 dark:bg-lime-600 dark:text-white dark:focus:ring-lime-700 dark:enabled:hover:border-lime-700 dark:enabled:hover:bg-lime-700",pink:"border border-pink-300 bg-white text-pink-900 focus:ring-4 focus:ring-pink-300 enabled:hover:bg-pink-100 dark:border-pink-600 dark:bg-pink-600 dark:text-white dark:focus:ring-pink-700 dark:enabled:hover:border-pink-700 dark:enabled:hover:bg-pink-700",red:"border border-red-300 bg-white text-red-900 focus:ring-4 focus:ring-red-300 enabled:hover:bg-red-100 dark:border-red-600 dark:bg-red-600 dark:text-white dark:focus:ring-red-700 dark:enabled:hover:border-red-700 dark:enabled:hover:bg-red-700",teal:"border border-teal-300 bg-white text-teal-900 focus:ring-4 focus:ring-teal-300 enabled:hover:bg-teal-100 dark:border-teal-600 dark:bg-teal-600 dark:text-white dark:focus:ring-teal-700 dark:enabled:hover:border-teal-700 dark:enabled:hover:bg-teal-700",yellow:"border border-yellow-300 bg-white text-yellow-900 focus:ring-4 focus:ring-yellow-300 enabled:hover:bg-yellow-100 dark:border-yellow-600 dark:bg-yellow-600 dark:text-white dark:focus:ring-yellow-700 dark:enabled:hover:border-yellow-700 dark:enabled:hover:bg-yellow-700"},disabled:"cursor-not-allowed opacity-50",isProcessing:"cursor-wait",spinnerSlot:"absolute top-0 flex h-full items-center",spinnerLeftPosition:{xs:"left-2",sm:"left-3",md:"left-4",lg:"left-5",xl:"left-6"},gradient:{cyan:"bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-br dark:focus:ring-cyan-800",failure:"bg-gradient-to-r from-red-400 via-red-500 to-red-600 text-white focus:ring-4 focus:ring-red-300 enabled:hover:bg-gradient-to-br dark:focus:ring-red-800",info:"bg-gradient-to-r from-cyan-500 via-cyan-600 to-cyan-700 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-br dark:focus:ring-cyan-800",lime:"bg-gradient-to-r from-lime-200 via-lime-400 to-lime-500 text-gray-900 focus:ring-4 focus:ring-lime-300 enabled:hover:bg-gradient-to-br dark:focus:ring-lime-800",pink:"bg-gradient-to-r from-pink-400 via-pink-500 to-pink-600 text-white focus:ring-4 focus:ring-pink-300 enabled:hover:bg-gradient-to-br dark:focus:ring-pink-800",purple:"bg-gradient-to-r from-purple-500 via-purple-600 to-purple-700 text-white focus:ring-4 focus:ring-purple-300 enabled:hover:bg-gradient-to-br dark:focus:ring-purple-800",success:"bg-gradient-to-r from-green-400 via-green-500 to-green-600 text-white focus:ring-4 focus:ring-green-300 enabled:hover:bg-gradient-to-br dark:focus:ring-green-800",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 text-white focus:ring-4 focus:ring-teal-300 enabled:hover:bg-gradient-to-br dark:focus:ring-teal-800"},gradientDuoTone:{cyanToBlue:"bg-gradient-to-r from-cyan-500 to-cyan-500 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-bl dark:focus:ring-cyan-800",greenToBlue:"bg-gradient-to-br from-green-400 to-cyan-600 text-white focus:ring-4 focus:ring-green-200 enabled:hover:bg-gradient-to-bl dark:focus:ring-green-800",pinkToOrange:"bg-gradient-to-br from-pink-500 to-orange-400 text-white focus:ring-4 focus:ring-pink-200 enabled:hover:bg-gradient-to-bl dark:focus:ring-pink-800",purpleToBlue:"bg-gradient-to-br from-purple-600 to-cyan-500 text-white focus:ring-4 focus:ring-cyan-300 enabled:hover:bg-gradient-to-bl dark:focus:ring-cyan-800",purpleToPink:"bg-gradient-to-r from-purple-500 to-pink-500 text-white focus:ring-4 focus:ring-purple-200 enabled:hover:bg-gradient-to-l dark:focus:ring-purple-800",redToYellow:"bg-gradient-to-r from-red-200 via-red-300 to-yellow-200 text-gray-900 focus:ring-4 focus:ring-red-100 enabled:hover:bg-gradient-to-bl dark:focus:ring-red-400",tealToLime:"bg-gradient-to-r from-teal-200 to-lime-200 text-gray-900 focus:ring-4 focus:ring-lime-200 enabled:hover:bg-gradient-to-l enabled:hover:from-teal-200 enabled:hover:to-lime-200 enabled:hover:text-gray-900 dark:focus:ring-teal-700"},inner:{base:"flex items-stretch transition-all duration-200",position:{none:"",start:"rounded-r-none",middle:"rounded-none",end:"rounded-l-none"},outline:"border border-transparent",isProcessingPadding:{xs:"pl-8",sm:"pl-10",md:"pl-12",lg:"pl-16",xl:"pl-20"}},label:"ml-2 inline-flex h-4 w-4 items-center justify-center rounded-full bg-cyan-200 text-xs font-semibold text-cyan-800",outline:{color:{gray:"border border-gray-900 dark:border-white",default:"border-0",light:""},off:"",on:"flex w-full justify-center bg-white text-gray-900 transition-all duration-75 ease-in group-enabled:group-hover:bg-opacity-0 group-enabled:group-hover:text-inherit dark:bg-gray-900 dark:text-white",pill:{off:"rounded-md",on:"rounded-full"}},pill:{off:"rounded-lg",on:"rounded-full"},size:{xs:"px-2 py-1 text-xs",sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-5 py-2.5 text-base",xl:"px-6 py-3 text-base"}},buttonGroupTheme={base:"inline-flex",position:{none:"",start:"rounded-r-none focus:ring-2",middle:"rounded-none border-l-0 pl-0 focus:ring-2",end:"rounded-l-none border-l-0 pl-0 focus:ring-2"}},cardTheme={root:{base:"flex rounded-lg border border-gray-200 bg-white shadow-md dark:border-gray-700 dark:bg-gray-800",children:"flex h-full flex-col justify-center gap-4 p-6",horizontal:{off:"flex-col",on:"flex-col md:max-w-xl md:flex-row"},href:"hover:bg-gray-100 dark:hover:bg-gray-700"},img:{base:"",horizontal:{off:"rounded-t-lg",on:"h-96 w-full rounded-t-lg object-cover md:h-auto md:w-48 md:rounded-none md:rounded-l-lg"}}},carouselTheme={root:{base:"relative h-full w-full",leftControl:"absolute left-0 top-0 flex h-full items-center justify-center px-4 focus:outline-none",rightControl:"absolute right-0 top-0 flex h-full items-center justify-center px-4 focus:outline-none"},indicators:{active:{off:"bg-white/50 hover:bg-white dark:bg-gray-800/50 dark:hover:bg-gray-800",on:"bg-white dark:bg-gray-800"},base:"h-3 w-3 rounded-full",wrapper:"absolute bottom-5 left-1/2 flex -translate-x-1/2 space-x-3"},item:{base:"absolute left-1/2 top-1/2 block w-full -translate-x-1/2 -translate-y-1/2",wrapper:{off:"w-full flex-shrink-0 transform cursor-default snap-center",on:"w-full flex-shrink-0 transform cursor-grab snap-center"}},control:{base:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70 sm:h-10 sm:w-10",icon:"h-5 w-5 text-white dark:text-gray-800 sm:h-6 sm:w-6"},scrollContainer:{base:"flex h-full snap-mandatory overflow-y-hidden overflow-x-scroll scroll-smooth rounded-lg",snap:"snap-x"}},checkboxTheme={root:{base:"h-4 w-4 rounded border border-gray-300 bg-gray-100 focus:ring-2 dark:border-gray-600 dark:bg-gray-700",color:{default:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-gray-800 dark:focus:ring-cyan-600",dark:"text-gray-800 focus:ring-gray-800 dark:ring-offset-gray-800 dark:focus:ring-gray-800",failure:"text-red-900 focus:ring-red-900 dark:ring-offset-red-900 dark:focus:ring-red-900",gray:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",info:"text-cyan-800 focus:ring-cyan-800 dark:ring-offset-gray-800 dark:focus:ring-cyan-800",light:"text-gray-900 focus:ring-gray-900 dark:ring-offset-gray-900 dark:focus:ring-gray-900",purple:"text-purple-600 focus:ring-purple-600 dark:ring-offset-purple-600 dark:focus:ring-purple-600",success:"text-green-800 focus:ring-green-800 dark:ring-offset-green-800 dark:focus:ring-green-800",warning:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400",blue:"text-blue-700 focus:ring-blue-600 dark:ring-offset-blue-700 dark:focus:ring-blue-700",cyan:"text-cyan-600 focus:ring-cyan-600 dark:ring-offset-cyan-600 dark:focus:ring-cyan-600",green:"text-green-600 focus:ring-green-600 dark:ring-offset-green-600 dark:focus:ring-green-600",indigo:"text-indigo-700 focus:ring-indigo-700 dark:ring-offset-indigo-700 dark:focus:ring-indigo-700",lime:"text-lime-700 focus:ring-lime-700 dark:ring-offset-lime-700 dark:focus:ring-lime-700",pink:"text-pink-600 focus:ring-pink-600 dark:ring-offset-pink-600 dark:focus:ring-pink-600",red:"text-red-600 focus:ring-red-600 dark:ring-offset-red-600 dark:focus:ring-red-600",teal:"text-teal-600 focus:ring-teal-600 dark:ring-offset-teal-600 dark:focus:ring-teal-600",yellow:"text-yellow-400 focus:ring-yellow-400 dark:ring-offset-yellow-400 dark:focus:ring-yellow-400"}}},clipboardTheme={button:{base:"inline-flex w-full items-center justify-center rounded-lg bg-blue-700 px-5 py-3 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",label:"text-center text-sm font-medium text-white sm:w-auto"},withIcon:{base:"absolute end-2 top-1/2 inline-flex -translate-y-1/2 items-center justify-center rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800",icon:{defaultIcon:"h-4 w-4",successIcon:"h-4 w-4 text-blue-700 dark:text-blue-500"}},withIconText:{base:"absolute end-2.5 top-1/2 inline-flex -translate-y-1/2 items-center justify-center rounded-lg border border-gray-200 bg-white px-2.5 py-2 text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",icon:{defaultIcon:"me-1.5 h-3 w-3",successIcon:"me-1.5 h-3 w-3 text-blue-700 dark:text-blue-500"},label:{base:"inline-flex items-center",defaultText:"text-xs font-semibold",successText:"text-xs font-semibold text-blue-700 dark:text-blue-500"}}},darkThemeToggleTheme={root:{base:"rounded-lg p-2.5 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-700",icon:"h-5 w-5"}},datePickerTheme={root:{base:"relative"},popup:{root:{base:"absolute top-10 z-50 block pt-2",inline:"relative top-0 z-auto",inner:"inline-block rounded-lg bg-white p-4 shadow-lg dark:bg-gray-700"},header:{base:"",title:"px-2 py-3 text-center font-semibold text-gray-900 dark:text-white",selectors:{base:"mb-2 flex justify-between",button:{base:"rounded-lg bg-white px-5 py-2.5 text-sm font-semibold text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",prev:"",next:"",view:""}}},view:{base:"p-1"},footer:{base:"mt-2 flex space-x-2",button:{base:"w-full rounded-lg px-5 py-2 text-center text-sm font-medium focus:ring-4 focus:ring-cyan-300",today:"bg-cyan-700 text-white hover:bg-cyan-800 dark:bg-cyan-600 dark:hover:bg-cyan-700",clear:"border border-gray-300 bg-white text-gray-900 hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}}},views:{days:{header:{base:"mb-1 grid grid-cols-7",title:"h-6 text-center text-sm font-medium leading-6 text-gray-500 dark:text-gray-400"},items:{base:"grid w-64 grid-cols-7",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},months:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},years:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}},decades:{items:{base:"grid w-64 grid-cols-4",item:{base:"block flex-1 cursor-pointer rounded-lg border-0 text-center text-sm font-semibold leading-9 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600",selected:"bg-cyan-700 text-white hover:bg-cyan-600",disabled:"text-gray-500"}}}}},drawerTheme={root:{base:"fixed z-40 overflow-y-auto bg-white p-4 transition-transform dark:bg-gray-800",backdrop:"fixed inset-0 z-30 bg-gray-900/50 dark:bg-gray-900/80",edge:"bottom-16",position:{top:{on:"left-0 right-0 top-0 w-full transform-none",off:"left-0 right-0 top-0 w-full -translate-y-full"},right:{on:"right-0 top-0 h-screen w-80 transform-none",off:"right-0 top-0 h-screen w-80 translate-x-full"},bottom:{on:"bottom-0 left-0 right-0 w-full transform-none",off:"bottom-0 left-0 right-0 w-full translate-y-full"},left:{on:"left-0 top-0 h-screen w-80 transform-none",off:"left-0 top-0 h-screen w-80 -translate-x-full"}}},header:{inner:{closeButton:"absolute end-2.5 top-2.5 flex h-8 w-8 items-center justify-center rounded-lg bg-transparent text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",closeIcon:"h-4 w-4",titleIcon:"me-2.5 h-4 w-4",titleText:"mb-4 inline-flex items-center text-base font-semibold text-gray-500 dark:text-gray-400"},collapsed:{on:"hidden",off:"block"}},items:{base:""}},dropdownTheme={arrowIcon:"ml-2 h-4 w-4",content:"py-1 focus:outline-none",floating:{animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"z-10 w-fit divide-y divide-gray-100 rounded shadow focus:outline-none",content:"py-1 text-sm text-gray-700 dark:text-gray-200",divider:"my-1 h-px bg-gray-100 dark:bg-gray-600",header:"block px-4 py-2 text-sm text-gray-700 dark:text-gray-200",hidden:"invisible opacity-0",item:{container:"",base:"flex w-full cursor-pointer items-center justify-start px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:bg-gray-600 dark:focus:text-white",icon:"mr-2 h-4 w-4"},style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},target:"w-fit"},inlineWrapper:"flex items-center"},fileInputTheme={root:{base:"flex"},field:{base:"relative w-full",input:{base:"block w-full overflow-hidden rounded-lg border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"sm:text-xs",md:"text-sm",lg:"sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},floatingLabelTheme={input:{default:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-gray-300 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:focus:border-blue-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none rounded-lg border border-gray-300 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500",md:"peer block w-full appearance-none border-0 border-b-2 border-gray-300 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-blue-600 focus:outline-none focus:ring-0 dark:border-gray-600 dark:text-white dark:focus:border-blue-500"}},success:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-green-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:bg-gray-700 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-green-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:bg-gray-700 dark:text-white dark:focus:border-green-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-green-600 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none rounded-lg border border-green-600 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-green-600 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500",md:"peer block w-full appearance-none border-0 border-b-2 border-green-600 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-green-600 focus:outline-none focus:ring-0 dark:border-green-500 dark:text-white dark:focus:border-green-500"}},error:{filled:{sm:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-red-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:bg-gray-700 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none rounded-t-lg border-0 border-b-2 border-red-600 bg-gray-50 px-2.5 pb-2.5 pt-5 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:bg-gray-700 dark:text-white dark:focus:border-red-500"},outlined:{sm:"peer block w-full appearance-none rounded-lg border border-red-600 bg-transparent px-2.5 pb-2.5 pt-4 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none rounded-lg border border-red-600 bg-transparent px-2.5 pb-2.5 pt-4 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500"},standard:{sm:"peer block w-full appearance-none border-0 border-b-2 border-red-600 bg-transparent px-0 py-2.5 text-xs text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500",md:"peer block w-full appearance-none border-0 border-b-2 border-red-600 bg-transparent px-0 py-2.5 text-sm text-gray-900 focus:border-red-600 focus:outline-none focus:ring-0 dark:border-red-500 dark:text-white dark:focus:border-red-500"}}},label:{default:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 peer-focus:text-blue-600 dark:bg-gray-900 dark:text-gray-400 peer-focus:dark:text-blue-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-gray-500 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 dark:text-gray-400 peer-focus:dark:text-blue-500"}},success:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-green-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-green-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-green-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-green-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-green-500"}},error:{filled:{sm:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500",md:"absolute left-2.5 top-4 z-10 origin-[0] -translate-y-4 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-4 peer-focus:scale-75 dark:text-red-500"},outlined:{sm:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500",md:"absolute left-1 top-2 z-10 origin-[0] -translate-y-4 scale-75 bg-white px-2 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-gray-900 dark:text-red-500"},standard:{sm:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-xs text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-red-500",md:"absolute top-3 -z-10 origin-[0] -translate-y-6 scale-75 text-sm text-red-600 transition-transform duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-6 peer-focus:scale-75 dark:text-red-500"}}},helperText:{default:"mt-2 text-xs text-gray-600 dark:text-gray-400",success:"mt-2 text-xs text-green-600 dark:text-green-400",error:"mt-2 text-xs text-red-600 dark:text-red-400"}},footerTheme={root:{base:"w-full rounded-lg bg-white shadow dark:bg-gray-800 md:flex md:items-center md:justify-between",container:"w-full p-6",bgDark:"bg-gray-800"},groupLink:{base:"flex flex-wrap text-sm text-gray-500 dark:text-white",link:{base:"me-4 last:mr-0 md:mr-6",href:"hover:underline"},col:"flex-col space-y-4"},icon:{base:"text-gray-500 dark:hover:text-white",size:"h-5 w-5"},title:{base:"mb-6 text-sm font-semibold uppercase text-gray-500 dark:text-white"},divider:{base:"my-6 w-full border-gray-200 dark:border-gray-700 sm:mx-auto lg:my-8"},copyright:{base:"text-sm text-gray-500 dark:text-gray-400 sm:text-center",href:"ml-1 hover:underline",span:"ml-1"},brand:{base:"mb-4 flex items-center sm:mb-0",img:"mr-3 h-8",span:"self-center whitespace-nowrap text-2xl font-semibold text-gray-800 dark:text-white"}},helperTextTheme={root:{base:"mt-2 text-sm",colors:{gray:"text-gray-500 dark:text-gray-400",info:"text-cyan-700 dark:text-cyan-800",success:"text-green-600 dark:text-green-500",failure:"text-red-600 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600"}}},hrTheme={root:{base:"my-8 h-px border-0 bg-gray-200 dark:bg-gray-700"},trimmed:{base:"mx-auto my-4 h-1 w-48 rounded border-0 bg-gray-100 dark:bg-gray-700 md:my-10"},icon:{base:"inline-flex w-full items-center justify-center",hrLine:"my-8 h-1 w-64 rounded border-0 bg-gray-200 dark:bg-gray-700",icon:{base:"absolute left-1/2 -translate-x-1/2 bg-white px-4 dark:bg-gray-900",icon:"h-4 w-4 text-gray-700 dark:text-gray-300"}},text:{base:"inline-flex w-full items-center justify-center",hrLine:"my-8 h-px w-64 border-0 bg-gray-200 dark:bg-gray-700",text:"absolute left-1/2 -translate-x-1/2 bg-white px-3 font-medium text-gray-900 dark:bg-gray-900 dark:text-white"},square:{base:"mx-auto my-8 h-8 w-8 rounded border-0 bg-gray-200 dark:bg-gray-700 md:my-12"}},kbdTheme={root:{base:"rounded-lg border border-gray-200 bg-gray-100 px-2 py-1.5 text-xs font-semibold text-gray-800 dark:border-gray-500 dark:bg-gray-600 dark:text-gray-100",icon:"inline-block"}},labelTheme={root:{base:"text-sm font-medium",disabled:"opacity-50",colors:{default:"text-gray-900 dark:text-white",info:"text-cyan-500 dark:text-cyan-600",failure:"text-red-700 dark:text-red-500",warning:"text-yellow-500 dark:text-yellow-600",success:"text-green-700 dark:text-green-500"}}},listTheme={root:{base:"list-inside space-y-1 text-gray-500 dark:text-gray-400",ordered:{off:"list-disc",on:"list-decimal"},horizontal:"flex list-none flex-wrap items-center justify-center space-x-4 space-y-0",unstyled:"list-none",nested:"mt-2 ps-5"},item:{withIcon:{off:"",on:"flex items-center"},icon:"me-2 h-3.5 w-3.5 flex-shrink-0"}},listGroupTheme={root:{base:"list-none rounded-lg border border-gray-200 bg-white text-left text-sm font-medium text-gray-900 dark:border-gray-600 dark:bg-gray-700 dark:text-white"},item:{base:"[&>*]:first:rounded-t-lg [&>*]:last:rounded-b-lg [&>*]:last:border-b-0",link:{base:"flex w-full items-center border-b border-gray-200 px-4 py-2 dark:border-gray-600",active:{off:"hover:bg-gray-100 hover:text-cyan-700 focus:text-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-700 dark:border-gray-600 dark:hover:bg-gray-600 dark:hover:text-white dark:focus:text-white dark:focus:ring-gray-500",on:"bg-cyan-700 text-white dark:bg-gray-800"},disabled:{off:"",on:"cursor-not-allowed bg-gray-100 text-gray-900 hover:bg-gray-100 hover:text-gray-900 focus:text-gray-900"},href:{off:"",on:""},icon:"mr-2 h-4 w-4 fill-current"}}},navbarTheme={root:{base:"bg-white px-2 py-2.5 dark:border-gray-700 dark:bg-gray-800 sm:px-4",rounded:{on:"rounded",off:""},bordered:{on:"border",off:""},inner:{base:"mx-auto flex flex-wrap items-center justify-between",fluid:{on:"",off:"container"}}},brand:{base:"flex items-center"},collapse:{base:"w-full md:block md:w-auto",list:"mt-4 flex flex-col md:mt-0 md:flex-row md:space-x-8 md:text-sm md:font-medium",hidden:{on:"hidden",off:""}},link:{base:"block py-2 pl-3 pr-4 md:p-0",active:{on:"bg-cyan-700 text-white dark:text-white md:bg-transparent md:text-cyan-700",off:"border-b border-gray-100 text-gray-700 hover:bg-gray-50 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white md:border-0 md:hover:bg-transparent md:hover:text-cyan-700 md:dark:hover:bg-transparent md:dark:hover:text-white"},disabled:{on:"text-gray-400 hover:cursor-not-allowed dark:text-gray-600",off:""}},toggle:{base:"inline-flex items-center rounded-lg p-2 text-sm text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 md:hidden",icon:"h-6 w-6 shrink-0"}},megaMenuTheme={...navbarTheme,dropdown:{base:"",toggle:{...dropdownTheme,floating:{...dropdownTheme.floating,base:twMerge(dropdownTheme.floating.base,"mt-2 block"),content:twMerge(dropdownTheme.floating.content,"text-gray-500 dark:text-gray-400"),style:{...dropdownTheme.floating.style,auto:twMerge(dropdownTheme.floating.style.auto,"text-gray-500 dark:text-gray-400")}},inlineWrapper:twMerge(dropdownTheme.inlineWrapper,"flex w-full items-center justify-between")}},dropdownToggle:{base:twMerge(navbarTheme.link.base,navbarTheme.link.active.off,"flex w-full items-center justify-between")}},modalTheme={root:{base:"fixed inset-x-0 top-0 z-50 h-screen overflow-y-auto overflow-x-hidden md:inset-0 md:h-full",show:{on:"flex bg-gray-900 bg-opacity-50 dark:bg-opacity-80",off:"hidden"},sizes:{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl","4xl":"max-w-4xl","5xl":"max-w-5xl","6xl":"max-w-6xl","7xl":"max-w-7xl"},positions:{"top-left":"items-start justify-start","top-center":"items-start justify-center","top-right":"items-start justify-end","center-left":"items-center justify-start",center:"items-center justify-center","center-right":"items-center justify-end","bottom-right":"items-end justify-end","bottom-center":"items-end justify-center","bottom-left":"items-end justify-start"}},content:{base:"relative h-full w-full p-4 md:h-auto",inner:"relative flex max-h-[90dvh] flex-col rounded-lg bg-white shadow dark:bg-gray-700"},body:{base:"flex-1 overflow-auto p-6",popup:"pt-0"},header:{base:"flex items-start justify-between rounded-t border-b p-5 dark:border-gray-600",popup:"border-b-0 p-2",title:"text-xl font-medium text-gray-900 dark:text-white",close:{base:"ml-auto inline-flex items-center rounded-lg bg-transparent p-1.5 text-sm text-gray-400 hover:bg-gray-200 hover:text-gray-900 dark:hover:bg-gray-600 dark:hover:text-white",icon:"h-5 w-5"}},footer:{base:"flex items-center space-x-2 rounded-b border-gray-200 p-6 dark:border-gray-600",popup:"border-t"}},paginationTheme={base:"",layout:{table:{base:"text-sm text-gray-700 dark:text-gray-400",span:"font-semibold text-gray-900 dark:text-white"}},pages:{base:"xs:mt-0 mt-2 inline-flex items-center -space-x-px",showIcon:"inline-flex",previous:{base:"ml-0 rounded-l-lg border border-gray-300 bg-white px-3 py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},next:{base:"rounded-r-lg border border-gray-300 bg-white px-3 py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",icon:"h-5 w-5"},selector:{base:"w-12 border border-gray-300 bg-white py-2 leading-tight text-gray-500 enabled:hover:bg-gray-100 enabled:hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 enabled:dark:hover:bg-gray-700 enabled:dark:hover:text-white",active:"bg-cyan-50 text-cyan-600 hover:bg-cyan-100 hover:text-cyan-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white",disabled:"cursor-not-allowed opacity-50"}}},popoverTheme={base:"absolute z-20 inline-block w-max max-w-[100vw] bg-white outline-none border border-gray-200 rounded-lg shadow-sm dark:border-gray-600 dark:bg-gray-800",content:"z-10 overflow-hidden rounded-[7px]",arrow:{base:"absolute h-2 w-2 z-0 rotate-45 mix-blend-lighten bg-white border border-gray-200 dark:border-gray-600 dark:bg-gray-800 dark:mix-blend-color",placement:"-4px"}},progressTheme={base:"w-full overflow-hidden rounded-full bg-gray-200 dark:bg-gray-700",label:"mb-1 flex justify-between font-medium dark:text-white",bar:"space-x-2 rounded-full text-center font-medium leading-none text-cyan-300 dark:text-cyan-100",color:{dark:"bg-gray-600 dark:bg-gray-300",blue:"bg-blue-600",red:"bg-red-600 dark:bg-red-500",green:"bg-green-600 dark:bg-green-500",yellow:"bg-yellow-400",indigo:"bg-indigo-600 dark:bg-indigo-500",purple:"bg-purple-600 dark:bg-purple-500",cyan:"bg-cyan-600",gray:"bg-gray-500",lime:"bg-lime-600",pink:"bg-pink-500",teal:"bg-teal-600"},size:{sm:"h-1.5",md:"h-2.5",lg:"h-4",xl:"h-6"}},radioTheme={root:{base:"h-4 w-4 border border-gray-300 text-cyan-600 focus:ring-2 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:bg-cyan-600 dark:focus:ring-cyan-600"}},rangeSliderTheme={root:{base:"flex"},field:{base:"relative w-full",input:{base:"w-full cursor-pointer appearance-none rounded-lg bg-gray-200 dark:bg-gray-700",sizes:{sm:"h-1",md:"h-2",lg:"h-3"}}}},ratingTheme={root:{base:"flex items-center"},star:{empty:"text-gray-300 dark:text-gray-500",filled:"text-yellow-400",sizes:{sm:"h-5 w-5",md:"h-7 w-7",lg:"h-10 w-10"}}},ratingAdvancedTheme={base:"flex items-center",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500",progress:{base:"mx-4 h-5 w-2/4 rounded bg-gray-200 dark:bg-gray-700",fill:"h-5 rounded bg-yellow-400",label:"text-sm font-medium text-cyan-600 dark:text-cyan-500"}},selectTheme={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},select:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""},sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"}}}},sidebarTheme={root:{base:"h-full",collapsed:{on:"w-16",off:"w-64"},inner:"h-full overflow-y-auto overflow-x-hidden rounded bg-gray-50 px-3 py-4 dark:bg-gray-800"},collapse:{button:"group flex w-full items-center rounded-lg p-2 text-base font-normal text-gray-900 transition duration-75 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",icon:{base:"h-6 w-6 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",open:{off:"",on:"text-gray-900"}},label:{base:"ml-3 flex-1 whitespace-nowrap text-left",icon:{base:"h-6 w-6 transition delay-0 ease-in-out",open:{on:"rotate-180",off:""}}},list:"space-y-2 py-2"},cta:{base:"mt-6 rounded-lg bg-gray-100 p-4 dark:bg-gray-700",color:{blue:"bg-cyan-50 dark:bg-cyan-900",dark:"bg-dark-50 dark:bg-dark-900",failure:"bg-red-50 dark:bg-red-900",gray:"bg-alternative-50 dark:bg-alternative-900",green:"bg-green-50 dark:bg-green-900",light:"bg-light-50 dark:bg-light-900",red:"bg-red-50 dark:bg-red-900",purple:"bg-purple-50 dark:bg-purple-900",success:"bg-green-50 dark:bg-green-900",yellow:"bg-yellow-50 dark:bg-yellow-900",warning:"bg-yellow-50 dark:bg-yellow-900"}},item:{base:"flex items-center justify-center rounded-lg p-2 text-base font-normal text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700",active:"bg-gray-100 dark:bg-gray-700",collapsed:{insideCollapse:"group w-full pl-8 transition duration-75",noIcon:"font-bold"},content:{base:"flex-1 whitespace-nowrap px-3"},icon:{base:"h-6 w-6 flex-shrink-0 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white",active:"text-gray-700 dark:text-gray-100"},label:"",listItem:""},items:{base:""},itemGroup:{base:"mt-4 space-y-2 border-t border-gray-200 pt-4 first:mt-0 first:border-t-0 first:pt-0 dark:border-gray-700"},logo:{base:"mb-5 flex items-center pl-2.5",collapsed:{on:"hidden",off:"self-center whitespace-nowrap text-xl font-semibold dark:text-white"},img:"mr-3 h-6 sm:h-7"}},spinnerTheme={base:"inline animate-spin text-gray-200",color:{failure:"fill-red-600",gray:"fill-gray-600",info:"fill-cyan-600",pink:"fill-pink-600",purple:"fill-purple-600",success:"fill-green-500",warning:"fill-yellow-400"},light:{off:{base:"dark:text-gray-600",color:{failure:"",gray:"dark:fill-gray-300",info:"",pink:"",purple:"",success:"",warning:""}},on:{base:"",color:{failure:"",gray:"",info:"",pink:"",purple:"",success:"",warning:""}}},size:{xs:"h-3 w-3",sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-10 w-10"}},tableTheme={root:{base:"w-full text-left text-sm text-gray-500 dark:text-gray-400",shadow:"absolute left-0 top-0 -z-10 h-full w-full rounded-lg bg-white drop-shadow-md dark:bg-black",wrapper:"relative"},body:{base:"group/body",cell:{base:"px-6 py-4 group-first/body:group-first/row:first:rounded-tl-lg group-first/body:group-first/row:last:rounded-tr-lg group-last/body:group-last/row:first:rounded-bl-lg group-last/body:group-last/row:last:rounded-br-lg"}},head:{base:"group/head text-xs uppercase text-gray-700 dark:text-gray-400",cell:{base:"bg-gray-50 px-6 py-3 group-first/head:first:rounded-tl-lg group-first/head:last:rounded-tr-lg dark:bg-gray-700"}},row:{base:"group/row",hovered:"hover:bg-gray-50 dark:hover:bg-gray-600",striped:"odd:bg-white even:bg-gray-50 odd:dark:bg-gray-800 even:dark:bg-gray-700"}},tabTheme={base:"flex flex-col gap-2",tablist:{base:"flex text-center",variant:{default:"flex-wrap border-b border-gray-200 dark:border-gray-700",underline:"-mb-px flex-wrap border-b border-gray-200 dark:border-gray-700",pills:"flex-wrap space-x-2 text-sm font-medium text-gray-500 dark:text-gray-400",fullWidth:"grid w-full grid-flow-col divide-x divide-gray-200 rounded-none text-sm font-medium shadow dark:divide-gray-700 dark:text-gray-400"},tabitem:{base:"flex items-center justify-center rounded-t-lg p-4 text-sm font-medium first:ml-0 focus:outline-none focus:ring-4 focus:ring-cyan-300 disabled:cursor-not-allowed disabled:text-gray-400 disabled:dark:text-gray-500",variant:{default:{base:"rounded-t-lg",active:{on:"bg-gray-100 text-cyan-600 dark:bg-gray-800 dark:text-cyan-500",off:"text-gray-500 hover:bg-gray-50 hover:text-gray-600 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-300"}},underline:{base:"rounded-t-lg",active:{on:"active rounded-t-lg border-b-2 border-cyan-600 text-cyan-600 dark:border-cyan-500 dark:text-cyan-500",off:"border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-600 dark:text-gray-400 dark:hover:text-gray-300"}},pills:{base:"",active:{on:"rounded-lg bg-cyan-600 text-white",off:"rounded-lg hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-white"}},fullWidth:{base:"ml-0 flex w-full rounded-none first:ml-0",active:{on:"active rounded-none bg-gray-100 p-4 text-gray-900 dark:bg-gray-700 dark:text-white",off:"rounded-none bg-white hover:bg-gray-50 hover:text-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700 dark:hover:text-white"}}},icon:"mr-2 h-5 w-5"}},tabitemcontainer:{base:"",variant:{default:"",underline:"",pills:"",fullWidth:""}},tabpanel:"py-3"},textareaTheme={base:"block w-full rounded-lg border text-sm disabled:cursor-not-allowed disabled:opacity-50",colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}},textInputTheme={base:"flex",addon:"inline-flex items-center rounded-l-md border border-r-0 border-gray-300 bg-gray-200 px-3 text-sm text-gray-900 dark:border-gray-600 dark:bg-gray-600 dark:text-gray-400",field:{base:"relative w-full",icon:{base:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},rightIcon:{base:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",svg:"h-5 w-5 text-gray-500 dark:text-gray-400"},input:{base:"block w-full border disabled:cursor-not-allowed disabled:opacity-50",sizes:{sm:"p-2 sm:text-xs",md:"p-2.5 text-sm",lg:"p-4 sm:text-base"},colors:{gray:"border-gray-300 bg-gray-50 text-gray-900 focus:border-cyan-500 focus:ring-cyan-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",info:"border-cyan-500 bg-cyan-50 text-cyan-900 placeholder-cyan-700 focus:border-cyan-500 focus:ring-cyan-500 dark:border-cyan-400 dark:bg-cyan-100 dark:focus:border-cyan-500 dark:focus:ring-cyan-500",failure:"border-red-500 bg-red-50 text-red-900 placeholder-red-700 focus:border-red-500 focus:ring-red-500 dark:border-red-400 dark:bg-red-100 dark:focus:border-red-500 dark:focus:ring-red-500",warning:"border-yellow-500 bg-yellow-50 text-yellow-900 placeholder-yellow-700 focus:border-yellow-500 focus:ring-yellow-500 dark:border-yellow-400 dark:bg-yellow-100 dark:focus:border-yellow-500 dark:focus:ring-yellow-500",success:"border-green-500 bg-green-50 text-green-900 placeholder-green-700 focus:border-green-500 focus:ring-green-500 dark:border-green-400 dark:bg-green-100 dark:focus:border-green-500 dark:focus:ring-green-500"},withRightIcon:{on:"pr-10",off:""},withIcon:{on:"pl-10",off:""},withAddon:{on:"rounded-r-lg",off:"rounded-lg"},withShadow:{on:"shadow-sm dark:shadow-sm-light",off:""}}}},timelineTheme={root:{direction:{horizontal:"sm:flex",vertical:"relative border-l border-gray-200 dark:border-gray-700"}},item:{root:{horizontal:"relative mb-6 sm:mb-0",vertical:"mb-10 ml-6"},content:{root:{base:"",horizontal:"mt-3 sm:pr-8",vertical:""},body:{base:"mb-4 text-base font-normal text-gray-500 dark:text-gray-400"},time:{base:"mb-1 text-sm font-normal leading-none text-gray-400 dark:text-gray-500"},title:{base:"text-lg font-semibold text-gray-900 dark:text-white"}},point:{horizontal:"flex items-center",line:"hidden h-0.5 w-full bg-gray-200 dark:bg-gray-700 sm:flex",marker:{base:{horizontal:"absolute -left-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700",vertical:"absolute -left-1.5 mt-1.5 h-3 w-3 rounded-full border border-white bg-gray-200 dark:border-gray-900 dark:bg-gray-700"},icon:{base:"h-3 w-3 text-cyan-600 dark:text-cyan-300",wrapper:"absolute -left-3 flex h-6 w-6 items-center justify-center rounded-full bg-cyan-200 ring-8 ring-white dark:bg-cyan-900 dark:ring-gray-900"}},vertical:""}}},toastTheme={root:{base:"flex w-full max-w-xs items-center rounded-lg bg-white p-4 text-gray-500 shadow dark:bg-gray-800 dark:text-gray-400",closed:"opacity-0 ease-out"},toggle:{base:"-m-1.5 ml-auto inline-flex h-8 w-8 rounded-lg bg-white p-1.5 text-gray-400 hover:bg-gray-100 hover:text-gray-900 focus:ring-2 focus:ring-gray-300 dark:bg-gray-800 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-white",icon:"h-5 w-5 shrink-0"}},toggleSwitchTheme={root:{base:"group flex rounded-lg focus:outline-none",active:{on:"cursor-pointer",off:"cursor-not-allowed opacity-50"},label:"ms-3 mt-0.5 text-start text-sm font-medium text-gray-900 dark:text-gray-300"},toggle:{base:"relative rounded-full border after:absolute after:rounded-full after:bg-white after:transition-all group-focus:ring-4 group-focus:ring-cyan-500/25",checked:{on:"after:translate-x-full after:border-white rtl:after:-translate-x-full",off:"border-gray-200 bg-gray-200 dark:border-gray-600 dark:bg-gray-700",color:{blue:"border-cyan-700 bg-cyan-700",dark:"bg-dark-700 border-dark-900",failure:"border-red-900 bg-red-700",gray:"border-gray-600 bg-gray-500",green:"border-green-700 bg-green-600",light:"bg-light-700 border-light-900",red:"border-red-900 bg-red-700",purple:"border-purple-900 bg-purple-700",success:"border-green-500 bg-green-500",yellow:"border-yellow-400 bg-yellow-400",warning:"border-yellow-600 bg-yellow-600",cyan:"border-cyan-500 bg-cyan-500",lime:"border-lime-400 bg-lime-400",indigo:"border-indigo-400 bg-indigo-400",teal:"bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4",info:"border-cyan-600 bg-cyan-600",pink:"border-pink-600 bg-pink-600"}},sizes:{sm:"h-5 w-9 min-w-9 after:left-px after:top-px after:h-4 after:w-4 rtl:after:right-px",md:"h-6 w-11 min-w-11 after:left-px after:top-px after:h-5 after:w-5 rtl:after:right-px",lg:"h-7 w-14 min-w-14 after:left-1 after:top-0.5 after:h-6 after:w-6 rtl:after:right-1"}}},tooltipTheme={target:"w-fit",animation:"transition-opacity",arrow:{base:"absolute z-10 h-2 w-2 rotate-45",style:{dark:"bg-gray-900 dark:bg-gray-700",light:"bg-white",auto:"bg-white dark:bg-gray-700"},placement:"-4px"},base:"absolute z-10 inline-block rounded-lg px-3 py-2 text-sm font-medium shadow-sm",hidden:"invisible opacity-0",style:{dark:"bg-gray-900 text-white dark:bg-gray-700",light:"border border-gray-200 bg-white text-gray-900",auto:"border border-gray-200 bg-white text-gray-900 dark:border-none dark:bg-gray-700 dark:text-white"},content:"relative z-20"},theme={accordion:accordionTheme,alert:alertTheme,avatar:avatarTheme,badge:badgeTheme,blockquote:blockquoteTheme,breadcrumb:breadcrumbTheme,button:buttonTheme,buttonGroup:buttonGroupTheme,card:cardTheme,carousel:carouselTheme,checkbox:checkboxTheme,clipboard:clipboardTheme,datepicker:datePickerTheme,darkThemeToggle:darkThemeToggleTheme,drawer:drawerTheme,dropdown:dropdownTheme,fileInput:fileInputTheme,floatingLabel:floatingLabelTheme,footer:footerTheme,helperText:helperTextTheme,hr:hrTheme,kbd:kbdTheme,label:labelTheme,listGroup:listGroupTheme,list:listTheme,megaMenu:megaMenuTheme,modal:modalTheme,navbar:navbarTheme,pagination:paginationTheme,popover:popoverTheme,progress:progressTheme,radio:radioTheme,rangeSlider:rangeSliderTheme,rating:ratingTheme,ratingAdvanced:ratingAdvancedTheme,select:selectTheme,textInput:textInputTheme,textarea:textareaTheme,toggleSwitch:toggleSwitchTheme,sidebar:sidebarTheme,spinner:spinnerTheme,table:tableTheme,tabs:tabTheme,timeline:timelineTheme,toast:toastTheme,tooltip:tooltipTheme},store={theme:cloneDeep(theme)};function getTheme(){return cloneDeep(store.theme)}const AccordionPanelContext=reactExports.createContext(void 0);function useAccordionContext(){const ot=reactExports.useContext(AccordionPanelContext);if(!ot)throw new Error("useAccordionContext should be used within the AccordionPanelContext provider!");return ot}const AccordionContent=({children:ot,className:rt,theme:at={},...lt})=>{const{isOpen:ct}=useAccordionContext(),ut=mergeDeep(getTheme().accordion.content,at);return jsxRuntimeExports.jsx("div",{className:twMerge(ut.base,rt),"data-testid":"flowbite-accordion-content",hidden:!ct,...lt,children:ot})},AccordionPanel=({children:ot,...rt})=>{const{alwaysOpen:at}=rt,[lt,ct]=reactExports.useState(rt.isOpen),ut=at?{...rt,isOpen:lt,setOpen:()=>ct(!lt)}:rt;return jsxRuntimeExports.jsx(AccordionPanelContext.Provider,{value:ut,children:ot})},AccordionTitle=({as:ot="h2",children:rt,className:at,theme:lt={},...ct})=>{const{arrowIcon:ut,flush:dt,isOpen:ht,setOpen:ft}=useAccordionContext(),pt=()=>typeof ft<"u"&&ft(),mt=mergeDeep(getTheme().accordion.title,lt);return jsxRuntimeExports.jsxs("button",{className:twMerge(mt.base,mt.flush[dt?"on":"off"],mt.open[ht?"on":"off"],at),onClick:pt,type:"button",...ct,children:[jsxRuntimeExports.jsx(ot,{className:mt.heading,"data-testid":"flowbite-accordion-heading",children:rt}),ut&&jsxRuntimeExports.jsx(ut,{"aria-hidden":!0,className:twMerge(mt.arrow.base,mt.arrow.open[ht?"on":"off"]),"data-testid":"flowbite-accordion-arrow"})]})},AccordionComponent=({alwaysOpen:ot=!1,arrowIcon:rt=HiChevronDown,children:at,flush:lt=!1,collapseAll:ct=!1,className:ut,theme:dt={},...ht})=>{const[ft,pt]=reactExports.useState(ct?-1:0),mt=reactExports.useMemo(()=>reactExports.Children.map(at,(yt,xt)=>reactExports.cloneElement(yt,{alwaysOpen:ot,arrowIcon:rt,flush:lt,isOpen:ft===xt,setOpen:()=>pt(ft===xt?-1:xt)})),[ot,rt,at,lt,ft]),gt=mergeDeep(getTheme().accordion.root,dt);return jsxRuntimeExports.jsx("div",{className:twMerge(gt.base,gt.flush[lt?"on":"off"],ut),"data-testid":"flowbite-accordion",...ht,children:mt})};AccordionComponent.displayName="Accordion";AccordionPanel.displayName="Accordion.Panel";AccordionTitle.displayName="Accordion.Title";AccordionContent.displayName="Accordion.Content";Object.assign(AccordionComponent,{Panel:AccordionPanel,Title:AccordionTitle,Content:AccordionContent});const AvatarGroup=({children:ot,className:rt,theme:at={},...lt})=>{const ct=mergeDeep(getTheme().avatar.group,at);return jsxRuntimeExports.jsx("div",{"data-testid":"avatar-group-element",className:twMerge(ct.base,rt),...lt,children:ot})};AvatarGroup.displayName="Avatar.Group";const AvatarGroupCounter=({className:ot,href:rt,theme:at={},total:lt,...ct})=>{const ut=mergeDeep(getTheme().avatar.groupCounter,at);return jsxRuntimeExports.jsxs("a",{href:rt,className:twMerge(ut.base,ot),...ct,children:["+",lt]})};AvatarGroupCounter.displayName="Avatar.GroupCounter";const AvatarComponent=({alt:ot="",bordered:rt=!1,children:at,className:lt,color:ct="light",img:ut,placeholderInitials:dt="",rounded:ht=!1,size:ft="md",stacked:pt=!1,status:mt,statusPosition:gt="top-left",theme:yt={},...xt})=>{const bt=mergeDeep(getTheme().avatar,yt),Et=twMerge(bt.root.img.base,rt&&bt.root.bordered,rt&&bt.root.color[ct],ht&&bt.root.rounded,pt&&bt.root.stacked,bt.root.img.on,bt.root.size[ft]),Rt={className:twMerge(Et,bt.root.img.on),"data-testid":"flowbite-avatar-img"};return jsxRuntimeExports.jsxs("div",{className:twMerge(bt.root.base,lt),"data-testid":"flowbite-avatar",...xt,children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[ut?typeof ut=="string"?jsxRuntimeExports.jsx("img",{alt:ot,src:ut,...Rt}):ut({alt:ot,...Rt}):dt?jsxRuntimeExports.jsx("div",{className:twMerge(bt.root.img.off,bt.root.initials.base,pt&&bt.root.stacked,rt&&bt.root.bordered,rt&&bt.root.color[ct],bt.root.size[ft],ht&&bt.root.rounded),"data-testid":"flowbite-avatar-initials-placeholder",children:jsxRuntimeExports.jsx("span",{className:twMerge(bt.root.initials.text),"data-testid":"flowbite-avatar-initials-placeholder-text",children:dt})}):jsxRuntimeExports.jsx("div",{className:twMerge(Et,bt.root.img.off),"data-testid":"flowbite-avatar-img",children:jsxRuntimeExports.jsx("svg",{className:bt.root.img.placeholder,fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),mt&&jsxRuntimeExports.jsx("span",{"data-testid":"flowbite-avatar-status",className:twMerge(bt.root.status.base,bt.root.status[mt],bt.root.statusPosition[gt])})]}),at&&jsxRuntimeExports.jsx("div",{children:at})]})};AvatarComponent.displayName="Avatar";Object.assign(AvatarComponent,{Group:AvatarGroup,Counter:AvatarGroupCounter});const Badge=({children:ot,color:rt="info",href:at,icon:lt,size:ct="xs",className:ut,theme:dt={},...ht})=>{const ft=mergeDeep(getTheme().badge,dt),pt=()=>jsxRuntimeExports.jsxs("span",{className:twMerge(ft.root.base,ft.root.color[rt],ft.root.size[ct],ft.icon[lt?"on":"off"],ut),"data-testid":"flowbite-badge",...ht,children:[lt&&jsxRuntimeExports.jsx(lt,{"aria-hidden":!0,className:ft.icon.size[ct],"data-testid":"flowbite-badge-icon"}),ot&&jsxRuntimeExports.jsx("span",{children:ot})]});return at?jsxRuntimeExports.jsx("a",{className:ft.root.href,href:at,children:jsxRuntimeExports.jsx(pt,{})}):jsxRuntimeExports.jsx(pt,{})};Badge.displayName="Badge";const Spinner=({className:ot,color:rt="info",light:at,size:lt="md",theme:ct={},...ut})=>{const dt=mergeDeep(getTheme().spinner,ct);return jsxRuntimeExports.jsx("span",{role:"status",...ut,children:jsxRuntimeExports.jsxs("svg",{fill:"none",viewBox:"0 0 100 101",className:twMerge(dt.base,dt.color[rt],dt.light[at?"on":"off"].base,dt.light[at?"on":"off"].color[rt],dt.size[lt],ot),children:[jsxRuntimeExports.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),jsxRuntimeExports.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})})};Spinner.displayName="Spinner";const ButtonBase=reactExports.forwardRef(({children:ot,as:rt,href:at,type:lt="button",...ct},ut)=>{const dt=rt||(at?"a":"button");return reactExports.createElement(dt,{ref:ut,href:at,type:lt,...ct},ot)});ButtonBase.displayName="ButtonBaseComponent";const processChildren=(ot,rt,at)=>reactExports.Children.map(ot,(lt,ct)=>{if(reactExports.isValidElement(lt)){const ut=lt.type==Button?{positionInGroup:determinePosition(ct,reactExports.Children.count(ot))}:{};return lt.props.children?reactExports.cloneElement(lt,{...lt.props,children:processChildren(lt.props.children,rt,at),...ut}):reactExports.cloneElement(lt,{outline:rt,pill:at,...ut})}return lt}),determinePosition=(ot,rt)=>ot===0?"start":ot===rt-1?"end":"middle",ButtonGroup=({children:ot,className:rt,outline:at,pill:lt,theme:ct={},...ut})=>{const dt=reactExports.useMemo(()=>processChildren(ot,at,lt),[ot,at,lt]),ht=mergeDeep(getTheme().buttonGroup,ct);return jsxRuntimeExports.jsx("div",{className:twMerge(ht.base,rt),role:"group",...ut,children:dt})};ButtonGroup.displayName="Button.Group";const ButtonComponent=reactExports.forwardRef(({children:ot,className:rt,color:at="info",disabled:lt,fullSized:ct,isProcessing:ut=!1,processingLabel:dt="Loading...",processingSpinner:ht,gradientDuoTone:ft,gradientMonochrome:pt,label:mt,outline:gt=!1,pill:yt=!1,positionInGroup:xt="none",size:bt="md",theme:Et={},...Rt},wt)=>{const{buttonGroup:_t,button:At}=getTheme(),kt=mergeDeep(At,Et),It=Rt;return jsxRuntimeExports.jsx(ButtonBase,{ref:wt,disabled:lt,className:twMerge(kt.base,lt&&kt.disabled,!ft&&!pt&&kt.color[at],ft&&!pt&&kt.gradientDuoTone[ft],!ft&&pt&&kt.gradient[pt],gt&&(kt.outline.color[at]??kt.outline.color.default),kt.pill[yt?"on":"off"],ct&&kt.fullSized,_t.position[xt],rt),...It,children:jsxRuntimeExports.jsx("span",{className:twMerge(kt.inner.base,kt.outline[gt?"on":"off"],kt.outline.pill[gt&&yt?"on":"off"],kt.size[bt],gt&&!kt.outline.color[at]&&kt.inner.outline,ut&&kt.isProcessing,ut&&kt.inner.isProcessingPadding[bt],kt.inner.position[xt]),children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ut&&jsxRuntimeExports.jsx("span",{className:twMerge(kt.spinnerSlot,kt.spinnerLeftPosition[bt]),children:ht||jsxRuntimeExports.jsx(Spinner,{size:bt})}),typeof ot<"u"?ot:jsxRuntimeExports.jsx("span",{"data-testid":"flowbite-button-label",className:twMerge(kt.label),children:ut?dt:mt})]})})})});ButtonComponent.displayName="Button";const Button=Object.assign(ButtonComponent,{Group:ButtonGroup}),BannerCollapseButton=({children:ot,...rt})=>{const at=lt=>{const ut=lt.target.closest('[role="banner"]');ut==null||ut.remove()};return jsxRuntimeExports.jsx(Button,{onClick:at,...rt,children:ot})};BannerCollapseButton.displayName="Banner.CollapseButton";const BannerComponent=({children:ot,...rt})=>jsxRuntimeExports.jsx("div",{"data-testid":"flowbite-banner",role:"banner",tabIndex:-1,...rt,children:ot});BannerComponent.displayName="Banner";Object.assign(BannerComponent,{CollapseButton:BannerCollapseButton});const BreadcrumbItem=reactExports.forwardRef(({children:ot,className:rt,href:at,icon:lt,theme:ct={},...ut},dt)=>{const ht=typeof at<"u",ft=ht?"a":"span",pt=mergeDeep(getTheme().breadcrumb.item,ct);return jsxRuntimeExports.jsxs("li",{className:twMerge(pt.base,rt),...ut,children:[jsxRuntimeExports.jsx(HiOutlineChevronRight,{"aria-hidden":!0,className:pt.chevron,"data-testid":"flowbite-breadcrumb-separator"}),jsxRuntimeExports.jsxs(ft,{ref:dt,className:pt.href[ht?"on":"off"],"data-testid":"flowbite-breadcrumb-item",href:at,children:[lt&&jsxRuntimeExports.jsx(lt,{"aria-hidden":!0,className:pt.icon}),ot]})]})});BreadcrumbItem.displayName="Breadcrumb.Item";const BreadcrumbComponent=({children:ot,className:rt,theme:at={},...lt})=>{const ct=mergeDeep(getTheme().breadcrumb.root,at);return jsxRuntimeExports.jsx("nav",{"aria-label":"Breadcrumb",className:twMerge(ct.base,rt),...lt,children:jsxRuntimeExports.jsx("ol",{className:ct.list,children:ot})})};BreadcrumbComponent.displayName="Breadcrumb";Object.assign(BreadcrumbComponent,{Item:BreadcrumbItem});const omit=ot=>rt=>{const at={};for(const lt in rt)ot.includes(lt)||(at[lt]=rt[lt]);return at},Card$1=ot=>{const{children:rt,className:at,horizontal:lt,href:ct,theme:ut={}}=ot,dt=typeof ct>"u"?"div":"a",ht=removeCustomProps(ot),ft=mergeDeep(getTheme().card,ut);return jsxRuntimeExports.jsxs(dt,{"data-testid":"flowbite-card",href:ct,className:twMerge(ft.root.base,ft.root.horizontal[lt?"on":"off"],ct&&ft.root.href,at),...ht,children:[jsxRuntimeExports.jsx(Image$1,{...ot}),jsxRuntimeExports.jsx("div",{className:ft.root.children,children:rt})]})},Image$1=({theme:ot={},...rt})=>{const at=mergeDeep(getTheme().card,ot);return rt.renderImage?rt.renderImage(at,rt.horizontal??!1):rt.imgSrc?jsxRuntimeExports.jsx("img",{"data-testid":"flowbite-card-image",alt:rt.imgAlt??"",src:rt.imgSrc,className:twMerge(at.img.base,at.img.horizontal[rt.horizontal?"on":"off"])}):null},removeCustomProps=omit(["renderImage","imgSrc","imgAlt","children","className","horizontal","href","theme"]);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(ot){(function(){var rt={}.hasOwnProperty;function at(){for(var ut="",dt=0;dt<arguments.length;dt++){var ht=arguments[dt];ht&&(ut=ct(ut,lt(ht)))}return ut}function lt(ut){if(typeof ut=="string"||typeof ut=="number")return ut;if(typeof ut!="object")return"";if(Array.isArray(ut))return at.apply(null,ut);if(ut.toString!==Object.prototype.toString&&!ut.toString.toString().includes("[native code]"))return ut.toString();var dt="";for(var ht in ut)rt.call(ut,ht)&&ut[ht]&&(dt=ct(dt,ht));return dt}function ct(ut,dt){return dt?ut?ut+" "+dt:ut+dt:ut}ot.exports?(at.default=at,ot.exports=at):window.classNames=at})()})(classnames);var classnamesExports=classnames.exports;const classNames$1=getDefaultExportFromCjs(classnamesExports);var debounce$2={exports:{}};function debounce(ot,rt=100,at={}){if(typeof ot!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof ot}\`.`);if(rt<0)throw new RangeError("`wait` must not be negative.");const{immediate:lt}=typeof at=="boolean"?{immediate:at}:at;let ct,ut,dt,ht,ft;function pt(){const yt=ct,xt=ut;return ct=void 0,ut=void 0,ft=ot.apply(yt,xt),ft}function mt(){const yt=Date.now()-ht;yt<rt&&yt>=0?dt=setTimeout(mt,rt-yt):(dt=void 0,lt||(ft=pt()))}const gt=function(...yt){if(ct&&this!==ct)throw new Error("Debounced method called with different contexts.");ct=this,ut=yt,ht=Date.now();const xt=lt&&!dt;return dt||(dt=setTimeout(mt,rt)),xt&&(ft=pt()),ft};return gt.clear=()=>{dt&&(clearTimeout(dt),dt=void 0)},gt.flush=()=>{dt&&gt.trigger()},gt.trigger=()=>{ft=pt(),gt.clear()},gt}debounce$2.exports.debounce=debounce;debounce$2.exports=debounce;var debounceExports=debounce$2.exports;const debounce$1=getDefaultExportFromCjs(debounceExports);var __defProp=Object.defineProperty,__defNormalProp=(ot,rt,at)=>rt in ot?__defProp(ot,rt,{enumerable:!0,configurable:!0,writable:!0,value:at}):ot[rt]=at,__publicField=(ot,rt,at)=>__defNormalProp(ot,typeof rt!="symbol"?rt+"":rt,at);const SCROLL_END_DEBOUNCE=300,LEFT_BUTTON=0;class ScrollContainer extends reactExports.PureComponent{constructor(rt){super(rt),__publicField(this,"container"),__publicField(this,"scrolling"),__publicField(this,"started"),__publicField(this,"pressed"),__publicField(this,"isMobile",!1),__publicField(this,"internal"),__publicField(this,"scrollLeft"),__publicField(this,"scrollTop"),__publicField(this,"clientX"),__publicField(this,"clientY"),__publicField(this,"onEndScroll",()=>{this.scrolling=!1,!this.pressed&&this.started&&this.processEnd()}),__publicField(this,"onScroll",()=>{const at=this.container.current;(at.scrollLeft!==this.scrollLeft||at.scrollTop!==this.scrollTop)&&(this.scrolling=!0,this.processScroll(),this.onEndScroll())}),__publicField(this,"onTouchStart",at=>{const{nativeMobileScroll:lt}=this.props;if(this.isDraggable(at.target))if(this.internal=!0,lt&&this.scrolling)this.pressed=!0;else{const ct=at.touches[0];this.processClick(ct.clientX,ct.clientY),!lt&&this.props.stopPropagation&&at.stopPropagation()}}),__publicField(this,"onTouchEnd",()=>{const{nativeMobileScroll:at}=this.props;this.pressed&&(this.started&&(!this.scrolling||!at)?this.processEnd():this.pressed=!1,this.forceUpdate())}),__publicField(this,"onTouchMove",at=>{const{nativeMobileScroll:lt}=this.props;if(this.pressed&&(!lt||!this.isMobile)){const ct=at.touches[0];ct&&this.processMove(ct.clientX,ct.clientY),at.preventDefault(),this.props.stopPropagation&&at.stopPropagation()}}),__publicField(this,"onMouseDown",at=>{var lt,ct;this.isDraggable(at.target)&&this.isScrollable()&&(this.internal=!0,((ct=(lt=this.props)==null?void 0:lt.buttons)==null?void 0:ct.indexOf(at.button))!==-1&&(this.processClick(at.clientX,at.clientY),at.preventDefault(),this.props.stopPropagation&&at.stopPropagation()))}),__publicField(this,"onMouseMove",at=>{this.pressed&&(this.processMove(at.clientX,at.clientY),at.preventDefault(),this.props.stopPropagation&&at.stopPropagation())}),__publicField(this,"onMouseUp",at=>{this.pressed&&(this.started?this.processEnd():(this.internal=!1,this.pressed=!1,this.forceUpdate(),this.props.onClick&&this.props.onClick(at)),at.preventDefault(),this.props.stopPropagation&&at.stopPropagation())}),this.container=React.createRef(),this.onEndScroll=debounce$1(this.onEndScroll,SCROLL_END_DEBOUNCE),this.scrolling=!1,this.started=!1,this.pressed=!1,this.internal=!1,this.getRef=this.getRef.bind(this)}componentDidMount(){const{nativeMobileScroll:rt}=this.props,at=this.container.current;window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd),at.addEventListener("touchstart",this.onTouchStart,{passive:!1}),at.addEventListener("mousedown",this.onMouseDown,{passive:!1}),rt&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())}componentWillUnmount(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)}getElement(){return this.container.current}isMobileDevice(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1}isDraggable(rt){const at=this.props.ignoreElements;if(at){const lt=rt.closest(at);return lt===null||lt.contains(this.getElement())}else return!0}isScrollable(){const rt=this.container.current;return rt&&(rt.scrollWidth>rt.clientWidth||rt.scrollHeight>rt.clientHeight)}processClick(rt,at){const lt=this.container.current;this.scrollLeft=lt==null?void 0:lt.scrollLeft,this.scrollTop=lt==null?void 0:lt.scrollTop,this.clientX=rt,this.clientY=at,this.pressed=!0}processStart(rt=!0){const{onStartScroll:at}=this.props;this.started=!0,rt&&document.body.classList.add("cursor-grab"),at&&at({external:!this.internal}),this.forceUpdate()}processScroll(){if(this.started){const{onScroll:rt}=this.props;rt&&rt({external:!this.internal})}else this.processStart(!1)}processMove(rt,at){const{horizontal:lt,vertical:ct,activationDistance:ut,onScroll:dt}=this.props,ht=this.container.current;this.started?(lt&&(ht.scrollLeft-=rt-this.clientX),ct&&(ht.scrollTop-=at-this.clientY),dt&&dt({external:!this.internal}),this.clientX=rt,this.clientY=at,this.scrollLeft=ht.scrollLeft,this.scrollTop=ht.scrollTop):(lt&&Math.abs(rt-this.clientX)>ut||ct&&Math.abs(at-this.clientY)>ut)&&(this.clientX=rt,this.clientY=at,this.processStart())}processEnd(){const{onEndScroll:rt}=this.props;this.container.current&&rt&&rt({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove("cursor-grab"),this.forceUpdate()}getRef(rt){[this.container,this.props.innerRef].forEach(at=>{at&&(typeof at=="function"?at(rt):at.current=rt)})}render(){const{children:rt,draggingClassName:at,className:lt,style:ct,hideScrollbars:ut}=this.props;return jsxRuntimeExports.jsx("div",{className:classNames$1(lt,this.pressed&&at,{"!scroll-auto [&>*]:pointer-events-none [&>*]:cursor-grab":this.pressed,"overflow-auto":this.isMobile,"overflow-hidden !overflow-x-hidden [overflow:-moz-scrollbars-none] [scrollbar-width:none]":ut,"[&::-webkit-scrollbar]:[-webkit-appearance:none !important] [&::-webkit-scrollbar]:!hidden [&::-webkit-scrollbar]:!h-0 [&::-webkit-scrollbar]:!w-0 [&::-webkit-scrollbar]:!bg-transparent":ut}),style:ct,ref:this.getRef,onScroll:this.onScroll,children:rt})}}__publicField(ScrollContainer,"defaultProps",{nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},buttons:[LEFT_BUTTON]});const Checkbox=reactExports.forwardRef(({className:ot,color:rt="default",theme:at={},...lt},ct)=>{const ut=mergeDeep(getTheme().checkbox,at);return jsxRuntimeExports.jsx("input",{ref:ct,type:"checkbox",className:twMerge(ut.root.base,ut.root.color[rt],ot),...lt})});Checkbox.displayName="Checkbox";function getNodeName(ot){return isNode(ot)?(ot.nodeName||"").toLowerCase():"#document"}function getWindow(ot){var rt;return(ot==null||(rt=ot.ownerDocument)==null?void 0:rt.defaultView)||window}function getDocumentElement(ot){var rt;return(rt=(isNode(ot)?ot.ownerDocument:ot.document)||window.document)==null?void 0:rt.documentElement}function isNode(ot){return ot instanceof Node||ot instanceof getWindow(ot).Node}function isElement$1(ot){return ot instanceof Element||ot instanceof getWindow(ot).Element}function isHTMLElement(ot){return ot instanceof HTMLElement||ot instanceof getWindow(ot).HTMLElement}function isShadowRoot(ot){return typeof ShadowRoot>"u"?!1:ot instanceof ShadowRoot||ot instanceof getWindow(ot).ShadowRoot}function isOverflowElement(ot){const{overflow:rt,overflowX:at,overflowY:lt,display:ct}=getComputedStyle$2(ot);return/auto|scroll|overlay|hidden|clip/.test(rt+lt+at)&&!["inline","contents"].includes(ct)}function isTableElement(ot){return["table","td","th"].includes(getNodeName(ot))}function isTopLayer(ot){return[":popover-open",":modal"].some(rt=>{try{return ot.matches(rt)}catch{return!1}})}function isContainingBlock(ot){const rt=isWebKit(),at=getComputedStyle$2(ot);return at.transform!=="none"||at.perspective!=="none"||(at.containerType?at.containerType!=="normal":!1)||!rt&&(at.backdropFilter?at.backdropFilter!=="none":!1)||!rt&&(at.filter?at.filter!=="none":!1)||["transform","perspective","filter"].some(lt=>(at.willChange||"").includes(lt))||["paint","layout","strict","content"].some(lt=>(at.contain||"").includes(lt))}function getContainingBlock(ot){let rt=getParentNode(ot);for(;isHTMLElement(rt)&&!isLastTraversableNode(rt);){if(isTopLayer(rt))return null;if(isContainingBlock(rt))return rt;rt=getParentNode(rt)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(ot){return["html","body","#document"].includes(getNodeName(ot))}function getComputedStyle$2(ot){return getWindow(ot).getComputedStyle(ot)}function getNodeScroll(ot){return isElement$1(ot)?{scrollLeft:ot.scrollLeft,scrollTop:ot.scrollTop}:{scrollLeft:ot.scrollX,scrollTop:ot.scrollY}}function getParentNode(ot){if(getNodeName(ot)==="html")return ot;const rt=ot.assignedSlot||ot.parentNode||isShadowRoot(ot)&&ot.host||getDocumentElement(ot);return isShadowRoot(rt)?rt.host:rt}function getNearestOverflowAncestor(ot){const rt=getParentNode(ot);return isLastTraversableNode(rt)?ot.ownerDocument?ot.ownerDocument.body:ot.body:isHTMLElement(rt)&&isOverflowElement(rt)?rt:getNearestOverflowAncestor(rt)}function getOverflowAncestors(ot,rt,at){var lt;rt===void 0&&(rt=[]),at===void 0&&(at=!0);const ct=getNearestOverflowAncestor(ot),ut=ct===((lt=ot.ownerDocument)==null?void 0:lt.body),dt=getWindow(ct);return ut?rt.concat(dt,dt.visualViewport||[],isOverflowElement(ct)?ct:[],dt.frameElement&&at?getOverflowAncestors(dt.frameElement):[]):rt.concat(ct,getOverflowAncestors(ct,[],at))}function activeElement(ot){let rt=ot.activeElement;for(;((at=rt)==null||(at=at.shadowRoot)==null?void 0:at.activeElement)!=null;){var at;rt=rt.shadowRoot.activeElement}return rt}function contains(ot,rt){if(!ot||!rt)return!1;const at=rt.getRootNode==null?void 0:rt.getRootNode();if(ot.contains(rt))return!0;if(at&&isShadowRoot(at)){let lt=rt;for(;lt;){if(ot===lt)return!0;lt=lt.parentNode||lt.host}}return!1}function getPlatform(){const ot=navigator.userAgentData;return ot!=null&&ot.platform?ot.platform:navigator.platform}function getUserAgent(){const ot=navigator.userAgentData;return ot&&Array.isArray(ot.brands)?ot.brands.map(rt=>{let{brand:at,version:lt}=rt;return at+"/"+lt}).join(" "):navigator.userAgent}function isVirtualClick(ot){return ot.mozInputSource===0&&ot.isTrusted?!0:isAndroid()&&ot.pointerType?ot.type==="click"&&ot.buttons===1:ot.detail===0&&!ot.pointerType}function isVirtualPointerEvent(ot){return isJSDOM()?!1:!isAndroid()&&ot.width===0&&ot.height===0||isAndroid()&&ot.width===1&&ot.height===1&&ot.pressure===0&&ot.detail===0&&ot.pointerType==="mouse"||ot.width<1&&ot.height<1&&ot.pressure===0&&ot.detail===0&&ot.pointerType==="touch"}function isSafari(){return/apple/i.test(navigator.vendor)}function isAndroid(){const ot=/android/i;return ot.test(getPlatform())||ot.test(getUserAgent())}function isMac(){return getPlatform().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function isJSDOM(){return getUserAgent().includes("jsdom/")}function isMouseLikePointerType(ot,rt){const at=["mouse","pen"];return rt||at.push("",void 0),at.includes(ot)}function isReactEvent(ot){return"nativeEvent"in ot}function isRootElement(ot){return ot.matches("html,body")}function getDocument(ot){return(ot==null?void 0:ot.ownerDocument)||document}function isEventTargetWithin(ot,rt){if(rt==null)return!1;if("composedPath"in ot)return ot.composedPath().includes(rt);const at=ot;return at.target!=null&&rt.contains(at.target)}function getTarget$1(ot){return"composedPath"in ot?ot.composedPath()[0]:ot.target}const TYPEABLE_SELECTOR="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function isTypeableElement(ot){return isHTMLElement(ot)&&ot.matches(TYPEABLE_SELECTOR)}function stopEvent(ot){ot.preventDefault(),ot.stopPropagation()}function isTypeableCombobox(ot){return ot?ot.getAttribute("role")==="combobox"&&isTypeableElement(ot):!1}const sides=["top","right","bottom","left"],alignments=["start","end"],placements=sides.reduce((ot,rt)=>ot.concat(rt,rt+"-"+alignments[0],rt+"-"+alignments[1]),[]),min=Math.min,max=Math.max,round=Math.round,floor=Math.floor,createCoords=ot=>({x:ot,y:ot}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(ot,rt,at){return max(ot,min(rt,at))}function evaluate(ot,rt){return typeof ot=="function"?ot(rt):ot}function getSide(ot){return ot.split("-")[0]}function getAlignment(ot){return ot.split("-")[1]}function getOppositeAxis(ot){return ot==="x"?"y":"x"}function getAxisLength(ot){return ot==="y"?"height":"width"}function getSideAxis(ot){return["top","bottom"].includes(getSide(ot))?"y":"x"}function getAlignmentAxis(ot){return getOppositeAxis(getSideAxis(ot))}function getAlignmentSides(ot,rt,at){at===void 0&&(at=!1);const lt=getAlignment(ot),ct=getAlignmentAxis(ot),ut=getAxisLength(ct);let dt=ct==="x"?lt===(at?"end":"start")?"right":"left":lt==="start"?"bottom":"top";return rt.reference[ut]>rt.floating[ut]&&(dt=getOppositePlacement(dt)),[dt,getOppositePlacement(dt)]}function getExpandedPlacements(ot){const rt=getOppositePlacement(ot);return[getOppositeAlignmentPlacement(ot),rt,getOppositeAlignmentPlacement(rt)]}function getOppositeAlignmentPlacement(ot){return ot.replace(/start|end/g,rt=>oppositeAlignmentMap[rt])}function getSideList(ot,rt,at){const lt=["left","right"],ct=["right","left"],ut=["top","bottom"],dt=["bottom","top"];switch(ot){case"top":case"bottom":return at?rt?ct:lt:rt?lt:ct;case"left":case"right":return rt?ut:dt;default:return[]}}function getOppositeAxisPlacements(ot,rt,at,lt){const ct=getAlignment(ot);let ut=getSideList(getSide(ot),at==="start",lt);return ct&&(ut=ut.map(dt=>dt+"-"+ct),rt&&(ut=ut.concat(ut.map(getOppositeAlignmentPlacement)))),ut}function getOppositePlacement(ot){return ot.replace(/left|right|bottom|top/g,rt=>oppositeSideMap[rt])}function expandPaddingObject(ot){return{top:0,right:0,bottom:0,left:0,...ot}}function getPaddingObject(ot){return typeof ot!="number"?expandPaddingObject(ot):{top:ot,right:ot,bottom:ot,left:ot}}function rectToClientRect(ot){const{x:rt,y:at,width:lt,height:ct}=ot;return{width:lt,height:ct,top:at,left:rt,right:rt+lt,bottom:at+ct,x:rt,y:at}}function computeCoordsFromPlacement(ot,rt,at){let{reference:lt,floating:ct}=ot;const ut=getSideAxis(rt),dt=getAlignmentAxis(rt),ht=getAxisLength(dt),ft=getSide(rt),pt=ut==="y",mt=lt.x+lt.width/2-ct.width/2,gt=lt.y+lt.height/2-ct.height/2,yt=lt[ht]/2-ct[ht]/2;let xt;switch(ft){case"top":xt={x:mt,y:lt.y-ct.height};break;case"bottom":xt={x:mt,y:lt.y+lt.height};break;case"right":xt={x:lt.x+lt.width,y:gt};break;case"left":xt={x:lt.x-ct.width,y:gt};break;default:xt={x:lt.x,y:lt.y}}switch(getAlignment(rt)){case"start":xt[dt]-=yt*(at&&pt?-1:1);break;case"end":xt[dt]+=yt*(at&&pt?-1:1);break}return xt}const computePosition$1=async(ot,rt,at)=>{const{placement:lt="bottom",strategy:ct="absolute",middleware:ut=[],platform:dt}=at,ht=ut.filter(Boolean),ft=await(dt.isRTL==null?void 0:dt.isRTL(rt));let pt=await dt.getElementRects({reference:ot,floating:rt,strategy:ct}),{x:mt,y:gt}=computeCoordsFromPlacement(pt,lt,ft),yt=lt,xt={},bt=0;for(let Et=0;Et<ht.length;Et++){const{name:Rt,fn:wt}=ht[Et],{x:_t,y:At,data:kt,reset:It}=await wt({x:mt,y:gt,initialPlacement:lt,placement:yt,strategy:ct,middlewareData:xt,rects:pt,platform:dt,elements:{reference:ot,floating:rt}});mt=_t??mt,gt=At??gt,xt={...xt,[Rt]:{...xt[Rt],...kt}},It&&bt<=50&&(bt++,typeof It=="object"&&(It.placement&&(yt=It.placement),It.rects&&(pt=It.rects===!0?await dt.getElementRects({reference:ot,floating:rt,strategy:ct}):It.rects),{x:mt,y:gt}=computeCoordsFromPlacement(pt,yt,ft)),Et=-1)}return{x:mt,y:gt,placement:yt,strategy:ct,middlewareData:xt}};async function detectOverflow(ot,rt){var at;rt===void 0&&(rt={});const{x:lt,y:ct,platform:ut,rects:dt,elements:ht,strategy:ft}=ot,{boundary:pt="clippingAncestors",rootBoundary:mt="viewport",elementContext:gt="floating",altBoundary:yt=!1,padding:xt=0}=evaluate(rt,ot),bt=getPaddingObject(xt),Rt=ht[yt?gt==="floating"?"reference":"floating":gt],wt=rectToClientRect(await ut.getClippingRect({element:(at=await(ut.isElement==null?void 0:ut.isElement(Rt)))==null||at?Rt:Rt.contextElement||await(ut.getDocumentElement==null?void 0:ut.getDocumentElement(ht.floating)),boundary:pt,rootBoundary:mt,strategy:ft})),_t=gt==="floating"?{x:lt,y:ct,width:dt.floating.width,height:dt.floating.height}:dt.reference,At=await(ut.getOffsetParent==null?void 0:ut.getOffsetParent(ht.floating)),kt=await(ut.isElement==null?void 0:ut.isElement(At))?await(ut.getScale==null?void 0:ut.getScale(At))||{x:1,y:1}:{x:1,y:1},It=rectToClientRect(ut.convertOffsetParentRelativeRectToViewportRelativeRect?await ut.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ht,rect:_t,offsetParent:At,strategy:ft}):_t);return{top:(wt.top-It.top+bt.top)/kt.y,bottom:(It.bottom-wt.bottom+bt.bottom)/kt.y,left:(wt.left-It.left+bt.left)/kt.x,right:(It.right-wt.right+bt.right)/kt.x}}const arrow$3=ot=>({name:"arrow",options:ot,async fn(rt){const{x:at,y:lt,placement:ct,rects:ut,platform:dt,elements:ht,middlewareData:ft}=rt,{element:pt,padding:mt=0}=evaluate(ot,rt)||{};if(pt==null)return{};const gt=getPaddingObject(mt),yt={x:at,y:lt},xt=getAlignmentAxis(ct),bt=getAxisLength(xt),Et=await dt.getDimensions(pt),Rt=xt==="y",wt=Rt?"top":"left",_t=Rt?"bottom":"right",At=Rt?"clientHeight":"clientWidth",kt=ut.reference[bt]+ut.reference[xt]-yt[xt]-ut.floating[bt],It=yt[xt]-ut.reference[xt],Nt=await(dt.getOffsetParent==null?void 0:dt.getOffsetParent(pt));let Pt=Nt?Nt[At]:0;(!Pt||!await(dt.isElement==null?void 0:dt.isElement(Nt)))&&(Pt=ht.floating[At]||ut.floating[bt]);const Tt=kt/2-It/2,Ct=Pt/2-Et[bt]/2-1,Ot=min(gt[wt],Ct),Dt=min(gt[_t],Ct),jt=Ot,Mt=Pt-Et[bt]-Dt,zt=Pt/2-Et[bt]/2+Tt,Qt=clamp$1(jt,zt,Mt),qt=!ft.arrow&&getAlignment(ct)!=null&&zt!==Qt&&ut.reference[bt]/2-(zt<jt?Ot:Dt)-Et[bt]/2<0,Kt=qt?zt<jt?zt-jt:zt-Mt:0;return{[xt]:yt[xt]+Kt,data:{[xt]:Qt,centerOffset:zt-Qt-Kt,...qt&&{alignmentOffset:Kt}},reset:qt}}});function getPlacementList(ot,rt,at){return(ot?[...at.filter(ct=>getAlignment(ct)===ot),...at.filter(ct=>getAlignment(ct)!==ot)]:at.filter(ct=>getSide(ct)===ct)).filter(ct=>ot?getAlignment(ct)===ot||(rt?getOppositeAlignmentPlacement(ct)!==ct:!1):!0)}const autoPlacement$2=function(ot){return ot===void 0&&(ot={}),{name:"autoPlacement",options:ot,async fn(rt){var at,lt,ct;const{rects:ut,middlewareData:dt,placement:ht,platform:ft,elements:pt}=rt,{crossAxis:mt=!1,alignment:gt,allowedPlacements:yt=placements,autoAlignment:xt=!0,...bt}=evaluate(ot,rt),Et=gt!==void 0||yt===placements?getPlacementList(gt||null,xt,yt):yt,Rt=await detectOverflow(rt,bt),wt=((at=dt.autoPlacement)==null?void 0:at.index)||0,_t=Et[wt];if(_t==null)return{};const At=getAlignmentSides(_t,ut,await(ft.isRTL==null?void 0:ft.isRTL(pt.floating)));if(ht!==_t)return{reset:{placement:Et[0]}};const kt=[Rt[getSide(_t)],Rt[At[0]],Rt[At[1]]],It=[...((lt=dt.autoPlacement)==null?void 0:lt.overflows)||[],{placement:_t,overflows:kt}],Nt=Et[wt+1];if(Nt)return{data:{index:wt+1,overflows:It},reset:{placement:Nt}};const Pt=It.map(Ot=>{const Dt=getAlignment(Ot.placement);return[Ot.placement,Dt&&mt?Ot.overflows.slice(0,2).reduce((jt,Mt)=>jt+Mt,0):Ot.overflows[0],Ot.overflows]}).sort((Ot,Dt)=>Ot[1]-Dt[1]),Ct=((ct=Pt.filter(Ot=>Ot[2].slice(0,getAlignment(Ot[0])?2:3).every(Dt=>Dt<=0))[0])==null?void 0:ct[0])||Pt[0][0];return Ct!==ht?{data:{index:wt+1,overflows:It},reset:{placement:Ct}}:{}}}},flip$2=function(ot){return ot===void 0&&(ot={}),{name:"flip",options:ot,async fn(rt){var at,lt;const{placement:ct,middlewareData:ut,rects:dt,initialPlacement:ht,platform:ft,elements:pt}=rt,{mainAxis:mt=!0,crossAxis:gt=!0,fallbackPlacements:yt,fallbackStrategy:xt="bestFit",fallbackAxisSideDirection:bt="none",flipAlignment:Et=!0,...Rt}=evaluate(ot,rt);if((at=ut.arrow)!=null&&at.alignmentOffset)return{};const wt=getSide(ct),_t=getSide(ht)===ht,At=await(ft.isRTL==null?void 0:ft.isRTL(pt.floating)),kt=yt||(_t||!Et?[getOppositePlacement(ht)]:getExpandedPlacements(ht));!yt&&bt!=="none"&&kt.push(...getOppositeAxisPlacements(ht,Et,bt,At));const It=[ht,...kt],Nt=await detectOverflow(rt,Rt),Pt=[];let Tt=((lt=ut.flip)==null?void 0:lt.overflows)||[];if(mt&&Pt.push(Nt[wt]),gt){const jt=getAlignmentSides(ct,dt,At);Pt.push(Nt[jt[0]],Nt[jt[1]])}if(Tt=[...Tt,{placement:ct,overflows:Pt}],!Pt.every(jt=>jt<=0)){var Ct,Ot;const jt=(((Ct=ut.flip)==null?void 0:Ct.index)||0)+1,Mt=It[jt];if(Mt)return{data:{index:jt,overflows:Tt},reset:{placement:Mt}};let zt=(Ot=Tt.filter(Qt=>Qt.overflows[0]<=0).sort((Qt,qt)=>Qt.overflows[1]-qt.overflows[1])[0])==null?void 0:Ot.placement;if(!zt)switch(xt){case"bestFit":{var Dt;const Qt=(Dt=Tt.map(qt=>[qt.placement,qt.overflows.filter(Kt=>Kt>0).reduce((Kt,sn)=>Kt+sn,0)]).sort((qt,Kt)=>qt[1]-Kt[1])[0])==null?void 0:Dt[0];Qt&&(zt=Qt);break}case"initialPlacement":zt=ht;break}if(ct!==zt)return{reset:{placement:zt}}}return{}}}};async function convertValueToCoords(ot,rt){const{placement:at,platform:lt,elements:ct}=ot,ut=await(lt.isRTL==null?void 0:lt.isRTL(ct.floating)),dt=getSide(at),ht=getAlignment(at),ft=getSideAxis(at)==="y",pt=["left","top"].includes(dt)?-1:1,mt=ut&&ft?-1:1,gt=evaluate(rt,ot);let{mainAxis:yt,crossAxis:xt,alignmentAxis:bt}=typeof gt=="number"?{mainAxis:gt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...gt};return ht&&typeof bt=="number"&&(xt=ht==="end"?bt*-1:bt),ft?{x:xt*mt,y:yt*pt}:{x:yt*pt,y:xt*mt}}const offset$2=function(ot){return ot===void 0&&(ot=0),{name:"offset",options:ot,async fn(rt){var at,lt;const{x:ct,y:ut,placement:dt,middlewareData:ht}=rt,ft=await convertValueToCoords(rt,ot);return dt===((at=ht.offset)==null?void 0:at.placement)&&(lt=ht.arrow)!=null&&lt.alignmentOffset?{}:{x:ct+ft.x,y:ut+ft.y,data:{...ft,placement:dt}}}}},shift$2=function(ot){return ot===void 0&&(ot={}),{name:"shift",options:ot,async fn(rt){const{x:at,y:lt,placement:ct}=rt,{mainAxis:ut=!0,crossAxis:dt=!1,limiter:ht={fn:Rt=>{let{x:wt,y:_t}=Rt;return{x:wt,y:_t}}},...ft}=evaluate(ot,rt),pt={x:at,y:lt},mt=await detectOverflow(rt,ft),gt=getSideAxis(getSide(ct)),yt=getOppositeAxis(gt);let xt=pt[yt],bt=pt[gt];if(ut){const Rt=yt==="y"?"top":"left",wt=yt==="y"?"bottom":"right",_t=xt+mt[Rt],At=xt-mt[wt];xt=clamp$1(_t,xt,At)}if(dt){const Rt=gt==="y"?"top":"left",wt=gt==="y"?"bottom":"right",_t=bt+mt[Rt],At=bt-mt[wt];bt=clamp$1(_t,bt,At)}const Et=ht.fn({...rt,[yt]:xt,[gt]:bt});return{...Et,data:{x:Et.x-at,y:Et.y-lt}}}}};function getCssDimensions(ot){const rt=getComputedStyle$2(ot);let at=parseFloat(rt.width)||0,lt=parseFloat(rt.height)||0;const ct=isHTMLElement(ot),ut=ct?ot.offsetWidth:at,dt=ct?ot.offsetHeight:lt,ht=round(at)!==ut||round(lt)!==dt;return ht&&(at=ut,lt=dt),{width:at,height:lt,$:ht}}function unwrapElement(ot){return isElement$1(ot)?ot:ot.contextElement}function getScale(ot){const rt=unwrapElement(ot);if(!isHTMLElement(rt))return createCoords(1);const at=rt.getBoundingClientRect(),{width:lt,height:ct,$:ut}=getCssDimensions(rt);let dt=(ut?round(at.width):at.width)/lt,ht=(ut?round(at.height):at.height)/ct;return(!dt||!Number.isFinite(dt))&&(dt=1),(!ht||!Number.isFinite(ht))&&(ht=1),{x:dt,y:ht}}const noOffsets=createCoords(0);function getVisualOffsets(ot){const rt=getWindow(ot);return!isWebKit()||!rt.visualViewport?noOffsets:{x:rt.visualViewport.offsetLeft,y:rt.visualViewport.offsetTop}}function shouldAddVisualOffsets(ot,rt,at){return rt===void 0&&(rt=!1),!at||rt&&at!==getWindow(ot)?!1:rt}function getBoundingClientRect(ot,rt,at,lt){rt===void 0&&(rt=!1),at===void 0&&(at=!1);const ct=ot.getBoundingClientRect(),ut=unwrapElement(ot);let dt=createCoords(1);rt&&(lt?isElement$1(lt)&&(dt=getScale(lt)):dt=getScale(ot));const ht=shouldAddVisualOffsets(ut,at,lt)?getVisualOffsets(ut):createCoords(0);let ft=(ct.left+ht.x)/dt.x,pt=(ct.top+ht.y)/dt.y,mt=ct.width/dt.x,gt=ct.height/dt.y;if(ut){const yt=getWindow(ut),xt=lt&&isElement$1(lt)?getWindow(lt):lt;let bt=yt,Et=bt.frameElement;for(;Et&&lt&&xt!==bt;){const Rt=getScale(Et),wt=Et.getBoundingClientRect(),_t=getComputedStyle$2(Et),At=wt.left+(Et.clientLeft+parseFloat(_t.paddingLeft))*Rt.x,kt=wt.top+(Et.clientTop+parseFloat(_t.paddingTop))*Rt.y;ft*=Rt.x,pt*=Rt.y,mt*=Rt.x,gt*=Rt.y,ft+=At,pt+=kt,bt=getWindow(Et),Et=bt.frameElement}}return rectToClientRect({width:mt,height:gt,x:ft,y:pt})}function convertOffsetParentRelativeRectToViewportRelativeRect(ot){let{elements:rt,rect:at,offsetParent:lt,strategy:ct}=ot;const ut=ct==="fixed",dt=getDocumentElement(lt),ht=rt?isTopLayer(rt.floating):!1;if(lt===dt||ht&&ut)return at;let ft={scrollLeft:0,scrollTop:0},pt=createCoords(1);const mt=createCoords(0),gt=isHTMLElement(lt);if((gt||!gt&&!ut)&&((getNodeName(lt)!=="body"||isOverflowElement(dt))&&(ft=getNodeScroll(lt)),isHTMLElement(lt))){const yt=getBoundingClientRect(lt);pt=getScale(lt),mt.x=yt.x+lt.clientLeft,mt.y=yt.y+lt.clientTop}return{width:at.width*pt.x,height:at.height*pt.y,x:at.x*pt.x-ft.scrollLeft*pt.x+mt.x,y:at.y*pt.y-ft.scrollTop*pt.y+mt.y}}function getClientRects(ot){return Array.from(ot.getClientRects())}function getWindowScrollBarX(ot){return getBoundingClientRect(getDocumentElement(ot)).left+getNodeScroll(ot).scrollLeft}function getDocumentRect(ot){const rt=getDocumentElement(ot),at=getNodeScroll(ot),lt=ot.ownerDocument.body,ct=max(rt.scrollWidth,rt.clientWidth,lt.scrollWidth,lt.clientWidth),ut=max(rt.scrollHeight,rt.clientHeight,lt.scrollHeight,lt.clientHeight);let dt=-at.scrollLeft+getWindowScrollBarX(ot);const ht=-at.scrollTop;return getComputedStyle$2(lt).direction==="rtl"&&(dt+=max(rt.clientWidth,lt.clientWidth)-ct),{width:ct,height:ut,x:dt,y:ht}}function getViewportRect(ot,rt){const at=getWindow(ot),lt=getDocumentElement(ot),ct=at.visualViewport;let ut=lt.clientWidth,dt=lt.clientHeight,ht=0,ft=0;if(ct){ut=ct.width,dt=ct.height;const pt=isWebKit();(!pt||pt&&rt==="fixed")&&(ht=ct.offsetLeft,ft=ct.offsetTop)}return{width:ut,height:dt,x:ht,y:ft}}function getInnerBoundingClientRect(ot,rt){const at=getBoundingClientRect(ot,!0,rt==="fixed"),lt=at.top+ot.clientTop,ct=at.left+ot.clientLeft,ut=isHTMLElement(ot)?getScale(ot):createCoords(1),dt=ot.clientWidth*ut.x,ht=ot.clientHeight*ut.y,ft=ct*ut.x,pt=lt*ut.y;return{width:dt,height:ht,x:ft,y:pt}}function getClientRectFromClippingAncestor(ot,rt,at){let lt;if(rt==="viewport")lt=getViewportRect(ot,at);else if(rt==="document")lt=getDocumentRect(getDocumentElement(ot));else if(isElement$1(rt))lt=getInnerBoundingClientRect(rt,at);else{const ct=getVisualOffsets(ot);lt={...rt,x:rt.x-ct.x,y:rt.y-ct.y}}return rectToClientRect(lt)}function hasFixedPositionAncestor(ot,rt){const at=getParentNode(ot);return at===rt||!isElement$1(at)||isLastTraversableNode(at)?!1:getComputedStyle$2(at).position==="fixed"||hasFixedPositionAncestor(at,rt)}function getClippingElementAncestors(ot,rt){const at=rt.get(ot);if(at)return at;let lt=getOverflowAncestors(ot,[],!1).filter(ht=>isElement$1(ht)&&getNodeName(ht)!=="body"),ct=null;const ut=getComputedStyle$2(ot).position==="fixed";let dt=ut?getParentNode(ot):ot;for(;isElement$1(dt)&&!isLastTraversableNode(dt);){const ht=getComputedStyle$2(dt),ft=isContainingBlock(dt);!ft&&ht.position==="fixed"&&(ct=null),(ut?!ft&&!ct:!ft&&ht.position==="static"&&!!ct&&["absolute","fixed"].includes(ct.position)||isOverflowElement(dt)&&!ft&&hasFixedPositionAncestor(ot,dt))?lt=lt.filter(mt=>mt!==dt):ct=ht,dt=getParentNode(dt)}return rt.set(ot,lt),lt}function getClippingRect(ot){let{element:rt,boundary:at,rootBoundary:lt,strategy:ct}=ot;const dt=[...at==="clippingAncestors"?isTopLayer(rt)?[]:getClippingElementAncestors(rt,this._c):[].concat(at),lt],ht=dt[0],ft=dt.reduce((pt,mt)=>{const gt=getClientRectFromClippingAncestor(rt,mt,ct);return pt.top=max(gt.top,pt.top),pt.right=min(gt.right,pt.right),pt.bottom=min(gt.bottom,pt.bottom),pt.left=max(gt.left,pt.left),pt},getClientRectFromClippingAncestor(rt,ht,ct));return{width:ft.right-ft.left,height:ft.bottom-ft.top,x:ft.left,y:ft.top}}function getDimensions(ot){const{width:rt,height:at}=getCssDimensions(ot);return{width:rt,height:at}}function getRectRelativeToOffsetParent(ot,rt,at){const lt=isHTMLElement(rt),ct=getDocumentElement(rt),ut=at==="fixed",dt=getBoundingClientRect(ot,!0,ut,rt);let ht={scrollLeft:0,scrollTop:0};const ft=createCoords(0);if(lt||!lt&&!ut)if((getNodeName(rt)!=="body"||isOverflowElement(ct))&&(ht=getNodeScroll(rt)),lt){const gt=getBoundingClientRect(rt,!0,ut,rt);ft.x=gt.x+rt.clientLeft,ft.y=gt.y+rt.clientTop}else ct&&(ft.x=getWindowScrollBarX(ct));const pt=dt.left+ht.scrollLeft-ft.x,mt=dt.top+ht.scrollTop-ft.y;return{x:pt,y:mt,width:dt.width,height:dt.height}}function isStaticPositioned(ot){return getComputedStyle$2(ot).position==="static"}function getTrueOffsetParent(ot,rt){return!isHTMLElement(ot)||getComputedStyle$2(ot).position==="fixed"?null:rt?rt(ot):ot.offsetParent}function getOffsetParent(ot,rt){const at=getWindow(ot);if(isTopLayer(ot))return at;if(!isHTMLElement(ot)){let ct=getParentNode(ot);for(;ct&&!isLastTraversableNode(ct);){if(isElement$1(ct)&&!isStaticPositioned(ct))return ct;ct=getParentNode(ct)}return at}let lt=getTrueOffsetParent(ot,rt);for(;lt&&isTableElement(lt)&&isStaticPositioned(lt);)lt=getTrueOffsetParent(lt,rt);return lt&&isLastTraversableNode(lt)&&isStaticPositioned(lt)&&!isContainingBlock(lt)?at:lt||getContainingBlock(ot)||at}const getElementRects=async function(ot){const rt=this.getOffsetParent||getOffsetParent,at=this.getDimensions,lt=await at(ot.floating);return{reference:getRectRelativeToOffsetParent(ot.reference,await rt(ot.floating),ot.strategy),floating:{x:0,y:0,width:lt.width,height:lt.height}}};function isRTL(ot){return getComputedStyle$2(ot).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(ot,rt){let at=null,lt;const ct=getDocumentElement(ot);function ut(){var ht;clearTimeout(lt),(ht=at)==null||ht.disconnect(),at=null}function dt(ht,ft){ht===void 0&&(ht=!1),ft===void 0&&(ft=1),ut();const{left:pt,top:mt,width:gt,height:yt}=ot.getBoundingClientRect();if(ht||rt(),!gt||!yt)return;const xt=floor(mt),bt=floor(ct.clientWidth-(pt+gt)),Et=floor(ct.clientHeight-(mt+yt)),Rt=floor(pt),_t={rootMargin:-xt+"px "+-bt+"px "+-Et+"px "+-Rt+"px",threshold:max(0,min(1,ft))||1};let At=!0;function kt(It){const Nt=It[0].intersectionRatio;if(Nt!==ft){if(!At)return dt();Nt?dt(!1,Nt):lt=setTimeout(()=>{dt(!1,1e-7)},1e3)}At=!1}try{at=new IntersectionObserver(kt,{..._t,root:ct.ownerDocument})}catch{at=new IntersectionObserver(kt,_t)}at.observe(ot)}return dt(!0),ut}function autoUpdate(ot,rt,at,lt){lt===void 0&&(lt={});const{ancestorScroll:ct=!0,ancestorResize:ut=!0,elementResize:dt=typeof ResizeObserver=="function",layoutShift:ht=typeof IntersectionObserver=="function",animationFrame:ft=!1}=lt,pt=unwrapElement(ot),mt=ct||ut?[...pt?getOverflowAncestors(pt):[],...getOverflowAncestors(rt)]:[];mt.forEach(wt=>{ct&&wt.addEventListener("scroll",at,{passive:!0}),ut&&wt.addEventListener("resize",at)});const gt=pt&&ht?observeMove(pt,at):null;let yt=-1,xt=null;dt&&(xt=new ResizeObserver(wt=>{let[_t]=wt;_t&&_t.target===pt&&xt&&(xt.unobserve(rt),cancelAnimationFrame(yt),yt=requestAnimationFrame(()=>{var At;(At=xt)==null||At.observe(rt)})),at()}),pt&&!ft&&xt.observe(pt),xt.observe(rt));let bt,Et=ft?getBoundingClientRect(ot):null;ft&&Rt();function Rt(){const wt=getBoundingClientRect(ot);Et&&(wt.x!==Et.x||wt.y!==Et.y||wt.width!==Et.width||wt.height!==Et.height)&&at(),Et=wt,bt=requestAnimationFrame(Rt)}return at(),()=>{var wt;mt.forEach(_t=>{ct&&_t.removeEventListener("scroll",at),ut&&_t.removeEventListener("resize",at)}),gt==null||gt(),(wt=xt)==null||wt.disconnect(),xt=null,ft&&cancelAnimationFrame(bt)}}const offset$1=offset$2,autoPlacement$1=autoPlacement$2,shift$1=shift$2,flip$1=flip$2,arrow$2=arrow$3,computePosition=(ot,rt,at)=>{const lt=new Map,ct={platform,...at},ut={...ct.platform,_c:lt};return computePosition$1(ot,rt,{...ct,platform:ut})};var index$4=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(ot,rt){if(ot===rt)return!0;if(typeof ot!=typeof rt)return!1;if(typeof ot=="function"&&ot.toString()===rt.toString())return!0;let at,lt,ct;if(ot&&rt&&typeof ot=="object"){if(Array.isArray(ot)){if(at=ot.length,at!==rt.length)return!1;for(lt=at;lt--!==0;)if(!deepEqual(ot[lt],rt[lt]))return!1;return!0}if(ct=Object.keys(ot),at=ct.length,at!==Object.keys(rt).length)return!1;for(lt=at;lt--!==0;)if(!{}.hasOwnProperty.call(rt,ct[lt]))return!1;for(lt=at;lt--!==0;){const ut=ct[lt];if(!(ut==="_owner"&&ot.$$typeof)&&!deepEqual(ot[ut],rt[ut]))return!1}return!0}return ot!==ot&&rt!==rt}function getDPR(ot){return typeof window>"u"?1:(ot.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(ot,rt){const at=getDPR(ot);return Math.round(rt*at)/at}function useLatestRef$1(ot){const rt=reactExports.useRef(ot);return index$4(()=>{rt.current=ot}),rt}function useFloating$1(ot){ot===void 0&&(ot={});const{placement:rt="bottom",strategy:at="absolute",middleware:lt=[],platform:ct,elements:{reference:ut,floating:dt}={},transform:ht=!0,whileElementsMounted:ft,open:pt}=ot,[mt,gt]=reactExports.useState({x:0,y:0,strategy:at,placement:rt,middlewareData:{},isPositioned:!1}),[yt,xt]=reactExports.useState(lt);deepEqual(yt,lt)||xt(lt);const[bt,Et]=reactExports.useState(null),[Rt,wt]=reactExports.useState(null),_t=reactExports.useCallback(Kt=>{Kt!==Nt.current&&(Nt.current=Kt,Et(Kt))},[]),At=reactExports.useCallback(Kt=>{Kt!==Pt.current&&(Pt.current=Kt,wt(Kt))},[]),kt=ut||bt,It=dt||Rt,Nt=reactExports.useRef(null),Pt=reactExports.useRef(null),Tt=reactExports.useRef(mt),Ct=ft!=null,Ot=useLatestRef$1(ft),Dt=useLatestRef$1(ct),jt=reactExports.useCallback(()=>{if(!Nt.current||!Pt.current)return;const Kt={placement:rt,strategy:at,middleware:yt};Dt.current&&(Kt.platform=Dt.current),computePosition(Nt.current,Pt.current,Kt).then(sn=>{const Gt={...sn,isPositioned:!0};Mt.current&&!deepEqual(Tt.current,Gt)&&(Tt.current=Gt,reactDomExports.flushSync(()=>{gt(Gt)}))})},[yt,rt,at,Dt]);index$4(()=>{pt===!1&&Tt.current.isPositioned&&(Tt.current.isPositioned=!1,gt(Kt=>({...Kt,isPositioned:!1})))},[pt]);const Mt=reactExports.useRef(!1);index$4(()=>(Mt.current=!0,()=>{Mt.current=!1}),[]),index$4(()=>{if(kt&&(Nt.current=kt),It&&(Pt.current=It),kt&&It){if(Ot.current)return Ot.current(kt,It,jt);jt()}},[kt,It,jt,Ot,Ct]);const zt=reactExports.useMemo(()=>({reference:Nt,floating:Pt,setReference:_t,setFloating:At}),[_t,At]),Qt=reactExports.useMemo(()=>({reference:kt,floating:It}),[kt,It]),qt=reactExports.useMemo(()=>{const Kt={position:at,left:0,top:0};if(!Qt.floating)return Kt;const sn=roundByDPR(Qt.floating,mt.x),Gt=roundByDPR(Qt.floating,mt.y);return ht?{...Kt,transform:"translate("+sn+"px, "+Gt+"px)",...getDPR(Qt.floating)>=1.5&&{willChange:"transform"}}:{position:at,left:sn,top:Gt}},[at,ht,Qt.floating,mt.x,mt.y]);return reactExports.useMemo(()=>({...mt,update:jt,refs:zt,elements:Qt,floatingStyles:qt}),[mt,jt,zt,Qt,qt])}const arrow$1=ot=>{function rt(at){return{}.hasOwnProperty.call(at,"current")}return{name:"arrow",options:ot,fn(at){const{element:lt,padding:ct}=typeof ot=="function"?ot(at):ot;return lt&&rt(lt)?lt.current!=null?arrow$2({element:lt.current,padding:ct}).fn(at):{}:lt?arrow$2({element:lt,padding:ct}).fn(at):{}}}},offset=(ot,rt)=>({...offset$1(ot),options:[ot,rt]}),shift=(ot,rt)=>({...shift$1(ot),options:[ot,rt]}),flip=(ot,rt)=>({...flip$1(ot),options:[ot,rt]}),autoPlacement=(ot,rt)=>({...autoPlacement$1(ot),options:[ot,rt]}),arrow=(ot,rt)=>({...arrow$1(ot),options:[ot,rt]});/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var candidateSelectors=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],candidateSelector=candidateSelectors.join(","),NoElement=typeof Element>"u",matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(ot){var rt;return ot==null||(rt=ot.getRootNode)===null||rt===void 0?void 0:rt.call(ot)}:function(ot){return ot==null?void 0:ot.ownerDocument},isInert=function ot(rt,at){var lt;at===void 0&&(at=!0);var ct=rt==null||(lt=rt.getAttribute)===null||lt===void 0?void 0:lt.call(rt,"inert"),ut=ct===""||ct==="true",dt=ut||at&&rt&&ot(rt.parentNode);return dt},isContentEditable=function(rt){var at,lt=rt==null||(at=rt.getAttribute)===null||at===void 0?void 0:at.call(rt,"contenteditable");return lt===""||lt==="true"},getCandidates=function(rt,at,lt){if(isInert(rt))return[];var ct=Array.prototype.slice.apply(rt.querySelectorAll(candidateSelector));return at&&matches.call(rt,candidateSelector)&&ct.unshift(rt),ct=ct.filter(lt),ct},getCandidatesIteratively=function ot(rt,at,lt){for(var ct=[],ut=Array.from(rt);ut.length;){var dt=ut.shift();if(!isInert(dt,!1))if(dt.tagName==="SLOT"){var ht=dt.assignedElements(),ft=ht.length?ht:dt.children,pt=ot(ft,!0,lt);lt.flatten?ct.push.apply(ct,pt):ct.push({scopeParent:dt,candidates:pt})}else{var mt=matches.call(dt,candidateSelector);mt&&lt.filter(dt)&&(at||!rt.includes(dt))&&ct.push(dt);var gt=dt.shadowRoot||typeof lt.getShadowRoot=="function"&&lt.getShadowRoot(dt),yt=!isInert(gt,!1)&&(!lt.shadowRootFilter||lt.shadowRootFilter(dt));if(gt&&yt){var xt=ot(gt===!0?dt.children:gt.children,!0,lt);lt.flatten?ct.push.apply(ct,xt):ct.push({scopeParent:dt,candidates:xt})}else ut.unshift.apply(ut,dt.children)}}return ct},hasTabIndex=function(rt){return!isNaN(parseInt(rt.getAttribute("tabindex"),10))},getTabIndex=function(rt){if(!rt)throw new Error("No node provided");return rt.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(rt.tagName)||isContentEditable(rt))&&!hasTabIndex(rt)?0:rt.tabIndex},getSortOrderTabIndex=function(rt,at){var lt=getTabIndex(rt);return lt<0&&at&&!hasTabIndex(rt)?0:lt},sortOrderedTabbables=function(rt,at){return rt.tabIndex===at.tabIndex?rt.documentOrder-at.documentOrder:rt.tabIndex-at.tabIndex},isInput=function(rt){return rt.tagName==="INPUT"},isHiddenInput=function(rt){return isInput(rt)&&rt.type==="hidden"},isDetailsWithSummary=function(rt){var at=rt.tagName==="DETAILS"&&Array.prototype.slice.apply(rt.children).some(function(lt){return lt.tagName==="SUMMARY"});return at},getCheckedRadio=function(rt,at){for(var lt=0;lt<rt.length;lt++)if(rt[lt].checked&&rt[lt].form===at)return rt[lt]},isTabbableRadio=function(rt){if(!rt.name)return!0;var at=rt.form||getRootNode(rt),lt=function(ht){return at.querySelectorAll('input[type="radio"][name="'+ht+'"]')},ct;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")ct=lt(window.CSS.escape(rt.name));else try{ct=lt(rt.name)}catch(dt){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",dt.message),!1}var ut=getCheckedRadio(ct,rt.form);return!ut||ut===rt},isRadio=function(rt){return isInput(rt)&&rt.type==="radio"},isNonTabbableRadio=function(rt){return isRadio(rt)&&!isTabbableRadio(rt)},isNodeAttached=function(rt){var at,lt=rt&&getRootNode(rt),ct=(at=lt)===null||at===void 0?void 0:at.host,ut=!1;if(lt&&lt!==rt){var dt,ht,ft;for(ut=!!((dt=ct)!==null&&dt!==void 0&&(ht=dt.ownerDocument)!==null&&ht!==void 0&&ht.contains(ct)||rt!=null&&(ft=rt.ownerDocument)!==null&&ft!==void 0&&ft.contains(rt));!ut&&ct;){var pt,mt,gt;lt=getRootNode(ct),ct=(pt=lt)===null||pt===void 0?void 0:pt.host,ut=!!((mt=ct)!==null&&mt!==void 0&&(gt=mt.ownerDocument)!==null&&gt!==void 0&&gt.contains(ct))}}return ut},isZeroArea=function(rt){var at=rt.getBoundingClientRect(),lt=at.width,ct=at.height;return lt===0&&ct===0},isHidden=function(rt,at){var lt=at.displayCheck,ct=at.getShadowRoot;if(getComputedStyle(rt).visibility==="hidden")return!0;var ut=matches.call(rt,"details>summary:first-of-type"),dt=ut?rt.parentElement:rt;if(matches.call(dt,"details:not([open]) *"))return!0;if(!lt||lt==="full"||lt==="legacy-full"){if(typeof ct=="function"){for(var ht=rt;rt;){var ft=rt.parentElement,pt=getRootNode(rt);if(ft&&!ft.shadowRoot&&ct(ft)===!0)return isZeroArea(rt);rt.assignedSlot?rt=rt.assignedSlot:!ft&&pt!==rt.ownerDocument?rt=pt.host:rt=ft}rt=ht}if(isNodeAttached(rt))return!rt.getClientRects().length;if(lt!=="legacy-full")return!0}else if(lt==="non-zero-area")return isZeroArea(rt);return!1},isDisabledFromFieldset=function(rt){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(rt.tagName))for(var at=rt.parentElement;at;){if(at.tagName==="FIELDSET"&&at.disabled){for(var lt=0;lt<at.children.length;lt++){var ct=at.children.item(lt);if(ct.tagName==="LEGEND")return matches.call(at,"fieldset[disabled] *")?!0:!ct.contains(rt)}return!0}at=at.parentElement}return!1},isNodeMatchingSelectorFocusable=function(rt,at){return!(at.disabled||isInert(at)||isHiddenInput(at)||isHidden(at,rt)||isDetailsWithSummary(at)||isDisabledFromFieldset(at))},isNodeMatchingSelectorTabbable=function(rt,at){return!(isNonTabbableRadio(at)||getTabIndex(at)<0||!isNodeMatchingSelectorFocusable(rt,at))},isValidShadowRootTabbable=function(rt){var at=parseInt(rt.getAttribute("tabindex"),10);return!!(isNaN(at)||at>=0)},sortByOrder=function ot(rt){var at=[],lt=[];return rt.forEach(function(ct,ut){var dt=!!ct.scopeParent,ht=dt?ct.scopeParent:ct,ft=getSortOrderTabIndex(ht,dt),pt=dt?ot(ct.candidates):ht;ft===0?dt?at.push.apply(at,pt):at.push(ht):lt.push({documentOrder:ut,tabIndex:ft,item:ct,isScope:dt,content:pt})}),lt.sort(sortOrderedTabbables).reduce(function(ct,ut){return ut.isScope?ct.push.apply(ct,ut.content):ct.push(ut.content),ct},[]).concat(at)},tabbable=function(rt,at){at=at||{};var lt;return at.getShadowRoot?lt=getCandidatesIteratively([rt],at.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,at),flatten:!1,getShadowRoot:at.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):lt=getCandidates(rt,at.includeContainer,isNodeMatchingSelectorTabbable.bind(null,at)),sortByOrder(lt)},isTabbable=function(rt,at){if(at=at||{},!rt)throw new Error("No node provided");return matches.call(rt,candidateSelector)===!1?!1:isNodeMatchingSelectorTabbable(at,rt)};function useMergeRefs(ot){return reactExports.useMemo(()=>ot.every(rt=>rt==null)?null:rt=>{ot.forEach(at=>{typeof at=="function"?at(rt):at!=null&&(at.current=rt)})},ot)}const SafeReact={...React$1},useInsertionEffect=SafeReact.useInsertionEffect,useSafeInsertionEffect=useInsertionEffect||(ot=>ot());function useEffectEvent(ot){const rt=reactExports.useRef(()=>{});return useSafeInsertionEffect(()=>{rt.current=ot}),reactExports.useCallback(function(){for(var at=arguments.length,lt=new Array(at),ct=0;ct<at;ct++)lt[ct]=arguments[ct];return rt.current==null?void 0:rt.current(...lt)},[])}const ARROW_UP="ArrowUp",ARROW_DOWN="ArrowDown",ARROW_LEFT="ArrowLeft",ARROW_RIGHT="ArrowRight";function isDifferentRow(ot,rt,at){return Math.floor(ot/rt)!==at}function isIndexOutOfBounds(ot,rt){return rt<0||rt>=ot.current.length}function getMinIndex(ot,rt){return findNonDisabledIndex(ot,{disabledIndices:rt})}function getMaxIndex(ot,rt){return findNonDisabledIndex(ot,{decrement:!0,startingIndex:ot.current.length,disabledIndices:rt})}function findNonDisabledIndex(ot,rt){let{startingIndex:at=-1,decrement:lt=!1,disabledIndices:ct,amount:ut=1}=rt===void 0?{}:rt;const dt=ot.current;let ht=at;do ht+=lt?-ut:ut;while(ht>=0&&ht<=dt.length-1&&isDisabled(dt,ht,ct));return ht}function getGridNavigatedIndex(ot,rt){let{event:at,orientation:lt,loop:ct,cols:ut,disabledIndices:dt,minIndex:ht,maxIndex:ft,prevIndex:pt,stopEvent:mt=!1}=rt,gt=pt;if(at.key===ARROW_UP){if(mt&&stopEvent(at),pt===-1)gt=ft;else if(gt=findNonDisabledIndex(ot,{startingIndex:gt,amount:ut,decrement:!0,disabledIndices:dt}),ct&&(pt-ut<ht||gt<0)){const yt=pt%ut,xt=ft%ut,bt=ft-(xt-yt);xt===yt?gt=ft:gt=xt>yt?bt:bt-ut}isIndexOutOfBounds(ot,gt)&&(gt=pt)}if(at.key===ARROW_DOWN&&(mt&&stopEvent(at),pt===-1?gt=ht:(gt=findNonDisabledIndex(ot,{startingIndex:pt,amount:ut,disabledIndices:dt}),ct&&pt+ut>ft&&(gt=findNonDisabledIndex(ot,{startingIndex:pt%ut-ut,amount:ut,disabledIndices:dt}))),isIndexOutOfBounds(ot,gt)&&(gt=pt)),lt==="both"){const yt=floor(pt/ut);at.key===ARROW_RIGHT&&(mt&&stopEvent(at),pt%ut!==ut-1?(gt=findNonDisabledIndex(ot,{startingIndex:pt,disabledIndices:dt}),ct&&isDifferentRow(gt,ut,yt)&&(gt=findNonDisabledIndex(ot,{startingIndex:pt-pt%ut-1,disabledIndices:dt}))):ct&&(gt=findNonDisabledIndex(ot,{startingIndex:pt-pt%ut-1,disabledIndices:dt})),isDifferentRow(gt,ut,yt)&&(gt=pt)),at.key===ARROW_LEFT&&(mt&&stopEvent(at),pt%ut!==0?(gt=findNonDisabledIndex(ot,{startingIndex:pt,decrement:!0,disabledIndices:dt}),ct&&isDifferentRow(gt,ut,yt)&&(gt=findNonDisabledIndex(ot,{startingIndex:pt+(ut-pt%ut),decrement:!0,disabledIndices:dt}))):ct&&(gt=findNonDisabledIndex(ot,{startingIndex:pt+(ut-pt%ut),decrement:!0,disabledIndices:dt})),isDifferentRow(gt,ut,yt)&&(gt=pt));const xt=floor(ft/ut)===yt;isIndexOutOfBounds(ot,gt)&&(ct&&xt?gt=at.key===ARROW_LEFT?ft:findNonDisabledIndex(ot,{startingIndex:pt-pt%ut-1,disabledIndices:dt}):gt=pt)}return gt}function buildCellMap(ot,rt,at){const lt=[];let ct=0;return ot.forEach((ut,dt)=>{let{width:ht,height:ft}=ut,pt=!1;for(at&&(ct=0);!pt;){const mt=[];for(let gt=0;gt<ht;gt++)for(let yt=0;yt<ft;yt++)mt.push(ct+gt+yt*rt);ct%rt+ht<=rt&&mt.every(gt=>lt[gt]==null)?(mt.forEach(gt=>{lt[gt]=dt}),pt=!0):ct++}}),[...lt]}function getCellIndexOfCorner(ot,rt,at,lt,ct){if(ot===-1)return-1;const ut=at.indexOf(ot),dt=rt[ot];switch(ct){case"tl":return ut;case"tr":return dt?ut+dt.width-1:ut;case"bl":return dt?ut+(dt.height-1)*lt:ut;case"br":return at.lastIndexOf(ot)}}function getCellIndices(ot,rt){return rt.flatMap((at,lt)=>ot.includes(at)?[lt]:[])}function isDisabled(ot,rt,at){if(at)return at.includes(rt);const lt=ot[rt];return lt==null||lt.hasAttribute("disabled")||lt.getAttribute("aria-disabled")==="true"}let rafId=0;function enqueueFocus(ot,rt){rt===void 0&&(rt={});const{preventScroll:at=!1,cancelPrevious:lt=!0,sync:ct=!1}=rt;lt&&cancelAnimationFrame(rafId);const ut=()=>ot==null?void 0:ot.focus({preventScroll:at});ct?ut():rafId=requestAnimationFrame(ut)}var index$3=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function sortByDocumentPosition(ot,rt){const at=ot.compareDocumentPosition(rt);return at&Node.DOCUMENT_POSITION_FOLLOWING||at&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:at&Node.DOCUMENT_POSITION_PRECEDING||at&Node.DOCUMENT_POSITION_CONTAINS?1:0}function areMapsEqual(ot,rt){if(ot.size!==rt.size)return!1;for(const[at,lt]of ot.entries())if(lt!==rt.get(at))return!1;return!0}const FloatingListContext=reactExports.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function FloatingList(ot){const{children:rt,elementsRef:at,labelsRef:lt}=ot,[ct,ut]=reactExports.useState(()=>new Map),dt=reactExports.useCallback(ft=>{ut(pt=>new Map(pt).set(ft,null))},[]),ht=reactExports.useCallback(ft=>{ut(pt=>{const mt=new Map(pt);return mt.delete(ft),mt})},[]);return index$3(()=>{const ft=new Map(ct);Array.from(ft.keys()).sort(sortByDocumentPosition).forEach((mt,gt)=>{ft.set(mt,gt)}),areMapsEqual(ct,ft)||ut(ft)},[ct]),reactExports.createElement(FloatingListContext.Provider,{value:reactExports.useMemo(()=>({register:dt,unregister:ht,map:ct,elementsRef:at,labelsRef:lt}),[dt,ht,ct,at,lt])},rt)}function useListItem(ot){ot===void 0&&(ot={});const{label:rt}=ot,{register:at,unregister:lt,map:ct,elementsRef:ut,labelsRef:dt}=reactExports.useContext(FloatingListContext),[ht,ft]=reactExports.useState(null),pt=reactExports.useRef(null),mt=reactExports.useCallback(gt=>{if(pt.current=gt,ht!==null&&(ut.current[ht]=gt,dt)){var yt;const xt=rt!==void 0;dt.current[ht]=xt?rt:(yt=gt==null?void 0:gt.textContent)!=null?yt:null}},[ht,ut,dt,rt]);return index$3(()=>{const gt=pt.current;if(gt)return at(gt),()=>{lt(gt)}},[at,lt]),index$3(()=>{const gt=pt.current?ct.get(pt.current):null;gt!=null&&ft(gt)},[ct]),reactExports.useMemo(()=>({ref:mt,index:ht??-1}),[ht,mt])}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(ot[lt]=at[lt])}return ot},_extends$1.apply(this,arguments)}let serverHandoffComplete=!1,count=0;const genId=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+count++;function useFloatingId(){const[ot,rt]=reactExports.useState(()=>serverHandoffComplete?genId():void 0);return index$3(()=>{ot==null&&rt(genId())},[]),reactExports.useEffect(()=>{serverHandoffComplete=!0},[]),ot}const useReactId=SafeReact.useId,useId=useReactId||useFloatingId;function createPubSub(){const ot=new Map;return{emit(rt,at){var lt;(lt=ot.get(rt))==null||lt.forEach(ct=>ct(at))},on(rt,at){ot.set(rt,[...ot.get(rt)||[],at])},off(rt,at){var lt;ot.set(rt,((lt=ot.get(rt))==null?void 0:lt.filter(ct=>ct!==at))||[])}}}const FloatingNodeContext=reactExports.createContext(null),FloatingTreeContext=reactExports.createContext(null),useFloatingParentNodeId=()=>{var ot;return((ot=reactExports.useContext(FloatingNodeContext))==null?void 0:ot.id)||null},useFloatingTree=()=>reactExports.useContext(FloatingTreeContext);function createAttribute(ot){return"data-floating-ui-"+ot}function useLatestRef(ot){const rt=reactExports.useRef(ot);return index$3(()=>{rt.current=ot}),rt}const safePolygonIdentifier=createAttribute("safe-polygon");function getDelay(ot,rt,at){return at&&!isMouseLikePointerType(at)?0:typeof ot=="number"?ot:ot==null?void 0:ot[rt]}function useHover(ot,rt){rt===void 0&&(rt={});const{open:at,onOpenChange:lt,dataRef:ct,events:ut,elements:{domReference:dt,floating:ht}}=ot,{enabled:ft=!0,delay:pt=0,handleClose:mt=null,mouseOnly:gt=!1,restMs:yt=0,move:xt=!0}=rt,bt=useFloatingTree(),Et=useFloatingParentNodeId(),Rt=useLatestRef(mt),wt=useLatestRef(pt),_t=reactExports.useRef(),At=reactExports.useRef(-1),kt=reactExports.useRef(),It=reactExports.useRef(-1),Nt=reactExports.useRef(!0),Pt=reactExports.useRef(!1),Tt=reactExports.useRef(()=>{}),Ct=reactExports.useCallback(()=>{var Mt;const zt=(Mt=ct.current.openEvent)==null?void 0:Mt.type;return(zt==null?void 0:zt.includes("mouse"))&&zt!=="mousedown"},[ct]);reactExports.useEffect(()=>{if(!ft)return;function Mt(zt){let{open:Qt}=zt;Qt||(clearTimeout(At.current),clearTimeout(It.current),Nt.current=!0)}return ut.on("openchange",Mt),()=>{ut.off("openchange",Mt)}},[ft,ut]),reactExports.useEffect(()=>{if(!ft||!Rt.current||!at)return;function Mt(Qt){Ct()&&lt(!1,Qt,"hover")}const zt=getDocument(ht).documentElement;return zt.addEventListener("mouseleave",Mt),()=>{zt.removeEventListener("mouseleave",Mt)}},[ht,at,lt,ft,Rt,Ct]);const Ot=reactExports.useCallback(function(Mt,zt,Qt){zt===void 0&&(zt=!0),Qt===void 0&&(Qt="hover");const qt=getDelay(wt.current,"close",_t.current);qt&&!kt.current?(clearTimeout(At.current),At.current=window.setTimeout(()=>lt(!1,Mt,Qt),qt)):zt&&(clearTimeout(At.current),lt(!1,Mt,Qt))},[wt,lt]),Dt=useEffectEvent(()=>{Tt.current(),kt.current=void 0}),jt=useEffectEvent(()=>{if(Pt.current){const Mt=getDocument(ht).body;Mt.style.pointerEvents="",Mt.removeAttribute(safePolygonIdentifier),Pt.current=!1}});return reactExports.useEffect(()=>{if(!ft)return;function Mt(){return ct.current.openEvent?["click","mousedown"].includes(ct.current.openEvent.type):!1}function zt(Kt){if(clearTimeout(At.current),Nt.current=!1,gt&&!isMouseLikePointerType(_t.current)||yt>0&&!getDelay(wt.current,"open"))return;const sn=getDelay(wt.current,"open",_t.current);sn?At.current=window.setTimeout(()=>{lt(!0,Kt,"hover")},sn):lt(!0,Kt,"hover")}function Qt(Kt){if(Mt())return;Tt.current();const sn=getDocument(ht);if(clearTimeout(It.current),Rt.current&&ct.current.floatingContext){at||clearTimeout(At.current),kt.current=Rt.current({...ct.current.floatingContext,tree:bt,x:Kt.clientX,y:Kt.clientY,onClose(){jt(),Dt(),Ot(Kt,!0,"safe-polygon")}});const Wt=kt.current;sn.addEventListener("mousemove",Wt),Tt.current=()=>{sn.removeEventListener("mousemove",Wt)};return}(_t.current==="touch"?!contains(ht,Kt.relatedTarget):!0)&&Ot(Kt)}function qt(Kt){Mt()||ct.current.floatingContext&&(Rt.current==null||Rt.current({...ct.current.floatingContext,tree:bt,x:Kt.clientX,y:Kt.clientY,onClose(){jt(),Dt(),Ot(Kt)}})(Kt))}if(isElement$1(dt)){const Kt=dt;return at&&Kt.addEventListener("mouseleave",qt),ht==null||ht.addEventListener("mouseleave",qt),xt&&Kt.addEventListener("mousemove",zt,{once:!0}),Kt.addEventListener("mouseenter",zt),Kt.addEventListener("mouseleave",Qt),()=>{at&&Kt.removeEventListener("mouseleave",qt),ht==null||ht.removeEventListener("mouseleave",qt),xt&&Kt.removeEventListener("mousemove",zt),Kt.removeEventListener("mouseenter",zt),Kt.removeEventListener("mouseleave",Qt)}}},[dt,ht,ft,ot,gt,yt,xt,Ot,Dt,jt,lt,at,bt,wt,Rt,ct]),index$3(()=>{var Mt;if(ft&&at&&(Mt=Rt.current)!=null&&Mt.__options.blockPointerEvents&&Ct()){const Qt=getDocument(ht).body;if(Qt.setAttribute(safePolygonIdentifier,""),Qt.style.pointerEvents="none",Pt.current=!0,isElement$1(dt)&&ht){var zt;const qt=dt,Kt=bt==null||(zt=bt.nodesRef.current.find(sn=>sn.id===Et))==null||(zt=zt.context)==null?void 0:zt.elements.floating;return Kt&&(Kt.style.pointerEvents=""),qt.style.pointerEvents="auto",ht.style.pointerEvents="auto",()=>{qt.style.pointerEvents="",ht.style.pointerEvents=""}}}},[ft,at,Et,ht,dt,bt,Rt,Ct]),index$3(()=>{at||(_t.current=void 0,Dt(),jt())},[at,Dt,jt]),reactExports.useEffect(()=>()=>{Dt(),clearTimeout(At.current),clearTimeout(It.current),jt()},[ft,dt,Dt,jt]),reactExports.useMemo(()=>{if(!ft)return{};function Mt(zt){_t.current=zt.pointerType}return{reference:{onPointerDown:Mt,onPointerEnter:Mt,onMouseMove(zt){const{nativeEvent:Qt}=zt;function qt(){Nt.current||lt(!0,Qt,"hover")}gt&&!isMouseLikePointerType(_t.current)||at||yt===0||(clearTimeout(It.current),_t.current==="touch"?qt():It.current=window.setTimeout(qt,yt))}},floating:{onMouseEnter(){clearTimeout(At.current)},onMouseLeave(zt){Ot(zt.nativeEvent,!1)}}}},[ft,gt,at,yt,lt,Ot])}function getAncestors(ot,rt){var at;let lt=[],ct=(at=ot.find(ut=>ut.id===rt))==null?void 0:at.parentId;for(;ct;){const ut=ot.find(dt=>dt.id===ct);ct=ut==null?void 0:ut.parentId,ut&&(lt=lt.concat(ut))}return lt}function getChildren(ot,rt){let at=ot.filter(ct=>{var ut;return ct.parentId===rt&&((ut=ct.context)==null?void 0:ut.open)}),lt=at;for(;lt.length;)lt=ot.filter(ct=>{var ut;return(ut=lt)==null?void 0:ut.some(dt=>{var ht;return ct.parentId===dt.id&&((ht=ct.context)==null?void 0:ht.open)})}),at=at.concat(lt);return at}function getDeepestNode(ot,rt){let at,lt=-1;function ct(ut,dt){dt>lt&&(at=ut,lt=dt),getChildren(ot,ut).forEach(ft=>{ct(ft.id,dt+1)})}return ct(rt,0),ot.find(ut=>ut.id===at)}let counterMap=new WeakMap,uncontrolledElementsSet=new WeakSet,markerMap={},lockCount=0;const supportsInert=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,unwrapHost=ot=>ot&&(ot.host||unwrapHost(ot.parentNode)),correctElements=(ot,rt)=>rt.map(at=>{if(ot.contains(at))return at;const lt=unwrapHost(at);return ot.contains(lt)?lt:null}).filter(at=>at!=null);function applyAttributeToOthers(ot,rt,at,lt){const ct="data-floating-ui-inert",ut=lt?"inert":at?"aria-hidden":null,dt=correctElements(rt,ot),ht=new Set,ft=new Set(dt),pt=[];markerMap[ct]||(markerMap[ct]=new WeakMap);const mt=markerMap[ct];dt.forEach(gt),yt(rt),ht.clear();function gt(xt){!xt||ht.has(xt)||(ht.add(xt),xt.parentNode&&gt(xt.parentNode))}function yt(xt){!xt||ft.has(xt)||[].forEach.call(xt.children,bt=>{if(getNodeName(bt)!=="script")if(ht.has(bt))yt(bt);else{const Et=ut?bt.getAttribute(ut):null,Rt=Et!==null&&Et!=="false",wt=(counterMap.get(bt)||0)+1,_t=(mt.get(bt)||0)+1;counterMap.set(bt,wt),mt.set(bt,_t),pt.push(bt),wt===1&&Rt&&uncontrolledElementsSet.add(bt),_t===1&&bt.setAttribute(ct,""),!Rt&&ut&&bt.setAttribute(ut,"true")}})}return lockCount++,()=>{pt.forEach(xt=>{const bt=(counterMap.get(xt)||0)-1,Et=(mt.get(xt)||0)-1;counterMap.set(xt,bt),mt.set(xt,Et),bt||(!uncontrolledElementsSet.has(xt)&&ut&&xt.removeAttribute(ut),uncontrolledElementsSet.delete(xt)),Et||xt.removeAttribute(ct)}),lockCount--,lockCount||(counterMap=new WeakMap,counterMap=new WeakMap,uncontrolledElementsSet=new WeakSet,markerMap={})}}function markOthers(ot,rt,at){rt===void 0&&(rt=!1),at===void 0&&(at=!1);const lt=getDocument(ot[0]).body;return applyAttributeToOthers(ot.concat(Array.from(lt.querySelectorAll("[aria-live]"))),lt,rt,at)}const getTabbableOptions=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function getTabbableIn(ot,rt){const at=tabbable(ot,getTabbableOptions());rt==="prev"&&at.reverse();const lt=at.indexOf(activeElement(getDocument(ot)));return at.slice(lt+1)[0]}function getNextTabbable(){return getTabbableIn(document.body,"next")}function getPreviousTabbable(){return getTabbableIn(document.body,"prev")}function isOutsideEvent(ot,rt){const at=rt||ot.currentTarget,lt=ot.relatedTarget;return!lt||!contains(at,lt)}function disableFocusInside(ot){tabbable(ot,getTabbableOptions()).forEach(at=>{at.dataset.tabindex=at.getAttribute("tabindex")||"",at.setAttribute("tabindex","-1")})}function enableFocusInside(ot){ot.querySelectorAll("[data-tabindex]").forEach(at=>{const lt=at.dataset.tabindex;delete at.dataset.tabindex,lt?at.setAttribute("tabindex",lt):at.removeAttribute("tabindex")})}const HIDDEN_STYLES={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let timeoutId;function setActiveElementOnTab(ot){ot.key==="Tab"&&(ot.target,clearTimeout(timeoutId))}const FocusGuard=reactExports.forwardRef(function(rt,at){const[lt,ct]=reactExports.useState();index$3(()=>(isSafari()&&ct("button"),document.addEventListener("keydown",setActiveElementOnTab),()=>{document.removeEventListener("keydown",setActiveElementOnTab)}),[]);const ut={ref:at,tabIndex:0,role:lt,"aria-hidden":lt?void 0:!0,[createAttribute("focus-guard")]:"",style:HIDDEN_STYLES};return reactExports.createElement("span",_extends$1({},rt,ut))}),PortalContext=reactExports.createContext(null),attr=createAttribute("portal");function useFloatingPortalNode(ot){ot===void 0&&(ot={});const{id:rt,root:at}=ot,lt=useId(),ct=usePortalContext(),[ut,dt]=reactExports.useState(null),ht=reactExports.useRef(null);return index$3(()=>()=>{ut==null||ut.remove(),queueMicrotask(()=>{ht.current=null})},[ut]),index$3(()=>{if(!lt||ht.current)return;const ft=rt?document.getElementById(rt):null;if(!ft)return;const pt=document.createElement("div");pt.id=lt,pt.setAttribute(attr,""),ft.appendChild(pt),ht.current=pt,dt(pt)},[rt,lt]),index$3(()=>{if(!lt||ht.current)return;let ft=at||(ct==null?void 0:ct.portalNode);ft&&!isElement$1(ft)&&(ft=ft.current),ft=ft||document.body;let pt=null;rt&&(pt=document.createElement("div"),pt.id=rt,ft.appendChild(pt));const mt=document.createElement("div");mt.id=lt,mt.setAttribute(attr,""),ft=pt||ft,ft.appendChild(mt),ht.current=mt,dt(mt)},[rt,at,lt,ct]),ut}function FloatingPortal(ot){const{children:rt,id:at,root:lt=null,preserveTabOrder:ct=!0}=ot,ut=useFloatingPortalNode({id:at,root:lt}),[dt,ht]=reactExports.useState(null),ft=reactExports.useRef(null),pt=reactExports.useRef(null),mt=reactExports.useRef(null),gt=reactExports.useRef(null),yt=!!dt&&!dt.modal&&dt.open&&ct&&!!(lt||ut);return reactExports.useEffect(()=>{if(!ut||!ct||dt!=null&&dt.modal)return;function xt(bt){ut&&isOutsideEvent(bt)&&(bt.type==="focusin"?enableFocusInside:disableFocusInside)(ut)}return ut.addEventListener("focusin",xt,!0),ut.addEventListener("focusout",xt,!0),()=>{ut.removeEventListener("focusin",xt,!0),ut.removeEventListener("focusout",xt,!0)}},[ut,ct,dt==null?void 0:dt.modal]),reactExports.createElement(PortalContext.Provider,{value:reactExports.useMemo(()=>({preserveTabOrder:ct,beforeOutsideRef:ft,afterOutsideRef:pt,beforeInsideRef:mt,afterInsideRef:gt,portalNode:ut,setFocusManagerState:ht}),[ct,ut])},yt&&ut&&reactExports.createElement(FocusGuard,{"data-type":"outside",ref:ft,onFocus:xt=>{if(isOutsideEvent(xt,ut)){var bt;(bt=mt.current)==null||bt.focus()}else{const Et=getPreviousTabbable()||(dt==null?void 0:dt.refs.domReference.current);Et==null||Et.focus()}}}),yt&&ut&&reactExports.createElement("span",{"aria-owns":ut.id,style:HIDDEN_STYLES}),ut&&reactDomExports.createPortal(rt,ut),yt&&ut&&reactExports.createElement(FocusGuard,{"data-type":"outside",ref:pt,onFocus:xt=>{if(isOutsideEvent(xt,ut)){var bt;(bt=gt.current)==null||bt.focus()}else{const Et=getNextTabbable()||(dt==null?void 0:dt.refs.domReference.current);Et==null||Et.focus(),dt!=null&&dt.closeOnFocusOut&&(dt==null||dt.onOpenChange(!1,xt.nativeEvent))}}}))}const usePortalContext=()=>reactExports.useContext(PortalContext),LIST_LIMIT=20;let previouslyFocusedElements=[];function addPreviouslyFocusedElement(ot){previouslyFocusedElements=previouslyFocusedElements.filter(at=>at.isConnected);let rt=ot;if(!(!rt||getNodeName(rt)==="body")){if(!isTabbable(rt,getTabbableOptions())){const at=tabbable(rt,getTabbableOptions())[0];at&&(rt=at)}previouslyFocusedElements.push(rt),previouslyFocusedElements.length>LIST_LIMIT&&(previouslyFocusedElements=previouslyFocusedElements.slice(-LIST_LIMIT))}}function getPreviouslyFocusedElement(){return previouslyFocusedElements.slice().reverse().find(ot=>ot.isConnected)}const VisuallyHiddenDismiss=reactExports.forwardRef(function(rt,at){return reactExports.createElement("button",_extends$1({},rt,{type:"button",ref:at,tabIndex:-1,style:HIDDEN_STYLES}))});function FloatingFocusManager(ot){const{context:rt,children:at,disabled:lt=!1,order:ct=["content"],guards:ut=!0,initialFocus:dt=0,returnFocus:ht=!0,restoreFocus:ft=!1,modal:pt=!0,visuallyHiddenDismiss:mt=!1,closeOnFocusOut:gt=!0}=ot,{open:yt,refs:xt,nodeId:bt,onOpenChange:Et,events:Rt,dataRef:wt,floatingId:_t,elements:{domReference:At,floating:kt}}=rt,It=typeof dt=="number"&&dt<0,Nt=isTypeableCombobox(At)&&It,Pt=supportsInert()?ut:!0,Tt=useLatestRef(ct),Ct=useLatestRef(dt),Ot=useLatestRef(ht),Dt=useFloatingTree(),jt=usePortalContext(),Mt=reactExports.useRef(null),zt=reactExports.useRef(null),Qt=reactExports.useRef(!1),qt=reactExports.useRef(!1),Kt=reactExports.useRef(-1),sn=jt!=null,Gt=kt==null?void 0:kt.firstElementChild,Wt=(Gt==null?void 0:Gt.id)===_t?Gt:kt,pn=useEffectEvent(function(Xt){return Xt===void 0&&(Xt=Wt),Xt?tabbable(Xt,getTabbableOptions()):[]}),rn=useEffectEvent(Xt=>{const Zt=pn(Xt);return Tt.current.map(Jt=>At&&Jt==="reference"?At:Wt&&Jt==="floating"?Wt:Zt).filter(Boolean).flat()});reactExports.useEffect(()=>{if(lt||!pt)return;function Xt(Jt){if(Jt.key==="Tab"){contains(Wt,activeElement(getDocument(Wt)))&&pn().length===0&&!Nt&&stopEvent(Jt);const Yt=rn(),gn=getTarget$1(Jt);Tt.current[0]==="reference"&&gn===At&&(stopEvent(Jt),Jt.shiftKey?enqueueFocus(Yt[Yt.length-1]):enqueueFocus(Yt[1])),Tt.current[1]==="floating"&&gn===Wt&&Jt.shiftKey&&(stopEvent(Jt),enqueueFocus(Yt[0]))}}const Zt=getDocument(Wt);return Zt.addEventListener("keydown",Xt),()=>{Zt.removeEventListener("keydown",Xt)}},[lt,At,Wt,pt,Tt,Nt,pn,rn]),reactExports.useEffect(()=>{if(lt||!kt)return;function Xt(Zt){const Jt=getTarget$1(Zt),gn=pn().indexOf(Jt);gn!==-1&&(Kt.current=gn)}return kt.addEventListener("focusin",Xt),()=>{kt.removeEventListener("focusin",Xt)}},[lt,kt,pn]),reactExports.useEffect(()=>{if(lt||!gt)return;function Xt(){qt.current=!0,setTimeout(()=>{qt.current=!1})}function Zt(Jt){const Yt=Jt.relatedTarget;queueMicrotask(()=>{const gn=!(contains(At,Yt)||contains(kt,Yt)||contains(Yt,kt)||contains(jt==null?void 0:jt.portalNode,Yt)||Yt!=null&&Yt.hasAttribute(createAttribute("focus-guard"))||Dt&&(getChildren(Dt.nodesRef.current,bt).find(_n=>{var Sn,jn;return contains((Sn=_n.context)==null?void 0:Sn.elements.floating,Yt)||contains((jn=_n.context)==null?void 0:jn.elements.domReference,Yt)})||getAncestors(Dt.nodesRef.current,bt).find(_n=>{var Sn,jn;return((Sn=_n.context)==null?void 0:Sn.elements.floating)===Yt||((jn=_n.context)==null?void 0:jn.elements.domReference)===Yt})));if(ft&&gn&&activeElement(getDocument(Wt))===getDocument(Wt).body){isHTMLElement(Wt)&&(Wt==null||Wt.focus());const _n=Kt.current,Sn=pn(),jn=Sn[_n]||Sn[Sn.length-1]||Wt;isHTMLElement(jn)&&jn.focus()}!pt&&Yt&&gn&&!qt.current&&Yt!==getPreviouslyFocusedElement()&&(Qt.current=!0,Et(!1,Jt))})}if(kt&&isHTMLElement(At))return At.addEventListener("focusout",Zt),At.addEventListener("pointerdown",Xt),kt.addEventListener("focusout",Zt),()=>{At.removeEventListener("focusout",Zt),At.removeEventListener("pointerdown",Xt),kt.removeEventListener("focusout",Zt)}},[lt,At,kt,Wt,pt,bt,Dt,jt,Et,gt,ft,pn]),reactExports.useEffect(()=>{var Xt;if(lt)return;const Zt=Array.from((jt==null||(Xt=jt.portalNode)==null?void 0:Xt.querySelectorAll("["+createAttribute("portal")+"]"))||[]);if(kt){const Jt=[kt,...Zt,Mt.current,zt.current,Tt.current.includes("reference")||Nt?At:null].filter(gn=>gn!=null),Yt=pt||Nt?markOthers(Jt,Pt,!Pt):markOthers(Jt);return()=>{Yt()}}},[lt,At,kt,pt,Tt,jt,Nt,Pt]),index$3(()=>{if(lt||!isHTMLElement(Wt))return;const Xt=getDocument(Wt),Zt=activeElement(Xt);queueMicrotask(()=>{const Jt=rn(Wt),Yt=Ct.current,gn=(typeof Yt=="number"?Jt[Yt]:Yt.current)||Wt,_n=contains(Wt,Zt);!It&&!_n&&yt&&enqueueFocus(gn,{preventScroll:gn===Wt})})},[lt,yt,Wt,It,rn,Ct]),index$3(()=>{if(lt||!Wt)return;let Xt=!1;const Zt=getDocument(Wt),Jt=activeElement(Zt);let gn=wt.current.openEvent;addPreviouslyFocusedElement(Jt);function _n(Sn){let{open:jn,reason:Dn,event:Gn,nested:Kn}=Sn;jn&&(gn=Gn),Dn==="escape-key"&&xt.domReference.current&&addPreviouslyFocusedElement(xt.domReference.current),Dn==="hover"&&Gn.type==="mouseleave"&&(Qt.current=!0),Dn==="outside-press"&&(Kn?(Qt.current=!1,Xt=!0):Qt.current=!(isVirtualClick(Gn)||isVirtualPointerEvent(Gn)))}return Rt.on("openchange",_n),()=>{Rt.off("openchange",_n);const Sn=activeElement(Zt),jn=contains(kt,Sn)||Dt&&getChildren(Dt.nodesRef.current,bt).some(Kn=>{var hn;return contains((hn=Kn.context)==null?void 0:hn.elements.floating,Sn)});(jn||gn&&["click","mousedown"].includes(gn.type))&&xt.domReference.current&&addPreviouslyFocusedElement(xt.domReference.current);const Gn=getPreviouslyFocusedElement();Ot.current&&!Qt.current&&isHTMLElement(Gn)&&(!(Gn!==Sn&&Sn!==Zt.body)||jn)&&enqueueFocus(Gn,{cancelPrevious:!1,preventScroll:Xt})}},[lt,kt,Wt,Ot,wt,xt,Rt,Dt,bt]),index$3(()=>{if(!lt&&jt)return jt.setFocusManagerState({modal:pt,closeOnFocusOut:gt,open:yt,onOpenChange:Et,refs:xt}),()=>{jt.setFocusManagerState(null)}},[lt,jt,pt,yt,Et,xt,gt]),index$3(()=>{if(lt||!Wt||typeof MutationObserver!="function"||It)return;const Xt=()=>{const Jt=Wt.getAttribute("tabindex"),Yt=pn(),gn=activeElement(getDocument(kt)),_n=Yt.indexOf(gn);_n!==-1&&(Kt.current=_n),Tt.current.includes("floating")||gn!==xt.domReference.current&&Yt.length===0?Jt!=="0"&&Wt.setAttribute("tabindex","0"):Jt!=="-1"&&Wt.setAttribute("tabindex","-1")};Xt();const Zt=new MutationObserver(Xt);return Zt.observe(Wt,{childList:!0,subtree:!0,attributes:!0}),()=>{Zt.disconnect()}},[lt,kt,Wt,xt,Tt,pn,It]);function Vt(Xt){return lt||!mt||!pt?null:reactExports.createElement(VisuallyHiddenDismiss,{ref:Xt==="start"?Mt:zt,onClick:Zt=>Et(!1,Zt.nativeEvent)},typeof mt=="string"?mt:"Dismiss")}const $t=!lt&&Pt&&(sn||pt);return reactExports.createElement(reactExports.Fragment,null,$t&&reactExports.createElement(FocusGuard,{"data-type":"inside",ref:jt==null?void 0:jt.beforeInsideRef,onFocus:Xt=>{if(pt){const Jt=rn();enqueueFocus(ct[0]==="reference"?Jt[0]:Jt[Jt.length-1])}else if(jt!=null&&jt.preserveTabOrder&&jt.portalNode)if(Qt.current=!1,isOutsideEvent(Xt,jt.portalNode)){const Jt=getNextTabbable()||At;Jt==null||Jt.focus()}else{var Zt;(Zt=jt.beforeOutsideRef.current)==null||Zt.focus()}}}),!Nt&&Vt("start"),at,Vt("end"),$t&&reactExports.createElement(FocusGuard,{"data-type":"inside",ref:jt==null?void 0:jt.afterInsideRef,onFocus:Xt=>{if(pt)enqueueFocus(rn()[0]);else if(jt!=null&&jt.preserveTabOrder&&jt.portalNode)if(gt&&(Qt.current=!0),isOutsideEvent(Xt,jt.portalNode)){const Jt=getPreviousTabbable()||At;Jt==null||Jt.focus()}else{var Zt;(Zt=jt.afterOutsideRef.current)==null||Zt.focus()}}}))}const activeLocks=new Set,FloatingOverlay=reactExports.forwardRef(function(rt,at){const{lockScroll:lt=!1,...ct}=rt,ut=useId();return index$3(()=>{if(!lt)return;activeLocks.add(ut);const dt=/iP(hone|ad|od)|iOS/.test(getPlatform()),ht=document.body.style,pt=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",mt=window.innerWidth-document.documentElement.clientWidth,gt=ht.left?parseFloat(ht.left):window.pageXOffset,yt=ht.top?parseFloat(ht.top):window.pageYOffset;if(ht.overflow="hidden",mt&&(ht[pt]=mt+"px"),dt){var xt,bt;const Et=((xt=window.visualViewport)==null?void 0:xt.offsetLeft)||0,Rt=((bt=window.visualViewport)==null?void 0:bt.offsetTop)||0;Object.assign(ht,{position:"fixed",top:-(yt-Math.floor(Rt))+"px",left:-(gt-Math.floor(Et))+"px",right:"0"})}return()=>{activeLocks.delete(ut),activeLocks.size===0&&(Object.assign(ht,{overflow:"",[pt]:""}),dt&&(Object.assign(ht,{position:"",top:"",left:"",right:""}),window.scrollTo(gt,yt)))}},[ut,lt]),reactExports.createElement("div",_extends$1({ref:at},ct,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...ct.style}}))});function isButtonTarget(ot){return isHTMLElement(ot.target)&&ot.target.tagName==="BUTTON"}function isSpaceIgnored(ot){return isTypeableElement(ot)}function useClick(ot,rt){rt===void 0&&(rt={});const{open:at,onOpenChange:lt,dataRef:ct,elements:{domReference:ut}}=ot,{enabled:dt=!0,event:ht="click",toggle:ft=!0,ignoreMouse:pt=!1,keyboardHandlers:mt=!0}=rt,gt=reactExports.useRef(),yt=reactExports.useRef(!1);return reactExports.useMemo(()=>dt?{reference:{onPointerDown(xt){gt.current=xt.pointerType},onMouseDown(xt){xt.button===0&&(isMouseLikePointerType(gt.current,!0)&&pt||ht!=="click"&&(at&&ft&&(!ct.current.openEvent||ct.current.openEvent.type==="mousedown")?lt(!1,xt.nativeEvent,"click"):(xt.preventDefault(),lt(!0,xt.nativeEvent,"click"))))},onClick(xt){if(ht==="mousedown"&&gt.current){gt.current=void 0;return}isMouseLikePointerType(gt.current,!0)&&pt||(at&&ft&&(!ct.current.openEvent||ct.current.openEvent.type==="click")?lt(!1,xt.nativeEvent,"click"):lt(!0,xt.nativeEvent,"click"))},onKeyDown(xt){gt.current=void 0,!(xt.defaultPrevented||!mt||isButtonTarget(xt))&&(xt.key===" "&&!isSpaceIgnored(ut)&&(xt.preventDefault(),yt.current=!0),xt.key==="Enter"&&lt(!(at&&ft),xt.nativeEvent,"click"))},onKeyUp(xt){xt.defaultPrevented||!mt||isButtonTarget(xt)||isSpaceIgnored(ut)||xt.key===" "&&yt.current&&(yt.current=!1,lt(!(at&&ft),xt.nativeEvent,"click"))}}}:{},[dt,ct,ht,pt,mt,ut,ft,at,lt])}const bubbleHandlerKeys={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},captureHandlerKeys={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},normalizeProp=ot=>{var rt,at;return{escapeKey:typeof ot=="boolean"?ot:(rt=ot==null?void 0:ot.escapeKey)!=null?rt:!1,outsidePress:typeof ot=="boolean"?ot:(at=ot==null?void 0:ot.outsidePress)!=null?at:!0}};function useDismiss(ot,rt){rt===void 0&&(rt={});const{open:at,onOpenChange:lt,elements:{reference:ct,domReference:ut,floating:dt},dataRef:ht}=ot,{enabled:ft=!0,escapeKey:pt=!0,outsidePress:mt=!0,outsidePressEvent:gt="pointerdown",referencePress:yt=!1,referencePressEvent:xt="pointerdown",ancestorScroll:bt=!1,bubbles:Et,capture:Rt}=rt,wt=useFloatingTree(),_t=useEffectEvent(typeof mt=="function"?mt:()=>!1),At=typeof mt=="function"?_t:mt,kt=reactExports.useRef(!1),It=reactExports.useRef(!1),{escapeKey:Nt,outsidePress:Pt}=normalizeProp(Et),{escapeKey:Tt,outsidePress:Ct}=normalizeProp(Rt),Ot=useEffectEvent(zt=>{var Qt;if(!at||!ft||!pt||zt.key!=="Escape")return;const qt=(Qt=ht.current.floatingContext)==null?void 0:Qt.nodeId,Kt=wt?getChildren(wt.nodesRef.current,qt):[];if(!Nt&&(zt.stopPropagation(),Kt.length>0)){let sn=!0;if(Kt.forEach(Gt=>{var Wt;if((Wt=Gt.context)!=null&&Wt.open&&!Gt.context.dataRef.current.__escapeKeyBubbles){sn=!1;return}}),!sn)return}lt(!1,isReactEvent(zt)?zt.nativeEvent:zt,"escape-key")}),Dt=useEffectEvent(zt=>{var Qt;const qt=()=>{var Kt;Ot(zt),(Kt=getTarget$1(zt))==null||Kt.removeEventListener("keydown",qt)};(Qt=getTarget$1(zt))==null||Qt.addEventListener("keydown",qt)}),jt=useEffectEvent(zt=>{var Qt;const qt=kt.current;kt.current=!1;const Kt=It.current;if(It.current=!1,gt==="click"&&Kt||qt||typeof At=="function"&&!At(zt))return;const sn=getTarget$1(zt),Gt="["+createAttribute("inert")+"]",Wt=getDocument(dt).querySelectorAll(Gt);let pn=isElement$1(sn)?sn:null;for(;pn&&!isLastTraversableNode(pn);){const Xt=getParentNode(pn);if(isLastTraversableNode(Xt)||!isElement$1(Xt))break;pn=Xt}if(Wt.length&&isElement$1(sn)&&!isRootElement(sn)&&!contains(sn,dt)&&Array.from(Wt).every(Xt=>!contains(pn,Xt)))return;if(isHTMLElement(sn)&&dt){const Xt=sn.clientWidth>0&&sn.scrollWidth>sn.clientWidth,Zt=sn.clientHeight>0&&sn.scrollHeight>sn.clientHeight;let Jt=Zt&&zt.offsetX>sn.clientWidth;if(Zt&&getComputedStyle$2(sn).direction==="rtl"&&(Jt=zt.offsetX<=sn.offsetWidth-sn.clientWidth),Jt||Xt&&zt.offsetY>sn.clientHeight)return}const rn=(Qt=ht.current.floatingContext)==null?void 0:Qt.nodeId,Vt=wt&&getChildren(wt.nodesRef.current,rn).some(Xt=>{var Zt;return isEventTargetWithin(zt,(Zt=Xt.context)==null?void 0:Zt.elements.floating)});if(isEventTargetWithin(zt,dt)||isEventTargetWithin(zt,ut)||Vt)return;const $t=wt?getChildren(wt.nodesRef.current,rn):[];if($t.length>0){let Xt=!0;if($t.forEach(Zt=>{var Jt;if((Jt=Zt.context)!=null&&Jt.open&&!Zt.context.dataRef.current.__outsidePressBubbles){Xt=!1;return}}),!Xt)return}lt(!1,zt,"outside-press")}),Mt=useEffectEvent(zt=>{var Qt;const qt=()=>{var Kt;jt(zt),(Kt=getTarget$1(zt))==null||Kt.removeEventListener(gt,qt)};(Qt=getTarget$1(zt))==null||Qt.addEventListener(gt,qt)});return reactExports.useEffect(()=>{if(!at||!ft)return;ht.current.__escapeKeyBubbles=Nt,ht.current.__outsidePressBubbles=Pt;function zt(Kt){lt(!1,Kt,"ancestor-scroll")}const Qt=getDocument(dt);pt&&Qt.addEventListener("keydown",Tt?Dt:Ot,Tt),At&&Qt.addEventListener(gt,Ct?Mt:jt,Ct);let qt=[];return bt&&(isElement$1(ut)&&(qt=getOverflowAncestors(ut)),isElement$1(dt)&&(qt=qt.concat(getOverflowAncestors(dt))),!isElement$1(ct)&&ct&&ct.contextElement&&(qt=qt.concat(getOverflowAncestors(ct.contextElement)))),qt=qt.filter(Kt=>{var sn;return Kt!==((sn=Qt.defaultView)==null?void 0:sn.visualViewport)}),qt.forEach(Kt=>{Kt.addEventListener("scroll",zt,{passive:!0})}),()=>{pt&&Qt.removeEventListener("keydown",Tt?Dt:Ot,Tt),At&&Qt.removeEventListener(gt,Ct?Mt:jt,Ct),qt.forEach(Kt=>{Kt.removeEventListener("scroll",zt)})}},[ht,dt,ut,ct,pt,At,gt,at,lt,bt,ft,Nt,Pt,Ot,Tt,Dt,jt,Ct,Mt]),reactExports.useEffect(()=>{kt.current=!1},[At,gt]),reactExports.useMemo(()=>ft?{reference:{onKeyDown:Ot,[bubbleHandlerKeys[xt]]:zt=>{yt&&lt(!1,zt.nativeEvent,"reference-press")}},floating:{onKeyDown:Ot,onMouseDown(){It.current=!0},onMouseUp(){It.current=!0},[captureHandlerKeys[gt]]:()=>{kt.current=!0}}}:{},[ft,yt,gt,xt,lt,Ot])}function useFloatingRootContext(ot){const{open:rt=!1,onOpenChange:at,elements:lt}=ot,ct=useId(),ut=reactExports.useRef({}),[dt]=reactExports.useState(()=>createPubSub()),ht=useFloatingParentNodeId()!=null,[ft,pt]=reactExports.useState(lt.reference),mt=useEffectEvent((xt,bt,Et)=>{ut.current.openEvent=xt?bt:void 0,dt.emit("openchange",{open:xt,event:bt,reason:Et,nested:ht}),at==null||at(xt,bt,Et)}),gt=reactExports.useMemo(()=>({setPositionReference:pt}),[]),yt=reactExports.useMemo(()=>({reference:ft||lt.reference||null,floating:lt.floating||null,domReference:lt.reference}),[ft,lt.reference,lt.floating]);return reactExports.useMemo(()=>({dataRef:ut,open:rt,onOpenChange:mt,elements:yt,events:dt,floatingId:ct,refs:gt}),[rt,mt,yt,dt,ct,gt])}function useFloating(ot){ot===void 0&&(ot={});const{nodeId:rt}=ot,at=useFloatingRootContext({...ot,elements:{reference:null,floating:null,...ot.elements}}),lt=ot.rootContext||at,ct=lt.elements,[ut,dt]=reactExports.useState(null),[ht,ft]=reactExports.useState(null),mt=(ct==null?void 0:ct.reference)||ut,gt=reactExports.useRef(null),yt=useFloatingTree();index$3(()=>{mt&&(gt.current=mt)},[mt]);const xt=useFloating$1({...ot,elements:{...ct,...ht&&{reference:ht}}}),bt=reactExports.useCallback(At=>{const kt=isElement$1(At)?{getBoundingClientRect:()=>At.getBoundingClientRect(),contextElement:At}:At;ft(kt),xt.refs.setReference(kt)},[xt.refs]),Et=reactExports.useCallback(At=>{(isElement$1(At)||At===null)&&(gt.current=At,dt(At)),(isElement$1(xt.refs.reference.current)||xt.refs.reference.current===null||At!==null&&!isElement$1(At))&&xt.refs.setReference(At)},[xt.refs]),Rt=reactExports.useMemo(()=>({...xt.refs,setReference:Et,setPositionReference:bt,domReference:gt}),[xt.refs,Et,bt]),wt=reactExports.useMemo(()=>({...xt.elements,domReference:mt}),[xt.elements,mt]),_t=reactExports.useMemo(()=>({...xt,...lt,refs:Rt,elements:wt,nodeId:rt}),[xt,Rt,wt,rt,lt]);return index$3(()=>{lt.dataRef.current.floatingContext=_t;const At=yt==null?void 0:yt.nodesRef.current.find(kt=>kt.id===rt);At&&(At.context=_t)}),reactExports.useMemo(()=>({...xt,context:_t,refs:Rt,elements:wt}),[xt,Rt,wt,_t])}function useFocus(ot,rt){rt===void 0&&(rt={});const{open:at,onOpenChange:lt,events:ct,dataRef:ut,elements:{domReference:dt}}=ot,{enabled:ht=!0,visibleOnly:ft=!0}=rt,pt=reactExports.useRef(!1),mt=reactExports.useRef(),gt=reactExports.useRef(!0);return reactExports.useEffect(()=>{if(!ht)return;const yt=getWindow(dt);function xt(){!at&&isHTMLElement(dt)&&dt===activeElement(getDocument(dt))&&(pt.current=!0)}function bt(){gt.current=!0}return yt.addEventListener("blur",xt),yt.addEventListener("keydown",bt,!0),()=>{yt.removeEventListener("blur",xt),yt.removeEventListener("keydown",bt,!0)}},[dt,at,ht]),reactExports.useEffect(()=>{if(!ht)return;function yt(xt){let{reason:bt}=xt;(bt==="reference-press"||bt==="escape-key")&&(pt.current=!0)}return ct.on("openchange",yt),()=>{ct.off("openchange",yt)}},[ct,ht]),reactExports.useEffect(()=>()=>{clearTimeout(mt.current)},[]),reactExports.useMemo(()=>ht?{reference:{onPointerDown(yt){isVirtualPointerEvent(yt.nativeEvent)||(gt.current=!1)},onMouseLeave(){pt.current=!1},onFocus(yt){if(pt.current)return;const xt=getTarget$1(yt.nativeEvent);if(ft&&isElement$1(xt))try{if(isSafari()&&isMac())throw Error();if(!xt.matches(":focus-visible"))return}catch{if(!gt.current&&!isTypeableElement(xt))return}lt(!0,yt.nativeEvent,"focus")},onBlur(yt){pt.current=!1;const xt=yt.relatedTarget,bt=isElement$1(xt)&&xt.hasAttribute(createAttribute("focus-guard"))&&xt.getAttribute("data-type")==="outside";mt.current=window.setTimeout(()=>{var Et;const Rt=activeElement(dt?dt.ownerDocument:document);!xt&&Rt===dt||contains((Et=ut.current.floatingContext)==null?void 0:Et.refs.floating.current,Rt)||contains(dt,Rt)||bt||lt(!1,yt.nativeEvent,"focus")})}}}:{},[ht,ft,ut,dt,lt])}const ACTIVE_KEY="active",SELECTED_KEY="selected";function mergeProps$1(ot,rt,at){const lt=new Map,ct=at==="item";let ut=ot;if(ct&&ot){const{[ACTIVE_KEY]:dt,[SELECTED_KEY]:ht,...ft}=ot;ut=ft}return{...at==="floating"&&{tabIndex:-1},...ut,...rt.map(dt=>{const ht=dt?dt[at]:null;return typeof ht=="function"?ot?ht(ot):null:ht}).concat(ot).reduce((dt,ht)=>(ht&&Object.entries(ht).forEach(ft=>{let[pt,mt]=ft;if(!(ct&&[ACTIVE_KEY,SELECTED_KEY].includes(pt)))if(pt.indexOf("on")===0){if(lt.has(pt)||lt.set(pt,[]),typeof mt=="function"){var gt;(gt=lt.get(pt))==null||gt.push(mt),dt[pt]=function(){for(var yt,xt=arguments.length,bt=new Array(xt),Et=0;Et<xt;Et++)bt[Et]=arguments[Et];return(yt=lt.get(pt))==null?void 0:yt.map(Rt=>Rt(...bt)).find(Rt=>Rt!==void 0)}}}else dt[pt]=mt}),dt),{})}}function useInteractions(ot){ot===void 0&&(ot=[]);const rt=ot,at=reactExports.useCallback(ut=>mergeProps$1(ut,ot,"reference"),rt),lt=reactExports.useCallback(ut=>mergeProps$1(ut,ot,"floating"),rt),ct=reactExports.useCallback(ut=>mergeProps$1(ut,ot,"item"),ot.map(ut=>ut==null?void 0:ut.item));return reactExports.useMemo(()=>({getReferenceProps:at,getFloatingProps:lt,getItemProps:ct}),[at,lt,ct])}let isPreventScrollSupported=!1;function doSwitch(ot,rt,at){switch(ot){case"vertical":return rt;case"horizontal":return at;default:return rt||at}}function isMainOrientationKey(ot,rt){return doSwitch(rt,ot===ARROW_UP||ot===ARROW_DOWN,ot===ARROW_LEFT||ot===ARROW_RIGHT)}function isMainOrientationToEndKey(ot,rt,at){return doSwitch(rt,ot===ARROW_DOWN,at?ot===ARROW_LEFT:ot===ARROW_RIGHT)||ot==="Enter"||ot===" "||ot===""}function isCrossOrientationOpenKey(ot,rt,at){return doSwitch(rt,at?ot===ARROW_LEFT:ot===ARROW_RIGHT,ot===ARROW_DOWN)}function isCrossOrientationCloseKey(ot,rt,at){return doSwitch(rt,at?ot===ARROW_RIGHT:ot===ARROW_LEFT,ot===ARROW_UP)}function useListNavigation(ot,rt){const{open:at,onOpenChange:lt,elements:{domReference:ct,floating:ut}}=ot,{listRef:dt,activeIndex:ht,onNavigate:ft=()=>{},enabled:pt=!0,selectedIndex:mt=null,allowEscape:gt=!1,loop:yt=!1,nested:xt=!1,rtl:bt=!1,virtual:Et=!1,focusItemOnOpen:Rt="auto",focusItemOnHover:wt=!0,openOnArrowKeyDown:_t=!0,disabledIndices:At=void 0,orientation:kt="vertical",cols:It=1,scrollItemIntoView:Nt=!0,virtualItemRef:Pt,itemSizes:Tt,dense:Ct=!1}=rt,Ot=useFloatingParentNodeId(),Dt=useFloatingTree(),jt=useEffectEvent(ft),Mt=reactExports.useRef(Rt),zt=reactExports.useRef(mt??-1),Qt=reactExports.useRef(null),qt=reactExports.useRef(!0),Kt=reactExports.useRef(jt),sn=reactExports.useRef(!!ut),Gt=reactExports.useRef(!1),Wt=reactExports.useRef(!1),pn=useLatestRef(At),rn=useLatestRef(at),Vt=useLatestRef(Nt),$t=useLatestRef(ut),Xt=useLatestRef(mt),[Zt,Jt]=reactExports.useState(),[Yt,gn]=reactExports.useState(),_n=useEffectEvent(function(Dn,Gn,Kn){Kn===void 0&&(Kn=!1);function hn(cn){Et?(Jt(cn.id),Dt==null||Dt.events.emit("virtualfocus",cn),Pt&&(Pt.current=cn)):enqueueFocus(cn,{preventScroll:!0,sync:isMac()&&isSafari()?isPreventScrollSupported||Gt.current:!1})}const En=Dn.current[Gn.current];En&&hn(En),requestAnimationFrame(()=>{const cn=Dn.current[Gn.current]||En;if(!cn)return;En||hn(cn);const dn=Vt.current;dn&&jn&&(Kn||!qt.current)&&(cn.scrollIntoView==null||cn.scrollIntoView(typeof dn=="boolean"?{block:"nearest",inline:"nearest"}:dn))})});index$3(()=>{document.createElement("div").focus({get preventScroll(){return isPreventScrollSupported=!0,!1}})},[]),index$3(()=>{pt&&(at&&ut?Mt.current&&mt!=null&&(Wt.current=!0,zt.current=mt,jt(mt)):sn.current&&(zt.current=-1,Kt.current(null)))},[pt,at,ut,mt,jt]),index$3(()=>{if(pt&&at&&ut)if(ht==null){if(Gt.current=!1,Xt.current!=null)return;if(sn.current&&(zt.current=-1,_n(dt,zt)),!sn.current&&Mt.current&&(Qt.current!=null||Mt.current===!0&&Qt.current==null)){let Dn=0;const Gn=()=>{dt.current[0]==null?(Dn<2&&(Dn?requestAnimationFrame:queueMicrotask)(Gn),Dn++):(zt.current=Qt.current==null||isMainOrientationToEndKey(Qt.current,kt,bt)||xt?getMinIndex(dt,pn.current):getMaxIndex(dt,pn.current),Qt.current=null,jt(zt.current))};Gn()}}else isIndexOutOfBounds(dt,ht)||(zt.current=ht,_n(dt,zt,Wt.current),Wt.current=!1)},[pt,at,ut,ht,Xt,xt,dt,kt,bt,jt,_n,pn]),index$3(()=>{var Dn;if(!pt||ut||!Dt||Et||!sn.current)return;const Gn=Dt.nodesRef.current,Kn=(Dn=Gn.find(cn=>cn.id===Ot))==null||(Dn=Dn.context)==null?void 0:Dn.elements.floating,hn=activeElement(getDocument(ut)),En=Gn.some(cn=>cn.context&&contains(cn.context.elements.floating,hn));Kn&&!En&&qt.current&&Kn.focus({preventScroll:!0})},[pt,ut,Dt,Ot,Et]),index$3(()=>{if(!pt||!Dt||!Et||Ot)return;function Dn(Gn){gn(Gn.id),Pt&&(Pt.current=Gn)}return Dt.events.on("virtualfocus",Dn),()=>{Dt.events.off("virtualfocus",Dn)}},[pt,Dt,Et,Ot,Pt]),index$3(()=>{Kt.current=jt,sn.current=!!ut}),index$3(()=>{at||(Qt.current=null)},[at]);const Sn=ht!=null,jn=reactExports.useMemo(()=>{function Dn(Kn){if(!at)return;const hn=dt.current.indexOf(Kn);hn!==-1&&jt(hn)}return{onFocus(Kn){let{currentTarget:hn}=Kn;Dn(hn)},onClick:Kn=>{let{currentTarget:hn}=Kn;return hn.focus({preventScroll:!0})},...wt&&{onMouseMove(Kn){let{currentTarget:hn}=Kn;Dn(hn)},onPointerLeave(Kn){let{pointerType:hn}=Kn;!qt.current||hn==="touch"||(zt.current=-1,_n(dt,zt),jt(null),Et||enqueueFocus($t.current,{preventScroll:!0}))}}}},[at,$t,_n,wt,dt,jt,Et]);return reactExports.useMemo(()=>{if(!pt)return{};const Dn=pn.current;function Gn(dn){if(qt.current=!1,Gt.current=!0,!rn.current&&dn.currentTarget===$t.current)return;if(xt&&isCrossOrientationCloseKey(dn.key,kt,bt)){stopEvent(dn),lt(!1,dn.nativeEvent,"list-navigation"),isHTMLElement(ct)&&!Et&&ct.focus();return}const wn=zt.current,kn=getMinIndex(dt,Dn),Un=getMaxIndex(dt,Dn);if(dn.key==="Home"&&(stopEvent(dn),zt.current=kn,jt(zt.current)),dn.key==="End"&&(stopEvent(dn),zt.current=Un,jt(zt.current)),It>1){const Jn=Tt||Array.from({length:dt.current.length},()=>({width:1,height:1})),An=buildCellMap(Jn,It,Ct),xn=An.findIndex(Qn=>Qn!=null&&!isDisabled(dt.current,Qn,Dn)),er=An.reduce((Qn,gr,yr)=>gr!=null&&!isDisabled(dt.current,gr,Dn)?yr:Qn,-1);if(zt.current=An[getGridNavigatedIndex({current:An.map(Qn=>Qn!=null?dt.current[Qn]:null)},{event:dn,orientation:kt,loop:yt,cols:It,disabledIndices:getCellIndices([...Dn||dt.current.map((Qn,gr)=>isDisabled(dt.current,gr)?gr:void 0),void 0],An),minIndex:xn,maxIndex:er,prevIndex:getCellIndexOfCorner(zt.current>Un?kn:zt.current,Jn,An,It,dn.key===ARROW_DOWN?"bl":dn.key===ARROW_RIGHT?"tr":"tl"),stopEvent:!0})],jt(zt.current),kt==="both")return}if(isMainOrientationKey(dn.key,kt)){if(stopEvent(dn),at&&!Et&&activeElement(dn.currentTarget.ownerDocument)===dn.currentTarget){zt.current=isMainOrientationToEndKey(dn.key,kt,bt)?kn:Un,jt(zt.current);return}isMainOrientationToEndKey(dn.key,kt,bt)?yt?zt.current=wn>=Un?gt&&wn!==dt.current.length?-1:kn:findNonDisabledIndex(dt,{startingIndex:wn,disabledIndices:Dn}):zt.current=Math.min(Un,findNonDisabledIndex(dt,{startingIndex:wn,disabledIndices:Dn})):yt?zt.current=wn<=kn?gt&&wn!==-1?dt.current.length:Un:findNonDisabledIndex(dt,{startingIndex:wn,decrement:!0,disabledIndices:Dn}):zt.current=Math.max(kn,findNonDisabledIndex(dt,{startingIndex:wn,decrement:!0,disabledIndices:Dn})),isIndexOutOfBounds(dt,zt.current)?jt(null):jt(zt.current)}}function Kn(dn){Rt==="auto"&&isVirtualClick(dn.nativeEvent)&&(Mt.current=!0)}function hn(dn){Mt.current=Rt,Rt==="auto"&&isVirtualPointerEvent(dn.nativeEvent)&&(Mt.current=!0)}const En=Et&&at&&Sn&&{"aria-activedescendant":Yt||Zt},cn=dt.current.find(dn=>(dn==null?void 0:dn.id)===Zt);return{reference:{...En,onKeyDown(dn){qt.current=!1;const wn=dn.key.indexOf("Arrow")===0,kn=isCrossOrientationOpenKey(dn.key,kt,bt),Un=isCrossOrientationCloseKey(dn.key,kt,bt),Jn=isMainOrientationKey(dn.key,kt),An=(xt?kn:Jn)||dn.key==="Enter"||dn.key.trim()==="";if(Et&&at){const gr=Dt==null?void 0:Dt.nodesRef.current.find(Fr=>Fr.parentId==null),yr=Dt&&gr?getDeepestNode(Dt.nodesRef.current,gr.id):null;if(wn&&yr&&Pt){const Fr=new KeyboardEvent("keydown",{key:dn.key,bubbles:!0});if(kn||Un){var xn,er;const br=((xn=yr.context)==null?void 0:xn.elements.domReference)===dn.currentTarget,Er=Un&&!br?(er=yr.context)==null?void 0:er.elements.domReference:kn?cn:null;Er&&(stopEvent(dn),Er.dispatchEvent(Fr),gn(void 0))}if(Jn&&yr.context&&yr.context.open&&yr.parentId&&dn.currentTarget!==yr.context.elements.domReference){var Qn;stopEvent(dn),(Qn=yr.context.elements.domReference)==null||Qn.dispatchEvent(Fr);return}}return Gn(dn)}if(!(!at&&!_t&&wn)){if(An&&(Qt.current=xt&&Jn?null:dn.key),xt){kn&&(stopEvent(dn),at?(zt.current=getMinIndex(dt,Dn),jt(zt.current)):lt(!0,dn.nativeEvent,"list-navigation"));return}Jn&&(mt!=null&&(zt.current=mt),stopEvent(dn),!at&&_t?lt(!0,dn.nativeEvent,"list-navigation"):Gn(dn),at&&jt(zt.current))}},onFocus(){at&&!Et&&jt(null)},onPointerDown:hn,onMouseDown:Kn,onClick:Kn},floating:{"aria-orientation":kt==="both"?void 0:kt,...!isTypeableCombobox(ct)&&En,onKeyDown:Gn,onPointerMove(){qt.current=!0}},item:jn}},[ct,$t,Zt,Yt,pn,rn,dt,pt,kt,bt,Et,at,Sn,xt,mt,_t,gt,It,yt,Rt,jt,lt,jn,Dt,Pt,Tt,Ct])}const componentRoleToAriaRoleMap=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function useRole(ot,rt){var at;rt===void 0&&(rt={});const{open:lt,floatingId:ct}=ot,{enabled:ut=!0,role:dt="dialog"}=rt,ht=(at=componentRoleToAriaRoleMap.get(dt))!=null?at:dt,ft=useId(),mt=useFloatingParentNodeId()!=null;return reactExports.useMemo(()=>{if(!ut)return{};const gt={id:ct,...ht&&{role:ht}};return ht==="tooltip"||dt==="label"?{reference:{["aria-"+(dt==="label"?"labelledby":"describedby")]:lt?ct:void 0},floating:gt}:{reference:{"aria-expanded":lt?"true":"false","aria-haspopup":ht==="alertdialog"?"dialog":ht,"aria-controls":lt?ct:void 0,...ht==="listbox"&&{role:"combobox"},...ht==="menu"&&{id:ft},...ht==="menu"&&mt&&{role:"menuitem"},...dt==="select"&&{"aria-autocomplete":"none"},...dt==="combobox"&&{"aria-autocomplete":"list"}},floating:{...gt,...ht==="menu"&&{"aria-labelledby":ft}},item(yt){let{active:xt,selected:bt}=yt;const Et={role:"option",...xt&&{id:ct+"-option"}};switch(dt){case"select":return{...Et,"aria-selected":xt&&bt};case"combobox":return{...Et,...xt&&{"aria-selected":!0}}}return{}}}},[ut,dt,ht,lt,ct,ft,mt])}function useTypeahead(ot,rt){var at;const{open:lt,dataRef:ct}=ot,{listRef:ut,activeIndex:dt,onMatch:ht,onTypingChange:ft,enabled:pt=!0,findMatch:mt=null,resetMs:gt=750,ignoreKeys:yt=[],selectedIndex:xt=null}=rt,bt=reactExports.useRef(),Et=reactExports.useRef(""),Rt=reactExports.useRef((at=xt??dt)!=null?at:-1),wt=reactExports.useRef(null),_t=useEffectEvent(ht),At=useEffectEvent(ft),kt=useLatestRef(mt),It=useLatestRef(yt);return index$3(()=>{lt&&(clearTimeout(bt.current),wt.current=null,Et.current="")},[lt]),index$3(()=>{if(lt&&Et.current===""){var Nt;Rt.current=(Nt=xt??dt)!=null?Nt:-1}},[lt,xt,dt]),reactExports.useMemo(()=>{if(!pt)return{};function Nt(Ct){Ct?ct.current.typing||(ct.current.typing=Ct,At(Ct)):ct.current.typing&&(ct.current.typing=Ct,At(Ct))}function Pt(Ct,Ot,Dt){const jt=kt.current?kt.current(Ot,Dt):Ot.find(Mt=>(Mt==null?void 0:Mt.toLocaleLowerCase().indexOf(Dt.toLocaleLowerCase()))===0);return jt?Ct.indexOf(jt):-1}function Tt(Ct){const Ot=ut.current;if(Et.current.length>0&&Et.current[0]!==" "&&(Pt(Ot,Ot,Et.current)===-1?Nt(!1):Ct.key===" "&&stopEvent(Ct)),Ot==null||It.current.includes(Ct.key)||Ct.key.length!==1||Ct.ctrlKey||Ct.metaKey||Ct.altKey)return;lt&&Ct.key!==" "&&(stopEvent(Ct),Nt(!0)),Ot.every(zt=>{var Qt,qt;return zt?((Qt=zt[0])==null?void 0:Qt.toLocaleLowerCase())!==((qt=zt[1])==null?void 0:qt.toLocaleLowerCase()):!0})&&Et.current===Ct.key&&(Et.current="",Rt.current=wt.current),Et.current+=Ct.key,clearTimeout(bt.current),bt.current=setTimeout(()=>{Et.current="",Rt.current=wt.current,Nt(!1)},gt);const jt=Rt.current,Mt=Pt(Ot,[...Ot.slice((jt||0)+1),...Ot.slice(0,(jt||0)+1)],Et.current);Mt!==-1?(_t(Mt),wt.current=Mt):Ct.key!==" "&&(Et.current="",Nt(!1))}return{reference:{onKeyDown:Tt},floating:{onKeyDown:Tt,onKeyUp(Ct){Ct.key===" "&&Nt(!1)}}}},[pt,lt,ct,ut,gt,It,kt,_t,At])}function isPointInPolygon(ot,rt){const[at,lt]=ot;let ct=!1;const ut=rt.length;for(let dt=0,ht=ut-1;dt<ut;ht=dt++){const[ft,pt]=rt[dt]||[0,0],[mt,gt]=rt[ht]||[0,0];pt>=lt!=gt>=lt&&at<=(mt-ft)*(lt-pt)/(gt-pt)+ft&&(ct=!ct)}return ct}function isInside(ot,rt){return ot[0]>=rt.x&&ot[0]<=rt.x+rt.width&&ot[1]>=rt.y&&ot[1]<=rt.y+rt.height}function safePolygon(ot){ot===void 0&&(ot={});const{buffer:rt=.5,blockPointerEvents:at=!1,requireIntent:lt=!0}=ot;let ct,ut=!1,dt=null,ht=null,ft=performance.now();function pt(gt,yt){const xt=performance.now(),bt=xt-ft;if(dt===null||ht===null||bt===0)return dt=gt,ht=yt,ft=xt,null;const Et=gt-dt,Rt=yt-ht,_t=Math.sqrt(Et*Et+Rt*Rt)/bt;return dt=gt,ht=yt,ft=xt,_t}const mt=gt=>{let{x:yt,y:xt,placement:bt,elements:Et,onClose:Rt,nodeId:wt,tree:_t}=gt;return function(kt){function It(){clearTimeout(ct),Rt()}if(clearTimeout(ct),!Et.domReference||!Et.floating||bt==null||yt==null||xt==null)return;const{clientX:Nt,clientY:Pt}=kt,Tt=[Nt,Pt],Ct=getTarget$1(kt),Ot=kt.type==="mouseleave",Dt=contains(Et.floating,Ct),jt=contains(Et.domReference,Ct),Mt=Et.domReference.getBoundingClientRect(),zt=Et.floating.getBoundingClientRect(),Qt=bt.split("-")[0],qt=yt>zt.right-zt.width/2,Kt=xt>zt.bottom-zt.height/2,sn=isInside(Tt,Mt),Gt=zt.width>Mt.width,Wt=zt.height>Mt.height,pn=(Gt?Mt:zt).left,rn=(Gt?Mt:zt).right,Vt=(Wt?Mt:zt).top,$t=(Wt?Mt:zt).bottom;if(Dt&&(ut=!0,!Ot))return;if(jt&&(ut=!1),jt&&!Ot){ut=!0;return}if(Ot&&isElement$1(kt.relatedTarget)&&contains(Et.floating,kt.relatedTarget)||_t&&getChildren(_t.nodesRef.current,wt).some(Jt=>{let{context:Yt}=Jt;return Yt==null?void 0:Yt.open}))return;if(Qt==="top"&&xt>=Mt.bottom-1||Qt==="bottom"&&xt<=Mt.top+1||Qt==="left"&&yt>=Mt.right-1||Qt==="right"&&yt<=Mt.left+1)return It();let Xt=[];switch(Qt){case"top":Xt=[[pn,Mt.top+1],[pn,zt.bottom-1],[rn,zt.bottom-1],[rn,Mt.top+1]];break;case"bottom":Xt=[[pn,zt.top+1],[pn,Mt.bottom-1],[rn,Mt.bottom-1],[rn,zt.top+1]];break;case"left":Xt=[[zt.right-1,$t],[zt.right-1,Vt],[Mt.left+1,Vt],[Mt.left+1,$t]];break;case"right":Xt=[[Mt.right-1,$t],[Mt.right-1,Vt],[zt.left+1,Vt],[zt.left+1,$t]];break}function Zt(Jt){let[Yt,gn]=Jt;switch(Qt){case"top":{const _n=[Gt?Yt+rt/2:qt?Yt+rt*4:Yt-rt*4,gn+rt+1],Sn=[Gt?Yt-rt/2:qt?Yt+rt*4:Yt-rt*4,gn+rt+1],jn=[[zt.left,qt||Gt?zt.bottom-rt:zt.top],[zt.right,qt?Gt?zt.bottom-rt:zt.top:zt.bottom-rt]];return[_n,Sn,...jn]}case"bottom":{const _n=[Gt?Yt+rt/2:qt?Yt+rt*4:Yt-rt*4,gn-rt],Sn=[Gt?Yt-rt/2:qt?Yt+rt*4:Yt-rt*4,gn-rt],jn=[[zt.left,qt||Gt?zt.top+rt:zt.bottom],[zt.right,qt?Gt?zt.top+rt:zt.bottom:zt.top+rt]];return[_n,Sn,...jn]}case"left":{const _n=[Yt+rt+1,Wt?gn+rt/2:Kt?gn+rt*4:gn-rt*4],Sn=[Yt+rt+1,Wt?gn-rt/2:Kt?gn+rt*4:gn-rt*4];return[...[[Kt||Wt?zt.right-rt:zt.left,zt.top],[Kt?Wt?zt.right-rt:zt.left:zt.right-rt,zt.bottom]],_n,Sn]}case"right":{const _n=[Yt-rt,Wt?gn+rt/2:Kt?gn+rt*4:gn-rt*4],Sn=[Yt-rt,Wt?gn-rt/2:Kt?gn+rt*4:gn-rt*4],jn=[[Kt||Wt?zt.left+rt:zt.right,zt.top],[Kt?Wt?zt.left+rt:zt.right:zt.left+rt,zt.bottom]];return[_n,Sn,...jn]}}}if(!isPointInPolygon([Nt,Pt],Xt)){if(ut&&!sn)return It();if(!Ot&&lt){const Jt=pt(kt.clientX,kt.clientY);if(Jt!==null&&Jt<.1)return It()}isPointInPolygon([Nt,Pt],Zt([yt,xt]))?!ut&&lt&&(ct=window.setTimeout(It,40)):It()}}};return mt.__options={blockPointerEvents:at},mt}const getMiddleware=({arrowRef:ot,placement:rt})=>{const at=[];return at.push(offset(8)),at.push(rt==="auto"?autoPlacement():flip()),at.push(shift({padding:8})),ot!=null&&ot.current&&at.push(arrow({element:ot.current})),at},getPlacement=({placement:ot})=>ot==="auto"?void 0:ot,getArrowPlacement=({placement:ot})=>({top:"bottom",right:"left",bottom:"top",left:"right"})[ot.split("-")[0]],useBaseFLoating=({open:ot,arrowRef:rt,placement:at="top",setOpen:lt})=>useFloating({placement:getPlacement({placement:at}),open:ot,onOpenChange:lt,whileElementsMounted:autoUpdate,middleware:getMiddleware({placement:at,arrowRef:rt})}),useFloatingInteractions=({context:ot,trigger:rt,role:at="tooltip",interactions:lt=[]})=>useInteractions([useClick(ot,{enabled:rt==="click"}),useHover(ot,{enabled:rt==="hover",handleClose:safePolygon()}),useDismiss(ot),useRole(ot,{role:at}),...lt]),Floating=({animation:ot="duration-300",arrow:rt=!0,children:at,className:lt,content:ct,placement:ut="top",style:dt="dark",theme:ht,trigger:ft="hover",minWidth:pt,...mt})=>{const gt=reactExports.useRef(null),[yt,xt]=reactExports.useState(!1),bt=useBaseFLoating({open:yt,placement:ut,arrowRef:gt,setOpen:xt}),{context:Et,middlewareData:{arrow:{x:Rt,y:wt}={}},refs:_t,strategy:At,update:kt,x:It,y:Nt}=bt,Pt=useFocus(Et),{getFloatingProps:Tt,getReferenceProps:Ct}=useFloatingInteractions({context:Et,role:"tooltip",trigger:ft,interactions:[Pt]});return reactExports.useEffect(()=>{if(_t.reference.current&&_t.floating.current&&yt)return autoUpdate(_t.reference.current,_t.floating.current,kt)},[yt,_t.floating,_t.reference,kt]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{ref:_t.setReference,className:ht.target,"data-testid":"flowbite-tooltip-target",...Ct(),children:at}),jsxRuntimeExports.jsxs("div",{ref:_t.setFloating,"data-testid":"flowbite-tooltip",...Tt({className:twMerge(ht.base,ot&&`${ht.animation} ${ot}`,!yt&&ht.hidden,ht.style[dt],lt),style:{position:At,top:Nt??" ",left:It??" ",minWidth:pt},...mt}),children:[jsxRuntimeExports.jsx("div",{className:ht.content,children:ct}),rt&&jsxRuntimeExports.jsx("div",{className:twMerge(ht.arrow.base,dt==="dark"&&ht.arrow.style.dark,dt==="light"&&ht.arrow.style.light,dt==="auto"&&ht.arrow.style.auto),"data-testid":"flowbite-tooltip-arrow",ref:gt,style:{top:wt??" ",left:Rt??" ",right:" ",bottom:" ",[getArrowPlacement({placement:bt.placement})]:ht.arrow.placement},children:" "})]})]})},Tooltip=({animation:ot="duration-300",arrow:rt=!0,children:at,className:lt,content:ct,placement:ut="top",style:dt="dark",theme:ht={},trigger:ft="hover",...pt})=>{const mt=mergeDeep(getTheme().tooltip,ht);return jsxRuntimeExports.jsx(Floating,{animation:ot,arrow:rt,content:ct,placement:ut,style:dt,theme:mt,trigger:ft,className:lt,...pt,children:at})};Tooltip.displayName="Tooltip";function FaCheck(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(ot)}function FaClipboardList(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M192 0c-41.8 0-77.4 26.7-90.5 64H64C28.7 64 0 92.7 0 128V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V128c0-35.3-28.7-64-64-64H282.5C269.4 26.7 233.8 0 192 0zm0 64a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM72 272a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm104-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16s7.2-16 16-16zM72 368a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zm88 0c0-8.8 7.2-16 16-16H304c8.8 0 16 7.2 16 16s-7.2 16-16 16H176c-8.8 0-16-7.2-16-16z"},child:[]}]})(ot)}function FaQuoteRight(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 296c0 66.3-53.7 120-120 120h-8c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H320c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72zm-256 0c0 66.3-53.7 120-120 120H64c-17.7 0-32-14.3-32-32s14.3-32 32-32h8c30.9 0 56-25.1 56-56v-8H64c-35.3 0-64-28.7-64-64V160c0-35.3 28.7-64 64-64h64c35.3 0 64 28.7 64 64v32 32 72z"},child:[]}]})(ot)}const copyToClipboard=(ot,rt)=>{var at;rt(!0),(at=navigator==null?void 0:navigator.clipboard)==null||at.writeText(ot).then(()=>{console.log("Copy Successfull")}).catch(lt=>{console.error("Failed to Copy text: ",lt),rt(!1)}),setTimeout(()=>rt(!1),4e3)},ClipboardWithIcon=reactExports.forwardRef(({valueToCopy:ot,icon:rt=FaClipboardList,theme:at={},className:lt,...ct},ut)=>{const[dt,ht]=reactExports.useState(!1),ft=mergeDeep(getTheme().clipboard.withIcon,at);return jsxRuntimeExports.jsx("button",{className:twMerge(ft.base,lt),onClick:()=>copyToClipboard(ot,ht),...ct,ref:ut,children:dt?jsxRuntimeExports.jsx(FaCheck,{"aria-hidden":!0,className:ft.icon.successIcon}):jsxRuntimeExports.jsx(rt,{"aria-hidden":!0,className:ft.icon.defaultIcon})})}),ClipboardWithIconText=reactExports.forwardRef(({valueToCopy:ot,icon:rt=FaClipboardList,label:at="Copy",theme:lt={},className:ct,...ut},dt)=>{const[ht,ft]=reactExports.useState(!1),pt=mergeDeep(getTheme().clipboard.withIconText,lt);return jsxRuntimeExports.jsx("button",{className:twMerge(pt.base,ct),onClick:()=>copyToClipboard(ot,ft),...ut,ref:dt,children:ht?jsxRuntimeExports.jsxs("span",{className:pt.label.base,children:[jsxRuntimeExports.jsx(FaCheck,{"aria-hidden":!0,className:pt.icon.successIcon}),jsxRuntimeExports.jsx("span",{className:pt.label.successText,children:"Copied"})]}):jsxRuntimeExports.jsxs("span",{className:pt.label.base,children:[jsxRuntimeExports.jsx(rt,{"aria-hidden":!0,className:pt.icon.defaultIcon}),jsxRuntimeExports.jsx("span",{className:pt.label.defaultText,children:at})]})})}),ClipboardComponent=reactExports.forwardRef(({className:ot,valueToCopy:rt,label:at,theme:lt={},...ct},ut)=>{const[dt,ht]=reactExports.useState(!1),ft=mergeDeep(getTheme().clipboard.button,lt);return jsxRuntimeExports.jsx(Tooltip,{content:dt?"Copied":"Copy to clipboard",className:"[&_*]:cursor-pointer",children:jsxRuntimeExports.jsx("button",{className:twMerge(ft.base,ot),onClick:()=>copyToClipboard(rt,ht),...ct,ref:ut,children:jsxRuntimeExports.jsx("span",{className:ft.label,children:at})})})});ClipboardComponent.displayName="Clipboard";ClipboardWithIcon.displayName="Clipboard.WithIcon";ClipboardWithIconText.displayName="Clipboard.WithIconText";Object.assign(ClipboardComponent,{WithIcon:ClipboardWithIcon,WithIconText:ClipboardWithIconText});const HelperText=({children:ot,className:rt,color:at="default",theme:lt={},value:ct,...ut})=>{const dt=mergeDeep(getTheme().helperText,lt);return jsxRuntimeExports.jsx("p",{className:twMerge(dt.root.base,dt.root.colors[at],rt),...ut,children:ct??ot??""})};HelperText.displayName="HelperText";const TextInput=reactExports.forwardRef(({addon:ot,className:rt,color:at="gray",helperText:lt,icon:ct,rightIcon:ut,shadow:dt,sizing:ht="md",theme:ft={},type:pt="text",...mt},gt)=>{const yt=mergeDeep(getTheme().textInput,ft);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:twMerge(yt.base,rt),children:[ot&&jsxRuntimeExports.jsx("span",{className:yt.addon,children:ot}),jsxRuntimeExports.jsxs("div",{className:yt.field.base,children:[ct&&jsxRuntimeExports.jsx("div",{className:yt.field.icon.base,children:jsxRuntimeExports.jsx(ct,{className:yt.field.icon.svg})}),ut&&jsxRuntimeExports.jsx("div",{"data-testid":"right-icon",className:yt.field.rightIcon.base,children:jsxRuntimeExports.jsx(ut,{className:yt.field.rightIcon.svg})}),jsxRuntimeExports.jsx("input",{className:twMerge(yt.field.input.base,yt.field.input.colors[at],yt.field.input.sizes[ht],yt.field.input.withIcon[ct?"on":"off"],yt.field.input.withRightIcon[ut?"on":"off"],yt.field.input.withAddon[ot?"on":"off"],yt.field.input.withShadow[dt?"on":"off"]),type:pt,...mt,ref:gt})]})]}),lt&&jsxRuntimeExports.jsx(HelperText,{color:at,children:lt})]})});TextInput.displayName="TextInput";const DatepickerContext=reactExports.createContext(void 0);function useDatePickerContext(){const ot=reactExports.useContext(DatepickerContext);if(!ot)throw new Error("useDatePickerContext should be used within the DatePickerContext provider!");return ot}var Views=(ot=>(ot[ot.Days=0]="Days",ot[ot.Months=1]="Months",ot[ot.Years=2]="Years",ot[ot.Decades=3]="Decades",ot))(Views||{}),WeekStart=(ot=>(ot[ot.Sunday=0]="Sunday",ot[ot.Monday=1]="Monday",ot[ot.Tuesday=2]="Tuesday",ot[ot.Wednesday=3]="Wednesday",ot[ot.Thursday=4]="Thursday",ot[ot.Friday=5]="Friday",ot[ot.Saturday=6]="Saturday",ot))(WeekStart||{});const isDateInRange=(ot,rt,at)=>{const lt=new Date(ot.getFullYear(),ot.getMonth(),ot.getDate()).getTime();if(rt&&at){const ct=new Date(rt.getFullYear(),rt.getMonth(),rt.getDate()).getTime(),ut=new Date(at.getFullYear(),at.getMonth(),at.getDate()).getTime();return lt>=ct&&lt<=ut}if(rt){const ct=new Date(rt.getFullYear(),rt.getMonth(),rt.getDate()).getTime();return lt>=ct}if(at){const ct=new Date(at.getFullYear(),at.getMonth(),at.getDate()).getTime();return lt<=ct}return!0},isDateEqual=(ot,rt)=>(ot=new Date(ot.getFullYear(),ot.getMonth(),ot.getDate()),rt=new Date(rt.getFullYear(),rt.getMonth(),rt.getDate()),ot.getTime()===rt.getTime()),getFirstDateInRange=(ot,rt,at)=>(isDateInRange(ot,rt,at)||(rt&&ot<rt?ot=rt:at&&ot>at&&(ot=at)),ot),getFirstDayOfTheMonth=(ot,rt)=>{const at=new Date(ot.getFullYear(),ot.getMonth(),1);let ct=at.getDay()-rt;return ct<0&&(ct+=7),addDays$1(at,-ct)},getWeekDays=(ot,rt)=>{const at=[],lt=new Date(0);lt.setDate(lt.getDate()-lt.getDay()+rt);const ct=new Intl.DateTimeFormat(ot,{weekday:"short"});for(let ut=0;ut<7;ut++)at.push(ct.format(addDays$1(lt,ut)));return at},addDays$1=(ot,rt)=>{const at=new Date(ot);return at.setDate(at.getDate()+rt),at},addMonths=(ot,rt)=>{const at=new Date(ot);return at.setMonth(at.getMonth()+rt),at},addYears=(ot,rt)=>{const at=new Date(ot);return at.setFullYear(at.getFullYear()+rt),at},getFormattedDate=(ot,rt,at)=>{let lt={day:"numeric",month:"long",year:"numeric"};return at&&(lt=at),new Intl.DateTimeFormat(ot,lt).format(rt)},startOfYearPeriod=(ot,rt)=>{const at=ot.getFullYear();return Math.floor(at/rt)*rt},isDateInDecade=(ot,rt)=>{const at=ot.getFullYear(),lt=rt+9;return at>=rt&&at<=lt},DatepickerViewsDays=({theme:ot={}})=>{const{theme:rt,weekStart:at,minDate:lt,maxDate:ct,viewDate:ut,selectedDate:dt,changeSelectedDate:ht,language:ft}=useDatePickerContext(),pt=mergeDeep(rt.views.days,ot),mt=getWeekDays(ft,at),gt=getFirstDayOfTheMonth(ut,at);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:pt.header.base,children:mt.map((yt,xt)=>jsxRuntimeExports.jsx("span",{className:pt.header.title,children:yt},xt))}),jsxRuntimeExports.jsx("div",{className:pt.items.base,children:[...Array(42)].map((yt,xt)=>{const bt=addDays$1(gt,xt),Et=getFormattedDate(ft,bt,{day:"numeric"}),Rt=isDateEqual(dt,bt),wt=!isDateInRange(bt,lt,ct);return jsxRuntimeExports.jsx("button",{disabled:wt,type:"button",className:twMerge(pt.items.item.base,Rt&&pt.items.item.selected,wt&&pt.items.item.disabled),onClick:()=>{wt||ht(bt,!0)},children:Et},xt)})})]})},DatepickerViewsDecades=({theme:ot={}})=>{const{theme:rt,selectedDate:at,viewDate:lt,setViewDate:ct,setView:ut}=useDatePickerContext(),dt=mergeDeep(rt.views.decades,ot);return jsxRuntimeExports.jsx("div",{className:dt.items.base,children:[...Array(12)].map((ht,ft)=>{const mt=startOfYearPeriod(lt,100)-10+ft*10,gt=new Date(mt,0,1),yt=addYears(gt,9),xt=isDateInDecade(lt,mt),bt=!isDateInRange(lt,gt,yt);return jsxRuntimeExports.jsx("button",{disabled:bt,type:"button",className:twMerge(dt.items.item.base,xt&&dt.items.item.selected,bt&&dt.items.item.disabled),onClick:()=>{bt||(ct(addYears(lt,mt-at.getFullYear())),ut(Views.Years))},children:mt},ft)})})},DatepickerViewsMonth=({theme:ot={}})=>{const{theme:rt,minDate:at,maxDate:lt,selectedDate:ct,viewDate:ut,language:dt,setViewDate:ht,setView:ft}=useDatePickerContext(),pt=mergeDeep(rt.views.months,ot);return jsxRuntimeExports.jsx("div",{className:pt.items.base,children:[...Array(12)].map((mt,gt)=>{const yt=new Date(ut.getTime());yt.setMonth(gt);const xt=getFormattedDate(dt,yt,{month:"short"}),bt=isDateEqual(ct,yt),Et=!isDateInRange(yt,at,lt);return jsxRuntimeExports.jsx("button",{disabled:Et,type:"button",className:twMerge(pt.items.item.base,bt&&pt.items.item.selected,Et&&pt.items.item.disabled),onClick:()=>{Et||(ht(yt),ft(Views.Days))},children:xt},gt)})})},DatepickerViewsYears=({theme:ot={}})=>{const{theme:rt,selectedDate:at,minDate:lt,maxDate:ct,viewDate:ut,setViewDate:dt,setView:ht}=useDatePickerContext(),ft=mergeDeep(rt.views.years,ot);return jsxRuntimeExports.jsx("div",{className:ft.items.base,children:[...Array(12)].map((pt,mt)=>{const yt=startOfYearPeriod(ut,10)-1+mt*1,xt=new Date(ut.getTime());xt.setFullYear(yt);const bt=isDateEqual(at,xt),Et=!isDateInRange(xt,lt,ct);return jsxRuntimeExports.jsx("button",{disabled:Et,type:"button",className:twMerge(ft.items.item.base,bt&&ft.items.item.selected,Et&&ft.items.item.disabled),onClick:()=>{Et||(dt(xt),ht(Views.Months))},children:yt},mt)})})},DatepickerRender=({title:ot,open:rt,inline:at=!1,autoHide:lt=!0,showClearButton:ct=!0,labelClearButton:ut="Clear",showTodayButton:dt=!0,labelTodayButton:ht="Today",defaultDate:ft=new Date,minDate:pt,maxDate:mt,language:gt="en",weekStart:yt=WeekStart.Sunday,className:xt,theme:bt={},onSelectedDateChanged:Et,...Rt},wt)=>{const _t=mergeDeep(getTheme().datepicker,bt);ft=getFirstDateInRange(ft,pt,mt);const[At,kt]=reactExports.useState(rt),[It,Nt]=reactExports.useState(Views.Days),[Pt,Tt]=reactExports.useState(ft),[Ct,Ot]=reactExports.useState(ft),Dt=reactExports.useRef(null),jt=reactExports.useRef(null),Mt=(Gt,Wt)=>{Tt(Gt),Et&&Et(Gt),lt&&It===Views.Days&&Wt==!0&&!at&&kt(!1)},zt=()=>{Mt(ft,!0),ft&&Ot(ft)};reactExports.useImperativeHandle(wt,()=>({focus(){var Gt;(Gt=Dt.current)==null||Gt.focus()},clear(){zt()}}));const Qt=Gt=>{switch(Gt){case Views.Decades:return jsxRuntimeExports.jsx(DatepickerViewsDecades,{theme:_t.views.decades});case Views.Years:return jsxRuntimeExports.jsx(DatepickerViewsYears,{theme:_t.views.years});case Views.Months:return jsxRuntimeExports.jsx(DatepickerViewsMonth,{theme:_t.views.months});case Views.Days:default:return jsxRuntimeExports.jsx(DatepickerViewsDays,{theme:_t.views.days})}},qt=()=>{switch(It){case Views.Days:return Views.Months;case Views.Months:return Views.Years;case Views.Years:return Views.Decades}return It},Kt=()=>{switch(It){case Views.Decades:return`${startOfYearPeriod(Ct,100)} - ${startOfYearPeriod(Ct,100)+90}`;case Views.Years:return`${startOfYearPeriod(Ct,10)} - ${startOfYearPeriod(Ct,10)+9}`;case Views.Months:return getFormattedDate(gt,Ct,{year:"numeric"});case Views.Days:default:return getFormattedDate(gt,Ct,{month:"long",year:"numeric"})}},sn=(Gt,Wt,pn)=>{switch(Gt){case Views.Days:return new Date(addMonths(Wt,pn));case Views.Months:return new Date(addYears(Wt,pn));case Views.Years:return new Date(addYears(Wt,pn*10));case Views.Decades:return new Date(addYears(Wt,pn*100));default:return new Date(addYears(Wt,pn*10))}};return reactExports.useEffect(()=>{const Gt=Wt=>{var Vt,$t;const pn=(Vt=jt==null?void 0:jt.current)==null?void 0:Vt.contains(Wt.target),rn=($t=Dt==null?void 0:Dt.current)==null?void 0:$t.contains(Wt.target);!pn&&!rn&&kt(!1)};return document.addEventListener("mousedown",Gt),()=>{document.removeEventListener("mousedown",Gt)}},[Dt,jt,kt]),jsxRuntimeExports.jsx(DatepickerContext.Provider,{value:{theme:_t,language:gt,minDate:pt,maxDate:mt,weekStart:yt,isOpen:At,setIsOpen:kt,view:It,setView:Nt,viewDate:Ct,setViewDate:Ot,selectedDate:Pt,setSelectedDate:Tt,changeSelectedDate:Mt},children:jsxRuntimeExports.jsxs("div",{className:twMerge(_t.root.base,xt),children:[!at&&jsxRuntimeExports.jsx(TextInput,{theme:_t.root.input,icon:HiCalendar,ref:Dt,onFocus:()=>{isDateEqual(Ct,Pt)||Ot(Pt),kt(!0)},value:Pt&&getFormattedDate(gt,Pt),readOnly:!0,...Rt}),(At||at)&&jsxRuntimeExports.jsx("div",{ref:jt,className:twMerge(_t.popup.root.base,at&&_t.popup.root.inline),children:jsxRuntimeExports.jsxs("div",{className:_t.popup.root.inner,children:[jsxRuntimeExports.jsxs("div",{className:_t.popup.header.base,children:[ot&&jsxRuntimeExports.jsx("div",{className:_t.popup.header.title,children:ot}),jsxRuntimeExports.jsxs("div",{className:_t.popup.header.selectors.base,children:[jsxRuntimeExports.jsx("button",{type:"button",className:twMerge(_t.popup.header.selectors.button.base,_t.popup.header.selectors.button.prev),onClick:()=>Ot(sn(It,Ct,-1)),children:jsxRuntimeExports.jsx(HiArrowLeft,{})}),jsxRuntimeExports.jsx("button",{type:"button",className:twMerge(_t.popup.header.selectors.button.base,_t.popup.header.selectors.button.view),onClick:()=>Nt(qt()),children:Kt()}),jsxRuntimeExports.jsx("button",{type:"button",className:twMerge(_t.popup.header.selectors.button.base,_t.popup.header.selectors.button.next),onClick:()=>Ot(sn(It,Ct,1)),children:jsxRuntimeExports.jsx(HiArrowRight,{})})]})]}),jsxRuntimeExports.jsx("div",{className:_t.popup.view.base,children:Qt(It)}),(ct||dt)&&jsxRuntimeExports.jsxs("div",{className:_t.popup.footer.base,children:[dt&&jsxRuntimeExports.jsx("button",{type:"button",className:twMerge(_t.popup.footer.button.base,_t.popup.footer.button.today),onClick:()=>{const Gt=new Date;Mt(Gt,!0),Ot(Gt)},children:ht}),ct&&jsxRuntimeExports.jsx("button",{type:"button",className:twMerge(_t.popup.footer.button.base,_t.popup.footer.button.clear),onClick:()=>{Mt(ft,!0),ft&&Ot(ft)},children:ut})]})]})})]})})},Datepicker=reactExports.forwardRef(DatepickerRender);Datepicker.displayName="Datepicker";const DrawerContext=reactExports.createContext(void 0);function useDrawerContext(){const ot=reactExports.useContext(DrawerContext);if(!ot)throw new Error("useDrawerContext should be used within the DrawerContext provider!");return ot}function MdHome(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(ot)}function MdClose(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(ot)}const DrawerHeader=({children:ot,className:rt,closeIcon:at=MdClose,theme:lt={},title:ct,titleIcon:ut=MdHome,...dt})=>{const ht=reactExports.useId(),{id:ft,isOpen:pt,onClose:mt,theme:gt}=useDrawerContext(),yt=mergeDeep(gt.header,lt);return jsxRuntimeExports.jsxs("div",{className:rt,...dt,children:[jsxRuntimeExports.jsxs("h5",{className:yt.inner.titleText,id:ft,children:[jsxRuntimeExports.jsx(ut,{"aria-hidden":!0,className:yt.inner.titleIcon}),ct]}),jsxRuntimeExports.jsxs("button",{onClick:mt,"data-testid":"close-drawer",className:yt.inner.closeButton,children:[jsxRuntimeExports.jsx(at,{"aria-hidden":!0,className:yt.inner.closeIcon}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close menu"})]}),jsxRuntimeExports.jsx("span",{className:yt.collapsed[pt?"on":"off"],id:`flowbite-drawer-header-${ht}`,children:ot})]})};DrawerHeader.displayName="Drawer.Header";const DrawerItems=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct}=useDrawerContext(),ut=mergeDeep(ct.items,at);return jsxRuntimeExports.jsx("div",{"data-testid":"flowbite-drawer-items",className:twMerge(ut.base,rt),...lt,children:ot})};DrawerItems.displayName="Drawer.Items";const DrawerComponent=({backdrop:ot=!0,children:rt,className:at,edge:lt=!1,position:ct="left",onClose:ut,open:dt=!1,theme:ht={},...ft})=>{const pt=reactExports.useId(),mt=mergeDeep(getTheme().drawer,ht);return reactExports.useEffect(()=>{const gt=yt=>{yt.key==="Escape"&&dt&&ut&&ut()};return document.addEventListener("keydown",gt),()=>document.removeEventListener("keydown",gt)},[ut,dt]),jsxRuntimeExports.jsxs(DrawerContext.Provider,{value:{theme:mt,onClose:ut,isOpen:dt,id:pt},children:[jsxRuntimeExports.jsx("div",{"aria-modal":!0,"aria-describedby":`drawer-dialog-${pt}`,role:"dialog",tabIndex:-1,"data-testid":"flowbite-drawer",className:twMerge(mt.root.base,mt.root.position[ct][dt?"on":"off"],lt&&!dt&&mt.root.edge,at),...ft,children:rt}),dt&&ot&&jsxRuntimeExports.jsx("div",{onClick:()=>ut(),className:mt.root.backdrop})]})};DrawerComponent.displayName="Drawer";Object.assign(DrawerComponent,{Header:DrawerHeader,Items:DrawerItems});const DropdownContext=reactExports.createContext(void 0);function useDropdownContext(){const ot=reactExports.useContext(DropdownContext);if(!ot)throw new Error("useDropdownContext should be used within the DropdownContext provider!");return ot}const DropdownDivider=({className:ot,theme:rt={},...at})=>{const{theme:lt}=useDropdownContext(),ct=rt.divider??lt.floating.divider;return jsxRuntimeExports.jsx("div",{className:twMerge(ct,ot),...at})},DropdownHeader=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct}=useDropdownContext(),ut=at.header??ct.floating.header;return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:twMerge(ut,rt),...lt,children:ot}),jsxRuntimeExports.jsx(DropdownDivider,{})]})},DropdownItem=reactExports.forwardRef(({children:ot,className:rt,icon:at,onClick:lt,theme:ct={},...ut},dt)=>{const{ref:ht,index:ft}=useListItem({label:typeof ot=="string"?ot:void 0}),pt=useMergeRefs([dt,ht]),{theme:mt,activeIndex:gt,dismissOnClick:yt,getItemProps:xt,handleSelect:bt}=useDropdownContext(),Et=gt===ft,Rt=mergeDeep(mt.floating.item,ct),wt=ut;return jsxRuntimeExports.jsx("li",{role:"menuitem",className:Rt.container,children:jsxRuntimeExports.jsxs(ButtonBase,{ref:pt,className:twMerge(Rt.base,rt),...wt,...xt({onClick:()=>{lt==null||lt(),yt&&bt(null)}}),tabIndex:Et?0:-1,children:[at&&jsxRuntimeExports.jsx(at,{className:Rt.icon}),ot]})})});DropdownItem.displayName="DropdownItem";const icons$1={top:HiOutlineChevronUp,right:HiOutlineChevronRight,bottom:HiOutlineChevronDown,left:HiOutlineChevronLeft},Trigger=({refs:ot,children:rt,inline:at,theme:lt,disabled:ct,setButtonWidth:ut,getReferenceProps:dt,renderTrigger:ht,...ft})=>{const pt=ot.reference,mt=dt();if(reactExports.useEffect(()=>{pt.current&&(ut==null||ut(pt.current.clientWidth))},[pt,ut]),ht){const gt=ht(lt);return reactExports.cloneElement(gt,{ref:ot.setReference,disabled:ct,...mt,...gt.props})}return at?jsxRuntimeExports.jsx("button",{type:"button",ref:ot.setReference,className:lt==null?void 0:lt.inlineWrapper,disabled:ct,...mt,children:rt}):jsxRuntimeExports.jsx(Button,{...ft,disabled:ct,type:"button",ref:ot.setReference,...mt,children:rt})},DropdownComponent=({children:ot,className:rt,dismissOnClick:at=!0,theme:lt={},enableTypeAhead:ct=!0,renderTrigger:ut,...dt})=>{const[ht,ft]=reactExports.useState(!1),[pt,mt]=reactExports.useState(null),[gt,yt]=reactExports.useState(null),[xt,bt]=reactExports.useState(void 0),Et=reactExports.useRef([]),Rt=reactExports.useRef([]),wt=mergeDeep(getTheme().dropdown,lt),_t=dt,At=dt["data-testid"]||"flowbite-dropdown-target",{placement:kt=dt.inline?"bottom-start":"bottom",trigger:It="click",label:Nt,inline:Pt,arrowIcon:Tt=!0,...Ct}=_t,Ot=reactExports.useCallback(pn=>{yt(pn),ft(!1)},[]),Dt=reactExports.useCallback(pn=>{ht?mt(pn):Ot(pn)},[ht,Ot]),{context:jt,floatingStyles:Mt,refs:zt}=useBaseFLoating({open:ht,setOpen:ft,placement:kt}),Qt=useListNavigation(jt,{listRef:Et,activeIndex:pt,selectedIndex:gt,onNavigate:mt}),qt=useTypeahead(jt,{listRef:Rt,activeIndex:pt,selectedIndex:gt,onMatch:Dt,enabled:ct}),{getReferenceProps:Kt,getFloatingProps:sn,getItemProps:Gt}=useFloatingInteractions({context:jt,role:"menu",trigger:It,interactions:[Qt,qt]}),Wt=reactExports.useMemo(()=>{const[pn]=kt.split("-");return icons$1[pn]??HiOutlineChevronDown},[kt]);return jsxRuntimeExports.jsxs(DropdownContext.Provider,{value:{theme:wt,activeIndex:pt,dismissOnClick:at,getItemProps:Gt,handleSelect:Ot},children:[jsxRuntimeExports.jsxs(Trigger,{...Ct,refs:zt,inline:Pt,theme:wt,"data-testid":At,className:twMerge(wt.floating.target,Ct.className),setButtonWidth:bt,getReferenceProps:Kt,renderTrigger:ut,children:[Nt,Tt&&jsxRuntimeExports.jsx(Wt,{className:wt.arrowIcon})]}),ht&&jsxRuntimeExports.jsx(FloatingFocusManager,{context:jt,modal:!1,children:jsxRuntimeExports.jsx("div",{ref:zt.setFloating,style:{...Mt,minWidth:xt},"data-testid":"flowbite-dropdown","aria-expanded":ht,...sn({className:twMerge(wt.floating.base,wt.floating.animation,"duration-100",!ht&&wt.floating.hidden,wt.floating.style.auto,rt)}),children:jsxRuntimeExports.jsx(FloatingList,{elementsRef:Et,labelsRef:Rt,children:jsxRuntimeExports.jsx("ul",{className:wt.content,tabIndex:-1,children:ot})})})})]})};DropdownComponent.displayName="Dropdown";DropdownHeader.displayName="Dropdown.Header";DropdownDivider.displayName="Dropdown.Divider";const Dropdown=Object.assign(DropdownComponent,{Item:DropdownItem,Header:DropdownHeader,Divider:DropdownDivider}),FileInput=reactExports.forwardRef(({className:ot,color:rt="gray",helperText:at,sizing:lt="md",theme:ct={},...ut},dt)=>{const ht=mergeDeep(getTheme().fileInput,ct);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:twMerge(ht.root.base,ot),children:jsxRuntimeExports.jsx("div",{className:ht.field.base,children:jsxRuntimeExports.jsx("input",{className:twMerge(ht.field.input.base,ht.field.input.colors[rt],ht.field.input.sizes[lt]),...ut,type:"file",ref:dt})})}),at&&jsxRuntimeExports.jsx(HelperText,{color:rt,children:at})]})});FileInput.displayName="FileInput";const FloatingLabel=reactExports.forwardRef(({label:ot,helperText:rt,color:at="default",sizing:lt="md",variant:ct,disabled:ut=!1,theme:dt={},className:ht,...ft},pt)=>{const mt=reactExports.useId(),gt=mergeDeep(getTheme().floatingLabel,dt);return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:twMerge("relative",ct==="standard"?"z-0":""),children:[jsxRuntimeExports.jsx("input",{type:"text",id:ft.id?ft.id:"floatingLabel"+mt,"aria-describedby":"outlined_success_help",className:twMerge(gt.input[at][ct][lt],ht),placeholder:" ","data-testid":"floating-label",disabled:ut,...ft,ref:pt}),jsxRuntimeExports.jsx("label",{htmlFor:ft.id?ft.id:"floatingLabel"+mt,className:twMerge(gt.label[at][ct][lt],ht),children:ot})]}),jsxRuntimeExports.jsx("p",{id:"outlined_helper_text"+mt,className:twMerge(gt.helperText[at],ht),children:rt})]})});FloatingLabel.displayName="FloatingLabel";const FooterBrand=({alt:ot,className:rt,children:at,href:lt,name:ct,src:ut,theme:dt={},...ht})=>{const ft=mergeDeep(getTheme().footer.brand,dt);return jsxRuntimeExports.jsx("div",{children:lt?jsxRuntimeExports.jsxs("a",{"data-testid":"flowbite-footer-brand",href:lt,className:twMerge(ft.base,rt),...ht,children:[jsxRuntimeExports.jsx("img",{alt:ot,src:ut,className:ft.img}),jsxRuntimeExports.jsx("span",{"data-testid":"flowbite-footer-brand-span",className:ft.span,children:ct}),at]}):jsxRuntimeExports.jsx("img",{alt:ot,"data-testid":"flowbite-footer-brand",src:ut,className:twMerge(ft.img,rt),...ht})})},FooterCopyright=({by:ot,className:rt,href:at,theme:lt={},year:ct,...ut})=>{const dt=mergeDeep(getTheme().footer.copyright,lt);return jsxRuntimeExports.jsxs("div",{"data-testid":"flowbite-footer-copyright",className:twMerge(dt.base,rt),...ut,children:["© ",ct,at?jsxRuntimeExports.jsx("a",{href:at,className:dt.href,children:ot}):jsxRuntimeExports.jsx("span",{"data-testid":"flowbite-footer-copyright-span",className:dt.span,children:ot})]})},FooterDivider=({className:ot,theme:rt={},...at})=>{const lt=mergeDeep(getTheme().footer.divider,rt);return jsxRuntimeExports.jsx("hr",{"data-testid":"footer-divider",className:twMerge(lt.base,ot),...at})},FooterIcon=({ariaLabel:ot,className:rt,href:at,icon:lt,theme:ct={},...ut})=>{const dt=mergeDeep(getTheme().footer.icon,ct);return jsxRuntimeExports.jsx("div",{children:at?jsxRuntimeExports.jsx("a",{"aria-label":ot,"data-testid":"flowbite-footer-icon",href:at,className:twMerge(dt.base,rt),...ut,children:jsxRuntimeExports.jsx(lt,{className:dt.size})}):jsxRuntimeExports.jsx(lt,{"data-testid":"flowbite-footer-icon",className:dt.size,...ut})})},FooterLink=({as:ot="a",children:rt,className:at,href:lt,theme:ct={},...ut})=>{const dt=mergeDeep(getTheme().footer.groupLink.link,ct);return jsxRuntimeExports.jsx("li",{className:twMerge(dt.base,at),children:jsxRuntimeExports.jsx(ot,{href:lt,className:dt.href,...ut,children:rt})})},FooterLinkGroup=({children:ot,className:rt,col:at=!1,theme:lt={},...ct})=>{const ut=mergeDeep(getTheme().footer.groupLink,lt);return jsxRuntimeExports.jsx("ul",{"data-testid":"footer-groupLink",className:twMerge(ut.base,at&&ut.col,rt),...ct,children:ot})},FooterTitle=({as:ot="h2",className:rt,theme:at={},title:lt,...ct})=>{const ut=mergeDeep(getTheme().footer.title,at);return jsxRuntimeExports.jsx(ot,{"data-testid":"flowbite-footer-title",className:twMerge(ut.base,rt),...ct,children:lt})},FooterComponent=({bgDark:ot=!1,children:rt,className:at,container:lt=!1,theme:ct={},...ut})=>{const dt=mergeDeep(getTheme().footer,ct);return jsxRuntimeExports.jsx("footer",{"data-testid":"flowbite-footer",className:twMerge(dt.root.base,ot&&dt.root.bgDark,lt&&dt.root.container,at),...ut,children:rt})};FooterComponent.displayName="Footer";FooterCopyright.displayName="Footer.Copyright";FooterLink.displayName="Footer.Link";FooterBrand.displayName="Footer.Brand";FooterLinkGroup.displayName="Footer.LinkGroup";FooterIcon.displayName="Footer.Icon";FooterTitle.displayName="Footer.Title";FooterDivider.displayName="Footer.Divider";Object.assign(FooterComponent,{Copyright:FooterCopyright,Link:FooterLink,LinkGroup:FooterLinkGroup,Brand:FooterBrand,Icon:FooterIcon,Title:FooterTitle,Divider:FooterDivider});const HRIcon=reactExports.forwardRef(({theme:ot={},icon:rt=FaQuoteRight,className:at,...lt},ct)=>{const ut=mergeDeep(getTheme().hr.icon,ot);return jsxRuntimeExports.jsxs("div",{className:ut.base,children:[jsxRuntimeExports.jsx("hr",{className:twMerge(ut.hrLine,at),role:"separator","data-testid":"flowbite-hr-icon",ref:ct,...lt}),jsxRuntimeExports.jsx("div",{className:ut.icon.base,children:jsxRuntimeExports.jsx(rt,{"aria-hidden":!0,className:ut.icon.icon})})]})}),HRSquare=reactExports.forwardRef(({theme:ot={},className:rt,...at},lt)=>{const ct=mergeDeep(getTheme().hr.square,ot);return jsxRuntimeExports.jsx("hr",{className:twMerge(ct.base,rt),role:"separator","data-testid":"flowbite-hr-square",ref:lt,...at})}),HRText=reactExports.forwardRef(({theme:ot={},text:rt,className:at,...lt},ct)=>{const ut=mergeDeep(getTheme().hr.text,ot);return jsxRuntimeExports.jsxs("div",{className:ut.base,children:[jsxRuntimeExports.jsx("hr",{className:twMerge(ut.hrLine,at),"data-testid":"flowbite-hr-text",role:"separator",ref:ct,...lt}),jsxRuntimeExports.jsx("span",{className:ut.text,children:rt})]})}),HRTrimmed=reactExports.forwardRef(({theme:ot={},className:rt,...at},lt)=>{const ct=mergeDeep(getTheme().hr.trimmed,ot);return jsxRuntimeExports.jsx("hr",{className:twMerge(ct.base,rt),role:"separator","data-testid":"flowbite-hr-trimmed",ref:lt,...at})}),HRComponent=reactExports.forwardRef(({theme:ot={},className:rt,...at},lt)=>{const ct=mergeDeep(getTheme().hr.root,ot);return jsxRuntimeExports.jsx("hr",{className:twMerge(ct.base,rt),role:"separator","data-testid":"flowbite-hr",ref:lt,...at})});HRComponent.displayName="HR";HRTrimmed.displayName="HR.Trimmed";HRIcon.displayName="HR.Icon";HRText.displayName="HR.Text";HRSquare.displayName="HR.Square";Object.assign(HRComponent,{Trimmed:HRTrimmed,Icon:HRIcon,Text:HRText,Square:HRSquare});const ListItem$1=({children:ot,className:rt,icon:at,theme:lt={},...ct})=>{const ut=mergeDeep(getTheme().list.item,lt);return jsxRuntimeExports.jsxs("li",{className:twMerge(ut.withIcon[at?"on":"off"],rt),...ct,children:[at&&jsxRuntimeExports.jsx(at,{className:twMerge(ut.icon)}),ot]})},ListComponent=({children:ot,className:rt,unstyled:at,nested:lt,ordered:ct,horizontal:ut,theme:dt={},...ht})=>{const ft=mergeDeep(getTheme().list,dt),pt=ct?"ol":"ul";return jsxRuntimeExports.jsx(pt,{className:twMerge(ft.root.base,ft.root.ordered[ct?"on":"off"],at&&ft.root.unstyled,lt&&ft.root.nested,ut&&ft.root.horizontal,rt),...ht,children:ot})};ListComponent.displayName="List";ListItem$1.displayName="List.Item";Object.assign(ListComponent,{Item:ListItem$1});const ListGroupItem=({active:ot,children:rt,className:at,href:lt,icon:ct,onClick:ut,theme:dt={},disabled:ht,...ft})=>{const pt=mergeDeep(getTheme().listGroup.item,dt),mt=typeof lt<"u",gt=mt?"a":"button";return jsxRuntimeExports.jsx("li",{className:twMerge(pt.base,at),children:jsxRuntimeExports.jsxs(gt,{href:lt,onClick:ut,type:mt?void 0:"button",disabled:ht,className:twMerge(pt.link.active[ot?"on":"off"],pt.link.disabled[ht?"on":"off"],pt.link.base,pt.link.href[mt?"on":"off"]),...ft,children:[ct&&jsxRuntimeExports.jsx(ct,{"aria-hidden":!0,"data-testid":"flowbite-list-group-item-icon",className:pt.link.icon}),rt]})})},ListGroupComponent=({children:ot,className:rt,theme:at={},...lt})=>{const ct=mergeDeep(getTheme().listGroup,at);return jsxRuntimeExports.jsx("ul",{className:twMerge(ct.root.base,rt),...lt,children:ot})};ListGroupComponent.displayName="ListGroup";ListGroupItem.displayName="ListGroup.Item";Object.assign(ListGroupComponent,{Item:ListGroupItem});const NavbarContext=reactExports.createContext(void 0);function useNavbarContext(){const ot=reactExports.useContext(NavbarContext);if(!ot)throw new Error("useNavBarContext should be used within the NavbarContext provider!");return ot}const NavbarBrand=({as:ot="a",children:rt,className:at,theme:lt={},...ct})=>{const{theme:ut}=useNavbarContext(),dt=mergeDeep(ut.brand,lt);return jsxRuntimeExports.jsx(ot,{className:twMerge(dt.base,at),...ct,children:rt})},NavbarCollapse=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct,isOpen:ut}=useNavbarContext(),dt=mergeDeep(ct.collapse,at);return jsxRuntimeExports.jsx("div",{"data-testid":"flowbite-navbar-collapse",className:twMerge(dt.base,dt.hidden[ut?"off":"on"],rt),...lt,children:jsxRuntimeExports.jsx("ul",{className:dt.list,children:ot})})},NavbarLink=({active:ot,as:rt="a",disabled:at,children:lt,className:ct,theme:ut={},onClick:dt,...ht})=>{const{theme:ft,setIsOpen:pt}=useNavbarContext(),mt=mergeDeep(ft.link,ut),gt=yt=>{pt(!1),dt==null||dt(yt)};return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx(rt,{className:twMerge(mt.base,ot&&mt.active.on,!ot&&!at&&mt.active.off,mt.disabled[at?"on":"off"],ct),onClick:gt,...ht,children:lt})})};function FaBars(ot){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(ot)}const NavbarToggle=({barIcon:ot=FaBars,className:rt,theme:at={},...lt})=>{const{theme:ct,isOpen:ut,setIsOpen:dt}=useNavbarContext(),ht=mergeDeep(ct.toggle,at),ft=()=>{dt(!ut)};return jsxRuntimeExports.jsxs("button",{"data-testid":"flowbite-navbar-toggle",onClick:ft,className:twMerge(ht.base,rt),...lt,children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Open main menu"}),jsxRuntimeExports.jsx(ot,{"aria-hidden":!0,className:ht.icon})]})},NavbarComponent=({border:ot,children:rt,className:at,fluid:lt=!1,menuOpen:ct,rounded:ut,theme:dt={},...ht})=>{const[ft,pt]=reactExports.useState(ct),mt=mergeDeep(getTheme().navbar,dt);return jsxRuntimeExports.jsx(NavbarContext.Provider,{value:{theme:mt,isOpen:ft,setIsOpen:pt},children:jsxRuntimeExports.jsx("nav",{className:twMerge(mt.root.base,mt.root.bordered[ot?"on":"off"],mt.root.rounded[ut?"on":"off"],at),...ht,children:jsxRuntimeExports.jsx("div",{className:twMerge(mt.root.inner.base,mt.root.inner.fluid[lt?"on":"off"]),children:rt})})})};NavbarComponent.displayName="Navbar";NavbarBrand.displayName="Navbar.Brand";NavbarCollapse.displayName="Navbar.Collapse";NavbarLink.displayName="Navbar.Link";NavbarToggle.displayName="Navbar.Toggle";const Navbar=Object.assign(NavbarComponent,{Brand:NavbarBrand,Collapse:NavbarCollapse,Link:NavbarLink,Toggle:NavbarToggle}),MegaMenuDropdown=({children:ot,className:rt,theme:at={},toggle:lt,...ct})=>{const[ut,dt]=reactExports.useState(void 0),ht=mergeDeep(getTheme().megaMenu.dropdown,at);if(lt)return jsxRuntimeExports.jsx(Dropdown,{inline:!0,label:lt,placement:"bottom",theme:ht.toggle,className:twMerge(ht.base,rt),children:ot});const ft=reactExports.useId(),pt=reactExports.useRef(null);return reactExports.useEffect(()=>{var gt;dt((gt=function(){var xt;const yt=(xt=pt.current)==null?void 0:xt.closest("nav");return yt==null?void 0:yt.querySelector('[aria-haspopup="menu"]')}())==null?void 0:gt.id)},[]),jsxRuntimeExports.jsx("div",{"aria-labelledby":ut,id:ft,ref:pt,role:"menu",className:twMerge(ht.base,rt),...ct,children:ot})};MegaMenuDropdown.displayName="MegaMenu.Dropdown";const MegaMenuDropdownToggle=({children:ot,className:rt,theme:at={},...lt})=>{const ct=reactExports.useId(),ut=reactExports.useRef(null),[dt,ht]=reactExports.useState(void 0),[ft,pt]=reactExports.useState(void 0),mt=mergeDeep(getTheme().megaMenu.dropdownToggle,at),gt=function(){var bt;const xt=(bt=ut.current)==null?void 0:bt.closest("nav");return xt==null?void 0:xt.querySelector('[role="menu"]')},yt=function(){var xt;(xt=gt())==null||xt.classList.toggle("hidden"),pt(!ft)};return reactExports.useEffect(()=>{const xt=gt(),bt=xt==null?void 0:xt.classList.contains("hidden");ht(xt==null?void 0:xt.id),pt(!bt)},[]),jsxRuntimeExports.jsx("button",{"aria-controls":dt,"aria-expanded":ft,"aria-haspopup":"menu",id:ct,onClick:yt,ref:ut,className:twMerge(mt.base,rt),...lt,children:ot})};MegaMenuDropdownToggle.displayName="MegaMenu.DropdownToggle";const MegaMenuComponent=({children:ot,theme:rt={},...at})=>{const lt=mergeDeep(getTheme().megaMenu,rt);return jsxRuntimeExports.jsx(Navbar,{fluid:!0,theme:lt,...at,children:ot})};Object.assign(MegaMenuComponent,{Dropdown:MegaMenuDropdown,DropdownToggle:MegaMenuDropdownToggle});MegaMenuComponent.displayName="MegaMenu";const ModalContext=reactExports.createContext(void 0);function useModalContext(){const ot=reactExports.useContext(ModalContext);if(!ot)throw new Error("useModalContext should be used within the ModalContext provider!");return ot}const ModalBody=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct,popup:ut}=useModalContext(),dt=mergeDeep(ct.body,at);return jsxRuntimeExports.jsx("div",{className:twMerge(dt.base,ut&&[dt.popup],rt),...lt,children:ot})},ModalFooter=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct,popup:ut}=useModalContext(),dt=mergeDeep(ct.footer,at);return jsxRuntimeExports.jsx("div",{className:twMerge(dt.base,!ut&&dt.popup,rt),...lt,children:ot})},ModalHeader=({as:ot="h3",children:rt,className:at,theme:lt={},id:ct,...ut})=>{const dt=reactExports.useId(),ht=ct||dt,{theme:ft,popup:pt,onClose:mt,setHeaderId:gt}=useModalContext(),yt=mergeDeep(ft.header,lt);return reactExports.useLayoutEffect(()=>(gt(ht),()=>gt(void 0)),[ht,gt]),jsxRuntimeExports.jsxs("div",{className:twMerge(yt.base,pt&&yt.popup,at),...ut,children:[jsxRuntimeExports.jsx(ot,{id:ht,className:yt.title,children:rt}),jsxRuntimeExports.jsx("button",{"aria-label":"Close",className:yt.close.base,type:"button",onClick:mt,children:jsxRuntimeExports.jsx(HiOutlineX,{"aria-hidden":!0,className:yt.close.icon})})]})},ModalComponent=reactExports.forwardRef(({children:ot,className:rt,dismissible:at=!1,onClose:lt,popup:ct,position:ut="center",root:dt,show:ht,size:ft="2xl",theme:pt={},initialFocus:mt,...gt},yt)=>{const[xt,bt]=reactExports.useState(void 0),Et=mergeDeep(getTheme().modal,pt),{context:Rt}=useFloating({open:ht,onOpenChange:()=>lt&&lt()}),wt=useMergeRefs([Rt.refs.setFloating,yt]),_t=useClick(Rt),At=useDismiss(Rt,{outsidePressEvent:"mousedown",enabled:at}),kt=useRole(Rt),{getFloatingProps:It}=useInteractions([_t,At,kt]);return ht?jsxRuntimeExports.jsx(ModalContext.Provider,{value:{theme:Et,popup:ct,onClose:lt,setHeaderId:bt},children:jsxRuntimeExports.jsx(FloatingPortal,{root:dt,children:jsxRuntimeExports.jsx(FloatingOverlay,{lockScroll:!0,"data-testid":"modal-overlay",className:twMerge(Et.root.base,Et.root.positions[ut],ht?Et.root.show.on:Et.root.show.off,rt),...gt,children:jsxRuntimeExports.jsx(FloatingFocusManager,{context:Rt,initialFocus:mt,children:jsxRuntimeExports.jsx("div",{ref:wt,...It(gt),"aria-labelledby":xt,className:twMerge(Et.content.base,Et.root.sizes[ft]),children:jsxRuntimeExports.jsx("div",{className:Et.content.inner,children:ot})})})})})}):null});ModalComponent.displayName="Modal";ModalHeader.displayName="Modal.Header";ModalBody.displayName="Modal.Body";ModalFooter.displayName="Modal.Footer";const Modal$2=Object.assign(ModalComponent,{Header:ModalHeader,Body:ModalBody,Footer:ModalFooter}),range=(ot,rt)=>ot>=rt?[]:[...Array(rt-ot+1).keys()].map(at=>at+ot),PaginationButton=({active:ot,children:rt,className:at,onClick:lt,theme:ct={},...ut})=>{const dt=mergeDeep(getTheme().pagination,ct);return jsxRuntimeExports.jsx("button",{type:"button",className:twMerge(ot&&dt.pages.selector.active,at),onClick:lt,...ut,children:rt})};PaginationButton.displayName="Pagination.Button";const PaginationNavigation=({children:ot,className:rt,onClick:at,theme:lt={},disabled:ct=!1,...ut})=>{const dt=mergeDeep(getTheme().pagination,lt);return jsxRuntimeExports.jsx("button",{type:"button",className:twMerge(ct&&dt.pages.selector.disabled,rt),disabled:ct,onClick:at,...ut,children:ot})};PaginationNavigation.displayName="Pagination.Navigation";const PaginationComponent=({className:ot,currentPage:rt,layout:at="pagination",nextLabel:lt="Next",onPageChange:ct,previousLabel:ut="Previous",renderPaginationButton:dt=gt=>jsxRuntimeExports.jsx(PaginationButton,{...gt}),showIcons:ht=!1,theme:ft={},totalPages:pt,...mt})=>{const gt=mergeDeep(getTheme().pagination,ft),yt=Math.min(Math.max(at==="pagination"?rt+2:rt+4,5),pt),xt=Math.max(1,yt-4),bt=()=>{ct(Math.min(rt+1,pt))},Et=()=>{ct(Math.max(rt-1,1))};return jsxRuntimeExports.jsxs("nav",{className:twMerge(gt.base,ot),...mt,children:[at==="table"&&jsxRuntimeExports.jsxs("div",{className:gt.layout.table.base,children:["Showing ",jsxRuntimeExports.jsx("span",{className:gt.layout.table.span,children:xt})," to ",jsxRuntimeExports.jsx("span",{className:gt.layout.table.span,children:yt})," of ",jsxRuntimeExports.jsx("span",{className:gt.layout.table.span,children:pt})," Entries"]}),jsxRuntimeExports.jsxs("ul",{className:gt.pages.base,children:[jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs(PaginationNavigation,{className:twMerge(gt.pages.previous.base,ht&&gt.pages.showIcon),onClick:Et,disabled:rt===1,children:[ht&&jsxRuntimeExports.jsx(HiChevronLeft,{"aria-hidden":!0,className:gt.pages.previous.icon}),ut]})}),at==="pagination"&&range(xt,yt).map(Rt=>jsxRuntimeExports.jsx("li",{"aria-current":Rt===rt?"page":void 0,children:dt({className:twMerge(gt.pages.selector.base,rt===Rt&&gt.pages.selector.active),active:Rt===rt,onClick:()=>ct(Rt),children:Rt})},Rt)),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs(PaginationNavigation,{className:twMerge(gt.pages.next.base,ht&&gt.pages.showIcon),onClick:bt,disabled:rt===pt,children:[lt,ht&&jsxRuntimeExports.jsx(HiChevronRight,{"aria-hidden":!0,className:gt.pages.next.icon})]})})]})]})};PaginationComponent.displayName="Pagination";Object.assign(PaginationComponent,{Button:PaginationButton});const Radio=reactExports.forwardRef(({className:ot,theme:rt={},...at},lt)=>{const ct=mergeDeep(getTheme().radio,rt);return jsxRuntimeExports.jsx("input",{ref:lt,type:"radio",className:twMerge(ct.root.base,ot),...at})});Radio.displayName="Radio";const RangeSlider=reactExports.forwardRef(({className:ot,sizing:rt="md",theme:at={},...lt},ct)=>{const ut=mergeDeep(getTheme().rangeSlider,at);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx("div",{"data-testid":"flowbite-range-slider",className:twMerge(ut.root.base,ot),children:jsxRuntimeExports.jsx("div",{className:ut.field.base,children:jsxRuntimeExports.jsx("input",{ref:ct,type:"range",className:twMerge(ut.field.input.base,ut.field.input.sizes[rt]),...lt})})})})});RangeSlider.displayName="RangeSlider";const RatingAdvanced=({children:ot,className:rt,percentFilled:at=0,theme:lt={},...ct})=>{const ut=mergeDeep(getTheme().ratingAdvanced,lt);return jsxRuntimeExports.jsxs("div",{className:twMerge(ut.base,rt),...ct,children:[jsxRuntimeExports.jsx("span",{className:ut.label,children:ot}),jsxRuntimeExports.jsx("div",{className:ut.progress.base,children:jsxRuntimeExports.jsx("div",{className:ut.progress.fill,"data-testid":"flowbite-rating-fill",style:{width:`${at}%`}})}),jsxRuntimeExports.jsx("span",{className:ut.progress.label,children:`${at}%`})]})},RatingContext=reactExports.createContext(void 0);function useRatingContext(){const ot=reactExports.useContext(RatingContext);if(!ot)throw new Error("useRatingContext should be used within the RatingContext provider!");return ot}const RatingStar=({className:ot,filled:rt=!0,starIcon:at=HiStar,theme:lt={},...ct})=>{const{theme:ut,size:dt="sm"}=useRatingContext(),ht=mergeDeep(ut.star,lt);return jsxRuntimeExports.jsx(at,{"data-testid":"flowbite-rating-star",className:twMerge(ht.sizes[dt],ht[rt?"filled":"empty"],ot),...ct})},RatingComponent=({children:ot,className:rt,size:at="sm",theme:lt={},...ct})=>{const ut=mergeDeep(getTheme().rating,lt);return jsxRuntimeExports.jsx(RatingContext.Provider,{value:{theme:ut,size:at},children:jsxRuntimeExports.jsx("div",{className:twMerge(ut.root.base,rt),...ct,children:ot})})};RatingComponent.displayName="Rating";RatingStar.displayName="Rating.Star";RatingAdvanced.displayName="Rating.Advanced";Object.assign(RatingComponent,{Star:RatingStar,Advanced:RatingAdvanced});const Select=reactExports.forwardRef(({addon:ot,children:rt,className:at,color:lt="gray",helperText:ct,icon:ut,shadow:dt,sizing:ht="md",theme:ft={},...pt},mt)=>{const gt=mergeDeep(getTheme().select,ft);return jsxRuntimeExports.jsxs("div",{className:twMerge(gt.base,at),children:[ot&&jsxRuntimeExports.jsx("span",{className:gt.addon,children:ot}),jsxRuntimeExports.jsxs("div",{className:gt.field.base,children:[ut&&jsxRuntimeExports.jsx("div",{className:gt.field.icon.base,children:jsxRuntimeExports.jsx(ut,{className:gt.field.icon.svg})}),jsxRuntimeExports.jsx("select",{className:twMerge(gt.field.select.base,gt.field.select.colors[lt],gt.field.select.sizes[ht],gt.field.select.withIcon[ut?"on":"off"],gt.field.select.withAddon[ot?"on":"off"],gt.field.select.withShadow[dt?"on":"off"]),...pt,ref:mt,children:rt}),ct&&jsxRuntimeExports.jsx(HelperText,{color:lt,children:ct})]})]})});Select.displayName="Select";const SidebarContext=reactExports.createContext(void 0);function useSidebarContext(){const ot=reactExports.useContext(SidebarContext);if(!ot)throw new Error("useSidebarContext should be used within the SidebarContext provider!");return ot}const SidebarItemContext=reactExports.createContext(void 0);function useSidebarItemContext(){const ot=reactExports.useContext(SidebarItemContext);if(!ot)throw new Error("useSidebarItemContext should be used within the SidebarItemContext provider!");return ot}const SidebarCollapse=({children:ot,className:rt,icon:at,label:lt,chevronIcon:ct=HiChevronDown,renderChevronIcon:ut,open:dt=!1,theme:ht={},...ft})=>{const pt=reactExports.useId(),[mt,gt]=reactExports.useState(dt),{theme:yt,isCollapsed:xt}=useSidebarContext(),bt=mergeDeep(yt.collapse,ht);reactExports.useEffect(()=>gt(dt),[dt]);const Et=({children:Rt})=>jsxRuntimeExports.jsx("li",{children:xt&&!mt?jsxRuntimeExports.jsx(Tooltip,{content:lt,placement:"right",children:Rt}):Rt});return jsxRuntimeExports.jsxs(Et,{children:[jsxRuntimeExports.jsxs("button",{id:`flowbite-sidebar-collapse-${pt}`,onClick:()=>gt(!mt),title:lt,type:"button",className:twMerge(bt.button,rt),...ft,children:[at&&jsxRuntimeExports.jsx(at,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-collapse-icon",className:twMerge(bt.icon.base,bt.icon.open[mt?"on":"off"])}),xt?jsxRuntimeExports.jsx("span",{className:"sr-only",children:lt}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{"data-testid":"flowbite-sidebar-collapse-label",className:bt.label.base,children:lt}),ut?ut(bt,mt):jsxRuntimeExports.jsx(ct,{"aria-hidden":!0,className:twMerge(bt.label.icon.base,bt.label.icon.open[mt?"on":"off"])})]})]}),jsxRuntimeExports.jsx("ul",{"aria-labelledby":`flowbite-sidebar-collapse-${pt}`,hidden:!mt,className:bt.list,children:jsxRuntimeExports.jsx(SidebarItemContext.Provider,{value:{isInsideCollapse:!0},children:ot})})]})};SidebarCollapse.displayName="Sidebar.Collapse";const SidebarCTA=({children:ot,color:rt="info",className:at,theme:lt={},...ct})=>{const{theme:ut,isCollapsed:dt}=useSidebarContext(),ht=mergeDeep(ut.cta,lt);return jsxRuntimeExports.jsx("div",{"data-testid":"sidebar-cta",hidden:dt,className:twMerge(ht.base,ht.color[rt],at),...ct,children:ot})};SidebarCTA.displayName="Sidebar.CTA";const ListItem=({id:ot,theme:rt,isCollapsed:at,tooltipChildren:lt,children:ct,...ut})=>jsxRuntimeExports.jsx("li",{...ut,children:at?jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(Children,{id:ot,theme:rt,children:lt}),placement:"right",children:ct}):ct}),Children=({id:ot,theme:rt,children:at})=>jsxRuntimeExports.jsx("span",{"data-testid":"flowbite-sidebar-item-content",id:`flowbite-sidebar-item-${ot}`,className:twMerge(rt.content.base),children:at}),SidebarItem=reactExports.forwardRef(({active:ot,as:rt="a",children:at,className:lt,icon:ct,label:ut,labelColor:dt="info",theme:ht={},...ft},pt)=>{var Et,Rt,wt,_t;const mt=reactExports.useId(),{theme:gt,isCollapsed:yt}=useSidebarContext(),{isInsideCollapse:xt}=useSidebarItemContext(),bt=mergeDeep(gt.item,ht);return jsxRuntimeExports.jsx(ListItem,{theme:bt,className:bt.listItem,id:mt,isCollapsed:yt,tooltipChildren:at,children:jsxRuntimeExports.jsxs(rt,{"aria-labelledby":`flowbite-sidebar-item-${mt}`,ref:pt,className:twMerge(bt.base,ot&&bt.active,!yt&&xt&&((Et=bt.collapsed)==null?void 0:Et.insideCollapse),lt),...ft,children:[ct&&jsxRuntimeExports.jsx(ct,{"aria-hidden":!0,"data-testid":"flowbite-sidebar-item-icon",className:twMerge((Rt=bt.icon)==null?void 0:Rt.base,ot&&((wt=bt.icon)==null?void 0:wt.active))}),yt&&!ct&&jsxRuntimeExports.jsx("span",{className:(_t=bt.collapsed)==null?void 0:_t.noIcon,children:at.charAt(0).toLocaleUpperCase()??"?"}),!yt&&jsxRuntimeExports.jsx(Children,{id:mt,theme:bt,children:at}),!yt&&ut&&jsxRuntimeExports.jsx(Badge,{color:dt,"data-testid":"flowbite-sidebar-label",hidden:yt,className:bt.label,children:ut})]})})});SidebarItem.displayName="Sidebar.Item";const SidebarItemGroup=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct}=useSidebarContext(),ut=mergeDeep(ct.itemGroup,at);return jsxRuntimeExports.jsx("ul",{"data-testid":"flowbite-sidebar-item-group",className:twMerge(ut.base,rt),...lt,children:jsxRuntimeExports.jsx(SidebarItemContext.Provider,{value:{isInsideCollapse:!1},children:ot})})};SidebarItemGroup.displayName="Sidebar.ItemGroup";const SidebarItems=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct}=useSidebarContext(),ut=mergeDeep(ct.items,at);return jsxRuntimeExports.jsx("div",{className:twMerge(ut.base,rt),"data-testid":"flowbite-sidebar-items",...lt,children:ot})};SidebarItems.displayName="Sidebar.Items";const SidebarLogo=({children:ot,className:rt,href:at,img:lt,imgAlt:ct="",theme:ut={},...dt})=>{const ht=reactExports.useId(),{theme:ft,isCollapsed:pt}=useSidebarContext(),mt=mergeDeep(ft.logo,ut);return jsxRuntimeExports.jsxs("a",{"aria-labelledby":`flowbite-sidebar-logo-${ht}`,href:at,className:twMerge(mt.base,rt),...dt,children:[jsxRuntimeExports.jsx("img",{alt:ct,src:lt,className:mt.img}),jsxRuntimeExports.jsx("span",{className:mt.collapsed[pt?"on":"off"],id:`flowbite-sidebar-logo-${ht}`,children:ot})]})};SidebarLogo.displayName="Sidebar.Logo";const SidebarComponent$1=({children:ot,as:rt="nav",collapseBehavior:at="collapse",collapsed:lt=!1,theme:ct={},className:ut,...dt})=>{const ht=mergeDeep(getTheme().sidebar,ct);return jsxRuntimeExports.jsx(SidebarContext.Provider,{value:{theme:ht,isCollapsed:lt},children:jsxRuntimeExports.jsx(rt,{"aria-label":"Sidebar",hidden:lt&&at==="hide",className:twMerge(ht.root.base,ht.root.collapsed[lt?"on":"off"],ut),...dt,children:jsxRuntimeExports.jsx("div",{className:ht.root.inner,children:ot})})})};SidebarComponent$1.displayName="Sidebar";Object.assign(SidebarComponent$1,{Collapse:SidebarCollapse,CTA:SidebarCTA,Item:SidebarItem,Items:SidebarItems,ItemGroup:SidebarItemGroup,Logo:SidebarLogo});const TableBodyContext=reactExports.createContext(void 0);function useTableBodyContext(){const ot=reactExports.useContext(TableBodyContext);if(!ot)throw new Error("useTableBodyContext should be used within the TableBodyContext provider!");return ot}const TableContext=reactExports.createContext(void 0);function useTableContext(){const ot=reactExports.useContext(TableContext);if(!ot)throw new Error("useTableContext should be used within the TableContext provider!");return ot}const TableBody=reactExports.forwardRef(({children:ot,className:rt,theme:at={},...lt},ct)=>{const{theme:ut}=useTableContext(),dt=mergeDeep(ut.body,at);return jsxRuntimeExports.jsx(TableBodyContext.Provider,{value:{theme:dt},children:jsxRuntimeExports.jsx("tbody",{className:twMerge(dt.base,rt),ref:ct,...lt,children:ot})})});TableBody.displayName="Table.Body";const TableCell$1=reactExports.forwardRef(({children:ot,className:rt,theme:at={},...lt},ct)=>{const{theme:ut}=useTableBodyContext(),dt=mergeDeep(ut.cell,at);return jsxRuntimeExports.jsx("td",{className:twMerge(dt.base,rt),ref:ct,...lt,children:ot})});TableCell$1.displayName="Table.Cell";const TableHeadContext=reactExports.createContext(void 0);function useTableHeadContext(){const ot=reactExports.useContext(TableHeadContext);if(!ot)throw new Error("useTableHeadContext should be used within the TableHeadContext provider!");return ot}const TableHead=reactExports.forwardRef(({children:ot,className:rt,theme:at={},...lt},ct)=>{const{theme:ut}=useTableContext(),dt=mergeDeep(ut.head,at);return jsxRuntimeExports.jsx(TableHeadContext.Provider,{value:{theme:dt},children:jsxRuntimeExports.jsx("thead",{className:twMerge(dt.base,rt),ref:ct,...lt,children:jsxRuntimeExports.jsx("tr",{children:ot})})})});TableHead.displayName="Table.Head";const TableHeadCell=reactExports.forwardRef(({children:ot,className:rt,theme:at={},...lt},ct)=>{const{theme:ut}=useTableHeadContext(),dt=mergeDeep(ut.cell,at);return jsxRuntimeExports.jsx("th",{className:twMerge(dt.base,rt),ref:ct,...lt,children:ot})});TableHeadCell.displayName="Table.HeadCell";const TableRow$1=reactExports.forwardRef(({children:ot,className:rt,theme:at={},...lt},ct)=>{const{theme:ut,hoverable:dt,striped:ht}=useTableContext(),ft=mergeDeep(ut.row,at);return jsxRuntimeExports.jsx("tr",{ref:ct,"data-testid":"table-row-element",className:twMerge(ft.base,ht&&ft.striped,dt&&ft.hovered,rt),...lt,children:ot})});TableRow$1.displayName="Table.Row";const TableComponent=reactExports.forwardRef(({children:ot,className:rt,striped:at,hoverable:lt,theme:ct={},...ut},dt)=>{const ht=mergeDeep(getTheme().table,ct);return jsxRuntimeExports.jsx("div",{"data-testid":"table-element",className:twMerge(ht.root.wrapper),children:jsxRuntimeExports.jsxs(TableContext.Provider,{value:{theme:ht,striped:at,hoverable:lt},children:[jsxRuntimeExports.jsx("div",{className:twMerge(ht.root.shadow,rt)}),jsxRuntimeExports.jsx("table",{className:twMerge(ht.root.base,rt),...ut,ref:dt,children:ot})]})})});TableComponent.displayName="Table";Object.assign(TableComponent,{Head:TableHead,Body:TableBody,Row:TableRow$1,Cell:TableCell$1,HeadCell:TableHeadCell});const TabItem=({children:ot,className:rt})=>jsxRuntimeExports.jsx("div",{className:rt,children:ot});TabItem.displayName="Tabs.Item";const TabsComponent=reactExports.forwardRef(({children:ot,className:rt,onActiveTabChange:at,variant:lt="default",theme:ct={},...ut},dt)=>{const ht=mergeDeep(getTheme().tabs,ct),ft=reactExports.useId(),pt=reactExports.useMemo(()=>reactExports.Children.map(reactExports.Children.toArray(ot),({props:kt})=>kt),[ot]),mt=reactExports.useRef([]),[gt,yt]=reactExports.useState(Math.max(0,pt.findIndex(kt=>kt.active))),[xt,bt]=reactExports.useState(-1),Et=kt=>{yt(kt),at&&at(kt)},Rt=({target:kt})=>{Et(kt),bt(kt)},wt=({event:kt,target:It})=>{kt.key==="ArrowLeft"&&bt(Math.max(0,xt-1)),kt.key==="ArrowRight"&&bt(Math.min(pt.length-1,xt+1)),kt.key==="Enter"&&(Et(It),bt(It))},_t=ht.tablist.tabitem.variant[lt],At=ht.tabitemcontainer.variant[lt];return reactExports.useEffect(()=>{var kt;(kt=mt.current[xt])==null||kt.focus()},[xt]),reactExports.useImperativeHandle(dt,()=>({setActiveTab:Et})),jsxRuntimeExports.jsxs("div",{className:twMerge(ht.base,rt),children:[jsxRuntimeExports.jsx("div",{"aria-label":"Tabs",role:"tablist",className:twMerge(ht.tablist.base,ht.tablist.variant[lt],rt),...ut,children:pt.map((kt,It)=>jsxRuntimeExports.jsxs("button",{type:"button","aria-controls":`${ft}-tabpanel-${It}`,"aria-selected":It===gt,className:twMerge(ht.tablist.tabitem.base,_t.base,It===gt&&_t.active.on,It!==gt&&!kt.disabled&&_t.active.off),disabled:kt.disabled,id:`${ft}-tab-${It}`,onClick:()=>Rt({target:It}),onKeyDown:Nt=>wt({event:Nt,target:It}),ref:Nt=>mt.current[It]=Nt,role:"tab",tabIndex:It===xt?0:-1,style:{zIndex:It===xt?2:1},children:[kt.icon&&jsxRuntimeExports.jsx(kt.icon,{className:ht.tablist.tabitem.icon}),kt.title]},It))}),jsxRuntimeExports.jsx("div",{className:twMerge(ht.tabitemcontainer.base,At),children:pt.map((kt,It)=>jsxRuntimeExports.jsx("div",{"aria-labelledby":`${ft}-tab-${It}`,className:ht.tabpanel,hidden:It!==gt,id:`${ft}-tabpanel-${It}`,role:"tabpanel",tabIndex:0,children:kt.children},It))})]})});TabsComponent.displayName="Tabs";Object.assign(TabsComponent,{Item:TabItem});const Textarea=reactExports.forwardRef(({className:ot,color:rt="gray",helperText:at,shadow:lt,theme:ct={},...ut},dt)=>{const ht=mergeDeep(getTheme().textarea,ct);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{ref:dt,className:twMerge(ht.base,ht.colors[rt],ht.withShadow[lt?"on":"off"],ot),...ut}),at&&jsxRuntimeExports.jsx(HelperText,{color:rt,children:at})]})});Textarea.displayName="Textarea";const TimelineContentContext=reactExports.createContext(void 0);function useTimelineContentContext(){const ot=reactExports.useContext(TimelineContentContext);if(!ot)throw new Error("useTimelineContentContext should be used within the TimelineContentContext provider!");return ot}const TimelineBody=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct}=useTimelineContentContext(),ut=mergeDeep(ct.body,at);return jsxRuntimeExports.jsx("div",{className:twMerge(ut.base,rt),...lt,children:ot})},TimelineContext=reactExports.createContext(void 0);function useTimelineContext(){const ot=reactExports.useContext(TimelineContext);if(!ot)throw new Error("useTimelineContext should be used within the TimelineContext provider!");return ot}const TimelineItemContext=reactExports.createContext(void 0);function useTimelineItemContext(){const ot=reactExports.useContext(TimelineItemContext);if(!ot)throw new Error("useTimelineItemContext should be used within the TimelineItemContext provider!");return ot}const TimelineContent=({children:ot,className:rt,theme:at={},...lt})=>{const{horizontal:ct}=useTimelineContext(),{theme:ut}=useTimelineItemContext(),dt=mergeDeep(ut.content,at);return jsxRuntimeExports.jsx(TimelineContentContext.Provider,{value:{theme:dt},children:jsxRuntimeExports.jsx("div",{"data-testid":"timeline-content",className:twMerge(dt.root.base,ct?dt.root.horizontal:dt.root.vertical,rt),...lt,children:ot})})},TimelineItem=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct,horizontal:ut}=useTimelineContext(),dt=mergeDeep(ct.item,at);return jsxRuntimeExports.jsx(TimelineItemContext.Provider,{value:{theme:dt},children:jsxRuntimeExports.jsx("li",{"data-testid":"timeline-item",className:twMerge(ut&&dt.root.horizontal,!ut&&dt.root.vertical,rt),...lt,children:ot})})},TimelinePoint=({children:ot,className:rt,icon:at,theme:lt={},...ct})=>{const{horizontal:ut}=useTimelineContext(),{theme:dt}=useTimelineItemContext(),ht=mergeDeep(dt.point,lt);return jsxRuntimeExports.jsxs("div",{"data-testid":"timeline-point",className:twMerge(ut&&ht.horizontal,!ut&&ht.vertical,rt),...ct,children:[ot,at?jsxRuntimeExports.jsx("span",{className:twMerge(ht.marker.icon.wrapper),children:jsxRuntimeExports.jsx(at,{"aria-hidden":!0,className:twMerge(ht.marker.icon.base)})}):jsxRuntimeExports.jsx("div",{className:twMerge(ut&&ht.marker.base.horizontal,!ut&&ht.marker.base.vertical)}),ut&&jsxRuntimeExports.jsx("div",{className:twMerge(ht.line)})]})},TimelineTime=({children:ot,className:rt,theme:at={},...lt})=>{const{theme:ct}=useTimelineContentContext(),ut=mergeDeep(ct.time,at);return jsxRuntimeExports.jsx("time",{className:twMerge(ut.base,rt),...lt,children:ot})},TimelineTitle=({as:ot="h3",children:rt,className:at,theme:lt={},...ct})=>{const{theme:ut}=useTimelineContentContext(),dt=mergeDeep(ut.title,lt);return jsxRuntimeExports.jsx(ot,{className:twMerge(dt.base,at),...ct,children:rt})},TimelineComponent=({children:ot,className:rt,horizontal:at,theme:lt={},...ct})=>{const ut=mergeDeep(getTheme().timeline,lt);return jsxRuntimeExports.jsx(TimelineContext.Provider,{value:{theme:ut,horizontal:at},children:jsxRuntimeExports.jsx("ol",{"data-testid":"timeline-component",className:twMerge(at&&ut.root.direction.horizontal,!at&&ut.root.direction.vertical,rt),...ct,children:ot})})};TimelineComponent.displayName="Timeline";TimelineItem.displayName="Timeline.Item";TimelinePoint.displayName="Timeline.Point";TimelineContent.displayName="Timeline.Content";TimelineTime.displayName="Timeline.Time";TimelineTitle.displayName="Timeline.Title";TimelineBody.displayName="Timeline.Body";Object.assign(TimelineComponent,{Item:TimelineItem,Point:TimelinePoint,Content:TimelineContent,Time:TimelineTime,Title:TimelineTitle,Body:TimelineBody});const ToastContext=reactExports.createContext(void 0);function useToastContext(){const ot=reactExports.useContext(ToastContext);if(!ot)throw new Error("useToastContext should be used within the ToastContext provider!");return ot}const ToastToggle=({className:ot,onClick:rt,theme:at={},xIcon:lt=HiX,onDismiss:ct,...ut})=>{const{theme:dt,duration:ht,isClosed:ft,isRemoved:pt,setIsClosed:mt,setIsRemoved:gt}=useToastContext(),yt=mergeDeep(dt.toggle,at),xt=bt=>{if(rt&&rt(bt),ct){ct();return}mt(!ft),setTimeout(()=>gt(!pt),ht)};return jsxRuntimeExports.jsx("button",{"aria-label":"Close",onClick:xt,type:"button",className:twMerge(yt.base,ot),...ut,children:jsxRuntimeExports.jsx(lt,{"aria-hidden":!0,className:yt.icon})})},durationClasses={75:"duration-75",100:"duration-100",150:"duration-150",200:"duration-200",300:"duration-300",500:"duration-500",700:"duration-700",1e3:"duration-1000"},ToastComponent=({children:ot,className:rt,duration:at=300,theme:lt={},...ct})=>{const[ut,dt]=reactExports.useState(!1),[ht,ft]=reactExports.useState(!1),pt=mergeDeep(getTheme().toast,lt);return ht?null:jsxRuntimeExports.jsx(ToastContext.Provider,{value:{theme:pt,duration:at,isClosed:ut,isRemoved:ht,setIsClosed:dt,setIsRemoved:ft},children:jsxRuntimeExports.jsx("div",{"data-testid":"flowbite-toast",role:"alert",className:twMerge(pt.root.base,durationClasses[at],ut&&pt.root.closed,rt),...ct,children:ot})})};ToastComponent.displayName="Toast";ToastToggle.displayName="Toast.Toggle";Object.assign(ToastComponent,{Toggle:ToastToggle});const ToggleSwitch=reactExports.forwardRef(({checked:ot,className:rt,color:at="blue",sizing:lt="md",disabled:ct,label:ut,name:dt,onChange:ht,theme:ft={},...pt},mt)=>{const gt=reactExports.useId(),yt=mergeDeep(getTheme().toggleSwitch,ft),xt=()=>ht(!ot),bt=()=>{xt()},Et=Rt=>{Rt.code=="Enter"&&Rt.preventDefault()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[dt&&ot?jsxRuntimeExports.jsx("input",{ref:mt,checked:ot,hidden:!0,name:dt,readOnly:!0,type:"checkbox",className:"sr-only"}):null,jsxRuntimeExports.jsxs("button",{"aria-checked":ot,"aria-labelledby":`${gt}-flowbite-toggleswitch-label`,disabled:ct,id:`${gt}-flowbite-toggleswitch`,onClick:bt,onKeyDown:Et,role:"switch",tabIndex:0,type:"button",className:twMerge(yt.root.base,yt.root.active[ct?"off":"on"],rt),...pt,children:[jsxRuntimeExports.jsx("div",{"data-testid":"flowbite-toggleswitch-toggle",className:twMerge(yt.toggle.base,yt.toggle.checked[ot?"on":"off"],ot&&yt.toggle.checked.color[at],yt.toggle.sizes[lt])}),ut!=null&&ut.length?jsxRuntimeExports.jsx("span",{"data-testid":"flowbite-toggleswitch-label",id:`${gt}-flowbite-toggleswitch-label`,className:yt.root.label,children:ut}):null]})]})});ToggleSwitch.displayName="ToggleSwitch";const Logo$1="/PostGradePortal/assets/University_of_Johannesburg_Logo-xV5IJzma.png",LoginImage="/PostGradePortal/assets/uj-campus-apk-wdYru7FF.jpg",Login=()=>{const[ot,rt]=reactExports.useState(!1),[at,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(""),[dt,ht]=reactExports.useState(""),[ft,pt]=reactExports.useState(!1),[mt,gt]=reactExports.useState(!1),yt=useNavigate(),xt=()=>{rt(!ot)};reactExports.useEffect(()=>{const Et=localStorage.getItem("rememberedEmail");Et&&(lt(Et),gt(!0))},[]);const bt=async Et=>{Et.preventDefault(),pt(!0);try{const wt=(await signInWithEmailAndPassword(auth,at,ct)).user;if(wt){const _t=wt.email,At=_t=="220143805@uj.ac.za"?"Admin":_t.startsWith("7")?"Supervisor":_t.startsWith("2")?"Student":_t.startsWith("3")?"Examiner":"";At?(localStorage.setItem("userRole",At.toLowerCase()),localStorage.setItem("email",_t),mt?(localStorage.setItem("username",at),localStorage.setItem("password",ct)):(localStorage.removeItem("username"),localStorage.removeItem("password")),At=="Admin"?yt("/admin/dashboard"):yt("/dashboard")):ht("Invalid user type.")}}catch{ht("Invalid credentials. Please try again.")}finally{pt(!1)}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1)),url(${LoginImage})`},children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-7 left-7 flex items-center space-x-4",children:[jsxRuntimeExports.jsx("img",{src:Logo$1,alt:"University of Johannesburg Logo",className:"w-24 h-w-24 rounded-xl"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white dark:text-gray-200 mb-2",children:"PostGrade Portal"}),jsxRuntimeExports.jsx("p",{className:"text-md font-normal text-white dark:text-gray-300",children:"University of Johannesburg"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center rounded-xl h-20 -mt-16 mb-6 p-4 bg-[#FF8503] dark:bg-gray-700",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold text-white text-center",children:"Login"})}),jsxRuntimeExports.jsxs("form",{className:"space-y-6",onSubmit:bt,children:[jsxRuntimeExports.jsx("header",{className:"text-center mb-4 dark:text-gray-200",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Enter your credentials to login"})}),dt&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-center",children:dt}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",id:"email",value:at,onChange:Et=>lt(Et.target.value),className:"block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "}),jsxRuntimeExports.jsx("label",{htmlFor:"studentNumber",className:"absolute text-base text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-800 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-1",children:"Username"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:ot?"text":"password",id:"password",value:ct,onChange:Et=>ut(Et.target.value),className:"block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" "}),jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"absolute text-base text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-800 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-1",children:"Password"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:xt,children:ot?jsxRuntimeExports.jsx(HiEyeOff,{className:"text-gray-500 dark:text-gray-400"}):jsxRuntimeExports.jsx(HiEye,{className:"text-gray-500 dark:text-gray-400"})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"remember",className:"rounded text-[#FF8503] border-[#FF8503] focus:ring-0",checked:mt,onChange:Et=>gt(Et.target.checked)}),jsxRuntimeExports.jsx("label",{htmlFor:"remember",className:"text-sm font-medium text-gray-500 dark:text-gray-400 ml-2",children:"Remember me"})]}),jsxRuntimeExports.jsx(Link,{to:"/forgot-password",className:"text-sm font-medium text-[#FF8503] dark:text-blue-500",children:"Forgot password?"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("button",{type:"submit",className:"w-full mt-10 px-4 py-2 text-base font-medium text-white bg-[#FF8503] rounded-lg hover:bg-[#FF8503] dark:bg-gray-700 dark:hover:bg-gray-600",disabled:ft,children:[ft?jsxRuntimeExports.jsx(Spinner,{className:"fill-white",size:"md"}):"Login"," "]})})]})]}),jsxRuntimeExports.jsx("footer",{className:"absolute bottom-0 w-full p-4 text-center text-gray-700 dark:text-gray-400",children:jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal text-center text-white dark:text-gray-400",children:["© 2024 All Rights Reserved. ",jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"PostGrade Portal"})," is a product of the ",jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"University of Johannesburg"})]})})]})},AuthContext=React.createContext();function useAuth(){return reactExports.useContext(AuthContext)}function AuthProvider({children:ot}){const[rt,at]=reactExports.useState(null),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(null),[ht,ft]=reactExports.useState(null),[pt,mt]=reactExports.useState(!0),gt=reactExports.useCallback(async(bt,Et)=>{const Rt=`${Et}-${bt}`,wt=localStorage.getItem(Rt);if(wt){const{data:_t,timestamp:At}=JSON.parse(wt);if(!(Date.now()-At>24*60*60*1e3)){dt(_t);return}}try{const _t=doc(db$2,Et,bt),At=await getDoc(_t);if(At.exists()){const kt=At.data();dt(kt),localStorage.setItem(Rt,JSON.stringify({data:kt,timestamp:Date.now()}))}else console.log("No such document!")}catch(_t){console.error("Error fetching user data:",_t)}},[]),yt=async(bt,Et)=>{try{const wt=(await signInWithEmailAndPassword(auth,bt,Et)).user;if(wt){const _t=wt.email.substring(0,9);let At="";if(_t==="220143805")At="Admin";else if(_t.startsWith("7"))At="Supervisor";else if(_t.startsWith("2"))At="Student";else if(wt.email.endsWith("@externalexaminer.co.za"))At="Examiner";else throw new Error("Invalid user type");ft(At),at(wt),ct(!0),await gt(_t,At)}}catch(Rt){throw console.error("Login error:",Rt),Rt}};reactExports.useEffect(()=>onAuthStateChanged(auth,async Et=>{if(Et){const Rt=Et.email,wt=Rt.substring(0,9);let _t="";if(wt==="220143805")_t="Admin";else if(wt.startsWith("7"))_t="Supervisor";else if(wt.startsWith("2"))_t="Student";else if(Rt.startsWith("3"))_t="Examiner";else{alert("Invalid user type");return}ft(_t),at(Et),ct(!0),await gt(wt,_t)}else at(null),ct(!1),ft(""),dt(null);mt(!1)}),[gt]);const xt={CurrentUser:rt,LoggedInUser:lt,Loading:pt,UserRole:ht,UserData:ut,login:yt};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:xt,children:!pt&&ot})}const ThemeContext=reactExports.createContext({isDarkMode:!1,toggleTheme:()=>{}}),ThemeProvider=({children:ot})=>{const[rt,at]=reactExports.useState(()=>localStorage.getItem("theme")==="dark");reactExports.useEffect(()=>{document.documentElement.classList.toggle("dark",rt),localStorage.setItem("theme",rt?"dark":"light")},[rt]);const lt=()=>{at(ct=>!ct)};return jsxRuntimeExports.jsx(ThemeContext.Provider,{value:{isDarkMode:rt,toggleTheme:lt},children:ot})},useTheme=()=>reactExports.useContext(ThemeContext);var propTypes={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function ot(lt,ct,ut,dt,ht,ft){if(ft!==ReactPropTypesSecret){var pt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw pt.name="Invariant Violation",pt}}ot.isRequired=ot;function rt(){return ot}var at={array:ot,bigint:ot,bool:ot,func:ot,number:ot,object:ot,string:ot,symbol:ot,any:ot,arrayOf:rt,element:ot,elementType:ot,instanceOf:rt,node:ot,objectOf:rt,oneOf:rt,oneOfType:rt,shape:rt,exact:rt,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return at.PropTypes=at,at};propTypes.exports=factoryWithThrowingShims();var propTypesExports=propTypes.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);var bundle=function(ot){var rt={};function at(lt){if(rt[lt])return rt[lt].exports;var ct=rt[lt]={i:lt,l:!1,exports:{}};return ot[lt].call(ct.exports,ct,ct.exports,at),ct.l=!0,ct.exports}return at.m=ot,at.c=rt,at.d=function(lt,ct,ut){at.o(lt,ct)||Object.defineProperty(lt,ct,{enumerable:!0,get:ut})},at.r=function(lt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(lt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(lt,"__esModule",{value:!0})},at.t=function(lt,ct){if(1&ct&&(lt=at(lt)),8&ct||4&ct&&typeof lt=="object"&&lt&&lt.__esModule)return lt;var ut=Object.create(null);if(at.r(ut),Object.defineProperty(ut,"default",{enumerable:!0,value:lt}),2&ct&&typeof lt!="string")for(var dt in lt)at.d(ut,dt,(function(ht){return lt[ht]}).bind(null,dt));return ut},at.n=function(lt){var ct=lt&&lt.__esModule?function(){return lt.default}:function(){return lt};return at.d(ct,"a",ct),ct},at.o=function(lt,ct){return Object.prototype.hasOwnProperty.call(lt,ct)},at.p="",at(at.s=2)}([function(ot,rt){ot.exports=propTypesExports},function(ot,rt){ot.exports=reactExports},function(module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),(function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),prop_types__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__),enterModule;function _typeof(ot){return(_typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt})(ot)}function _extends(){return(_extends=Object.assign||function(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt];for(var lt in at)Object.prototype.hasOwnProperty.call(at,lt)&&(ot[lt]=at[lt])}return ot}).apply(this,arguments)}function _classCallCheck(ot,rt){if(!(ot instanceof rt))throw new TypeError("Cannot call a class as a function")}function _defineProperties(ot,rt){for(var at=0;at<rt.length;at++){var lt=rt[at];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(ot,lt.key,lt)}}function _createClass(ot,rt,at){return rt&&_defineProperties(ot.prototype,rt),ot}function _inherits(ot,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function");ot.prototype=Object.create(rt&&rt.prototype,{constructor:{value:ot,writable:!0,configurable:!0}}),rt&&_setPrototypeOf(ot,rt)}function _setPrototypeOf(ot,rt){return(_setPrototypeOf=Object.setPrototypeOf||function(at,lt){return at.__proto__=lt,at})(ot,rt)}function _createSuper(ot){return function(){var rt,at=_getPrototypeOf(ot);if(_isNativeReflectConstruct()){var lt=_getPrototypeOf(this).constructor;rt=Reflect.construct(at,arguments,lt)}else rt=at.apply(this,arguments);return _possibleConstructorReturn(this,rt)}}function _possibleConstructorReturn(ot,rt){return!rt||_typeof(rt)!=="object"&&typeof rt!="function"?_assertThisInitialized(ot):rt}function _assertThisInitialized(ot){if(ot===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ot}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(ot){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(rt){return rt.__proto__||Object.getPrototypeOf(rt)})(ot)}function _defineProperty(ot,rt,at){return rt in ot?Object.defineProperty(ot,rt,{value:at,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=at,ot}enterModule=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module),typeof reactHotLoaderGlobal<"u"&&reactHotLoaderGlobal.default.signature;var ReactAudioPlayer=function(_Component){_inherits(ReactAudioPlayer,_Component);var _super=_createSuper(ReactAudioPlayer);function ReactAudioPlayer(){var ot;_classCallCheck(this,ReactAudioPlayer);for(var rt=arguments.length,at=new Array(rt),lt=0;lt<rt;lt++)at[lt]=arguments[lt];return _defineProperty(_assertThisInitialized(ot=_super.call.apply(_super,[this].concat(at))),"audioEl",react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef()),_defineProperty(_assertThisInitialized(ot),"listenTracker",void 0),_defineProperty(_assertThisInitialized(ot),"onError",function(ct){var ut,dt;return(ut=(dt=ot.props).onError)===null||ut===void 0?void 0:ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onCanPlay",function(ct){var ut,dt;return(ut=(dt=ot.props).onCanPlay)===null||ut===void 0?void 0:ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onCanPlayThrough",function(ct){var ut,dt;return(ut=(dt=ot.props).onCanPlayThrough)===null||ut===void 0?void 0:ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onPlay",function(ct){var ut,dt;ot.setListenTrack(),(ut=(dt=ot.props).onPlay)===null||ut===void 0||ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onAbort",function(ct){var ut,dt;ot.clearListenTrack(),(ut=(dt=ot.props).onAbort)===null||ut===void 0||ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onEnded",function(ct){var ut,dt;ot.clearListenTrack(),(ut=(dt=ot.props).onEnded)===null||ut===void 0||ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onPause",function(ct){var ut,dt;ot.clearListenTrack(),(ut=(dt=ot.props).onPause)===null||ut===void 0||ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onSeeked",function(ct){var ut,dt;(ut=(dt=ot.props).onSeeked)===null||ut===void 0||ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onLoadedMetadata",function(ct){var ut,dt;(ut=(dt=ot.props).onLoadedMetadata)===null||ut===void 0||ut.call(dt,ct)}),_defineProperty(_assertThisInitialized(ot),"onVolumeChanged",function(ct){var ut,dt;(ut=(dt=ot.props).onVolumeChanged)===null||ut===void 0||ut.call(dt,ct)}),ot}return _createClass(ReactAudioPlayer,[{key:"componentDidMount",value:function(){var ot=this.audioEl.current;ot&&(this.updateVolume(this.props.volume),ot.addEventListener("error",this.onError),ot.addEventListener("canplay",this.onCanPlay),ot.addEventListener("canplaythrough",this.onCanPlayThrough),ot.addEventListener("play",this.onPlay),ot.addEventListener("abort",this.onAbort),ot.addEventListener("ended",this.onEnded),ot.addEventListener("pause",this.onPause),ot.addEventListener("seeked",this.onSeeked),ot.addEventListener("loadedmetadata",this.onLoadedMetadata),ot.addEventListener("volumechange",this.onVolumeChanged))}},{key:"componentWillUnmount",value:function(){var ot=this.audioEl.current;ot&&(ot.removeEventListener("error",this.onError),ot.removeEventListener("canplay",this.onCanPlay),ot.removeEventListener("canplaythrough",this.onCanPlayThrough),ot.removeEventListener("play",this.onPlay),ot.removeEventListener("abort",this.onAbort),ot.removeEventListener("ended",this.onEnded),ot.removeEventListener("pause",this.onPause),ot.removeEventListener("seeked",this.onSeeked),ot.removeEventListener("loadedmetadata",this.onLoadedMetadata),ot.removeEventListener("volumechange",this.onVolumeChanged))}},{key:"componentDidUpdate",value:function(ot){this.updateVolume(this.props.volume)}},{key:"setListenTrack",value:function(){var ot=this;if(!this.listenTracker){var rt=this.props.listenInterval;this.listenTracker=window.setInterval(function(){var at,lt;ot.audioEl.current&&((at=(lt=ot.props).onListen)===null||at===void 0||at.call(lt,ot.audioEl.current.currentTime))},rt)}}},{key:"updateVolume",value:function(ot){var rt=this.audioEl.current;rt!==null&&typeof ot=="number"&&ot!==(rt==null?void 0:rt.volume)&&(rt.volume=ot)}},{key:"clearListenTrack",value:function(){this.listenTracker&&(clearInterval(this.listenTracker),delete this.listenTracker)}},{key:"render",value:function(){var ot=this.props.children||react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",null,"Your browser does not support the ",react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("code",null,"audio")," element."),rt=this.props.controls!==!1,at=this.props.title?this.props.title:this.props.src,lt={};return this.props.controlsList&&(lt.controlsList=this.props.controlsList),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("audio",_extends({autoPlay:this.props.autoPlay,className:"react-audio-player ".concat(this.props.className),controls:rt,crossOrigin:this.props.crossOrigin,id:this.props.id,loop:this.props.loop,muted:this.props.muted,preload:this.props.preload,ref:this.audioEl,src:this.props.src,style:this.props.style,title:at},lt),ot)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ReactAudioPlayer}(react__WEBPACK_IMPORTED_MODULE_0__.Component);_defineProperty(ReactAudioPlayer,"propTypes",void 0),_defineProperty(ReactAudioPlayer,"defaultProps",void 0),ReactAudioPlayer.defaultProps={autoPlay:!1,children:null,className:"",controls:!1,controlsList:"",id:"",listenInterval:1e4,loop:!1,muted:!1,onAbort:function(){},onCanPlay:function(){},onCanPlayThrough:function(){},onEnded:function(){},onError:function(){},onListen:function(){},onPause:function(){},onPlay:function(){},onSeeked:function(){},onVolumeChanged:function(){},onLoadedMetadata:function(){},preload:"metadata",style:{},title:"",volume:1},ReactAudioPlayer.propTypes={autoPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,children:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element,className:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,controls:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,controlsList:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,crossOrigin:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,id:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,listenInterval:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,loop:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,muted:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,onAbort:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onCanPlayThrough:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onEnded:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onError:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onListen:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onLoadedMetadata:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPause:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onPlay:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onSeeked:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,onVolumeChanged:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,preload:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.oneOf(["","none","metadata","auto"]),src:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,style:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.objectOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string),title:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,volume:prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number};var _default=ReactAudioPlayer,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(ReactAudioPlayer,"ReactAudioPlayer","/home/justin/Projects/react-audio-player/src/index.tsx"),reactHotLoader.register(_default,"default","/home/justin/Projects/react-audio-player/src/index.tsx")),leaveModule=typeof reactHotLoaderGlobal<"u"?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(3)(module))},function(ot,rt){ot.exports=function(at){if(!at.webpackPolyfill){var lt=Object.create(at);lt.children||(lt.children=[]),Object.defineProperty(lt,"loaded",{enumerable:!0,get:function(){return lt.l}}),Object.defineProperty(lt,"id",{enumerable:!0,get:function(){return lt.i}}),Object.defineProperty(lt,"exports",{enumerable:!0}),lt.webpackPolyfill=1}return lt}}]);const ReactAudioPlayer=getDefaultExportFromCjs(bundle),notificationSound="/PostGradePortal/assets/pop-up-bubble-DgglSZ7v.mp3";function r$3(ot){var rt,at,lt="";if(typeof ot=="string"||typeof ot=="number")lt+=ot;else if(typeof ot=="object")if(Array.isArray(ot)){var ct=ot.length;for(rt=0;rt<ct;rt++)ot[rt]&&(at=r$3(ot[rt]))&&(lt&&(lt+=" "),lt+=at)}else for(at in ot)ot[at]&&(lt&&(lt+=" "),lt+=at);return lt}function clsx(){for(var ot,rt,at=0,lt="",ct=arguments.length;at<ct;at++)(ot=arguments[at])&&(rt=r$3(ot))&&(lt&&(lt+=" "),lt+=rt);return lt}const c$3=ot=>typeof ot=="number"&&!isNaN(ot),d$2=ot=>typeof ot=="string",u$3=ot=>typeof ot=="function",p$2=ot=>d$2(ot)||u$3(ot)?ot:null,m$3=ot=>reactExports.isValidElement(ot)||d$2(ot)||u$3(ot)||c$3(ot);function f$3(ot,rt,at){at===void 0&&(at=300);const{scrollHeight:lt,style:ct}=ot;requestAnimationFrame(()=>{ct.minHeight="initial",ct.height=lt+"px",ct.transition=`all ${at}ms`,requestAnimationFrame(()=>{ct.height="0",ct.padding="0",ct.margin="0",setTimeout(rt,at)})})}function g$4(ot){let{enter:rt,exit:at,appendPosition:lt=!1,collapse:ct=!0,collapseDuration:ut=300}=ot;return function(dt){let{children:ht,position:ft,preventExitTransition:pt,done:mt,nodeRef:gt,isIn:yt,playToast:xt}=dt;const bt=lt?`${rt}--${ft}`:rt,Et=lt?`${at}--${ft}`:at,Rt=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{const wt=gt.current,_t=bt.split(" "),At=kt=>{kt.target===gt.current&&(xt(),wt.removeEventListener("animationend",At),wt.removeEventListener("animationcancel",At),Rt.current===0&&kt.type!=="animationcancel"&&wt.classList.remove(..._t))};wt.classList.add(..._t),wt.addEventListener("animationend",At),wt.addEventListener("animationcancel",At)},[]),reactExports.useEffect(()=>{const wt=gt.current,_t=()=>{wt.removeEventListener("animationend",_t),ct?f$3(wt,mt,ut):mt()};yt||(pt?_t():(Rt.current=1,wt.className+=` ${Et}`,wt.addEventListener("animationend",_t)))},[yt]),React.createElement(React.Fragment,null,ht)}}function y$2(ot,rt){return ot!=null?{content:ot.content,containerId:ot.props.containerId,id:ot.props.toastId,theme:ot.props.theme,type:ot.props.type,data:ot.props.data||{},isLoading:ot.props.isLoading,icon:ot.props.icon,status:rt}:{}}const v$3=new Map;let h$2=[];const T$3=new Set,E$1=ot=>T$3.forEach(rt=>rt(ot)),b$3=()=>v$3.size>0;function I$3(ot,rt){var at;if(rt)return!((at=v$3.get(rt))==null||!at.isToastActive(ot));let lt=!1;return v$3.forEach(ct=>{ct.isToastActive(ot)&&(lt=!0)}),lt}function _$2(ot,rt){m$3(ot)&&(b$3()||h$2.push({content:ot,options:rt}),v$3.forEach(at=>{at.buildToast(ot,rt)}))}function C$3(ot,rt){v$3.forEach(at=>{rt!=null&&rt!=null&&rt.containerId?(rt==null?void 0:rt.containerId)===at.id&&at.toggle(ot,rt==null?void 0:rt.id):at.toggle(ot,rt==null?void 0:rt.id)})}function L$3(ot){const{subscribe:rt,getSnapshot:at,setProps:lt}=reactExports.useRef(function(ut){const dt=ut.containerId||1;return{subscribe(ht){const ft=function(mt,gt,yt){let xt=1,bt=0,Et=[],Rt=[],wt=[],_t=gt;const At=new Map,kt=new Set,It=()=>{wt=Array.from(At.values()),kt.forEach(Tt=>Tt())},Nt=Tt=>{Rt=Tt==null?[]:Rt.filter(Ct=>Ct!==Tt),It()},Pt=Tt=>{const{toastId:Ct,onOpen:Ot,updateId:Dt,children:jt}=Tt.props,Mt=Dt==null;Tt.staleId&&At.delete(Tt.staleId),At.set(Ct,Tt),Rt=[...Rt,Tt.props.toastId].filter(zt=>zt!==Tt.staleId),It(),yt(y$2(Tt,Mt?"added":"updated")),Mt&&u$3(Ot)&&Ot(reactExports.isValidElement(jt)&&jt.props)};return{id:mt,props:_t,observe:Tt=>(kt.add(Tt),()=>kt.delete(Tt)),toggle:(Tt,Ct)=>{At.forEach(Ot=>{Ct!=null&&Ct!==Ot.props.toastId||u$3(Ot.toggle)&&Ot.toggle(Tt)})},removeToast:Nt,toasts:At,clearQueue:()=>{bt-=Et.length,Et=[]},buildToast:(Tt,Ct)=>{if((rn=>{let{containerId:Vt,toastId:$t,updateId:Xt}=rn;const Zt=Vt?Vt!==mt:mt!==1,Jt=At.has($t)&&Xt==null;return Zt||Jt})(Ct))return;const{toastId:Ot,updateId:Dt,data:jt,staleId:Mt,delay:zt}=Ct,Qt=()=>{Nt(Ot)},qt=Dt==null;qt&&bt++;const Kt={..._t,style:_t.toastStyle,key:xt++,...Object.fromEntries(Object.entries(Ct).filter(rn=>{let[Vt,$t]=rn;return $t!=null})),toastId:Ot,updateId:Dt,data:jt,closeToast:Qt,isIn:!1,className:p$2(Ct.className||_t.toastClassName),bodyClassName:p$2(Ct.bodyClassName||_t.bodyClassName),progressClassName:p$2(Ct.progressClassName||_t.progressClassName),autoClose:!Ct.isLoading&&(sn=Ct.autoClose,Gt=_t.autoClose,sn===!1||c$3(sn)&&sn>0?sn:Gt),deleteToast(){const rn=At.get(Ot),{onClose:Vt,children:$t}=rn.props;u$3(Vt)&&Vt(reactExports.isValidElement($t)&&$t.props),yt(y$2(rn,"removed")),At.delete(Ot),bt--,bt<0&&(bt=0),Et.length>0?Pt(Et.shift()):It()}};var sn,Gt;Kt.closeButton=_t.closeButton,Ct.closeButton===!1||m$3(Ct.closeButton)?Kt.closeButton=Ct.closeButton:Ct.closeButton===!0&&(Kt.closeButton=!m$3(_t.closeButton)||_t.closeButton);let Wt=Tt;reactExports.isValidElement(Tt)&&!d$2(Tt.type)?Wt=reactExports.cloneElement(Tt,{closeToast:Qt,toastProps:Kt,data:jt}):u$3(Tt)&&(Wt=Tt({closeToast:Qt,toastProps:Kt,data:jt}));const pn={content:Wt,props:Kt,staleId:Mt};_t.limit&&_t.limit>0&&bt>_t.limit&&qt?Et.push(pn):c$3(zt)?setTimeout(()=>{Pt(pn)},zt):Pt(pn)},setProps(Tt){_t=Tt},setToggle:(Tt,Ct)=>{At.get(Tt).toggle=Ct},isToastActive:Tt=>Rt.some(Ct=>Ct===Tt),getSnapshot:()=>_t.newestOnTop?wt.reverse():wt}}(dt,ut,E$1);v$3.set(dt,ft);const pt=ft.observe(ht);return h$2.forEach(mt=>_$2(mt.content,mt.options)),h$2=[],()=>{pt(),v$3.delete(dt)}},setProps(ht){var ft;(ft=v$3.get(dt))==null||ft.setProps(ht)},getSnapshot(){var ht;return(ht=v$3.get(dt))==null?void 0:ht.getSnapshot()}}}(ot)).current;lt(ot);const ct=reactExports.useSyncExternalStore(rt,at,at);return{getToastToRender:function(ut){if(!ct)return[];const dt=new Map;return ct.forEach(ht=>{const{position:ft}=ht.props;dt.has(ft)||dt.set(ft,[]),dt.get(ft).push(ht)}),Array.from(dt,ht=>ut(ht[0],ht[1]))},isToastActive:I$3,count:ct==null?void 0:ct.length}}function N$2(ot){const[rt,at]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),ut=reactExports.useRef(null),dt=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:ht,pauseOnHover:ft,closeToast:pt,onClick:mt,closeOnClick:gt}=ot;var yt,xt;function bt(){at(!0)}function Et(){at(!1)}function Rt(At){const kt=ut.current;dt.canDrag&&kt&&(dt.didMove=!0,rt&&Et(),dt.delta=ot.draggableDirection==="x"?At.clientX-dt.start:At.clientY-dt.start,dt.start!==At.clientX&&(dt.canCloseOnClick=!1),kt.style.transform=`translate3d(${ot.draggableDirection==="x"?`${dt.delta}px, var(--y)`:`0, calc(${dt.delta}px + var(--y))`},0)`,kt.style.opacity=""+(1-Math.abs(dt.delta/dt.removalDistance)))}function wt(){document.removeEventListener("pointermove",Rt),document.removeEventListener("pointerup",wt);const At=ut.current;if(dt.canDrag&&dt.didMove&&At){if(dt.canDrag=!1,Math.abs(dt.delta)>dt.removalDistance)return ct(!0),ot.closeToast(),void ot.collapseAll();At.style.transition="transform 0.2s, opacity 0.2s",At.style.removeProperty("transform"),At.style.removeProperty("opacity")}}(xt=v$3.get((yt={id:ot.toastId,containerId:ot.containerId,fn:at}).containerId||1))==null||xt.setToggle(yt.id,yt.fn),reactExports.useEffect(()=>{if(ot.pauseOnFocusLoss)return document.hasFocus()||Et(),window.addEventListener("focus",bt),window.addEventListener("blur",Et),()=>{window.removeEventListener("focus",bt),window.removeEventListener("blur",Et)}},[ot.pauseOnFocusLoss]);const _t={onPointerDown:function(At){if(ot.draggable===!0||ot.draggable===At.pointerType){dt.didMove=!1,document.addEventListener("pointermove",Rt),document.addEventListener("pointerup",wt);const kt=ut.current;dt.canCloseOnClick=!0,dt.canDrag=!0,kt.style.transition="none",ot.draggableDirection==="x"?(dt.start=At.clientX,dt.removalDistance=kt.offsetWidth*(ot.draggablePercent/100)):(dt.start=At.clientY,dt.removalDistance=kt.offsetHeight*(ot.draggablePercent===80?1.5*ot.draggablePercent:ot.draggablePercent)/100)}},onPointerUp:function(At){const{top:kt,bottom:It,left:Nt,right:Pt}=ut.current.getBoundingClientRect();At.nativeEvent.type!=="touchend"&&ot.pauseOnHover&&At.clientX>=Nt&&At.clientX<=Pt&&At.clientY>=kt&&At.clientY<=It?Et():bt()}};return ht&&ft&&(_t.onMouseEnter=Et,ot.stacked||(_t.onMouseLeave=bt)),gt&&(_t.onClick=At=>{mt&&mt(At),dt.canCloseOnClick&&pt()}),{playToast:bt,pauseToast:Et,isRunning:rt,preventExitTransition:lt,toastRef:ut,eventHandlers:_t}}function $$3(ot){let{delay:rt,isRunning:at,closeToast:lt,type:ct="default",hide:ut,className:dt,style:ht,controlledProgress:ft,progress:pt,rtl:mt,isIn:gt,theme:yt}=ot;const xt=ut||ft&&pt===0,bt={...ht,animationDuration:`${rt}ms`,animationPlayState:at?"running":"paused"};ft&&(bt.transform=`scaleX(${pt})`);const Et=clsx("Toastify__progress-bar",ft?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${yt}`,`Toastify__progress-bar--${ct}`,{"Toastify__progress-bar--rtl":mt}),Rt=u$3(dt)?dt({rtl:mt,type:ct,defaultClassName:Et}):clsx(Et,dt),wt={[ft&&pt>=1?"onTransitionEnd":"onAnimationEnd"]:ft&&pt<1?null:()=>{gt&&lt()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":xt},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${yt} Toastify__progress-bar--${ct}`}),React.createElement("div",{role:"progressbar","aria-hidden":xt?"true":"false","aria-label":"notification timer",className:Rt,style:bt,...wt}))}let w$4=1;const k$3=()=>""+w$4++;function P$3(ot){return ot&&(d$2(ot.toastId)||c$3(ot.toastId))?ot.toastId:k$3()}function M$2(ot,rt){return _$2(ot,rt),rt.toastId}function x$3(ot,rt){return{...rt,type:rt&&rt.type||ot,toastId:P$3(rt)}}function A$2(ot){return(rt,at)=>M$2(rt,x$3(ot,at))}function B$3(ot,rt){return M$2(ot,x$3("default",rt))}B$3.loading=(ot,rt)=>M$2(ot,x$3("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...rt})),B$3.promise=function(ot,rt,at){let lt,{pending:ct,error:ut,success:dt}=rt;ct&&(lt=d$2(ct)?B$3.loading(ct,at):B$3.loading(ct.render,{...at,...ct}));const ht={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},ft=(mt,gt,yt)=>{if(gt==null)return void B$3.dismiss(lt);const xt={type:mt,...ht,...at,data:yt},bt=d$2(gt)?{render:gt}:gt;return lt?B$3.update(lt,{...xt,...bt}):B$3(bt.render,{...xt,...bt}),yt},pt=u$3(ot)?ot():ot;return pt.then(mt=>ft("success",dt,mt)).catch(mt=>ft("error",ut,mt)),pt},B$3.success=A$2("success"),B$3.info=A$2("info"),B$3.error=A$2("error"),B$3.warning=A$2("warning"),B$3.warn=B$3.warning,B$3.dark=(ot,rt)=>M$2(ot,x$3("default",{theme:"dark",...rt})),B$3.dismiss=function(ot){(function(rt){var at;if(b$3()){if(rt==null||d$2(at=rt)||c$3(at))v$3.forEach(lt=>{lt.removeToast(rt)});else if(rt&&("containerId"in rt||"id"in rt)){const lt=v$3.get(rt.containerId);lt?lt.removeToast(rt.id):v$3.forEach(ct=>{ct.removeToast(rt.id)})}}else h$2=h$2.filter(lt=>rt!=null&&lt.options.toastId!==rt)})(ot)},B$3.clearWaitingQueue=function(ot){ot===void 0&&(ot={}),v$3.forEach(rt=>{!rt.props.limit||ot.containerId&&rt.id!==ot.containerId||rt.clearQueue()})},B$3.isActive=I$3,B$3.update=function(ot,rt){rt===void 0&&(rt={});const at=((lt,ct)=>{var ut;let{containerId:dt}=ct;return(ut=v$3.get(dt||1))==null?void 0:ut.toasts.get(lt)})(ot,rt);if(at){const{props:lt,content:ct}=at,ut={delay:100,...lt,...rt,toastId:rt.toastId||ot,updateId:k$3()};ut.toastId!==ot&&(ut.staleId=ot);const dt=ut.render||ct;delete ut.render,M$2(dt,ut)}},B$3.done=ot=>{B$3.update(ot,{progress:1})},B$3.onChange=function(ot){return T$3.add(ot),()=>{T$3.delete(ot)}},B$3.play=ot=>C$3(!0,ot),B$3.pause=ot=>C$3(!1,ot);const O$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,D$3=ot=>{let{theme:rt,type:at,isLoading:lt,...ct}=ot;return React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:rt==="colored"?"currentColor":`var(--toastify-icon-color-${at})`,...ct})},z$2={info:function(ot){return React.createElement(D$3,{...ot},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(ot){return React.createElement(D$3,{...ot},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(ot){return React.createElement(D$3,{...ot},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(ot){return React.createElement(D$3,{...ot},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return React.createElement("div",{className:"Toastify__spinner"})}},R$1=ot=>{const{isRunning:rt,preventExitTransition:at,toastRef:lt,eventHandlers:ct,playToast:ut}=N$2(ot),{closeButton:dt,children:ht,autoClose:ft,onClick:pt,type:mt,hideProgressBar:gt,closeToast:yt,transition:xt,position:bt,className:Et,style:Rt,bodyClassName:wt,bodyStyle:_t,progressClassName:At,progressStyle:kt,updateId:It,role:Nt,progress:Pt,rtl:Tt,toastId:Ct,deleteToast:Ot,isIn:Dt,isLoading:jt,closeOnClick:Mt,theme:zt}=ot,Qt=clsx("Toastify__toast",`Toastify__toast-theme--${zt}`,`Toastify__toast--${mt}`,{"Toastify__toast--rtl":Tt},{"Toastify__toast--close-on-click":Mt}),qt=u$3(Et)?Et({rtl:Tt,position:bt,type:mt,defaultClassName:Qt}):clsx(Qt,Et),Kt=function(pn){let{theme:rn,type:Vt,isLoading:$t,icon:Xt}=pn,Zt=null;const Jt={theme:rn,type:Vt};return Xt===!1||(u$3(Xt)?Zt=Xt({...Jt,isLoading:$t}):reactExports.isValidElement(Xt)?Zt=reactExports.cloneElement(Xt,Jt):$t?Zt=z$2.spinner():(Yt=>Yt in z$2)(Vt)&&(Zt=z$2[Vt](Jt))),Zt}(ot),sn=!!Pt||!ft,Gt={closeToast:yt,type:mt,theme:zt};let Wt=null;return dt===!1||(Wt=u$3(dt)?dt(Gt):reactExports.isValidElement(dt)?reactExports.cloneElement(dt,Gt):function(pn){let{closeToast:rn,theme:Vt,ariaLabel:$t="close"}=pn;return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Vt}`,type:"button",onClick:Xt=>{Xt.stopPropagation(),rn(Xt)},"aria-label":$t},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Gt)),React.createElement(xt,{isIn:Dt,done:Ot,position:bt,preventExitTransition:at,nodeRef:lt,playToast:ut},React.createElement("div",{id:Ct,onClick:pt,"data-in":Dt,className:qt,...ct,style:Rt,ref:lt},React.createElement("div",{...Dt&&{role:Nt},className:u$3(wt)?wt({type:mt}):clsx("Toastify__toast-body",wt),style:_t},Kt!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!jt})},Kt),React.createElement("div",null,ht)),Wt,React.createElement($$3,{...It&&!sn?{key:`pb-${It}`}:{},rtl:Tt,theme:zt,delay:ft,isRunning:rt,isIn:Dt,closeToast:yt,hide:gt,type:mt,style:kt,className:At,controlledProgress:sn,progress:Pt||0})))},S$2=function(ot,rt){return rt===void 0&&(rt=!1),{enter:`Toastify--animate Toastify__${ot}-enter`,exit:`Toastify--animate Toastify__${ot}-exit`,appendPosition:rt}},H$3=g$4(S$2("bounce",!0));g$4(S$2("slide",!0));g$4(S$2("zoom"));g$4(S$2("flip"));const q$2={position:"top-right",transition:H$3,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Q$2(ot){let rt={...q$2,...ot};const at=ot.stacked,[lt,ct]=reactExports.useState(!0),ut=reactExports.useRef(null),{getToastToRender:dt,isToastActive:ht,count:ft}=L$3(rt),{className:pt,style:mt,rtl:gt,containerId:yt}=rt;function xt(Et){const Rt=clsx("Toastify__toast-container",`Toastify__toast-container--${Et}`,{"Toastify__toast-container--rtl":gt});return u$3(pt)?pt({position:Et,rtl:gt,defaultClassName:Rt}):clsx(Rt,p$2(pt))}function bt(){at&&(ct(!0),B$3.play())}return O$2(()=>{if(at){var Et;const Rt=ut.current.querySelectorAll('[data-in="true"]'),wt=12,_t=(Et=rt.position)==null?void 0:Et.includes("top");let At=0,kt=0;Array.from(Rt).reverse().forEach((It,Nt)=>{const Pt=It;Pt.classList.add("Toastify__toast--stacked"),Nt>0&&(Pt.dataset.collapsed=`${lt}`),Pt.dataset.pos||(Pt.dataset.pos=_t?"top":"bot");const Tt=At*(lt?.2:1)+(lt?0:wt*Nt);Pt.style.setProperty("--y",`${_t?Tt:-1*Tt}px`),Pt.style.setProperty("--g",`${wt}`),Pt.style.setProperty("--s",""+(1-(lt?kt:0))),At+=Pt.offsetHeight,kt+=.025})}},[lt,ft,at]),React.createElement("div",{ref:ut,className:"Toastify",id:yt,onMouseEnter:()=>{at&&(ct(!1),B$3.pause())},onMouseLeave:bt},dt((Et,Rt)=>{const wt=Rt.length?{...mt}:{...mt,pointerEvents:"none"};return React.createElement("div",{className:xt(Et),style:wt,key:`container-${Et}`},Rt.map(_t=>{let{content:At,props:kt}=_t;return React.createElement(R$1,{...kt,stacked:at,collapseAll:bt,isIn:ht(kt.toastId,kt.containerId),style:kt.style,key:`toast-${kt.key}`},At)}))}))}const MotionConfigContext=reactExports.createContext({transformPagePoint:ot=>ot,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({}),PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1}),camelToDash=ot=>ot.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};function createRenderStep(ot){let rt=new Set,at=new Set,lt=!1,ct=!1;const ut=new WeakSet;let dt={delta:0,timestamp:0,isProcessing:!1};function ht(pt){ut.has(pt)&&(ft.schedule(pt),ot()),pt(dt)}const ft={schedule:(pt,mt=!1,gt=!1)=>{const xt=gt&&lt?rt:at;return mt&&ut.add(pt),xt.has(pt)||xt.add(pt),pt},cancel:pt=>{at.delete(pt),ut.delete(pt)},process:pt=>{if(dt=pt,lt){ct=!0;return}lt=!0,[rt,at]=[at,rt],at.clear(),rt.forEach(ht),lt=!1,ct&&(ct=!1,ft.process(pt))}};return ft}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed=40;function createRenderBatcher(ot,rt){let at=!1,lt=!0;const ct={delta:0,timestamp:0,isProcessing:!1},ut=()=>at=!0,dt=stepsOrder.reduce((wt,_t)=>(wt[_t]=createRenderStep(ut),wt),{}),{read:ht,resolveKeyframes:ft,update:pt,preRender:mt,render:gt,postRender:yt}=dt,xt=()=>{const wt=performance.now();at=!1,ct.delta=lt?1e3/60:Math.max(Math.min(wt-ct.timestamp,maxElapsed),1),ct.timestamp=wt,ct.isProcessing=!0,ht.process(ct),ft.process(ct),pt.process(ct),mt.process(ct),gt.process(ct),yt.process(ct),ct.isProcessing=!1,at&&rt&&(lt=!1,ot(xt))},bt=()=>{at=!0,lt=!0,ct.isProcessing||ot(xt)};return{schedule:stepsOrder.reduce((wt,_t)=>{const At=dt[_t];return wt[_t]=(kt,It=!1,Nt=!1)=>(at||bt(),At.schedule(kt,It,Nt)),wt},{}),cancel:wt=>{for(let _t=0;_t<stepsOrder.length;_t++)dt[stepsOrder[_t]].cancel(wt)},state:ct,steps:dt}}const{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1);function isRefObject(ot){return ot&&typeof ot=="object"&&Object.prototype.hasOwnProperty.call(ot,"current")}const SwitchLayoutGroupContext=reactExports.createContext({});let scheduleHandoffComplete=!1;function useVisualElement(ot,rt,at,lt,ct){const{visualElement:ut}=reactExports.useContext(MotionContext),dt=reactExports.useContext(LazyContext),ht=reactExports.useContext(PresenceContext),ft=reactExports.useContext(MotionConfigContext).reducedMotion,pt=reactExports.useRef();lt=lt||dt.renderer,!pt.current&&lt&&(pt.current=lt(ot,{visualState:rt,parent:ut,props:at,presenceContext:ht,blockInitialAnimation:ht?ht.initial===!1:!1,reducedMotionConfig:ft}));const mt=pt.current,gt=reactExports.useContext(SwitchLayoutGroupContext);mt&&!mt.projection&&ct&&(mt.type==="html"||mt.type==="svg")&&createProjectionNode$1(pt.current,at,ct,gt),reactExports.useInsertionEffect(()=>{mt&&mt.update(at,ht)});const yt=reactExports.useRef(!!(at[optimizedAppearDataAttribute]&&!window.HandoffComplete));return useIsomorphicLayoutEffect(()=>{mt&&(mt.updateFeatures(),microtask.render(mt.render),yt.current&&mt.animationState&&mt.animationState.animateChanges())}),reactExports.useEffect(()=>{mt&&(!yt.current&&mt.animationState&&mt.animationState.animateChanges(),yt.current&&(yt.current=!1,scheduleHandoffComplete||(scheduleHandoffComplete=!0,queueMicrotask(completeHandoff))))}),mt}function completeHandoff(){window.HandoffComplete=!0}function createProjectionNode$1(ot,rt,at,lt){const{layoutId:ct,layout:ut,drag:dt,dragConstraints:ht,layoutScroll:ft,layoutRoot:pt}=rt;ot.projection=new at(ot.latestValues,rt["data-framer-portal-id"]?void 0:getClosestProjectingNode(ot.parent)),ot.projection.setOptions({layoutId:ct,layout:ut,alwaysMeasureLayout:!!dt||ht&&isRefObject(ht),visualElement:ot,scheduleRender:()=>ot.scheduleRender(),animationType:typeof ut=="string"?ut:"both",initialPromotionConfig:lt,layoutScroll:ft,layoutRoot:pt})}function getClosestProjectingNode(ot){if(ot)return ot.options.allowProjection!==!1?ot.projection:getClosestProjectingNode(ot.parent)}function useMotionRef(ot,rt,at){return reactExports.useCallback(lt=>{lt&&ot.mount&&ot.mount(lt),rt&&(lt?rt.mount(lt):rt.unmount()),at&&(typeof at=="function"?at(lt):isRefObject(at)&&(at.current=lt))},[rt])}function isVariantLabel(ot){return typeof ot=="string"||Array.isArray(ot)}function isAnimationControls(ot){return ot!==null&&typeof ot=="object"&&typeof ot.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(ot){return isAnimationControls(ot.animate)||variantProps.some(rt=>isVariantLabel(ot[rt]))}function isVariantNode(ot){return!!(isControllingVariants(ot)||ot.variants)}function getCurrentTreeVariants(ot,rt){if(isControllingVariants(ot)){const{initial:at,animate:lt}=ot;return{initial:at===!1||isVariantLabel(at)?at:void 0,animate:isVariantLabel(lt)?lt:void 0}}return ot.inherit!==!1?rt:{}}function useCreateMotionContext(ot){const{initial:rt,animate:at}=getCurrentTreeVariants(ot,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:rt,animate:at}),[variantLabelsAsDependency(rt),variantLabelsAsDependency(at)])}function variantLabelsAsDependency(ot){return Array.isArray(ot)?ot.join(" "):ot}const featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const ot in featureProps)featureDefinitions[ot]={isEnabled:rt=>featureProps[ot].some(at=>!!rt[at])};function loadFeatures(ot){for(const rt in ot)featureDefinitions[rt]={...featureDefinitions[rt],...ot[rt]}}const LayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol"),noop$1=ot=>ot;let invariant=noop$1;function createMotionComponent({preloadedFeatures:ot,createVisualElement:rt,useRender:at,useVisualState:lt,Component:ct}){ot&&loadFeatures(ot);function ut(ht,ft){let pt;const mt={...reactExports.useContext(MotionConfigContext),...ht,layoutId:useLayoutId(ht)},{isStatic:gt}=mt,yt=useCreateMotionContext(ht),xt=lt(ht,gt);if(!gt&&isBrowser){useStrictMode();const bt=getProjectionFunctionality(mt);pt=bt.MeasureLayout,yt.visualElement=useVisualElement(ct,xt,mt,rt,bt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:yt,children:[pt&&yt.visualElement?jsxRuntimeExports.jsx(pt,{visualElement:yt.visualElement,...mt}):null,at(ct,ht,useMotionRef(xt,yt.visualElement,ft),xt,gt,yt.visualElement)]})}const dt=reactExports.forwardRef(ut);return dt[motionComponentSymbol]=ct,dt}function useLayoutId({layoutId:ot}){const rt=reactExports.useContext(LayoutGroupContext).id;return rt&&ot!==void 0?rt+"-"+ot:ot}function useStrictMode(ot,rt){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(ot){const{drag:rt,layout:at}=featureDefinitions;if(!rt&&!at)return{};const lt={...rt,...at};return{MeasureLayout:rt!=null&&rt.isEnabled(ot)||at!=null&&at.isEnabled(ot)?lt.MeasureLayout:void 0,ProjectionNode:lt.ProjectionNode}}function createMotionProxy(ot){function rt(lt,ct={}){return createMotionComponent(ot(lt,ct))}if(typeof Proxy>"u")return rt;const at=new Map;return new Proxy(rt,{get:(lt,ct)=>(at.has(ct)||at.set(ct,rt(ct)),at.get(ct))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(ot){return typeof ot!="string"||ot.includes("-")?!1:!!(lowercaseSVGElements.indexOf(ot)>-1||/[A-Z]/u.test(ot))}const scaleCorrectors={};function addScaleCorrector(ot){Object.assign(scaleCorrectors,ot)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(ot,{layout:rt,layoutId:at}){return transformProps.has(ot)||ot.startsWith("origin")||(rt||at!==void 0)&&(!!scaleCorrectors[ot]||ot==="opacity")}const isMotionValue=ot=>!!(ot&&ot.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(ot,rt,at){let lt="";for(let ct=0;ct<numTransforms;ct++){const ut=transformPropOrder[ct];if(ot[ut]!==void 0){const dt=translateAlias[ut]||ut;lt+=`${dt}(${ot[ut]}) `}}return lt=lt.trim(),at?lt=at(ot,rt?"":lt):rt&&(lt="none"),lt}const checkStringStartsWith=ot=>rt=>typeof rt=="string"&&rt.startsWith(ot),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=ot=>startsAsVariableToken(ot)?singleCssVariableRegex.test(ot.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(ot,rt)=>rt&&typeof ot=="number"?rt.transform(ot):ot,clamp=(ot,rt,at)=>at>rt?rt:at<ot?ot:at,number={test:ot=>typeof ot=="number",parse:parseFloat,transform:ot=>ot},alpha={...number,transform:ot=>clamp(0,1,ot)},scale={...number,default:1},sanitize=ot=>Math.round(ot*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function isString(ot){return typeof ot=="string"}function isNullish(ot){return ot==null}const createUnitType=ot=>({test:rt=>isString(rt)&&rt.endsWith(ot)&&rt.split(" ").length===1,parse:parseFloat,transform:rt=>`${rt}${ot}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:ot=>percent.parse(ot)/100,transform:ot=>percent.transform(ot*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,backgroundPositionX:px,backgroundPositionY:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(ot,rt,at){const{style:lt,vars:ct,transform:ut,transformOrigin:dt}=ot;let ht=!1,ft=!1,pt=!0;for(const mt in rt){const gt=rt[mt];if(isCSSVariableName(mt)){ct[mt]=gt;continue}const yt=numberValueTypes[mt],xt=getValueAsType(gt,yt);if(transformProps.has(mt)){if(ht=!0,ut[mt]=xt,!pt)continue;gt!==(yt.default||0)&&(pt=!1)}else mt.startsWith("origin")?(ft=!0,dt[mt]=xt):lt[mt]=xt}if(rt.transform||(ht||at?lt.transform=buildTransform(ot.transform,pt,at):lt.transform&&(lt.transform="none")),ft){const{originX:mt="50%",originY:gt="50%",originZ:yt=0}=dt;lt.transformOrigin=`${mt} ${gt} ${yt}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(ot,rt,at){for(const lt in rt)!isMotionValue(rt[lt])&&!isForcedMotionValue(lt,at)&&(ot[lt]=rt[lt])}function useInitialMotionValues({transformTemplate:ot},rt){return reactExports.useMemo(()=>{const at=createHtmlRenderState();return buildHTMLStyles(at,rt,ot),Object.assign({},at.vars,at.style)},[rt])}function useStyle(ot,rt){const at=ot.style||{},lt={};return copyRawValuesOnly(lt,at,ot),Object.assign(lt,useInitialMotionValues(ot,rt)),lt}function useHTMLProps(ot,rt){const at={},lt=useStyle(ot,rt);return ot.drag&&ot.dragListener!==!1&&(at.draggable=!1,lt.userSelect=lt.WebkitUserSelect=lt.WebkitTouchCallout="none",lt.touchAction=ot.drag===!0?"none":`pan-${ot.drag==="x"?"y":"x"}`),ot.tabIndex===void 0&&(ot.onTap||ot.onTapStart||ot.whileTap)&&(at.tabIndex=0),at.style=lt,at}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(ot){return ot.startsWith("while")||ot.startsWith("drag")&&ot!=="draggable"||ot.startsWith("layout")||ot.startsWith("onTap")||ot.startsWith("onPan")||ot.startsWith("onLayout")||validMotionProps.has(ot)}let shouldForward=ot=>!isValidMotionProp(ot);function loadExternalIsValidProp(ot){ot&&(shouldForward=rt=>rt.startsWith("on")?!isValidMotionProp(rt):ot(rt))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(ot){}function filterProps(ot,rt,at){const lt={};for(const ct in ot)ct==="values"&&typeof ot.values=="object"||(shouldForward(ct)||at===!0&&isValidMotionProp(ct)||!rt&&!isValidMotionProp(ct)||ot.draggable&&ct.startsWith("onDrag"))&&(lt[ct]=ot[ct]);return lt}function calcOrigin$1(ot,rt,at){return typeof ot=="string"?ot:px.transform(rt+at*ot)}function calcSVGTransformOrigin(ot,rt,at){const lt=calcOrigin$1(rt,ot.x,ot.width),ct=calcOrigin$1(at,ot.y,ot.height);return`${lt} ${ct}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(ot,rt,at=1,lt=0,ct=!0){ot.pathLength=1;const ut=ct?dashKeys:camelKeys;ot[ut.offset]=px.transform(-lt);const dt=px.transform(rt),ht=px.transform(at);ot[ut.array]=`${dt} ${ht}`}function buildSVGAttrs(ot,{attrX:rt,attrY:at,attrScale:lt,originX:ct,originY:ut,pathLength:dt,pathSpacing:ht=1,pathOffset:ft=0,...pt},mt,gt){if(buildHTMLStyles(ot,pt,gt),mt){ot.style.viewBox&&(ot.attrs.viewBox=ot.style.viewBox);return}ot.attrs=ot.style,ot.style={};const{attrs:yt,style:xt,dimensions:bt}=ot;yt.transform&&(bt&&(xt.transform=yt.transform),delete yt.transform),bt&&(ct!==void 0||ut!==void 0||xt.transform)&&(xt.transformOrigin=calcSVGTransformOrigin(bt,ct!==void 0?ct:.5,ut!==void 0?ut:.5)),rt!==void 0&&(yt.x=rt),at!==void 0&&(yt.y=at),lt!==void 0&&(yt.scale=lt),dt!==void 0&&buildSVGPath(yt,dt,ht,ft,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=ot=>typeof ot=="string"&&ot.toLowerCase()==="svg";function useSVGProps(ot,rt,at,lt){const ct=reactExports.useMemo(()=>{const ut=createSvgRenderState();return buildSVGAttrs(ut,rt,isSVGTag(lt),ot.transformTemplate),{...ut.attrs,style:{...ut.style}}},[rt]);if(ot.style){const ut={};copyRawValuesOnly(ut,ot.style,ot),ct.style={...ut,...ct.style}}return ct}function createUseRender(ot=!1){return(at,lt,ct,{latestValues:ut},dt)=>{const ft=(isSVGComponent(at)?useSVGProps:useHTMLProps)(lt,ut,dt,at),pt=filterProps(lt,typeof at=="string",ot),mt=at!==reactExports.Fragment?{...pt,...ft,ref:ct}:{},{children:gt}=lt,yt=reactExports.useMemo(()=>isMotionValue(gt)?gt.get():gt,[gt]);return reactExports.createElement(at,{...mt,children:yt})}}function renderHTML(ot,{style:rt,vars:at},lt,ct){Object.assign(ot.style,rt,ct&&ct.getProjectionStyles(lt));for(const ut in at)ot.style.setProperty(ut,at[ut])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(ot,rt,at,lt){renderHTML(ot,rt,void 0,lt);for(const ct in rt.attrs)ot.setAttribute(camelCaseAttributes.has(ct)?ct:camelToDash(ct),rt.attrs[ct])}function scrapeMotionValuesFromProps$1(ot,rt,at){var lt;const{style:ct}=ot,ut={};for(const dt in ct)(isMotionValue(ct[dt])||rt.style&&isMotionValue(rt.style[dt])||isForcedMotionValue(dt,ot)||((lt=at==null?void 0:at.getValue(dt))===null||lt===void 0?void 0:lt.liveStyle)!==void 0)&&(ut[dt]=ct[dt]);return at&&ct&&typeof ct.willChange=="string"&&(at.applyWillChange=!1),ut}function scrapeMotionValuesFromProps(ot,rt,at){const lt=scrapeMotionValuesFromProps$1(ot,rt,at);for(const ct in ot)if(isMotionValue(ot[ct])||isMotionValue(rt[ct])){const ut=transformPropOrder.indexOf(ct)!==-1?"attr"+ct.charAt(0).toUpperCase()+ct.substring(1):ct;lt[ut]=ot[ct]}return lt}function getValueState(ot){const rt=[{},{}];return ot==null||ot.values.forEach((at,lt)=>{rt[0][lt]=at.get(),rt[1][lt]=at.getVelocity()}),rt}function resolveVariantFromProps(ot,rt,at,lt){if(typeof rt=="function"){const[ct,ut]=getValueState(lt);rt=rt(at!==void 0?at:ot.custom,ct,ut)}if(typeof rt=="string"&&(rt=ot.variants&&ot.variants[rt]),typeof rt=="function"){const[ct,ut]=getValueState(lt);rt=rt(at!==void 0?at:ot.custom,ct,ut)}return rt}function useConstant(ot){const rt=reactExports.useRef(null);return rt.current===null&&(rt.current=ot()),rt.current}const isKeyframesTarget=ot=>Array.isArray(ot),isCustomValue=ot=>!!(ot&&typeof ot=="object"&&ot.mix&&ot.toValue),resolveFinalValueInKeyframes=ot=>isKeyframesTarget(ot)?ot[ot.length-1]||0:ot;function resolveMotionValue(ot){const rt=isMotionValue(ot)?ot.get():ot;return isCustomValue(rt)?rt.toValue():rt}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function getWillChangeName(ot){if(transformProps.has(ot))return"transform";if(acceleratedValues.has(ot))return camelToDash(ot)}function addUniqueItem(ot,rt){ot.indexOf(rt)===-1&&ot.push(rt)}function removeItem(ot,rt){const at=ot.indexOf(rt);at>-1&&ot.splice(at,1)}function makeState({applyWillChange:ot=!1,scrapeMotionValuesFromProps:rt,createRenderState:at,onMount:lt},ct,ut,dt,ht){const ft={latestValues:makeLatestValues(ct,ut,dt,ht?!1:ot,rt),renderState:at()};return lt&&(ft.mount=pt=>lt(ct,pt,ft)),ft}const makeUseVisualState=ot=>(rt,at)=>{const lt=reactExports.useContext(MotionContext),ct=reactExports.useContext(PresenceContext),ut=()=>makeState(ot,rt,lt,ct,at);return at?ut():useConstant(ut)};function addWillChange(ot,rt){const at=getWillChangeName(rt);at&&addUniqueItem(ot,at)}function forEachDefinition(ot,rt,at){const lt=Array.isArray(rt)?rt:[rt];for(let ct=0;ct<lt.length;ct++){const ut=resolveVariantFromProps(ot,lt[ct]);if(ut){const{transitionEnd:dt,transition:ht,...ft}=ut;at(ft,dt)}}}function makeLatestValues(ot,rt,at,lt,ct){var ut;const dt={},ht=[],ft=lt&&((ut=ot.style)===null||ut===void 0?void 0:ut.willChange)===void 0,pt=ct(ot,{});for(const Rt in pt)dt[Rt]=resolveMotionValue(pt[Rt]);let{initial:mt,animate:gt}=ot;const yt=isControllingVariants(ot),xt=isVariantNode(ot);rt&&xt&&!yt&&ot.inherit!==!1&&(mt===void 0&&(mt=rt.initial),gt===void 0&&(gt=rt.animate));let bt=at?at.initial===!1:!1;bt=bt||mt===!1;const Et=bt?gt:mt;return Et&&typeof Et!="boolean"&&!isAnimationControls(Et)&&forEachDefinition(ot,Et,(Rt,wt)=>{for(const _t in Rt){let At=Rt[_t];if(Array.isArray(At)){const kt=bt?At.length-1:0;At=At[kt]}At!==null&&(dt[_t]=At)}for(const _t in wt)dt[_t]=wt[_t]}),ft&&(gt&&mt!==!1&&!isAnimationControls(gt)&&forEachDefinition(ot,gt,Rt=>{for(const wt in Rt)addWillChange(ht,wt)}),ht.length&&(dt.willChange=ht.join(","))),dt}const{schedule:frame,cancel:cancelFrame,state:frameData,steps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(ot,rt,{renderState:at,latestValues:lt})=>{frame.read(()=>{try{at.dimensions=typeof rt.getBBox=="function"?rt.getBBox():rt.getBoundingClientRect()}catch{at.dimensions={x:0,y:0,width:0,height:0}}}),frame.render(()=>{buildSVGAttrs(at,lt,isSVGTag(rt.tagName),ot.transformTemplate),renderSVG(rt,at)})}})},htmlMotionConfig={useVisualState:makeUseVisualState({applyWillChange:!0,scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(ot,{forwardMotionProps:rt=!1},at,lt){return{...isSVGComponent(ot)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:at,useRender:createUseRender(rt),createVisualElement:lt,Component:ot}}function addDomEvent(ot,rt,at,lt={passive:!0}){return ot.addEventListener(rt,at,lt),()=>ot.removeEventListener(rt,at)}const isPrimaryPointer=ot=>ot.pointerType==="mouse"?typeof ot.button!="number"||ot.button<=0:ot.isPrimary!==!1;function extractEventInfo(ot,rt="page"){return{point:{x:ot[`${rt}X`],y:ot[`${rt}Y`]}}}const addPointerInfo=ot=>rt=>isPrimaryPointer(rt)&&ot(rt,extractEventInfo(rt));function addPointerEvent(ot,rt,at,lt){return addDomEvent(ot,rt,addPointerInfo(at),lt)}const combineFunctions=(ot,rt)=>at=>rt(ot(at)),pipe=(...ot)=>ot.reduce(combineFunctions);function createLock(ot){let rt=null;return()=>{const at=()=>{rt=null};return rt===null?(rt=ot,at):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(ot){let rt=!1;if(ot==="y")rt=globalVerticalLock();else if(ot==="x")rt=globalHorizontalLock();else{const at=globalHorizontalLock(),lt=globalVerticalLock();at&&lt?rt=()=>{at(),lt()}:(at&&at(),lt&&lt())}return rt}function isDragActive(){const ot=getGlobalLock(!0);return ot?(ot(),!1):!0}class Feature{constructor(rt){this.isMounted=!1,this.node=rt}update(){}}function addHoverEvent(ot,rt){const at=rt?"pointerenter":"pointerleave",lt=rt?"onHoverStart":"onHoverEnd",ct=(ut,dt)=>{if(ut.pointerType==="touch"||isDragActive())return;const ht=ot.getProps();ot.animationState&&ht.whileHover&&ot.animationState.setActive("whileHover",rt);const ft=ht[lt];ft&&frame.postRender(()=>ft(ut,dt))};return addPointerEvent(ot.current,at,ct,{passive:!ot.getProps()[lt]})}class HoverGesture extends Feature{mount(){this.unmount=pipe(addHoverEvent(this.node,!0),addHoverEvent(this.node,!1))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let rt=!1;try{rt=this.node.current.matches(":focus-visible")}catch{rt=!0}!rt||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(ot,rt)=>rt?ot===rt?!0:isNodeOrChild(ot,rt.parentElement):!1;function fireSyntheticPointerEvent(ot,rt){if(!rt)return;const at=new PointerEvent("pointer"+ot);rt(at,extractEventInfo(at))}class PressGesture extends Feature{constructor(){super(...arguments),this.removeStartListeners=noop$1,this.removeEndListeners=noop$1,this.removeAccessibleListeners=noop$1,this.startPointerPress=(rt,at)=>{if(this.isPressing)return;this.removeEndListeners();const lt=this.node.getProps(),ut=addPointerEvent(window,"pointerup",(ht,ft)=>{if(!this.checkPressEnd())return;const{onTap:pt,onTapCancel:mt,globalTapTarget:gt}=this.node.getProps(),yt=!gt&&!isNodeOrChild(this.node.current,ht.target)?mt:pt;yt&&frame.update(()=>yt(ht,ft))},{passive:!(lt.onTap||lt.onPointerUp)}),dt=addPointerEvent(window,"pointercancel",(ht,ft)=>this.cancelPress(ht,ft),{passive:!(lt.onTapCancel||lt.onPointerCancel)});this.removeEndListeners=pipe(ut,dt),this.startPress(rt,at)},this.startAccessiblePress=()=>{const rt=ut=>{if(ut.key!=="Enter"||this.isPressing)return;const dt=ht=>{ht.key!=="Enter"||!this.checkPressEnd()||fireSyntheticPointerEvent("up",(ft,pt)=>{const{onTap:mt}=this.node.getProps();mt&&frame.postRender(()=>mt(ft,pt))})};this.removeEndListeners(),this.removeEndListeners=addDomEvent(this.node.current,"keyup",dt),fireSyntheticPointerEvent("down",(ht,ft)=>{this.startPress(ht,ft)})},at=addDomEvent(this.node.current,"keydown",rt),lt=()=>{this.isPressing&&fireSyntheticPointerEvent("cancel",(ut,dt)=>this.cancelPress(ut,dt))},ct=addDomEvent(this.node.current,"blur",lt);this.removeAccessibleListeners=pipe(at,ct)}}startPress(rt,at){this.isPressing=!0;const{onTapStart:lt,whileTap:ct}=this.node.getProps();ct&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),lt&&frame.postRender(()=>lt(rt,at))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!isDragActive()}cancelPress(rt,at){if(!this.checkPressEnd())return;const{onTapCancel:lt}=this.node.getProps();lt&&frame.postRender(()=>lt(rt,at))}mount(){const rt=this.node.getProps(),at=addPointerEvent(rt.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(rt.onTapStart||rt.onPointerStart)}),lt=addDomEvent(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pipe(at,lt)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=ot=>{const rt=observerCallbacks.get(ot.target);rt&&rt(ot)},fireAllObserverCallbacks=ot=>{ot.forEach(fireObserverCallback)};function initIntersectionObserver({root:ot,...rt}){const at=ot||document;observers.has(at)||observers.set(at,{});const lt=observers.get(at),ct=JSON.stringify(rt);return lt[ct]||(lt[ct]=new IntersectionObserver(fireAllObserverCallbacks,{root:ot,...rt})),lt[ct]}function observeIntersection(ot,rt,at){const lt=initIntersectionObserver(rt);return observerCallbacks.set(ot,at),lt.observe(ot),()=>{observerCallbacks.delete(ot),lt.unobserve(ot)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:rt={}}=this.node.getProps(),{root:at,margin:lt,amount:ct="some",once:ut}=rt,dt={root:at?at.current:void 0,rootMargin:lt,threshold:typeof ct=="number"?ct:thresholdNames[ct]},ht=ft=>{const{isIntersecting:pt}=ft;if(this.isInView===pt||(this.isInView=pt,ut&&!pt&&this.hasEnteredView))return;pt&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",pt);const{onViewportEnter:mt,onViewportLeave:gt}=this.node.getProps(),yt=pt?mt:gt;yt&&yt(ft)};return observeIntersection(this.node.current,dt,ht)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:rt,prevProps:at}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(rt,at))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:ot={}},{viewport:rt={}}={}){return at=>ot[at]!==rt[at]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}};function shallowCompare(ot,rt){if(!Array.isArray(rt))return!1;const at=rt.length;if(at!==ot.length)return!1;for(let lt=0;lt<at;lt++)if(rt[lt]!==ot[lt])return!1;return!0}function resolveVariant(ot,rt,at){const lt=ot.getProps();return resolveVariantFromProps(lt,rt,at!==void 0?at:lt.custom,ot)}const secondsToMilliseconds=ot=>ot*1e3,millisecondsToSeconds=ot=>ot/1e3,underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=ot=>({type:"spring",stiffness:550,damping:ot===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(ot,{keyframes:rt})=>rt.length>2?keyframesTransition:transformProps.has(ot)?ot.startsWith("scale")?criticallyDampedSpring(rt[1]):underDampedSpring:ease;function isTransitionDefined({when:ot,delay:rt,delayChildren:at,staggerChildren:lt,staggerDirection:ct,repeat:ut,repeatType:dt,repeatDelay:ht,from:ft,elapsed:pt,...mt}){return!!Object.keys(mt).length}function getValueTransition(ot,rt){return ot[rt]||ot.default||ot}const isNotNull=ot=>ot!==null;function getFinalKeyframe(ot,{repeat:rt,repeatType:at="loop"},lt){const ct=ot.filter(isNotNull),ut=rt&&at!=="loop"&&rt%2===1?0:ct.length-1;return!ut||lt===void 0?ct[ut]:lt}let now;function clearTime(){now=void 0}const time={now:()=>(now===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:ot=>{now=ot,queueMicrotask(clearTime)}},isZeroValueString=ot=>/^0[^.\s]+$/u.test(ot);function isNone(ot){return typeof ot=="number"?ot===0:ot!==null?ot==="none"||ot==="0"||isZeroValueString(ot):!0}const isNumericalString=ot=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(ot),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(ot){const rt=splitCSSVariableRegex.exec(ot);if(!rt)return[,];const[,at,lt,ct]=rt;return[`--${at??lt}`,ct]}function getVariableValue(ot,rt,at=1){const[lt,ct]=parseCSSVariable(ot);if(!lt)return;const ut=window.getComputedStyle(rt).getPropertyValue(lt);if(ut){const dt=ut.trim();return isNumericalString(dt)?parseFloat(dt):dt}return isCSSVariableToken(ct)?getVariableValue(ct,rt,at+1):ct}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),isNumOrPxType=ot=>ot===number||ot===px,getPosFromMatrix=(ot,rt)=>parseFloat(ot.split(", ")[rt]),getTranslateFromMatrix=(ot,rt)=>(at,{transform:lt})=>{if(lt==="none"||!lt)return 0;const ct=lt.match(/^matrix3d\((.+)\)$/u);if(ct)return getPosFromMatrix(ct[1],rt);{const ut=lt.match(/^matrix\((.+)\)$/u);return ut?getPosFromMatrix(ut[1],ot):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(ot=>!transformKeys.has(ot));function removeNonTranslationalTransform(ot){const rt=[];return nonTranslationalTransformKeys.forEach(at=>{const lt=ot.getValue(at);lt!==void 0&&(rt.push([at,lt.get()]),lt.set(at.startsWith("scale")?1:0))}),rt}const positionalValues={width:({x:ot},{paddingLeft:rt="0",paddingRight:at="0"})=>ot.max-ot.min-parseFloat(rt)-parseFloat(at),height:({y:ot},{paddingTop:rt="0",paddingBottom:at="0"})=>ot.max-ot.min-parseFloat(rt)-parseFloat(at),top:(ot,{top:rt})=>parseFloat(rt),left:(ot,{left:rt})=>parseFloat(rt),bottom:({y:ot},{top:rt})=>parseFloat(rt)+(ot.max-ot.min),right:({x:ot},{left:rt})=>parseFloat(rt)+(ot.max-ot.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const testValueType=ot=>rt=>rt.test(ot),auto={test:ot=>ot==="auto",parse:ot=>ot},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=ot=>dimensionValueTypes.find(testValueType(ot)),toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const ot=Array.from(toResolve).filter(lt=>lt.needsMeasurement),rt=new Set(ot.map(lt=>lt.element)),at=new Map;rt.forEach(lt=>{const ct=removeNonTranslationalTransform(lt);ct.length&&(at.set(lt,ct),lt.render())}),ot.forEach(lt=>lt.measureInitialState()),rt.forEach(lt=>{lt.render();const ct=at.get(lt);ct&&ct.forEach(([ut,dt])=>{var ht;(ht=lt.getValue(ut))===null||ht===void 0||ht.set(dt)})}),ot.forEach(lt=>lt.measureEndState()),ot.forEach(lt=>{lt.suspendedScrollY!==void 0&&window.scrollTo(0,lt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(ot=>ot.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(ot=>{ot.readKeyframes(),ot.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(rt,at,lt,ct,ut,dt=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...rt],this.onComplete=at,this.name=lt,this.motionValue=ct,this.element=ut,this.isAsync=dt}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:rt,name:at,element:lt,motionValue:ct}=this;for(let ut=0;ut<rt.length;ut++)if(rt[ut]===null)if(ut===0){const dt=ct==null?void 0:ct.get(),ht=rt[rt.length-1];if(dt!==void 0)rt[0]=dt;else if(lt&&at){const ft=lt.readValue(at,ht);ft!=null&&(rt[0]=ft)}rt[0]===void 0&&(rt[0]=ht),ct&&dt===void 0&&ct.set(rt[0])}else rt[ut]=rt[ut-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isColorString=(ot,rt)=>at=>!!(isString(at)&&singleColorRegex.test(at)&&at.startsWith(ot)||rt&&!isNullish(at)&&Object.prototype.hasOwnProperty.call(at,rt)),splitColor=(ot,rt,at)=>lt=>{if(!isString(lt))return lt;const[ct,ut,dt,ht]=lt.match(floatRegex);return{[ot]:parseFloat(ct),[rt]:parseFloat(ut),[at]:parseFloat(dt),alpha:ht!==void 0?parseFloat(ht):1}},clampRgbUnit=ot=>clamp(0,255,ot),rgbUnit={...number,transform:ot=>Math.round(clampRgbUnit(ot))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:ot,green:rt,blue:at,alpha:lt=1})=>"rgba("+rgbUnit.transform(ot)+", "+rgbUnit.transform(rt)+", "+rgbUnit.transform(at)+", "+sanitize(alpha.transform(lt))+")"};function parseHex(ot){let rt="",at="",lt="",ct="";return ot.length>5?(rt=ot.substring(1,3),at=ot.substring(3,5),lt=ot.substring(5,7),ct=ot.substring(7,9)):(rt=ot.substring(1,2),at=ot.substring(2,3),lt=ot.substring(3,4),ct=ot.substring(4,5),rt+=rt,at+=at,lt+=lt,ct+=ct),{red:parseInt(rt,16),green:parseInt(at,16),blue:parseInt(lt,16),alpha:ct?parseInt(ct,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:ot,saturation:rt,lightness:at,alpha:lt=1})=>"hsla("+Math.round(ot)+", "+percent.transform(sanitize(rt))+", "+percent.transform(sanitize(at))+", "+sanitize(alpha.transform(lt))+")"},color={test:ot=>rgba.test(ot)||hex.test(ot)||hsla.test(ot),parse:ot=>rgba.test(ot)?rgba.parse(ot):hsla.test(ot)?hsla.parse(ot):hex.parse(ot),transform:ot=>isString(ot)?ot:ot.hasOwnProperty("red")?rgba.transform(ot):hsla.transform(ot)};function test(ot){var rt,at;return isNaN(ot)&&isString(ot)&&(((rt=ot.match(floatRegex))===null||rt===void 0?void 0:rt.length)||0)+(((at=ot.match(colorRegex))===null||at===void 0?void 0:at.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(ot){const rt=ot.toString(),at=[],lt={color:[],number:[],var:[]},ct=[];let ut=0;const ht=rt.replace(complexRegex,ft=>(color.test(ft)?(lt.color.push(ut),ct.push(COLOR_TOKEN),at.push(color.parse(ft))):ft.startsWith(VAR_FUNCTION_TOKEN)?(lt.var.push(ut),ct.push(VAR_TOKEN),at.push(ft)):(lt.number.push(ut),ct.push(NUMBER_TOKEN),at.push(parseFloat(ft))),++ut,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:at,split:ht,indexes:lt,types:ct}}function parseComplexValue(ot){return analyseComplexValue(ot).values}function createTransformer(ot){const{split:rt,types:at}=analyseComplexValue(ot),lt=rt.length;return ct=>{let ut="";for(let dt=0;dt<lt;dt++)if(ut+=rt[dt],ct[dt]!==void 0){const ht=at[dt];ht===NUMBER_TOKEN?ut+=sanitize(ct[dt]):ht===COLOR_TOKEN?ut+=color.transform(ct[dt]):ut+=ct[dt]}return ut}}const convertNumbersToZero=ot=>typeof ot=="number"?0:ot;function getAnimatableNone$1(ot){const rt=parseComplexValue(ot);return createTransformer(ot)(rt.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(ot){const[rt,at]=ot.slice(0,-1).split("(");if(rt==="drop-shadow")return ot;const[lt]=at.match(floatRegex)||[];if(!lt)return ot;const ct=at.replace(lt,"");let ut=maxDefaults.has(rt)?1:0;return lt!==at&&(ut*=100),rt+"("+ut+ct+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:ot=>{const rt=ot.match(functionRegex);return rt?rt.map(applyDefaultFilter).join(" "):ot}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=ot=>defaultValueTypes[ot];function getAnimatableNone(ot,rt){let at=getDefaultValueType(ot);return at!==filter&&(at=complex),at.getAnimatableNone?at.getAnimatableNone(rt):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(ot,rt,at){let lt=0,ct;for(;lt<ot.length&&!ct;){const ut=ot[lt];typeof ut=="string"&&!invalidTemplates.has(ut)&&analyseComplexValue(ut).values.length&&(ct=ot[lt]),lt++}if(ct&&at)for(const ut of rt)ot[ut]=getAnimatableNone(at,ct)}class DOMKeyframesResolver extends KeyframeResolver{constructor(rt,at,lt,ct){super(rt,at,lt,ct,ct==null?void 0:ct.owner,!0)}readKeyframes(){const{unresolvedKeyframes:rt,element:at,name:lt}=this;if(!at.current)return;super.readKeyframes();for(let ft=0;ft<rt.length;ft++){let pt=rt[ft];if(typeof pt=="string"&&(pt=pt.trim(),isCSSVariableToken(pt))){const mt=getVariableValue(pt,at.current);mt!==void 0&&(rt[ft]=mt),ft===rt.length-1&&(this.finalKeyframe=pt)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(lt)||rt.length!==2)return;const[ct,ut]=rt,dt=findDimensionValueType(ct),ht=findDimensionValueType(ut);if(dt!==ht)if(isNumOrPxType(dt)&&isNumOrPxType(ht))for(let ft=0;ft<rt.length;ft++){const pt=rt[ft];typeof pt=="string"&&(rt[ft]=parseFloat(pt))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:rt,name:at}=this,lt=[];for(let ct=0;ct<rt.length;ct++)isNone(rt[ct])&&lt.push(ct);lt.length&&makeNoneKeyframesAnimatable(rt,lt,at)}measureInitialState(){const{element:rt,unresolvedKeyframes:at,name:lt}=this;if(!rt.current)return;lt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[lt](rt.measureViewportBox(),window.getComputedStyle(rt.current)),at[0]=this.measuredOrigin;const ct=at[at.length-1];ct!==void 0&&rt.getValue(lt,ct).jump(ct,!1)}measureEndState(){var rt;const{element:at,name:lt,unresolvedKeyframes:ct}=this;if(!at.current)return;const ut=at.getValue(lt);ut&&ut.jump(this.measuredOrigin,!1);const dt=ct.length-1,ht=ct[dt];ct[dt]=positionalValues[lt](at.measureViewportBox(),window.getComputedStyle(at.current)),ht!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ht),!((rt=this.removedTransforms)===null||rt===void 0)&&rt.length&&this.removedTransforms.forEach(([ft,pt])=>{at.getValue(ft).set(pt)}),this.resolveNoneKeyframes()}}function memo(ot){let rt;return()=>(rt===void 0&&(rt=ot()),rt)}const isAnimatable=(ot,rt)=>rt==="zIndex"?!1:!!(typeof ot=="number"||Array.isArray(ot)||typeof ot=="string"&&(complex.test(ot)||ot==="0")&&!ot.startsWith("url("));function hasKeyframesChanged(ot){const rt=ot[0];if(ot.length===1)return!0;for(let at=0;at<ot.length;at++)if(ot[at]!==rt)return!0}function canAnimate(ot,rt,at,lt){const ct=ot[0];if(ct===null)return!1;if(rt==="display"||rt==="visibility")return!0;const ut=ot[ot.length-1],dt=isAnimatable(ct,rt),ht=isAnimatable(ut,rt);return!dt||!ht?!1:hasKeyframesChanged(ot)||at==="spring"&&lt}class BaseAnimation{constructor({autoplay:rt=!0,delay:at=0,type:lt="keyframes",repeat:ct=0,repeatDelay:ut=0,repeatType:dt="loop",...ht}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:rt,delay:at,type:lt,repeat:ct,repeatDelay:ut,repeatType:dt,...ht},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(rt,at){this.hasAttemptedResolve=!0;const{name:lt,type:ct,velocity:ut,delay:dt,onComplete:ht,onUpdate:ft,isGenerator:pt}=this.options;if(!pt&&!canAnimate(rt,lt,ct,ut))if(dt)this.options.duration=0;else{ft==null||ft(getFinalKeyframe(rt,this.options,at)),ht==null||ht(),this.resolveFinishedPromise();return}const mt=this.initPlayback(rt,at);mt!==!1&&(this._resolved={keyframes:rt,finalKeyframe:at,...mt},this.onPostResolved())}onPostResolved(){}then(rt,at){return this.currentFinishedPromise.then(rt,at)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(rt=>{this.resolveFinishedPromise=rt})}}function velocityPerSecond(ot,rt){return rt?ot*(1e3/rt):0}const velocitySampleDuration=5;function calcGeneratorVelocity(ot,rt,at){const lt=Math.max(rt-velocitySampleDuration,0);return velocityPerSecond(at-ot(lt),rt-lt)}const safeMin=.001,minDuration=.01,maxDuration$1=10,minDamping=.05,maxDamping=1;function findSpring({duration:ot=800,bounce:rt=.25,velocity:at=0,mass:lt=1}){let ct,ut,dt=1-rt;dt=clamp(minDamping,maxDamping,dt),ot=clamp(minDuration,maxDuration$1,millisecondsToSeconds(ot)),dt<1?(ct=pt=>{const mt=pt*dt,gt=mt*ot,yt=mt-at,xt=calcAngularFreq(pt,dt),bt=Math.exp(-gt);return safeMin-yt/xt*bt},ut=pt=>{const gt=pt*dt*ot,yt=gt*at+at,xt=Math.pow(dt,2)*Math.pow(pt,2)*ot,bt=Math.exp(-gt),Et=calcAngularFreq(Math.pow(pt,2),dt);return(-ct(pt)+safeMin>0?-1:1)*((yt-xt)*bt)/Et}):(ct=pt=>{const mt=Math.exp(-pt*ot),gt=(pt-at)*ot+1;return-safeMin+mt*gt},ut=pt=>{const mt=Math.exp(-pt*ot),gt=(at-pt)*(ot*ot);return mt*gt});const ht=5/ot,ft=approximateRoot(ct,ut,ht);if(ot=secondsToMilliseconds(ot),isNaN(ft))return{stiffness:100,damping:10,duration:ot};{const pt=Math.pow(ft,2)*lt;return{stiffness:pt,damping:dt*2*Math.sqrt(lt*pt),duration:ot}}}const rootIterations=12;function approximateRoot(ot,rt,at){let lt=at;for(let ct=1;ct<rootIterations;ct++)lt=lt-ot(lt)/rt(lt);return lt}function calcAngularFreq(ot,rt){return ot*Math.sqrt(1-rt*rt)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(ot,rt){return rt.some(at=>ot[at]!==void 0)}function getSpringOptions(ot){let rt={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...ot};if(!isSpringType(ot,physicsKeys)&&isSpringType(ot,durationKeys)){const at=findSpring(ot);rt={...rt,...at,mass:1},rt.isResolvedFromDuration=!0}return rt}function spring({keyframes:ot,restDelta:rt,restSpeed:at,...lt}){const ct=ot[0],ut=ot[ot.length-1],dt={done:!1,value:ct},{stiffness:ht,damping:ft,mass:pt,duration:mt,velocity:gt,isResolvedFromDuration:yt}=getSpringOptions({...lt,velocity:-millisecondsToSeconds(lt.velocity||0)}),xt=gt||0,bt=ft/(2*Math.sqrt(ht*pt)),Et=ut-ct,Rt=millisecondsToSeconds(Math.sqrt(ht/pt)),wt=Math.abs(Et)<5;at||(at=wt?.01:2),rt||(rt=wt?.005:.5);let _t;if(bt<1){const At=calcAngularFreq(Rt,bt);_t=kt=>{const It=Math.exp(-bt*Rt*kt);return ut-It*((xt+bt*Rt*Et)/At*Math.sin(At*kt)+Et*Math.cos(At*kt))}}else if(bt===1)_t=At=>ut-Math.exp(-Rt*At)*(Et+(xt+Rt*Et)*At);else{const At=Rt*Math.sqrt(bt*bt-1);_t=kt=>{const It=Math.exp(-bt*Rt*kt),Nt=Math.min(At*kt,300);return ut-It*((xt+bt*Rt*Et)*Math.sinh(Nt)+At*Et*Math.cosh(Nt))/At}}return{calculatedDuration:yt&&mt||null,next:At=>{const kt=_t(At);if(yt)dt.done=At>=mt;else{let It=xt;At!==0&&(bt<1?It=calcGeneratorVelocity(_t,At,kt):It=0);const Nt=Math.abs(It)<=at,Pt=Math.abs(ut-kt)<=rt;dt.done=Nt&&Pt}return dt.value=dt.done?ut:kt,dt}}}function inertia({keyframes:ot,velocity:rt=0,power:at=.8,timeConstant:lt=325,bounceDamping:ct=10,bounceStiffness:ut=500,modifyTarget:dt,min:ht,max:ft,restDelta:pt=.5,restSpeed:mt}){const gt=ot[0],yt={done:!1,value:gt},xt=Tt=>ht!==void 0&&Tt<ht||ft!==void 0&&Tt>ft,bt=Tt=>ht===void 0?ft:ft===void 0||Math.abs(ht-Tt)<Math.abs(ft-Tt)?ht:ft;let Et=at*rt;const Rt=gt+Et,wt=dt===void 0?Rt:dt(Rt);wt!==Rt&&(Et=wt-gt);const _t=Tt=>-Et*Math.exp(-Tt/lt),At=Tt=>wt+_t(Tt),kt=Tt=>{const Ct=_t(Tt),Ot=At(Tt);yt.done=Math.abs(Ct)<=pt,yt.value=yt.done?wt:Ot};let It,Nt;const Pt=Tt=>{xt(yt.value)&&(It=Tt,Nt=spring({keyframes:[yt.value,bt(yt.value)],velocity:calcGeneratorVelocity(At,Tt,yt.value),damping:ct,stiffness:ut,restDelta:pt,restSpeed:mt}))};return Pt(0),{calculatedDuration:null,next:Tt=>{let Ct=!1;return!Nt&&It===void 0&&(Ct=!0,kt(Tt),Pt(Tt)),It!==void 0&&Tt>=It?Nt.next(Tt-It):(!Ct&&kt(Tt),yt)}}}const calcBezier=(ot,rt,at)=>(((1-3*at+3*rt)*ot+(3*at-6*rt))*ot+3*rt)*ot,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(ot,rt,at,lt,ct){let ut,dt,ht=0;do dt=rt+(at-rt)/2,ut=calcBezier(dt,lt,ct)-ot,ut>0?at=dt:rt=dt;while(Math.abs(ut)>subdivisionPrecision&&++ht<subdivisionMaxIterations);return dt}function cubicBezier(ot,rt,at,lt){if(ot===rt&&at===lt)return noop$1;const ct=ut=>binarySubdivide(ut,0,1,ot,at);return ut=>ut===0||ut===1?ut:calcBezier(ct(ut),rt,lt)}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=ot=>Array.isArray(ot)&&typeof ot[0]!="number",mirrorEasing=ot=>rt=>rt<=.5?ot(2*rt)/2:(2-ot(2*(1-rt)))/2,reverseEasing=ot=>rt=>1-ot(1-rt),circIn=ot=>1-Math.sin(Math.acos(ot)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=ot=>(ot*=2)<1?.5*backIn(ot):.5*(2-Math.pow(2,-10*(ot-1))),easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=ot=>{if(Array.isArray(ot)){invariant(ot.length===4);const[rt,at,lt,ct]=ot;return cubicBezier(rt,at,lt,ct)}else if(typeof ot=="string")return invariant(easingLookup[ot]!==void 0),easingLookup[ot];return ot},progress=(ot,rt,at)=>{const lt=rt-ot;return lt===0?1:(at-ot)/lt},mixNumber$1=(ot,rt,at)=>ot+(rt-ot)*at;function hueToRgb(ot,rt,at){return at<0&&(at+=1),at>1&&(at-=1),at<1/6?ot+(rt-ot)*6*at:at<1/2?rt:at<2/3?ot+(rt-ot)*(2/3-at)*6:ot}function hslaToRgba({hue:ot,saturation:rt,lightness:at,alpha:lt}){ot/=360,rt/=100,at/=100;let ct=0,ut=0,dt=0;if(!rt)ct=ut=dt=at;else{const ht=at<.5?at*(1+rt):at+rt-at*rt,ft=2*at-ht;ct=hueToRgb(ft,ht,ot+1/3),ut=hueToRgb(ft,ht,ot),dt=hueToRgb(ft,ht,ot-1/3)}return{red:Math.round(ct*255),green:Math.round(ut*255),blue:Math.round(dt*255),alpha:lt}}function mixImmediate(ot,rt){return at=>at>0?rt:ot}const mixLinearColor=(ot,rt,at)=>{const lt=ot*ot,ct=at*(rt*rt-lt)+lt;return ct<0?0:Math.sqrt(ct)},colorTypes=[hex,rgba,hsla],getColorType=ot=>colorTypes.find(rt=>rt.test(ot));function asRGBA(ot){const rt=getColorType(ot);if(!rt)return!1;let at=rt.parse(ot);return rt===hsla&&(at=hslaToRgba(at)),at}const mixColor=(ot,rt)=>{const at=asRGBA(ot),lt=asRGBA(rt);if(!at||!lt)return mixImmediate(ot,rt);const ct={...at};return ut=>(ct.red=mixLinearColor(at.red,lt.red,ut),ct.green=mixLinearColor(at.green,lt.green,ut),ct.blue=mixLinearColor(at.blue,lt.blue,ut),ct.alpha=mixNumber$1(at.alpha,lt.alpha,ut),rgba.transform(ct))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(ot,rt){return invisibleValues.has(ot)?at=>at<=0?ot:rt:at=>at>=1?rt:ot}function mixNumber(ot,rt){return at=>mixNumber$1(ot,rt,at)}function getMixer(ot){return typeof ot=="number"?mixNumber:typeof ot=="string"?isCSSVariableToken(ot)?mixImmediate:color.test(ot)?mixColor:mixComplex:Array.isArray(ot)?mixArray:typeof ot=="object"?color.test(ot)?mixColor:mixObject:mixImmediate}function mixArray(ot,rt){const at=[...ot],lt=at.length,ct=ot.map((ut,dt)=>getMixer(ut)(ut,rt[dt]));return ut=>{for(let dt=0;dt<lt;dt++)at[dt]=ct[dt](ut);return at}}function mixObject(ot,rt){const at={...ot,...rt},lt={};for(const ct in at)ot[ct]!==void 0&&rt[ct]!==void 0&&(lt[ct]=getMixer(ot[ct])(ot[ct],rt[ct]));return ct=>{for(const ut in lt)at[ut]=lt[ut](ct);return at}}function matchOrder(ot,rt){var at;const lt=[],ct={color:0,var:0,number:0};for(let ut=0;ut<rt.values.length;ut++){const dt=rt.types[ut],ht=ot.indexes[dt][ct[dt]],ft=(at=ot.values[ht])!==null&&at!==void 0?at:0;lt[ut]=ft,ct[dt]++}return lt}const mixComplex=(ot,rt)=>{const at=complex.createTransformer(rt),lt=analyseComplexValue(ot),ct=analyseComplexValue(rt);return lt.indexes.var.length===ct.indexes.var.length&&lt.indexes.color.length===ct.indexes.color.length&&lt.indexes.number.length>=ct.indexes.number.length?invisibleValues.has(ot)&&!ct.values.length||invisibleValues.has(rt)&&!lt.values.length?mixVisibility(ot,rt):pipe(mixArray(matchOrder(lt,ct),ct.values),at):mixImmediate(ot,rt)};function mix(ot,rt,at){return typeof ot=="number"&&typeof rt=="number"&&typeof at=="number"?mixNumber$1(ot,rt,at):getMixer(ot)(ot,rt)}function createMixers(ot,rt,at){const lt=[],ct=at||mix,ut=ot.length-1;for(let dt=0;dt<ut;dt++){let ht=ct(ot[dt],ot[dt+1]);if(rt){const ft=Array.isArray(rt)?rt[dt]||noop$1:rt;ht=pipe(ft,ht)}lt.push(ht)}return lt}function interpolate(ot,rt,{clamp:at=!0,ease:lt,mixer:ct}={}){const ut=ot.length;if(invariant(ut===rt.length),ut===1)return()=>rt[0];if(ut===2&&ot[0]===ot[1])return()=>rt[1];ot[0]>ot[ut-1]&&(ot=[...ot].reverse(),rt=[...rt].reverse());const dt=createMixers(rt,lt,ct),ht=dt.length,ft=pt=>{let mt=0;if(ht>1)for(;mt<ot.length-2&&!(pt<ot[mt+1]);mt++);const gt=progress(ot[mt],ot[mt+1],pt);return dt[mt](gt)};return at?pt=>ft(clamp(ot[0],ot[ut-1],pt)):ft}function fillOffset(ot,rt){const at=ot[ot.length-1];for(let lt=1;lt<=rt;lt++){const ct=progress(0,rt,lt);ot.push(mixNumber$1(at,1,ct))}}function defaultOffset(ot){const rt=[0];return fillOffset(rt,ot.length-1),rt}function convertOffsetToTimes(ot,rt){return ot.map(at=>at*rt)}function defaultEasing(ot,rt){return ot.map(()=>rt||easeInOut).splice(0,ot.length-1)}function keyframes({duration:ot=300,keyframes:rt,times:at,ease:lt="easeInOut"}){const ct=isEasingArray(lt)?lt.map(easingDefinitionToFunction):easingDefinitionToFunction(lt),ut={done:!1,value:rt[0]},dt=convertOffsetToTimes(at&&at.length===rt.length?at:defaultOffset(rt),ot),ht=interpolate(dt,rt,{ease:Array.isArray(ct)?ct:defaultEasing(rt,ct)});return{calculatedDuration:ot,next:ft=>(ut.value=ht(ft),ut.done=ft>=ot,ut)}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(ot){let rt=0;const at=50;let lt=ot.next(rt);for(;!lt.done&&rt<maxGeneratorDuration;)rt+=at,lt=ot.next(rt);return rt>=maxGeneratorDuration?1/0:rt}const frameloopDriver=ot=>{const rt=({timestamp:at})=>ot(at);return{start:()=>frame.update(rt,!0),stop:()=>cancelFrame(rt),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=ot=>ot/100;class MainThreadAnimation extends BaseAnimation{constructor({KeyframeResolver:rt=KeyframeResolver,...at}){super(at),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:ht}=this.options;ht&&ht()};const{name:lt,motionValue:ct,keyframes:ut}=this.options,dt=(ht,ft)=>this.onKeyframesResolved(ht,ft);lt&&ct&&ct.owner?this.resolver=ct.owner.resolveKeyframes(ut,dt,lt,ct):this.resolver=new rt(ut,dt,lt,ct),this.resolver.scheduleResolve()}initPlayback(rt){const{type:at="keyframes",repeat:lt=0,repeatDelay:ct=0,repeatType:ut,velocity:dt=0}=this.options,ht=generators[at]||keyframes;let ft,pt;ht!==keyframes&&typeof rt[0]!="number"&&(ft=pipe(percentToProgress,mix(rt[0],rt[1])),rt=[0,100]);const mt=ht({...this.options,keyframes:rt});ut==="mirror"&&(pt=ht({...this.options,keyframes:[...rt].reverse(),velocity:-dt})),mt.calculatedDuration===null&&(mt.calculatedDuration=calcGeneratorDuration(mt));const{calculatedDuration:gt}=mt,yt=gt+ct,xt=yt*(lt+1)-ct;return{generator:mt,mirroredGenerator:pt,mapPercentToKeyframes:ft,calculatedDuration:gt,resolvedDuration:yt,totalDuration:xt}}onPostResolved(){const{autoplay:rt=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!rt?this.pause():this.state=this.pendingPlayState}tick(rt,at=!1){const{resolved:lt}=this;if(!lt){const{keyframes:Tt}=this.options;return{done:!0,value:Tt[Tt.length-1]}}const{finalKeyframe:ct,generator:ut,mirroredGenerator:dt,mapPercentToKeyframes:ht,keyframes:ft,calculatedDuration:pt,totalDuration:mt,resolvedDuration:gt}=lt;if(this.startTime===null)return ut.next(0);const{delay:yt,repeat:xt,repeatType:bt,repeatDelay:Et,onUpdate:Rt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,rt):this.speed<0&&(this.startTime=Math.min(rt-mt/this.speed,this.startTime)),at?this.currentTime=rt:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(rt-this.startTime)*this.speed;const wt=this.currentTime-yt*(this.speed>=0?1:-1),_t=this.speed>=0?wt<0:wt>mt;this.currentTime=Math.max(wt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=mt);let At=this.currentTime,kt=ut;if(xt){const Tt=Math.min(this.currentTime,mt)/gt;let Ct=Math.floor(Tt),Ot=Tt%1;!Ot&&Tt>=1&&(Ot=1),Ot===1&&Ct--,Ct=Math.min(Ct,xt+1),!!(Ct%2)&&(bt==="reverse"?(Ot=1-Ot,Et&&(Ot-=Et/gt)):bt==="mirror"&&(kt=dt)),At=clamp(0,1,Ot)*gt}const It=_t?{done:!1,value:ft[0]}:kt.next(At);ht&&(It.value=ht(It.value));let{done:Nt}=It;!_t&&pt!==null&&(Nt=this.speed>=0?this.currentTime>=mt:this.currentTime<=0);const Pt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Nt);return Pt&&ct!==void 0&&(It.value=getFinalKeyframe(ft,this.options,ct)),Rt&&Rt(It.value),Pt&&this.finish(),It}get duration(){const{resolved:rt}=this;return rt?millisecondsToSeconds(rt.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(rt){rt=secondsToMilliseconds(rt),this.currentTime=rt,this.holdTime!==null||this.speed===0?this.holdTime=rt:this.driver&&(this.startTime=this.driver.now()-rt/this.speed)}get speed(){return this.playbackSpeed}set speed(rt){const at=this.playbackSpeed!==rt;this.playbackSpeed=rt,at&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:rt=frameloopDriver,onPlay:at}=this.options;this.driver||(this.driver=rt(ct=>this.tick(ct))),at&&at();const lt=this.driver.now();this.holdTime!==null?this.startTime=lt-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=lt),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var rt;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(rt=this.currentTime)!==null&&rt!==void 0?rt:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:rt}=this.options;rt&&rt()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(rt){return this.startTime=0,this.tick(rt,!0)}}const isBezierDefinition=ot=>Array.isArray(ot)&&typeof ot[0]=="number";function isWaapiSupportedEasing(ot){return!!(!ot||typeof ot=="string"&&ot in supportedWaapiEasing||isBezierDefinition(ot)||Array.isArray(ot)&&ot.every(isWaapiSupportedEasing))}const cubicBezierAsString=([ot,rt,at,lt])=>`cubic-bezier(${ot}, ${rt}, ${at}, ${lt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasingWithDefault(ot){return mapEasingToNativeEasing(ot)||supportedWaapiEasing.easeOut}function mapEasingToNativeEasing(ot){if(ot)return isBezierDefinition(ot)?cubicBezierAsString(ot):Array.isArray(ot)?ot.map(mapEasingToNativeEasingWithDefault):supportedWaapiEasing[ot]}function animateStyle(ot,rt,at,{delay:lt=0,duration:ct=300,repeat:ut=0,repeatType:dt="loop",ease:ht,times:ft}={}){const pt={[rt]:at};ft&&(pt.offset=ft);const mt=mapEasingToNativeEasing(ht);return Array.isArray(mt)&&(pt.easing=mt),ot.animate(pt,{delay:lt,duration:ct,easing:Array.isArray(mt)?"linear":mt,fill:"both",iterations:ut+1,direction:dt==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(ot){return ot.type==="spring"||!isWaapiSupportedEasing(ot.ease)}function pregenerateKeyframes(ot,rt){const at=new MainThreadAnimation({...rt,keyframes:ot,repeat:0,delay:0,isGenerator:!0});let lt={done:!1,value:ot[0]};const ct=[];let ut=0;for(;!lt.done&&ut<maxDuration;)lt=at.sample(ut),ct.push(lt.value),ut+=sampleDelta;return{times:void 0,keyframes:ct,duration:ut-sampleDelta,ease:"linear"}}class AcceleratedAnimation extends BaseAnimation{constructor(rt){super(rt);const{name:at,motionValue:lt,keyframes:ct}=this.options;this.resolver=new DOMKeyframesResolver(ct,(ut,dt)=>this.onKeyframesResolved(ut,dt),at,lt),this.resolver.scheduleResolve()}initPlayback(rt,at){var lt;let{duration:ct=300,times:ut,ease:dt,type:ht,motionValue:ft,name:pt}=this.options;if(!(!((lt=ft.owner)===null||lt===void 0)&&lt.current))return!1;if(requiresPregeneratedKeyframes(this.options)){const{onComplete:gt,onUpdate:yt,motionValue:xt,...bt}=this.options,Et=pregenerateKeyframes(rt,bt);rt=Et.keyframes,rt.length===1&&(rt[1]=rt[0]),ct=Et.duration,ut=Et.times,dt=Et.ease,ht="keyframes"}const mt=animateStyle(ft.owner.current,pt,rt,{...this.options,duration:ct,times:ut,ease:dt});return mt.startTime=time.now(),this.pendingTimeline?(mt.timeline=this.pendingTimeline,this.pendingTimeline=void 0):mt.onfinish=()=>{const{onComplete:gt}=this.options;ft.set(getFinalKeyframe(rt,this.options,at)),gt&&gt(),this.cancel(),this.resolveFinishedPromise()},{animation:mt,duration:ct,times:ut,type:ht,ease:dt,keyframes:rt}}get duration(){const{resolved:rt}=this;if(!rt)return 0;const{duration:at}=rt;return millisecondsToSeconds(at)}get time(){const{resolved:rt}=this;if(!rt)return 0;const{animation:at}=rt;return millisecondsToSeconds(at.currentTime||0)}set time(rt){const{resolved:at}=this;if(!at)return;const{animation:lt}=at;lt.currentTime=secondsToMilliseconds(rt)}get speed(){const{resolved:rt}=this;if(!rt)return 1;const{animation:at}=rt;return at.playbackRate}set speed(rt){const{resolved:at}=this;if(!at)return;const{animation:lt}=at;lt.playbackRate=rt}get state(){const{resolved:rt}=this;if(!rt)return"idle";const{animation:at}=rt;return at.playState}attachTimeline(rt){if(!this._resolved)this.pendingTimeline=rt;else{const{resolved:at}=this;if(!at)return noop$1;const{animation:lt}=at;lt.timeline=rt,lt.onfinish=null}return noop$1}play(){if(this.isStopped)return;const{resolved:rt}=this;if(!rt)return;const{animation:at}=rt;at.playState==="finished"&&this.updateFinishedPromise(),at.play()}pause(){const{resolved:rt}=this;if(!rt)return;const{animation:at}=rt;at.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:rt}=this;if(!rt)return;const{animation:at,keyframes:lt,duration:ct,type:ut,ease:dt,times:ht}=rt;if(at.playState==="idle"||at.playState==="finished")return;if(this.time){const{motionValue:pt,onUpdate:mt,onComplete:gt,...yt}=this.options,xt=new MainThreadAnimation({...yt,keyframes:lt,duration:ct,type:ut,ease:dt,times:ht,isGenerator:!0}),bt=secondsToMilliseconds(this.time);pt.setWithVelocity(xt.sample(bt-sampleDelta).value,xt.sample(bt).value,sampleDelta)}const{onStop:ft}=this.options;ft&&ft(),this.cancel()}complete(){const{resolved:rt}=this;rt&&rt.animation.finish()}cancel(){const{resolved:rt}=this;rt&&rt.animation.cancel()}static supports(rt){const{motionValue:at,name:lt,repeatDelay:ct,repeatType:ut,damping:dt,type:ht}=rt;return supportsWaapi()&&lt&&acceleratedValues.has(lt)&&at&&at.owner&&at.owner.current instanceof HTMLElement&&!at.owner.getProps().onUpdate&&!ct&&ut!=="mirror"&&dt!==0&&ht!=="inertia"}}function observeTimeline(ot,rt){let at;const lt=()=>{const{currentTime:ct}=rt,dt=(ct===null?0:ct.value)/100;at!==dt&&ot(dt),at=dt};return frame.update(lt,!0),()=>cancelFrame(lt)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class GroupPlaybackControls{constructor(rt){this.stop=()=>this.runAll("stop"),this.animations=rt.filter(Boolean)}then(rt,at){return Promise.all(this.animations).then(rt).catch(at)}getAll(rt){return this.animations[0][rt]}setAll(rt,at){for(let lt=0;lt<this.animations.length;lt++)this.animations[lt][rt]=at}attachTimeline(rt){const at=this.animations.map(lt=>{if(supportsScrollTimeline()&&lt.attachTimeline)lt.attachTimeline(rt);else return lt.pause(),observeTimeline(ct=>{lt.time=lt.duration*ct},rt)});return()=>{at.forEach((lt,ct)=>{lt&&lt(),this.animations[ct].stop()})}}get time(){return this.getAll("time")}set time(rt){this.setAll("time",rt)}get speed(){return this.getAll("speed")}set speed(rt){this.setAll("speed",rt)}get duration(){let rt=0;for(let at=0;at<this.animations.length;at++)rt=Math.max(rt,this.animations[at].duration);return rt}runAll(rt){this.animations.forEach(at=>at[rt]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const animateMotionValue=(ot,rt,at,lt={},ct,ut,dt)=>ht=>{const ft=getValueTransition(lt,ot)||{},pt=ft.delay||lt.delay||0;let{elapsed:mt=0}=lt;mt=mt-secondsToMilliseconds(pt);let gt={keyframes:Array.isArray(at)?at:[null,at],ease:"easeOut",velocity:rt.getVelocity(),...ft,delay:-mt,onUpdate:xt=>{rt.set(xt),ft.onUpdate&&ft.onUpdate(xt)},onComplete:()=>{ht(),ft.onComplete&&ft.onComplete(),dt&&dt()},onStop:dt,name:ot,motionValue:rt,element:ut?void 0:ct};isTransitionDefined(ft)||(gt={...gt,...getDefaultTransition(ot,gt)}),gt.duration&&(gt.duration=secondsToMilliseconds(gt.duration)),gt.repeatDelay&&(gt.repeatDelay=secondsToMilliseconds(gt.repeatDelay)),gt.from!==void 0&&(gt.keyframes[0]=gt.from);let yt=!1;if((gt.type===!1||gt.duration===0&&!gt.repeatDelay)&&(gt.duration=0,gt.delay===0&&(yt=!0)),yt&&!ut&&rt.get()!==void 0){const xt=getFinalKeyframe(gt.keyframes,ft);if(xt!==void 0)return frame.update(()=>{gt.onUpdate(xt),gt.onComplete()}),new GroupPlaybackControls([])}return!ut&&AcceleratedAnimation.supports(gt)?new AcceleratedAnimation(gt):new MainThreadAnimation(gt)};class SubscriptionManager{constructor(){this.subscriptions=[]}add(rt){return addUniqueItem(this.subscriptions,rt),()=>removeItem(this.subscriptions,rt)}notify(rt,at,lt){const ct=this.subscriptions.length;if(ct)if(ct===1)this.subscriptions[0](rt,at,lt);else for(let ut=0;ut<ct;ut++){const dt=this.subscriptions[ut];dt&&dt(rt,at,lt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const MAX_VELOCITY_DELTA=30,isFloat=ot=>!isNaN(parseFloat(ot));class MotionValue{constructor(rt,at={}){this.version="11.3.8",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(lt,ct=!0)=>{const ut=time.now();this.updatedAt!==ut&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(lt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),ct&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(rt),this.owner=at.owner}setCurrent(rt){this.current=rt,this.updatedAt=time.now(),this.canTrackVelocity===null&&rt!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(rt=this.current){this.prevFrameValue=rt,this.prevUpdatedAt=this.updatedAt}onChange(rt){return this.on("change",rt)}on(rt,at){this.events[rt]||(this.events[rt]=new SubscriptionManager);const lt=this.events[rt].add(at);return rt==="change"?()=>{lt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:lt}clearListeners(){for(const rt in this.events)this.events[rt].clear()}attach(rt,at){this.passiveEffect=rt,this.stopPassiveEffect=at}set(rt,at=!0){!at||!this.passiveEffect?this.updateAndNotify(rt,at):this.passiveEffect(rt,this.updateAndNotify)}setWithVelocity(rt,at,lt){this.set(at),this.prev=void 0,this.prevFrameValue=rt,this.prevUpdatedAt=this.updatedAt-lt}jump(rt,at=!0){this.updateAndNotify(rt),this.prev=rt,this.prevUpdatedAt=this.prevFrameValue=void 0,at&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const rt=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||rt-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const at=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),at)}start(rt){return this.stop(),new Promise(at=>{this.hasAnimated=!0,this.animation=rt(at),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(ot,rt){return new MotionValue(ot,rt)}function setMotionValue(ot,rt,at){ot.hasValue(rt)?ot.getValue(rt).set(at):ot.addValue(rt,motionValue(at))}function setTarget(ot,rt){const at=resolveVariant(ot,rt);let{transitionEnd:lt={},transition:ct={},...ut}=at||{};ut={...ut,...lt};for(const dt in ut){const ht=resolveFinalValueInKeyframes(ut[dt]);setMotionValue(ot,dt,ht)}}function getOptimisedAppearId(ot){return ot.getProps()[optimizedAppearDataAttribute]}class WillChangeMotionValue extends MotionValue{constructor(){super(...arguments),this.output=[],this.counts=new Map}add(rt){const at=getWillChangeName(rt);if(!at)return;const lt=this.counts.get(at)||0;this.counts.set(at,lt+1),lt===0&&(this.output.push(at),this.update());let ct=!1;return()=>{if(ct)return;ct=!0;const ut=this.counts.get(at)-1;this.counts.set(at,ut),ut===0&&(removeItem(this.output,at),this.update())}}update(){this.set(this.output.length?this.output.join(", "):"auto")}}function isWillChangeMotionValue(ot){return!!(isMotionValue(ot)&&ot.add)}function addValueToWillChange(ot,rt){var at;if(!ot.applyWillChange)return;let lt=ot.getValue("willChange");if(!lt&&!(!((at=ot.props.style)===null||at===void 0)&&at.willChange)&&(lt=new WillChangeMotionValue("auto"),ot.addValue("willChange",lt)),isWillChangeMotionValue(lt))return lt.add(rt)}function shouldBlockAnimation({protectedKeys:ot,needsAnimating:rt},at){const lt=ot.hasOwnProperty(at)&&rt[at]!==!0;return rt[at]=!1,lt}function animateTarget(ot,rt,{delay:at=0,transitionOverride:lt,type:ct}={}){var ut;let{transition:dt=ot.getDefaultTransition(),transitionEnd:ht,...ft}=rt;lt&&(dt=lt);const pt=[],mt=ct&&ot.animationState&&ot.animationState.getState()[ct];for(const gt in ft){const yt=ot.getValue(gt,(ut=ot.latestValues[gt])!==null&&ut!==void 0?ut:null),xt=ft[gt];if(xt===void 0||mt&&shouldBlockAnimation(mt,gt))continue;const bt={delay:at,elapsed:0,...getValueTransition(dt||{},gt)};let Et=!1;if(window.HandoffAppearAnimations){const wt=getOptimisedAppearId(ot);if(wt){const _t=window.HandoffAppearAnimations(wt,gt,yt,frame);_t!==null&&(bt.elapsed=_t,Et=!0)}}yt.start(animateMotionValue(gt,yt,xt,ot.shouldReduceMotion&&transformProps.has(gt)?{type:!1}:bt,ot,Et,addValueToWillChange(ot,gt)));const Rt=yt.animation;Rt&&pt.push(Rt)}return ht&&Promise.all(pt).then(()=>{frame.update(()=>{ht&&setTarget(ot,ht)})}),pt}function animateVariant(ot,rt,at={}){var lt;const ct=resolveVariant(ot,rt,at.type==="exit"?(lt=ot.presenceContext)===null||lt===void 0?void 0:lt.custom:void 0);let{transition:ut=ot.getDefaultTransition()||{}}=ct||{};at.transitionOverride&&(ut=at.transitionOverride);const dt=ct?()=>Promise.all(animateTarget(ot,ct,at)):()=>Promise.resolve(),ht=ot.variantChildren&&ot.variantChildren.size?(pt=0)=>{const{delayChildren:mt=0,staggerChildren:gt,staggerDirection:yt}=ut;return animateChildren(ot,rt,mt+pt,gt,yt,at)}:()=>Promise.resolve(),{when:ft}=ut;if(ft){const[pt,mt]=ft==="beforeChildren"?[dt,ht]:[ht,dt];return pt().then(()=>mt())}else return Promise.all([dt(),ht(at.delay)])}function animateChildren(ot,rt,at=0,lt=0,ct=1,ut){const dt=[],ht=(ot.variantChildren.size-1)*lt,ft=ct===1?(pt=0)=>pt*lt:(pt=0)=>ht-pt*lt;return Array.from(ot.variantChildren).sort(sortByTreeOrder).forEach((pt,mt)=>{pt.notify("AnimationStart",rt),dt.push(animateVariant(pt,rt,{...ut,delay:at+ft(mt)}).then(()=>pt.notify("AnimationComplete",rt)))}),Promise.all(dt)}function sortByTreeOrder(ot,rt){return ot.sortNodePosition(rt)}function animateVisualElement(ot,rt,at={}){ot.notify("AnimationStart",rt);let lt;if(Array.isArray(rt)){const ct=rt.map(ut=>animateVariant(ot,ut,at));lt=Promise.all(ct)}else if(typeof rt=="string")lt=animateVariant(ot,rt,at);else{const ct=typeof rt=="function"?resolveVariant(ot,rt,at.custom):rt;lt=Promise.all(animateTarget(ot,ct,at))}return lt.then(()=>{frame.postRender(()=>{ot.notify("AnimationComplete",rt)})})}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(ot){return rt=>Promise.all(rt.map(({animation:at,options:lt})=>animateVisualElement(ot,at,lt)))}function createAnimationState(ot){let rt=animateList(ot),at=createState(),lt=!0;const ct=ft=>(pt,mt)=>{var gt;const yt=resolveVariant(ot,mt,ft==="exit"?(gt=ot.presenceContext)===null||gt===void 0?void 0:gt.custom:void 0);if(yt){const{transition:xt,transitionEnd:bt,...Et}=yt;pt={...pt,...Et,...bt}}return pt};function ut(ft){rt=ft(ot)}function dt(ft){const pt=ot.getProps(),mt=ot.getVariantContext(!0)||{},gt=[],yt=new Set;let xt={},bt=1/0;for(let Rt=0;Rt<numAnimationTypes;Rt++){const wt=reversePriorityOrder[Rt],_t=at[wt],At=pt[wt]!==void 0?pt[wt]:mt[wt],kt=isVariantLabel(At),It=wt===ft?_t.isActive:null;It===!1&&(bt=Rt);let Nt=At===mt[wt]&&At!==pt[wt]&&kt;if(Nt&&lt&&ot.manuallyAnimateOnMount&&(Nt=!1),_t.protectedKeys={...xt},!_t.isActive&&It===null||!At&&!_t.prevProp||isAnimationControls(At)||typeof At=="boolean")continue;let Tt=checkVariantsDidChange(_t.prevProp,At)||wt===ft&&_t.isActive&&!Nt&&kt||Rt>bt&&kt,Ct=!1;const Ot=Array.isArray(At)?At:[At];let Dt=Ot.reduce(ct(wt),{});It===!1&&(Dt={});const{prevResolvedValues:jt={}}=_t,Mt={...jt,...Dt},zt=Qt=>{Tt=!0,yt.has(Qt)&&(Ct=!0,yt.delete(Qt)),_t.needsAnimating[Qt]=!0;const qt=ot.getValue(Qt);qt&&(qt.liveStyle=!1)};for(const Qt in Mt){const qt=Dt[Qt],Kt=jt[Qt];if(xt.hasOwnProperty(Qt))continue;let sn=!1;isKeyframesTarget(qt)&&isKeyframesTarget(Kt)?sn=!shallowCompare(qt,Kt):sn=qt!==Kt,sn?qt!=null?zt(Qt):yt.add(Qt):qt!==void 0&&yt.has(Qt)?zt(Qt):_t.protectedKeys[Qt]=!0}_t.prevProp=At,_t.prevResolvedValues=Dt,_t.isActive&&(xt={...xt,...Dt}),lt&&ot.blockInitialAnimation&&(Tt=!1),Tt&&(!Nt||Ct)&&gt.push(...Ot.map(Qt=>({animation:Qt,options:{type:wt}})))}if(yt.size){const Rt={};yt.forEach(wt=>{const _t=ot.getBaseTarget(wt),At=ot.getValue(wt);At&&(At.liveStyle=!0),Rt[wt]=_t??null}),gt.push({animation:Rt})}let Et=!!gt.length;return lt&&(pt.initial===!1||pt.initial===pt.animate)&&!ot.manuallyAnimateOnMount&&(Et=!1),lt=!1,Et?rt(gt):Promise.resolve()}function ht(ft,pt){var mt;if(at[ft].isActive===pt)return Promise.resolve();(mt=ot.variantChildren)===null||mt===void 0||mt.forEach(yt=>{var xt;return(xt=yt.animationState)===null||xt===void 0?void 0:xt.setActive(ft,pt)}),at[ft].isActive=pt;const gt=dt(ft);for(const yt in at)at[yt].protectedKeys={};return gt}return{animateChanges:dt,setActive:ht,setAnimateFunction:ut,getState:()=>at,reset:()=>{at=createState(),lt=!0}}}function checkVariantsDidChange(ot,rt){return typeof rt=="string"?rt!==ot:Array.isArray(rt)?!shallowCompare(rt,ot):!1}function createTypeState(ot=!1){return{isActive:ot,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class AnimationFeature extends Feature{constructor(rt){super(rt),rt.animationState||(rt.animationState=createAnimationState(rt))}updateAnimationControlsSubscription(){const{animate:rt}=this.node.getProps();isAnimationControls(rt)&&(this.unmountControls=rt.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:rt}=this.node.getProps(),{animate:at}=this.node.prevProps||{};rt!==at&&this.updateAnimationControlsSubscription()}unmount(){var rt;this.node.animationState.reset(),(rt=this.unmountControls)===null||rt===void 0||rt.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:rt,onExitComplete:at}=this.node.presenceContext,{isPresent:lt}=this.node.prevPresenceContext||{};if(!this.node.animationState||rt===lt)return;const ct=this.node.animationState.setActive("exit",!rt);at&&!rt&&ct.then(()=>at(this.id))}mount(){const{register:rt}=this.node.presenceContext||{};rt&&(this.unmount=rt(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},distance=(ot,rt)=>Math.abs(ot-rt);function distance2D(ot,rt){const at=distance(ot.x,rt.x),lt=distance(ot.y,rt.y);return Math.sqrt(at**2+lt**2)}class PanSession{constructor(rt,at,{transformPagePoint:lt,contextWindow:ct,dragSnapToOrigin:ut=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const gt=getPanInfo(this.lastMoveEventInfo,this.history),yt=this.startEvent!==null,xt=distance2D(gt.offset,{x:0,y:0})>=3;if(!yt&&!xt)return;const{point:bt}=gt,{timestamp:Et}=frameData;this.history.push({...bt,timestamp:Et});const{onStart:Rt,onMove:wt}=this.handlers;yt||(Rt&&Rt(this.lastMoveEvent,gt),this.startEvent=this.lastMoveEvent),wt&&wt(this.lastMoveEvent,gt)},this.handlePointerMove=(gt,yt)=>{this.lastMoveEvent=gt,this.lastMoveEventInfo=transformPoint(yt,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(gt,yt)=>{this.end();const{onEnd:xt,onSessionEnd:bt,resumeAnimation:Et}=this.handlers;if(this.dragSnapToOrigin&&Et&&Et(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Rt=getPanInfo(gt.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(yt,this.transformPagePoint),this.history);this.startEvent&&xt&&xt(gt,Rt),bt&&bt(gt,Rt)},!isPrimaryPointer(rt))return;this.dragSnapToOrigin=ut,this.handlers=at,this.transformPagePoint=lt,this.contextWindow=ct||window;const dt=extractEventInfo(rt),ht=transformPoint(dt,this.transformPagePoint),{point:ft}=ht,{timestamp:pt}=frameData;this.history=[{...ft,timestamp:pt}];const{onSessionStart:mt}=at;mt&&mt(rt,getPanInfo(ht,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(rt){this.handlers=rt}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(ot,rt){return rt?{point:rt(ot.point)}:ot}function subtractPoint(ot,rt){return{x:ot.x-rt.x,y:ot.y-rt.y}}function getPanInfo({point:ot},rt){return{point:ot,delta:subtractPoint(ot,lastDevicePoint(rt)),offset:subtractPoint(ot,startDevicePoint(rt)),velocity:getVelocity(rt,.1)}}function startDevicePoint(ot){return ot[0]}function lastDevicePoint(ot){return ot[ot.length-1]}function getVelocity(ot,rt){if(ot.length<2)return{x:0,y:0};let at=ot.length-1,lt=null;const ct=lastDevicePoint(ot);for(;at>=0&&(lt=ot[at],!(ct.timestamp-lt.timestamp>secondsToMilliseconds(rt)));)at--;if(!lt)return{x:0,y:0};const ut=millisecondsToSeconds(ct.timestamp-lt.timestamp);if(ut===0)return{x:0,y:0};const dt={x:(ct.x-lt.x)/ut,y:(ct.y-lt.y)/ut};return dt.x===1/0&&(dt.x=0),dt.y===1/0&&(dt.y=0),dt}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(ot){return ot.max-ot.min}function isNear(ot,rt,at){return Math.abs(ot-rt)<=at}function calcAxisDelta(ot,rt,at,lt=.5){ot.origin=lt,ot.originPoint=mixNumber$1(rt.min,rt.max,ot.origin),ot.scale=calcLength(at)/calcLength(rt),ot.translate=mixNumber$1(at.min,at.max,ot.origin)-ot.originPoint,(ot.scale>=SCALE_MIN&&ot.scale<=SCALE_MAX||isNaN(ot.scale))&&(ot.scale=1),(ot.translate>=TRANSLATE_MIN&&ot.translate<=TRANSLATE_MAX||isNaN(ot.translate))&&(ot.translate=0)}function calcBoxDelta(ot,rt,at,lt){calcAxisDelta(ot.x,rt.x,at.x,lt?lt.originX:void 0),calcAxisDelta(ot.y,rt.y,at.y,lt?lt.originY:void 0)}function calcRelativeAxis(ot,rt,at){ot.min=at.min+rt.min,ot.max=ot.min+calcLength(rt)}function calcRelativeBox(ot,rt,at){calcRelativeAxis(ot.x,rt.x,at.x),calcRelativeAxis(ot.y,rt.y,at.y)}function calcRelativeAxisPosition(ot,rt,at){ot.min=rt.min-at.min,ot.max=ot.min+calcLength(rt)}function calcRelativePosition(ot,rt,at){calcRelativeAxisPosition(ot.x,rt.x,at.x),calcRelativeAxisPosition(ot.y,rt.y,at.y)}function applyConstraints(ot,{min:rt,max:at},lt){return rt!==void 0&&ot<rt?ot=lt?mixNumber$1(rt,ot,lt.min):Math.max(ot,rt):at!==void 0&&ot>at&&(ot=lt?mixNumber$1(at,ot,lt.max):Math.min(ot,at)),ot}function calcRelativeAxisConstraints(ot,rt,at){return{min:rt!==void 0?ot.min+rt:void 0,max:at!==void 0?ot.max+at-(ot.max-ot.min):void 0}}function calcRelativeConstraints(ot,{top:rt,left:at,bottom:lt,right:ct}){return{x:calcRelativeAxisConstraints(ot.x,at,ct),y:calcRelativeAxisConstraints(ot.y,rt,lt)}}function calcViewportAxisConstraints(ot,rt){let at=rt.min-ot.min,lt=rt.max-ot.max;return rt.max-rt.min<ot.max-ot.min&&([at,lt]=[lt,at]),{min:at,max:lt}}function calcViewportConstraints(ot,rt){return{x:calcViewportAxisConstraints(ot.x,rt.x),y:calcViewportAxisConstraints(ot.y,rt.y)}}function calcOrigin(ot,rt){let at=.5;const lt=calcLength(ot),ct=calcLength(rt);return ct>lt?at=progress(rt.min,rt.max-lt,ot.min):lt>ct&&(at=progress(ot.min,ot.max-ct,rt.min)),clamp(0,1,at)}function rebaseAxisConstraints(ot,rt){const at={};return rt.min!==void 0&&(at.min=rt.min-ot.min),rt.max!==void 0&&(at.max=rt.max-ot.min),at}const defaultElastic=.35;function resolveDragElastic(ot=defaultElastic){return ot===!1?ot=0:ot===!0&&(ot=defaultElastic),{x:resolveAxisElastic(ot,"left","right"),y:resolveAxisElastic(ot,"top","bottom")}}function resolveAxisElastic(ot,rt,at){return{min:resolvePointElastic(ot,rt),max:resolvePointElastic(ot,at)}}function resolvePointElastic(ot,rt){return typeof ot=="number"?ot:ot[rt]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(ot){return[ot("x"),ot("y")]}function convertBoundingBoxToBox({top:ot,left:rt,right:at,bottom:lt}){return{x:{min:rt,max:at},y:{min:ot,max:lt}}}function convertBoxToBoundingBox({x:ot,y:rt}){return{top:rt.min,right:ot.max,bottom:rt.max,left:ot.min}}function transformBoxPoints(ot,rt){if(!rt)return ot;const at=rt({x:ot.left,y:ot.top}),lt=rt({x:ot.right,y:ot.bottom});return{top:at.y,left:at.x,bottom:lt.y,right:lt.x}}function isIdentityScale(ot){return ot===void 0||ot===1}function hasScale({scale:ot,scaleX:rt,scaleY:at}){return!isIdentityScale(ot)||!isIdentityScale(rt)||!isIdentityScale(at)}function hasTransform(ot){return hasScale(ot)||has2DTranslate(ot)||ot.z||ot.rotate||ot.rotateX||ot.rotateY||ot.skewX||ot.skewY}function has2DTranslate(ot){return is2DTranslate(ot.x)||is2DTranslate(ot.y)}function is2DTranslate(ot){return ot&&ot!=="0%"}function scalePoint(ot,rt,at){const lt=ot-at,ct=rt*lt;return at+ct}function applyPointDelta(ot,rt,at,lt,ct){return ct!==void 0&&(ot=scalePoint(ot,ct,lt)),scalePoint(ot,at,lt)+rt}function applyAxisDelta(ot,rt=0,at=1,lt,ct){ot.min=applyPointDelta(ot.min,rt,at,lt,ct),ot.max=applyPointDelta(ot.max,rt,at,lt,ct)}function applyBoxDelta(ot,{x:rt,y:at}){applyAxisDelta(ot.x,rt.translate,rt.scale,rt.originPoint),applyAxisDelta(ot.y,at.translate,at.scale,at.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(ot,rt,at,lt=!1){const ct=at.length;if(!ct)return;rt.x=rt.y=1;let ut,dt;for(let ht=0;ht<ct;ht++){ut=at[ht],dt=ut.projectionDelta;const{visualElement:ft}=ut.options;ft&&ft.props.style&&ft.props.style.display==="contents"||(lt&&ut.options.layoutScroll&&ut.scroll&&ut!==ut.root&&transformBox(ot,{x:-ut.scroll.offset.x,y:-ut.scroll.offset.y}),dt&&(rt.x*=dt.x.scale,rt.y*=dt.y.scale,applyBoxDelta(ot,dt)),lt&&hasTransform(ut.latestValues)&&transformBox(ot,ut.latestValues))}rt.x<TREE_SCALE_SNAP_MAX&&rt.x>TREE_SCALE_SNAP_MIN&&(rt.x=1),rt.y<TREE_SCALE_SNAP_MAX&&rt.y>TREE_SCALE_SNAP_MIN&&(rt.y=1)}function translateAxis(ot,rt){ot.min=ot.min+rt,ot.max=ot.max+rt}function transformAxis(ot,rt,at,lt,ct=.5){const ut=mixNumber$1(ot.min,ot.max,ct);applyAxisDelta(ot,rt,at,ut,lt)}function transformBox(ot,rt){transformAxis(ot.x,rt.x,rt.scaleX,rt.scale,rt.originX),transformAxis(ot.y,rt.y,rt.scaleY,rt.scale,rt.originY)}function measureViewportBox(ot,rt){return convertBoundingBoxToBox(transformBoxPoints(ot.getBoundingClientRect(),rt))}function measurePageBox(ot,rt,at){const lt=measureViewportBox(ot,at),{scroll:ct}=rt;return ct&&(translateAxis(lt.x,ct.offset.x),translateAxis(lt.y,ct.offset.y)),lt}const getContextWindow=({current:ot})=>ot?ot.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(rt){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=rt}start(rt,{snapToCursor:at=!1}={}){const{presenceContext:lt}=this.visualElement;if(lt&&lt.isPresent===!1)return;const ct=mt=>{const{dragSnapToOrigin:gt}=this.getProps();gt?this.pauseAnimation():this.stopAnimation(),at&&this.snapToCursor(extractEventInfo(mt,"page").point)},ut=(mt,gt)=>{var yt;const{drag:xt,dragPropagation:bt,onDragStart:Et}=this.getProps();if(xt&&!bt&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(xt),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(wt=>{let _t=this.getAxisMotionValue(wt).get()||0;if(percent.test(_t)){const{projection:At}=this.visualElement;if(At&&At.layout){const kt=At.layout.layoutBox[wt];kt&&(_t=calcLength(kt)*(parseFloat(_t)/100))}}this.originPoint[wt]=_t}),Et&&frame.postRender(()=>Et(mt,gt)),(yt=this.removeWillChange)===null||yt===void 0||yt.call(this),this.removeWillChange=addValueToWillChange(this.visualElement,"transform");const{animationState:Rt}=this.visualElement;Rt&&Rt.setActive("whileDrag",!0)},dt=(mt,gt)=>{const{dragPropagation:yt,dragDirectionLock:xt,onDirectionLock:bt,onDrag:Et}=this.getProps();if(!yt&&!this.openGlobalLock)return;const{offset:Rt}=gt;if(xt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Rt),this.currentDirection!==null&&bt&&bt(this.currentDirection);return}this.updateAxis("x",gt.point,Rt),this.updateAxis("y",gt.point,Rt),this.visualElement.render(),Et&&Et(mt,gt)},ht=(mt,gt)=>this.stop(mt,gt),ft=()=>eachAxis(mt=>{var gt;return this.getAnimationState(mt)==="paused"&&((gt=this.getAxisMotionValue(mt).animation)===null||gt===void 0?void 0:gt.play())}),{dragSnapToOrigin:pt}=this.getProps();this.panSession=new PanSession(rt,{onSessionStart:ct,onStart:ut,onMove:dt,onSessionEnd:ht,resumeAnimation:ft},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:pt,contextWindow:getContextWindow(this.visualElement)})}stop(rt,at){var lt;(lt=this.removeWillChange)===null||lt===void 0||lt.call(this);const ct=this.isDragging;if(this.cancel(),!ct)return;const{velocity:ut}=at;this.startAnimation(ut);const{onDragEnd:dt}=this.getProps();dt&&frame.postRender(()=>dt(rt,at))}cancel(){this.isDragging=!1;const{projection:rt,animationState:at}=this.visualElement;rt&&(rt.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:lt}=this.getProps();!lt&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),at&&at.setActive("whileDrag",!1)}updateAxis(rt,at,lt){const{drag:ct}=this.getProps();if(!lt||!shouldDrag(rt,ct,this.currentDirection))return;const ut=this.getAxisMotionValue(rt);let dt=this.originPoint[rt]+lt[rt];this.constraints&&this.constraints[rt]&&(dt=applyConstraints(dt,this.constraints[rt],this.elastic[rt])),ut.set(dt)}resolveConstraints(){var rt;const{dragConstraints:at,dragElastic:lt}=this.getProps(),ct=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(rt=this.visualElement.projection)===null||rt===void 0?void 0:rt.layout,ut=this.constraints;at&&isRefObject(at)?this.constraints||(this.constraints=this.resolveRefConstraints()):at&&ct?this.constraints=calcRelativeConstraints(ct.layoutBox,at):this.constraints=!1,this.elastic=resolveDragElastic(lt),ut!==this.constraints&&ct&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(dt=>{this.constraints!==!1&&this.getAxisMotionValue(dt)&&(this.constraints[dt]=rebaseAxisConstraints(ct.layoutBox[dt],this.constraints[dt]))})}resolveRefConstraints(){const{dragConstraints:rt,onMeasureDragConstraints:at}=this.getProps();if(!rt||!isRefObject(rt))return!1;const lt=rt.current,{projection:ct}=this.visualElement;if(!ct||!ct.layout)return!1;const ut=measurePageBox(lt,ct.root,this.visualElement.getTransformPagePoint());let dt=calcViewportConstraints(ct.layout.layoutBox,ut);if(at){const ht=at(convertBoxToBoundingBox(dt));this.hasMutatedConstraints=!!ht,ht&&(dt=convertBoundingBoxToBox(ht))}return dt}startAnimation(rt){const{drag:at,dragMomentum:lt,dragElastic:ct,dragTransition:ut,dragSnapToOrigin:dt,onDragTransitionEnd:ht}=this.getProps(),ft=this.constraints||{},pt=eachAxis(mt=>{if(!shouldDrag(mt,at,this.currentDirection))return;let gt=ft&&ft[mt]||{};dt&&(gt={min:0,max:0});const yt=ct?200:1e6,xt=ct?40:1e7,bt={type:"inertia",velocity:lt?rt[mt]:0,bounceStiffness:yt,bounceDamping:xt,timeConstant:750,restDelta:1,restSpeed:10,...ut,...gt};return this.startAxisValueAnimation(mt,bt)});return Promise.all(pt).then(ht)}startAxisValueAnimation(rt,at){const lt=this.getAxisMotionValue(rt);return lt.start(animateMotionValue(rt,lt,0,at,this.visualElement,!1,addValueToWillChange(this.visualElement,rt)))}stopAnimation(){eachAxis(rt=>this.getAxisMotionValue(rt).stop())}pauseAnimation(){eachAxis(rt=>{var at;return(at=this.getAxisMotionValue(rt).animation)===null||at===void 0?void 0:at.pause()})}getAnimationState(rt){var at;return(at=this.getAxisMotionValue(rt).animation)===null||at===void 0?void 0:at.state}getAxisMotionValue(rt){const at=`_drag${rt.toUpperCase()}`,lt=this.visualElement.getProps(),ct=lt[at];return ct||this.visualElement.getValue(rt,(lt.initial?lt.initial[rt]:void 0)||0)}snapToCursor(rt){eachAxis(at=>{const{drag:lt}=this.getProps();if(!shouldDrag(at,lt,this.currentDirection))return;const{projection:ct}=this.visualElement,ut=this.getAxisMotionValue(at);if(ct&&ct.layout){const{min:dt,max:ht}=ct.layout.layoutBox[at];ut.set(rt[at]-mixNumber$1(dt,ht,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:rt,dragConstraints:at}=this.getProps(),{projection:lt}=this.visualElement;if(!isRefObject(at)||!lt||!this.constraints)return;this.stopAnimation();const ct={x:0,y:0};eachAxis(dt=>{const ht=this.getAxisMotionValue(dt);if(ht&&this.constraints!==!1){const ft=ht.get();ct[dt]=calcOrigin({min:ft,max:ft},this.constraints[dt])}});const{transformTemplate:ut}=this.visualElement.getProps();this.visualElement.current.style.transform=ut?ut({},""):"none",lt.root&&lt.root.updateScroll(),lt.updateLayout(),this.resolveConstraints(),eachAxis(dt=>{if(!shouldDrag(dt,rt,null))return;const ht=this.getAxisMotionValue(dt),{min:ft,max:pt}=this.constraints[dt];ht.set(mixNumber$1(ft,pt,ct[dt]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const rt=this.visualElement.current,at=addPointerEvent(rt,"pointerdown",ft=>{const{drag:pt,dragListener:mt=!0}=this.getProps();pt&&mt&&this.start(ft)}),lt=()=>{const{dragConstraints:ft}=this.getProps();isRefObject(ft)&&ft.current&&(this.constraints=this.resolveRefConstraints())},{projection:ct}=this.visualElement,ut=ct.addEventListener("measure",lt);ct&&!ct.layout&&(ct.root&&ct.root.updateScroll(),ct.updateLayout()),frame.read(lt);const dt=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ht=ct.addEventListener("didUpdate",({delta:ft,hasLayoutChanged:pt})=>{this.isDragging&&pt&&(eachAxis(mt=>{const gt=this.getAxisMotionValue(mt);gt&&(this.originPoint[mt]+=ft[mt].translate,gt.set(gt.get()+ft[mt].translate))}),this.visualElement.render())});return()=>{dt(),at(),ut(),ht&&ht()}}getProps(){const rt=this.visualElement.getProps(),{drag:at=!1,dragDirectionLock:lt=!1,dragPropagation:ct=!1,dragConstraints:ut=!1,dragElastic:dt=defaultElastic,dragMomentum:ht=!0}=rt;return{...rt,drag:at,dragDirectionLock:lt,dragPropagation:ct,dragConstraints:ut,dragElastic:dt,dragMomentum:ht}}}function shouldDrag(ot,rt,at){return(rt===!0||rt===ot)&&(at===null||at===ot)}function getCurrentDirection(ot,rt=10){let at=null;return Math.abs(ot.y)>rt?at="y":Math.abs(ot.x)>rt&&(at="x"),at}class DragGesture extends Feature{constructor(rt){super(rt),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(rt)}mount(){const{dragControls:rt}=this.node.getProps();rt&&(this.removeGroupControls=rt.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=ot=>(rt,at)=>{ot&&frame.postRender(()=>ot(rt,at))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(rt){this.session=new PanSession(rt,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:rt,onPanStart:at,onPan:lt,onPanEnd:ct}=this.node.getProps();return{onSessionStart:asyncHandler(rt),onStart:asyncHandler(at),onMove:lt,onEnd:(ut,dt)=>{delete this.session,ct&&frame.postRender(()=>ct(ut,dt))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",rt=>this.onPointerDown(rt))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function usePresence(){const ot=reactExports.useContext(PresenceContext);if(ot===null)return[!0,null];const{isPresent:rt,onExitComplete:at,register:lt}=ot,ct=reactExports.useId();return reactExports.useEffect(()=>lt(ct),[]),!rt&&at?[!1,()=>at&&at(ct)]:[!0]}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(ot,rt){return rt.max===rt.min?0:ot/(rt.max-rt.min)*100}const correctBorderRadius={correct:(ot,rt)=>{if(!rt.target)return ot;if(typeof ot=="string")if(px.test(ot))ot=parseFloat(ot);else return ot;const at=pixelsToPercent(ot,rt.target.x),lt=pixelsToPercent(ot,rt.target.y);return`${at}% ${lt}%`}},correctBoxShadow={correct:(ot,{treeScale:rt,projectionDelta:at})=>{const lt=ot,ct=complex.parse(ot);if(ct.length>5)return lt;const ut=complex.createTransformer(ot),dt=typeof ct[0]!="number"?1:0,ht=at.x.scale*rt.x,ft=at.y.scale*rt.y;ct[0+dt]/=ht,ct[1+dt]/=ft;const pt=mixNumber$1(ht,ft,.5);return typeof ct[2+dt]=="number"&&(ct[2+dt]/=pt),typeof ct[3+dt]=="number"&&(ct[3+dt]/=pt),ut(ct)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:rt,layoutGroup:at,switchLayoutGroup:lt,layoutId:ct}=this.props,{projection:ut}=rt;addScaleCorrector(defaultScaleCorrectors),ut&&(at.group&&at.group.add(ut),lt&&lt.register&&ct&&lt.register(ut),ut.root.didUpdate(),ut.addEventListener("animationComplete",()=>{this.safeToRemove()}),ut.setOptions({...ut.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(rt){const{layoutDependency:at,visualElement:lt,drag:ct,isPresent:ut}=this.props,dt=lt.projection;return dt&&(dt.isPresent=ut,ct||rt.layoutDependency!==at||at===void 0?dt.willUpdate():this.safeToRemove(),rt.isPresent!==ut&&(ut?dt.promote():dt.relegate()||frame.postRender(()=>{const ht=dt.getStack();(!ht||!ht.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:rt}=this.props.visualElement;rt&&(rt.root.didUpdate(),microtask.postRender(()=>{!rt.currentAnimation&&rt.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:rt,layoutGroup:at,switchLayoutGroup:lt}=this.props,{projection:ct}=rt;ct&&(ct.scheduleCheckAfterUnmount(),at&&at.group&&at.group.remove(ct),lt&&lt.deregister&&lt.deregister(ct))}safeToRemove(){const{safeToRemove:rt}=this.props;rt&&rt()}render(){return null}}function MeasureLayout(ot){const[rt,at]=usePresence(),lt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...ot,layoutGroup:lt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:rt,safeToRemove:at})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=ot=>typeof ot=="string"?parseFloat(ot):ot,isPx=ot=>typeof ot=="number"||px.test(ot);function mixValues(ot,rt,at,lt,ct,ut){ct?(ot.opacity=mixNumber$1(0,at.opacity!==void 0?at.opacity:1,easeCrossfadeIn(lt)),ot.opacityExit=mixNumber$1(rt.opacity!==void 0?rt.opacity:1,0,easeCrossfadeOut(lt))):ut&&(ot.opacity=mixNumber$1(rt.opacity!==void 0?rt.opacity:1,at.opacity!==void 0?at.opacity:1,lt));for(let dt=0;dt<numBorders;dt++){const ht=`border${borders[dt]}Radius`;let ft=getRadius(rt,ht),pt=getRadius(at,ht);if(ft===void 0&&pt===void 0)continue;ft||(ft=0),pt||(pt=0),ft===0||pt===0||isPx(ft)===isPx(pt)?(ot[ht]=Math.max(mixNumber$1(asNumber(ft),asNumber(pt),lt),0),(percent.test(pt)||percent.test(ft))&&(ot[ht]+="%")):ot[ht]=pt}(rt.rotate||at.rotate)&&(ot.rotate=mixNumber$1(rt.rotate||0,at.rotate||0,lt))}function getRadius(ot,rt){return ot[rt]!==void 0?ot[rt]:ot.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(ot,rt,at){return lt=>lt<ot?0:lt>rt?1:at(progress(ot,rt,lt))}function copyAxisInto(ot,rt){ot.min=rt.min,ot.max=rt.max}function copyBoxInto(ot,rt){copyAxisInto(ot.x,rt.x),copyAxisInto(ot.y,rt.y)}function copyAxisDeltaInto(ot,rt){ot.translate=rt.translate,ot.scale=rt.scale,ot.originPoint=rt.originPoint,ot.origin=rt.origin}function removePointDelta(ot,rt,at,lt,ct){return ot-=rt,ot=scalePoint(ot,1/at,lt),ct!==void 0&&(ot=scalePoint(ot,1/ct,lt)),ot}function removeAxisDelta(ot,rt=0,at=1,lt=.5,ct,ut=ot,dt=ot){if(percent.test(rt)&&(rt=parseFloat(rt),rt=mixNumber$1(dt.min,dt.max,rt/100)-dt.min),typeof rt!="number")return;let ht=mixNumber$1(ut.min,ut.max,lt);ot===ut&&(ht-=rt),ot.min=removePointDelta(ot.min,rt,at,ht,ct),ot.max=removePointDelta(ot.max,rt,at,ht,ct)}function removeAxisTransforms(ot,rt,[at,lt,ct],ut,dt){removeAxisDelta(ot,rt[at],rt[lt],rt[ct],rt.scale,ut,dt)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(ot,rt,at,lt){removeAxisTransforms(ot.x,rt,xKeys,at?at.x:void 0,lt?lt.x:void 0),removeAxisTransforms(ot.y,rt,yKeys,at?at.y:void 0,lt?lt.y:void 0)}function isAxisDeltaZero(ot){return ot.translate===0&&ot.scale===1}function isDeltaZero(ot){return isAxisDeltaZero(ot.x)&&isAxisDeltaZero(ot.y)}function boxEquals(ot,rt){return ot.x.min===rt.x.min&&ot.x.max===rt.x.max&&ot.y.min===rt.y.min&&ot.y.max===rt.y.max}function boxEqualsRounded(ot,rt){return Math.round(ot.x.min)===Math.round(rt.x.min)&&Math.round(ot.x.max)===Math.round(rt.x.max)&&Math.round(ot.y.min)===Math.round(rt.y.min)&&Math.round(ot.y.max)===Math.round(rt.y.max)}function aspectRatio(ot){return calcLength(ot.x)/calcLength(ot.y)}function axisDeltaEquals(ot,rt){return ot.translate===rt.translate&&ot.scale===rt.scale&&ot.originPoint===rt.originPoint}class NodeStack{constructor(){this.members=[]}add(rt){addUniqueItem(this.members,rt),rt.scheduleRender()}remove(rt){if(removeItem(this.members,rt),rt===this.prevLead&&(this.prevLead=void 0),rt===this.lead){const at=this.members[this.members.length-1];at&&this.promote(at)}}relegate(rt){const at=this.members.findIndex(ct=>rt===ct);if(at===0)return!1;let lt;for(let ct=at;ct>=0;ct--){const ut=this.members[ct];if(ut.isPresent!==!1){lt=ut;break}}return lt?(this.promote(lt),!0):!1}promote(rt,at){const lt=this.lead;if(rt!==lt&&(this.prevLead=lt,this.lead=rt,rt.show(),lt)){lt.instance&&lt.scheduleRender(),rt.scheduleRender(),rt.resumeFrom=lt,at&&(rt.resumeFrom.preserveOpacity=!0),lt.snapshot&&(rt.snapshot=lt.snapshot,rt.snapshot.latestValues=lt.animationValues||lt.latestValues),rt.root&&rt.root.isUpdating&&(rt.isLayoutDirty=!0);const{crossfade:ct}=rt.options;ct===!1&&lt.hide()}}exitAnimationComplete(){this.members.forEach(rt=>{const{options:at,resumingFrom:lt}=rt;at.onExitComplete&&at.onExitComplete(),lt&&lt.options.onExitComplete&&lt.options.onExitComplete()})}scheduleRender(){this.members.forEach(rt=>{rt.instance&&rt.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(ot,rt,at){let lt="";const ct=ot.x.translate/rt.x,ut=ot.y.translate/rt.y,dt=(at==null?void 0:at.z)||0;if((ct||ut||dt)&&(lt=`translate3d(${ct}px, ${ut}px, ${dt}px) `),(rt.x!==1||rt.y!==1)&&(lt+=`scale(${1/rt.x}, ${1/rt.y}) `),at){const{transformPerspective:pt,rotate:mt,rotateX:gt,rotateY:yt,skewX:xt,skewY:bt}=at;pt&&(lt=`perspective(${pt}px) ${lt}`),mt&&(lt+=`rotate(${mt}deg) `),gt&&(lt+=`rotateX(${gt}deg) `),yt&&(lt+=`rotateY(${yt}deg) `),xt&&(lt+=`skewX(${xt}deg) `),bt&&(lt+=`skewY(${bt}deg) `)}const ht=ot.x.scale*rt.x,ft=ot.y.scale*rt.y;return(ht!==1||ft!==1)&&(lt+=`scale(${ht}, ${ft})`),lt||"none"}const compareByDepth=(ot,rt)=>ot.depth-rt.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(rt){addUniqueItem(this.children,rt),this.isDirty=!0}remove(rt){removeItem(this.children,rt),this.isDirty=!0}forEach(rt){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(rt)}}function delay(ot,rt){const at=time.now(),lt=({timestamp:ct})=>{const ut=ct-at;ut>=rt&&(cancelFrame(lt),ot(ut-rt))};return frame.read(lt,!0),()=>cancelFrame(lt)}function isSVGElement(ot){return ot instanceof SVGElement&&ot.tagName!=="svg"}function animateSingleValue(ot,rt,at){const lt=isMotionValue(ot)?ot:motionValue(ot);return lt.start(animateMotionValue("",lt,rt,at)),lt.animation}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(ot,rt,at,lt){const{latestValues:ct}=rt;ct[ot]&&(at[ot]=ct[ot],rt.setStaticValue(ot,0),lt&&(lt[ot]=0))}function isOptimisedAppearTree(ot){if(ot.hasCheckedOptimisedAppear=!0,ot.root===ot)return!1;const{visualElement:rt}=ot.options;return rt?getOptimisedAppearId(rt)?!0:ot.parent&&!ot.parent.hasCheckedOptimisedAppear?isOptimisedAppearTree(ot.parent):!1:!1}function createProjectionNode({attachResizeListener:ot,defaultParent:rt,measureScroll:at,checkIsScrollRoot:lt,resetTransform:ct}){return class{constructor(dt={},ht=rt==null?void 0:rt()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,window.MotionDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),window.MotionDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=dt,this.root=ht?ht.root||ht:this,this.path=ht?[...ht.path,ht]:[],this.parent=ht,this.depth=ht?ht.depth+1:0;for(let ft=0;ft<this.path.length;ft++)this.path[ft].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(dt,ht){return this.eventHandlers.has(dt)||this.eventHandlers.set(dt,new SubscriptionManager),this.eventHandlers.get(dt).add(ht)}notifyListeners(dt,...ht){const ft=this.eventHandlers.get(dt);ft&&ft.notify(...ht)}hasListeners(dt){return this.eventHandlers.has(dt)}mount(dt,ht=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(dt),this.instance=dt;const{layoutId:ft,layout:pt,visualElement:mt}=this.options;if(mt&&!mt.current&&mt.mount(dt),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ht&&(pt||ft)&&(this.isLayoutDirty=!0),ot){let gt;const yt=()=>this.root.updateBlockedByResize=!1;ot(dt,()=>{this.root.updateBlockedByResize=!0,gt&&gt(),gt=delay(yt,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}ft&&this.root.registerSharedNode(ft,this),this.options.animate!==!1&&mt&&(ft||pt)&&this.addEventListener("didUpdate",({delta:gt,hasLayoutChanged:yt,hasRelativeTargetChanged:xt,layout:bt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Et=this.options.transition||mt.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Rt,onLayoutAnimationComplete:wt}=mt.getProps(),_t=!this.targetLayout||!boxEqualsRounded(this.targetLayout,bt)||xt,At=!yt&&xt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||At||yt&&(_t||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(gt,At);const kt={...getValueTransition(Et,"layout"),onPlay:Rt,onComplete:wt};(mt.shouldReduceMotion||this.options.layoutRoot)&&(kt.delay=0,kt.type=!1),this.startAnimation(kt)}else yt||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=bt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const dt=this.getStack();dt&&dt.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:dt}=this.options;return dt&&dt.getProps().transformTemplate}willUpdate(dt=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&isOptimisedAppearTree(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let mt=0;mt<this.path.length;mt++){const gt=this.path[mt];gt.shouldResetTransform=!0,gt.updateScroll("snapshot"),gt.options.layoutRoot&&gt.willUpdate(!1)}const{layoutId:ht,layout:ft}=this.options;if(ht===void 0&&!ft)return;const pt=this.getTransformTemplate();this.prevTransformTemplateValue=pt?pt(this.latestValues,""):void 0,this.updateSnapshot(),dt&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const ht=time.now();frameData.delta=clamp(0,1e3/60,ht-frameData.timestamp),frameData.timestamp=ht,frameData.isProcessing=!0,steps.update.process(frameData),steps.preRender.process(frameData),steps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let ft=0;ft<this.path.length;ft++)this.path[ft].updateScroll();const dt=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ht}=this.options;ht&&ht.notify("LayoutMeasure",this.layout.layoutBox,dt?dt.layoutBox:void 0)}updateScroll(dt="measure"){let ht=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===dt&&(ht=!1),ht&&(this.scroll={animationId:this.root.animationId,phase:dt,isRoot:lt(this.instance),offset:at(this.instance)})}resetTransform(){if(!ct)return;const dt=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ht=this.projectionDelta&&!isDeltaZero(this.projectionDelta),ft=this.getTransformTemplate(),pt=ft?ft(this.latestValues,""):void 0,mt=pt!==this.prevTransformTemplateValue;dt&&(ht||hasTransform(this.latestValues)||mt)&&(ct(this.instance,pt),this.shouldResetTransform=!1,this.scheduleRender())}measure(dt=!0){const ht=this.measurePageBox();let ft=this.removeElementScroll(ht);return dt&&(ft=this.removeTransform(ft)),roundBox(ft),{animationId:this.root.animationId,measuredBox:ht,layoutBox:ft,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:dt}=this.options;if(!dt)return createBox();const ht=dt.measureViewportBox(),{scroll:ft}=this.root;return ft&&(translateAxis(ht.x,ft.offset.x),translateAxis(ht.y,ft.offset.y)),ht}removeElementScroll(dt){const ht=createBox();copyBoxInto(ht,dt);for(let ft=0;ft<this.path.length;ft++){const pt=this.path[ft],{scroll:mt,options:gt}=pt;if(pt!==this.root&&mt&&gt.layoutScroll){if(mt.isRoot){copyBoxInto(ht,dt);const{scroll:yt}=this.root;yt&&(translateAxis(ht.x,-yt.offset.x),translateAxis(ht.y,-yt.offset.y))}translateAxis(ht.x,mt.offset.x),translateAxis(ht.y,mt.offset.y)}}return ht}applyTransform(dt,ht=!1){const ft=createBox();copyBoxInto(ft,dt);for(let pt=0;pt<this.path.length;pt++){const mt=this.path[pt];!ht&&mt.options.layoutScroll&&mt.scroll&&mt!==mt.root&&transformBox(ft,{x:-mt.scroll.offset.x,y:-mt.scroll.offset.y}),hasTransform(mt.latestValues)&&transformBox(ft,mt.latestValues)}return hasTransform(this.latestValues)&&transformBox(ft,this.latestValues),ft}removeTransform(dt){const ht=createBox();copyBoxInto(ht,dt);for(let ft=0;ft<this.path.length;ft++){const pt=this.path[ft];if(!pt.instance||!hasTransform(pt.latestValues))continue;hasScale(pt.latestValues)&&pt.updateSnapshot();const mt=createBox(),gt=pt.measurePageBox();copyBoxInto(mt,gt),removeBoxTransforms(ht,pt.latestValues,pt.snapshot?pt.snapshot.layoutBox:void 0,mt)}return hasTransform(this.latestValues)&&removeBoxTransforms(ht,this.latestValues),ht}setTargetDelta(dt){this.targetDelta=dt,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(dt){this.options={...this.options,...dt,crossfade:dt.crossfade!==void 0?dt.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(dt=!1){var ht;const ft=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=ft.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=ft.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=ft.isSharedProjectionDirty);const pt=!!this.resumingFrom||this!==ft;if(!(dt||pt&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ht=this.parent)===null||ht===void 0)&&ht.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:gt,layoutId:yt}=this.options;if(!(!this.layout||!(gt||yt))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const xt=this.getClosestProjectingParent();xt&&xt.layout&&this.animationProgress!==1?(this.relativeParent=xt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,xt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const xt=this.getClosestProjectingParent();xt&&!!xt.resumingFrom==!!this.resumingFrom&&!xt.options.layoutScroll&&xt.target&&this.animationProgress!==1?(this.relativeParent=xt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,xt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}window.MotionDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var dt;const ht=this.getLead(),ft=!!this.resumingFrom||this!==ht;let pt=!0;if((this.isProjectionDirty||!((dt=this.parent)===null||dt===void 0)&&dt.isProjectionDirty)&&(pt=!1),ft&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(pt=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(pt=!1),pt)return;const{layout:mt,layoutId:gt}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(mt||gt))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const yt=this.treeScale.x,xt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,ft),ht.layout&&!ht.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ht.target=ht.layout.layoutBox,ht.targetWithTransforms=createBox());const{target:bt}=ht;if(!bt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,bt,this.latestValues),(this.treeScale.x!==yt||this.treeScale.y!==xt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",bt)),window.MotionDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(dt=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),dt){const ht=this.getStack();ht&&ht.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(dt,ht=!1){const ft=this.snapshot,pt=ft?ft.latestValues:{},mt={...this.latestValues},gt=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ht;const yt=createBox(),xt=ft?ft.source:void 0,bt=this.layout?this.layout.source:void 0,Et=xt!==bt,Rt=this.getStack(),wt=!Rt||Rt.members.length<=1,_t=!!(Et&&!wt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let At;this.mixTargetDelta=kt=>{const It=kt/1e3;mixAxisDelta(gt.x,dt.x,It),mixAxisDelta(gt.y,dt.y,It),this.setTargetDelta(gt),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(yt,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,yt,It),At&&boxEquals(this.relativeTarget,At)&&(this.isProjectionDirty=!1),At||(At=createBox()),copyBoxInto(At,this.relativeTarget)),Et&&(this.animationValues=mt,mixValues(mt,pt,this.latestValues,It,_t,wt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=It},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(dt){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...dt,onUpdate:ht=>{this.mixTargetDelta(ht),dt.onUpdate&&dt.onUpdate(ht)},onComplete:()=>{dt.onComplete&&dt.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const dt=this.getStack();dt&&dt.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const dt=this.getLead();let{targetWithTransforms:ht,target:ft,layout:pt,latestValues:mt}=dt;if(!(!ht||!ft||!pt)){if(this!==dt&&this.layout&&pt&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,pt.layoutBox)){ft=this.target||createBox();const gt=calcLength(this.layout.layoutBox.x);ft.x.min=dt.target.x.min,ft.x.max=ft.x.min+gt;const yt=calcLength(this.layout.layoutBox.y);ft.y.min=dt.target.y.min,ft.y.max=ft.y.min+yt}copyBoxInto(ht,ft),transformBox(ht,mt),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ht,mt)}}registerSharedNode(dt,ht){this.sharedNodes.has(dt)||this.sharedNodes.set(dt,new NodeStack),this.sharedNodes.get(dt).add(ht);const pt=ht.options.initialPromotionConfig;ht.promote({transition:pt?pt.transition:void 0,preserveFollowOpacity:pt&&pt.shouldPreserveFollowOpacity?pt.shouldPreserveFollowOpacity(ht):void 0})}isLead(){const dt=this.getStack();return dt?dt.lead===this:!0}getLead(){var dt;const{layoutId:ht}=this.options;return ht?((dt=this.getStack())===null||dt===void 0?void 0:dt.lead)||this:this}getPrevLead(){var dt;const{layoutId:ht}=this.options;return ht?(dt=this.getStack())===null||dt===void 0?void 0:dt.prevLead:void 0}getStack(){const{layoutId:dt}=this.options;if(dt)return this.root.sharedNodes.get(dt)}promote({needsReset:dt,transition:ht,preserveFollowOpacity:ft}={}){const pt=this.getStack();pt&&pt.promote(this,ft),dt&&(this.projectionDelta=void 0,this.needsReset=!0),ht&&this.setOptions({transition:ht})}relegate(){const dt=this.getStack();return dt?dt.relegate(this):!1}resetSkewAndRotation(){const{visualElement:dt}=this.options;if(!dt)return;let ht=!1;const{latestValues:ft}=dt;if((ft.z||ft.rotate||ft.rotateX||ft.rotateY||ft.rotateZ||ft.skewX||ft.skewY)&&(ht=!0),!ht)return;const pt={};ft.z&&resetDistortingTransform("z",dt,pt,this.animationValues);for(let mt=0;mt<transformAxes.length;mt++)resetDistortingTransform(`rotate${transformAxes[mt]}`,dt,pt,this.animationValues),resetDistortingTransform(`skew${transformAxes[mt]}`,dt,pt,this.animationValues);dt.render();for(const mt in pt)dt.setStaticValue(mt,pt[mt]),this.animationValues&&(this.animationValues[mt]=pt[mt]);dt.scheduleRender()}getProjectionStyles(dt){var ht,ft;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const pt={visibility:""},mt=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,pt.opacity="",pt.pointerEvents=resolveMotionValue(dt==null?void 0:dt.pointerEvents)||"",pt.transform=mt?mt(this.latestValues,""):"none",pt;const gt=this.getLead();if(!this.projectionDelta||!this.layout||!gt.target){const Et={};return this.options.layoutId&&(Et.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Et.pointerEvents=resolveMotionValue(dt==null?void 0:dt.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Et.transform=mt?mt({},""):"none",this.hasProjected=!1),Et}const yt=gt.animationValues||gt.latestValues;this.applyTransformsToTarget(),pt.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,yt),mt&&(pt.transform=mt(yt,pt.transform));const{x:xt,y:bt}=this.projectionDelta;pt.transformOrigin=`${xt.origin*100}% ${bt.origin*100}% 0`,gt.animationValues?pt.opacity=gt===this?(ft=(ht=yt.opacity)!==null&&ht!==void 0?ht:this.latestValues.opacity)!==null&&ft!==void 0?ft:1:this.preserveOpacity?this.latestValues.opacity:yt.opacityExit:pt.opacity=gt===this?yt.opacity!==void 0?yt.opacity:"":yt.opacityExit!==void 0?yt.opacityExit:0;for(const Et in scaleCorrectors){if(yt[Et]===void 0)continue;const{correct:Rt,applyTo:wt}=scaleCorrectors[Et],_t=pt.transform==="none"?yt[Et]:Rt(yt[Et],gt);if(wt){const At=wt.length;for(let kt=0;kt<At;kt++)pt[wt[kt]]=_t}else pt[Et]=_t}return this.options.layoutId&&(pt.pointerEvents=gt===this?resolveMotionValue(dt==null?void 0:dt.pointerEvents)||"":"none"),pt}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(dt=>{var ht;return(ht=dt.currentAnimation)===null||ht===void 0?void 0:ht.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(ot){ot.updateLayout()}function notifyLayoutUpdate(ot){var rt;const at=((rt=ot.resumeFrom)===null||rt===void 0?void 0:rt.snapshot)||ot.snapshot;if(ot.isLead()&&ot.layout&&at&&ot.hasListeners("didUpdate")){const{layoutBox:lt,measuredBox:ct}=ot.layout,{animationType:ut}=ot.options,dt=at.source!==ot.layout.source;ut==="size"?eachAxis(gt=>{const yt=dt?at.measuredBox[gt]:at.layoutBox[gt],xt=calcLength(yt);yt.min=lt[gt].min,yt.max=yt.min+xt}):shouldAnimatePositionOnly(ut,at.layoutBox,lt)&&eachAxis(gt=>{const yt=dt?at.measuredBox[gt]:at.layoutBox[gt],xt=calcLength(lt[gt]);yt.max=yt.min+xt,ot.relativeTarget&&!ot.currentAnimation&&(ot.isProjectionDirty=!0,ot.relativeTarget[gt].max=ot.relativeTarget[gt].min+xt)});const ht=createDelta();calcBoxDelta(ht,lt,at.layoutBox);const ft=createDelta();dt?calcBoxDelta(ft,ot.applyTransform(ct,!0),at.measuredBox):calcBoxDelta(ft,lt,at.layoutBox);const pt=!isDeltaZero(ht);let mt=!1;if(!ot.resumeFrom){const gt=ot.getClosestProjectingParent();if(gt&&!gt.resumeFrom){const{snapshot:yt,layout:xt}=gt;if(yt&&xt){const bt=createBox();calcRelativePosition(bt,at.layoutBox,yt.layoutBox);const Et=createBox();calcRelativePosition(Et,lt,xt.layoutBox),boxEqualsRounded(bt,Et)||(mt=!0),gt.options.layoutRoot&&(ot.relativeTarget=Et,ot.relativeTargetOrigin=bt,ot.relativeParent=gt)}}}ot.notifyListeners("didUpdate",{layout:lt,snapshot:at,delta:ft,layoutDelta:ht,hasLayoutChanged:pt,hasRelativeTargetChanged:mt})}else if(ot.isLead()){const{onExitComplete:lt}=ot.options;lt&&lt()}ot.options.transition=void 0}function propagateDirtyNodes(ot){window.MotionDebug&&metrics.totalNodes++,ot.parent&&(ot.isProjecting()||(ot.isProjectionDirty=ot.parent.isProjectionDirty),ot.isSharedProjectionDirty||(ot.isSharedProjectionDirty=!!(ot.isProjectionDirty||ot.parent.isProjectionDirty||ot.parent.isSharedProjectionDirty)),ot.isTransformDirty||(ot.isTransformDirty=ot.parent.isTransformDirty))}function cleanDirtyNodes(ot){ot.isProjectionDirty=ot.isSharedProjectionDirty=ot.isTransformDirty=!1}function clearSnapshot(ot){ot.clearSnapshot()}function clearMeasurements(ot){ot.clearMeasurements()}function clearIsLayoutDirty(ot){ot.isLayoutDirty=!1}function resetTransformStyle(ot){const{visualElement:rt}=ot.options;rt&&rt.getProps().onBeforeLayoutMeasure&&rt.notify("BeforeLayoutMeasure"),ot.resetTransform()}function finishAnimation(ot){ot.finishAnimation(),ot.targetDelta=ot.relativeTarget=ot.target=void 0,ot.isProjectionDirty=!0}function resolveTargetDelta(ot){ot.resolveTargetDelta()}function calcProjection(ot){ot.calcProjection()}function resetSkewAndRotation(ot){ot.resetSkewAndRotation()}function removeLeadSnapshots(ot){ot.removeLeadSnapshot()}function mixAxisDelta(ot,rt,at){ot.translate=mixNumber$1(rt.translate,0,at),ot.scale=mixNumber$1(rt.scale,1,at),ot.origin=rt.origin,ot.originPoint=rt.originPoint}function mixAxis(ot,rt,at,lt){ot.min=mixNumber$1(rt.min,at.min,lt),ot.max=mixNumber$1(rt.max,at.max,lt)}function mixBox(ot,rt,at,lt){mixAxis(ot.x,rt.x,at.x,lt),mixAxis(ot.y,rt.y,at.y,lt)}function hasOpacityCrossfade(ot){return ot.animationValues&&ot.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=ot=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(ot),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(ot){ot.min=roundPoint(ot.min),ot.max=roundPoint(ot.max)}function roundBox(ot){roundAxis(ot.x),roundAxis(ot.y)}function shouldAnimatePositionOnly(ot,rt,at){return ot==="position"||ot==="preserve-aspect"&&!isNear(aspectRatio(rt),aspectRatio(at),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(ot,rt)=>addDomEvent(ot,"resize",rt),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:ot=>({x:ot.scrollLeft,y:ot.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const ot=new DocumentProjectionNode({});ot.mount(window),ot.setOptions({layoutScroll:!0}),rootProjectionNode.current=ot}return rootProjectionNode.current},resetTransform:(ot,rt)=>{ot.style.transform=rt!==void 0?rt:"none"},checkIsScrollRoot:ot=>window.getComputedStyle(ot).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const ot=window.matchMedia("(prefers-reduced-motion)"),rt=()=>prefersReducedMotion.current=ot.matches;ot.addListener(rt),rt()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(ot,rt,at){for(const lt in rt){const ct=rt[lt],ut=at[lt];if(isMotionValue(ct))ot.addValue(lt,ct);else if(isMotionValue(ut))ot.addValue(lt,motionValue(ct,{owner:ot}));else if(ut!==ct)if(ot.hasValue(lt)){const dt=ot.getValue(lt);dt.liveStyle===!0?dt.jump(ct):dt.hasAnimated||dt.set(ct)}else{const dt=ot.getStaticValue(lt);ot.addValue(lt,motionValue(dt!==void 0?dt:ct,{owner:ot}))}}for(const lt in at)rt[lt]===void 0&&ot.removeValue(lt);return rt}const visualElementStore=new WeakMap,valueTypes=[...dimensionValueTypes,color,complex],findValueType=ot=>valueTypes.find(testValueType(ot)),propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],numVariantProps=variantProps.length;class VisualElement{scrapeMotionValuesFromProps(rt,at,lt){return{}}constructor({parent:rt,props:at,presenceContext:lt,reducedMotionConfig:ct,blockInitialAnimation:ut,visualState:dt},ht={}){this.applyWillChange=!1,this.resolveKeyframes=(yt,xt,bt,Et)=>new this.KeyframeResolver(yt,xt,bt,Et,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.isRenderScheduled=!1,this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.isRenderScheduled=!1,this.scheduleRender=()=>{this.isRenderScheduled||(this.isRenderScheduled=!0,frame.render(this.render,!1,!0))};const{latestValues:ft,renderState:pt}=dt;this.latestValues=ft,this.baseTarget={...ft},this.initialValues=at.initial?{...ft}:{},this.renderState=pt,this.parent=rt,this.props=at,this.presenceContext=lt,this.depth=rt?rt.depth+1:0,this.reducedMotionConfig=ct,this.options=ht,this.blockInitialAnimation=!!ut,this.isControllingVariants=isControllingVariants(at),this.isVariantNode=isVariantNode(at),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(rt&&rt.current);const{willChange:mt,...gt}=this.scrapeMotionValuesFromProps(at,{},this);for(const yt in gt){const xt=gt[yt];ft[yt]!==void 0&&isMotionValue(xt)&&xt.set(ft[yt],!1)}}mount(rt){this.current=rt,visualElementStore.set(rt,this),this.projection&&!this.projection.instance&&this.projection.mount(rt),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((at,lt)=>this.bindToMotionValue(lt,at)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(rt=>rt()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const rt in this.events)this.events[rt].clear();for(const rt in this.features){const at=this.features[rt];at&&(at.unmount(),at.isMounted=!1)}this.current=null}bindToMotionValue(rt,at){const lt=transformProps.has(rt),ct=at.on("change",dt=>{this.latestValues[rt]=dt,this.props.onUpdate&&frame.preRender(this.notifyUpdate),lt&&this.projection&&(this.projection.isTransformDirty=!0)}),ut=at.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(rt,()=>{ct(),ut(),at.owner&&at.stop()})}sortNodePosition(rt){return!this.current||!this.sortInstanceNodePosition||this.type!==rt.type?0:this.sortInstanceNodePosition(this.current,rt.current)}updateFeatures(){let rt="animation";for(rt in featureDefinitions){const at=featureDefinitions[rt];if(!at)continue;const{isEnabled:lt,Feature:ct}=at;if(!this.features[rt]&&ct&&lt(this.props)&&(this.features[rt]=new ct(this)),this.features[rt]){const ut=this.features[rt];ut.isMounted?ut.update():(ut.mount(),ut.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(rt){return this.latestValues[rt]}setStaticValue(rt,at){this.latestValues[rt]=at}update(rt,at){(rt.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=rt,this.prevPresenceContext=this.presenceContext,this.presenceContext=at;for(let lt=0;lt<propEventHandlers.length;lt++){const ct=propEventHandlers[lt];this.propEventSubscriptions[ct]&&(this.propEventSubscriptions[ct](),delete this.propEventSubscriptions[ct]);const ut="on"+ct,dt=rt[ut];dt&&(this.propEventSubscriptions[ct]=this.on(ct,dt))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(rt,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(rt){return this.props.variants?this.props.variants[rt]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(rt=!1){if(rt)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const lt=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(lt.initial=this.props.initial),lt}const at={};for(let lt=0;lt<numVariantProps;lt++){const ct=variantProps[lt],ut=this.props[ct];(isVariantLabel(ut)||ut===!1)&&(at[ct]=ut)}return at}addVariantChild(rt){const at=this.getClosestVariantNode();if(at)return at.variantChildren&&at.variantChildren.add(rt),()=>at.variantChildren.delete(rt)}addValue(rt,at){const lt=this.values.get(rt);at!==lt&&(lt&&this.removeValue(rt),this.bindToMotionValue(rt,at),this.values.set(rt,at),this.latestValues[rt]=at.get())}removeValue(rt){this.values.delete(rt);const at=this.valueSubscriptions.get(rt);at&&(at(),this.valueSubscriptions.delete(rt)),delete this.latestValues[rt],this.removeValueFromRenderState(rt,this.renderState)}hasValue(rt){return this.values.has(rt)}getValue(rt,at){if(this.props.values&&this.props.values[rt])return this.props.values[rt];let lt=this.values.get(rt);return lt===void 0&&at!==void 0&&(lt=motionValue(at===null?void 0:at,{owner:this}),this.addValue(rt,lt)),lt}readValue(rt,at){var lt;let ct=this.latestValues[rt]!==void 0||!this.current?this.latestValues[rt]:(lt=this.getBaseTargetFromProps(this.props,rt))!==null&&lt!==void 0?lt:this.readValueFromInstance(this.current,rt,this.options);return ct!=null&&(typeof ct=="string"&&(isNumericalString(ct)||isZeroValueString(ct))?ct=parseFloat(ct):!findValueType(ct)&&complex.test(at)&&(ct=getAnimatableNone(rt,at)),this.setBaseTarget(rt,isMotionValue(ct)?ct.get():ct)),isMotionValue(ct)?ct.get():ct}setBaseTarget(rt,at){this.baseTarget[rt]=at}getBaseTarget(rt){var at;const{initial:lt}=this.props;let ct;if(typeof lt=="string"||typeof lt=="object"){const dt=resolveVariantFromProps(this.props,lt,(at=this.presenceContext)===null||at===void 0?void 0:at.custom);dt&&(ct=dt[rt])}if(lt&&ct!==void 0)return ct;const ut=this.getBaseTargetFromProps(this.props,rt);return ut!==void 0&&!isMotionValue(ut)?ut:this.initialValues[rt]!==void 0&&ct===void 0?void 0:this.baseTarget[rt]}on(rt,at){return this.events[rt]||(this.events[rt]=new SubscriptionManager),this.events[rt].add(at)}notify(rt,...at){this.events[rt]&&this.events[rt].notify(...at)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(rt,at){return rt.compareDocumentPosition(at)&2?1:-1}getBaseTargetFromProps(rt,at){return rt.style?rt.style[at]:void 0}removeValueFromRenderState(rt,{vars:at,style:lt}){delete at[rt],delete lt[rt]}}function getComputedStyle$1(ot){return window.getComputedStyle(ot)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.applyWillChange=!0,this.renderInstance=renderHTML}readValueFromInstance(rt,at){if(transformProps.has(at)){const lt=getDefaultValueType(at);return lt&&lt.default||0}else{const lt=getComputedStyle$1(rt),ct=(isCSSVariableName(at)?lt.getPropertyValue(at):lt[at])||0;return typeof ct=="string"?ct.trim():ct}}measureInstanceViewportBox(rt,{transformPagePoint:at}){return measureViewportBox(rt,at)}build(rt,at,lt){buildHTMLStyles(rt,at,lt.transformTemplate)}scrapeMotionValuesFromProps(rt,at,lt){return scrapeMotionValuesFromProps$1(rt,at,lt)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:rt}=this.props;isMotionValue(rt)&&(this.childSubscription=rt.on("change",at=>{this.current&&(this.current.textContent=`${at}`)}))}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(rt,at){return rt[at]}readValueFromInstance(rt,at){if(transformProps.has(at)){const lt=getDefaultValueType(at);return lt&&lt.default||0}return at=camelCaseAttributes.has(at)?at:camelToDash(at),rt.getAttribute(at)}scrapeMotionValuesFromProps(rt,at,lt){return scrapeMotionValuesFromProps(rt,at,lt)}build(rt,at,lt){buildSVGAttrs(rt,at,this.isSVGTag,lt.transformTemplate)}renderInstance(rt,at,lt,ct){renderSVG(rt,at,lt,ct)}mount(rt){this.isSVGTag=isSVGTag(rt.tagName),super.mount(rt)}}const createDomVisualElement=(ot,rt)=>isSVGComponent(ot)?new SVGVisualElement(rt):new HTMLVisualElement(rt,{allowProjection:ot!==reactExports.Fragment}),layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},preloadedFeatures={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy((ot,rt)=>createDomMotionConfig(ot,rt,preloadedFeatures,createDomVisualElement));function useIsMounted(){const ot=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(ot.current=!0,()=>{ot.current=!1}),[]),ot}function useForceUpdate(){const ot=useIsMounted(),[rt,at]=reactExports.useState(0),lt=reactExports.useCallback(()=>{ot.current&&at(rt+1)},[rt]);return[reactExports.useCallback(()=>frame.postRender(lt),[lt]),rt]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(rt){const at=this.props.childRef.current;if(at&&rt.isPresent&&!this.props.isPresent){const lt=this.props.sizeRef.current;lt.height=at.offsetHeight||0,lt.width=at.offsetWidth||0,lt.top=at.offsetTop,lt.left=at.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:ot,isPresent:rt}){const at=reactExports.useId(),lt=reactExports.useRef(null),ct=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:ut}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:dt,height:ht,top:ft,left:pt}=ct.current;if(rt||!lt.current||!dt||!ht)return;lt.current.dataset.motionPopId=at;const mt=document.createElement("style");return ut&&(mt.nonce=ut),document.head.appendChild(mt),mt.sheet&&mt.sheet.insertRule(`
          [data-motion-pop-id="${at}"] {
            position: absolute !important;
            width: ${dt}px !important;
            height: ${ht}px !important;
            top: ${ft}px !important;
            left: ${pt}px !important;
          }
        `),()=>{document.head.removeChild(mt)}},[rt]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:rt,childRef:lt,sizeRef:ct,children:reactExports.cloneElement(ot,{ref:lt})})}const PresenceChild=({children:ot,initial:rt,isPresent:at,onExitComplete:lt,custom:ct,presenceAffectsLayout:ut,mode:dt})=>{const ht=useConstant(newChildrenMap),ft=reactExports.useId(),pt=reactExports.useMemo(()=>({id:ft,initial:rt,isPresent:at,custom:ct,onExitComplete:mt=>{ht.set(mt,!0);for(const gt of ht.values())if(!gt)return;lt&&lt()},register:mt=>(ht.set(mt,!1),()=>ht.delete(mt))}),ut?[Math.random()]:[at]);return reactExports.useMemo(()=>{ht.forEach((mt,gt)=>ht.set(gt,!1))},[at]),reactExports.useEffect(()=>{!at&&!ht.size&&lt&&lt()},[at]),dt==="popLayout"&&(ot=jsxRuntimeExports.jsx(PopChild,{isPresent:at,children:ot})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:pt,children:ot})};function newChildrenMap(){return new Map}function useUnmountEffect(ot){return reactExports.useEffect(()=>()=>ot(),[])}const getChildKey=ot=>ot.key||"";function updateChildLookup(ot,rt){ot.forEach(at=>{const lt=getChildKey(at);rt.set(lt,at)})}function onlyElements(ot){const rt=[];return reactExports.Children.forEach(ot,at=>{reactExports.isValidElement(at)&&rt.push(at)}),rt}const AnimatePresence=({children:ot,custom:rt,initial:at=!0,onExitComplete:lt,exitBeforeEnter:ct,presenceAffectsLayout:ut=!0,mode:dt="sync"})=>{const ht=reactExports.useContext(LayoutGroupContext).forceRender||useForceUpdate()[0],ft=useIsMounted(),pt=onlyElements(ot);let mt=pt;const gt=reactExports.useRef(new Map).current,yt=reactExports.useRef(mt),xt=reactExports.useRef(new Map).current,bt=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{bt.current=!1,updateChildLookup(pt,xt),yt.current=mt}),useUnmountEffect(()=>{bt.current=!0,xt.clear(),gt.clear()}),bt.current)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:mt.map(_t=>jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,initial:at?void 0:!1,presenceAffectsLayout:ut,mode:dt,children:_t},getChildKey(_t)))});mt=[...mt];const Et=yt.current.map(getChildKey),Rt=pt.map(getChildKey),wt=Et.length;for(let _t=0;_t<wt;_t++){const At=Et[_t];Rt.indexOf(At)===-1&&!gt.has(At)&&gt.set(At,void 0)}return dt==="wait"&&gt.size&&(mt=[]),gt.forEach((_t,At)=>{if(Rt.indexOf(At)!==-1)return;const kt=xt.get(At);if(!kt)return;const It=Et.indexOf(At);let Nt=_t;if(!Nt){const Pt=()=>{gt.delete(At);const Tt=Array.from(xt.keys()).filter(Ct=>!Rt.includes(Ct));if(Tt.forEach(Ct=>xt.delete(Ct)),yt.current=pt.filter(Ct=>{const Ot=getChildKey(Ct);return Ot===At||Tt.includes(Ot)}),!gt.size){if(ft.current===!1)return;ht(),lt&&lt()}};Nt=jsxRuntimeExports.jsx(PresenceChild,{isPresent:!1,onExitComplete:Pt,custom:rt,presenceAffectsLayout:ut,mode:dt,children:kt},getChildKey(kt)),gt.set(At,Nt)}mt.splice(It,0,Nt)}),mt=mt.map(_t=>{const At=_t.key;return gt.has(At)?_t:jsxRuntimeExports.jsx(PresenceChild,{isPresent:!0,presenceAffectsLayout:ut,mode:dt,children:_t},getChildKey(_t))}),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:gt.size?mt:mt.map(_t=>reactExports.cloneElement(_t))})},RightSidebar=()=>{useParams();const[ot,rt]=reactExports.useState([]),[at,lt]=reactExports.useState([]),{UserData:ct,UserRole:ut,Loading:dt}=useAuth(),{isDarkMode:ht}=useTheme(),[ft,pt]=reactExports.useState(!1),[mt,gt]=reactExports.useState(""),[yt,xt]=reactExports.useState([]),[bt,Et]=reactExports.useState(""),[Rt,wt]=reactExports.useState("");reactExports.useState("");const[_t,At]=reactExports.useState([]),[kt,It]=reactExports.useState(""),[Nt,Pt]=reactExports.useState("");reactExports.useState("");const[Tt,Ct]=reactExports.useState(""),[Ot,Dt]=reactExports.useState(""),[jt,Mt]=reactExports.useState(""),[zt,Qt]=reactExports.useState(""),[qt,Kt]=reactExports.useState(""),[sn,Gt]=reactExports.useState(""),[Wt,pn]=reactExports.useState(""),[rn,Vt]=reactExports.useState({text:"",author:""}),[$t,Xt]=reactExports.useState(null),[Zt,Jt]=reactExports.useState([]),Yt=reactExports.useRef(null),gn=async()=>{try{const En=await(await fetch("http://localhost:3000/api/quote")).json();Vt({text:En[0].q,author:En[0].a})}catch(hn){console.error("Error fetching quote:",hn)}};reactExports.useEffect(()=>{gn()},[]),reactExports.useEffect(()=>{if(!dt&&ct){gt(ut==="Student"?ct.StudentType:ut);const hn=async()=>{if(!ct.SupervisorID||ct.SupervisorID.length===0)return;const cn=collection(db$2,"Supervisor"),dn=query(cn,where("ID","in",ct.SupervisorID)),wn=[];(await getDocs(dn)).forEach(Un=>{const Jn=Un.data();return wn.push({id:Un.id,...Jn}),It(Jn.Name),Pt(Jn.Surname),Ct(Jn.Title),wn}),At(wn)};(async()=>{if(!ct.CourseID||ct.CourseID.length===0)return;const cn=ct.CourseID,dn=collection(db$2,"Student"),wn=onSnapshot(dn,kn=>{const Un=[];kn.forEach(Jn=>{const An=Jn.data();if(An.CourseID&&An.ID!==ct.ID){for(const xn of cn)if(An.CourseID.includes(xn)){Un.push({id:Jn.id,...An}),Et(An.Name),wt(An.Surname);break}}}),xt(Un),console.log("Filtered Students:",Un)});return()=>wn()})(),hn()}},[dt,ct,ut]);const _n=hn=>{const En=new Date,dn=new Date(hn)-En;return dn>0&&dn<=3*24*60*60*1e3},Sn=5e4;reactExports.useEffect(()=>{(async()=>{if(!ct||!ct.CourseID||ct.CourseID.length===0)return;const En=ct.CourseID.map(async Jn=>{const An=collection(db$2,"Module",Jn,"Assignments");return new Promise(xn=>{const er=onSnapshot(An,async Qn=>{const gr=[],yr=[];for(const Fr of Qn.docChanges()){const br=Fr.doc.data(),Er=Fr.doc.id;Fr.type==="added"&&(gr.push({id:Er,type:"new",message:"New milestone unlocked.",timestamp:new Date}),yr.push(Er)),br.AssignmentDueDate&&_n(br.AssignmentDueDate.toDate())&&gr.push({id:Er,type:"due",message:"Milestone is due soon.",timestamp:new Date})}xn({newNotifications:gr,newIDs:yr})});return()=>er()})}),cn=async()=>{const Jn=collection(db$2,"Events"),An=[];for(const xn of ct.SupervisorID){const er=query(Jn,where("SupervisorID","==",xn));(await getDocs(er)).forEach(gr=>{const yr=gr.data();An.push({id:gr.id,type:"event",message:`Meeting scheduled with ${Tt} ${Nt} on ${yr.date} at ${yr.time}.`,timestamp:new Date})})}return An},dn=await Promise.all(En),wn=await cn(),kn=dn.flatMap(Jn=>Jn.newNotifications).concat(wn),Un=dn.flatMap(Jn=>Jn.newIDs);rt(Jn=>{const An=[...Jn,...kn],er=Array.from(new Map(An.map(Qn=>[Qn.id,Qn])).values()).sort((Qn,gr)=>gr.timestamp-Qn.timestamp).slice(0,3);return lt(Un),kn.length>0&&(Yt.current.audioEl.current.pause(),Yt.current.audioEl.current.currentTime=0,Yt.current.audioEl.current.play(),kn.forEach(Qn=>{setTimeout(()=>{rt(gr=>gr.filter(yr=>yr.id!==Qn.id))},Sn)})),er})})()},[ct,db$2]);const jn=async hn=>{if(hn.preventDefault(),!Ot||!zt||!qt){console.error("Please fill all fields");return}try{const En=await fetch("http://localhost:3000/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({supervisorId:ct.ID,studentId:Ot,subject:"Meeting Reminder",meetingDate:zt,meetingTime:qt,supervisorTitle:ct.Title,supervisorSurname:ct.Surname})});if(!En.ok){const wn=await En.json();throw new Error(wn.error||"Error sending email")}Gt("Email sent successfully");const cn={SupervisorID:ct.ID,studentId:Ot,date:zt,time:qt,subject:"Scheduled Meeting",createdAt:new Date,backgroundColor:"#378006",borderColor:"#378006"};await setDoc(doc(collection(db$2,"Events"),`${ct.ID}`),cn),Dt(""),Qt(""),Kt("");const dn={id:`meeting-${new Date().getTime()}`,type:"new",message:`Meeting scheduled with ${Nt} ${Nt} on ${zt} at ${qt}.`,timestamp:new Date};rt(wn=>{const kn=[...wn,dn];return Array.from(new Map(kn.map(An=>[An.message,An])).values()).sort((An,xn)=>xn.timestamp-An.timestamp).slice(0,3)}),setTimeout(()=>{Gt(""),B$3.success("Email sent successfully")},5e3)}catch(En){console.error("Error sending email:",En.message)}},Dn=async hn=>{hn.preventDefault();try{const En={studentId:ct.ID,supervisorId:jt,meetingDate:zt,meetingTime:qt,reason:Wt,status:"pending",createdAt:new Date().toISOString()};await setDoc(doc(collection(db$2,"MeetingRequests"),`${jt}`),En),B$3.success("Meeting request sent successfully"),Gt("Meeting request sent successfully!")}catch(En){console.error("Error requesting meeting:",En),Gt("Failed to send meeting request. Please try again.")}};reactExports.useEffect(()=>{(async()=>{if(!(!ct||!ct.ID))try{const En=collection(db$2,"MeetingRequests"),cn=await getDocs(En),dn=[];cn.forEach(wn=>{const kn=wn.data();kn.supervisorId===JSON.stringify(ct.ID)&&kn.status==="pending"&&dn.push({id:wn.id,...kn})}),dn.length>0&&Yt.current&&(Yt.current.audioEl.current.pause(),Yt.current.audioEl.current.currentTime=0,Yt.current.audioEl.current.play()),Jt(dn)}catch(En){console.error("Error fetching meeting requests:",En)}})()},[ct,db$2,Zt]);const Gn=async(hn,En,cn,dn)=>{if(!hn||!En||!cn){console.error("Please fill all fields");return}try{const wn=await fetch("http://localhost:3000/confirm-meeting",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({supervisorId:ct.ID,studentId:hn,subject:"Meeting Reminder",meetingDate:En,meetingTime:cn,supervisorTitle:ct.Title,supervisorSurname:ct.Surname,status:dn})});if(!wn.ok){const Un=await wn.json();throw new Error(Un.error||"Error sending email")}if(Gt("Email sent successfully"),dn==="accepted"){const Un={SupervisorID:ct.ID,studentId:hn,date:En,time:cn,subject:"Scheduled Meeting",createdAt:new Date,backgroundColor:"#378006",borderColor:"#378006"};await setDoc(doc(collection(db$2,"Events"),`${ct.ID}`),Un)}const kn={id:`meeting-${new Date().getTime()}`,type:"new",message:dn==="accepted"?`Meeting request accepted for ${En} at ${cn}.`:"Meeting request was declined.",timestamp:new Date};rt(Un=>{const Jn=[...Un,kn];return Array.from(new Map(Jn.map(er=>[er.message,er])).values()).sort((er,Qn)=>Qn.timestamp-er.timestamp).slice(0,3)}),setTimeout(()=>{Gt(""),B$3.success("Email sent successfully")},5e3)}catch(wn){console.error("Error sending email:",wn.message)}},Kn=async(hn,En)=>{console.log(`Meeting request ${hn} was ${En}`);const cn=doc(db$2,"MeetingRequests",hn);try{await updateDoc(cn,{status:En}),console.log(`Meeting request ${hn} updated successfully to ${En}`);const wn=(await getDoc(cn)).data();let kn;En==="accepted"?(kn=`Your meeting request with ${Tt} ${Nt} has been accepted for ${wn.meetingDate} at ${wn.meetingTime}.`,await Gn(wn.studentId,wn.meetingDate,wn.meetingTime,"accepted"),B$3.success("Meeting request accepted successfully!")):En==="declined"&&(kn=`Your meeting request with ${Tt} ${Nt} has been declined.`,await Gn(wn.studentId,wn.meetingDate,wn.meetingTime,"declined"),console.log("Meeting request declined email sent"),B$3.error("Meeting request declined successfully!")),rt(Un=>[...Un,{id:`notification-${new Date().getTime()}`,type:En==="accepted"?"meeting-accepted":"meeting-declined",message:kn,studentId:wn.studentId,timestamp:new Date}]),console.log(`Notification for ${En} request sent to student`),Jt(Un=>Un.filter(Jn=>Jn.id!==hn))}catch(dn){console.error("Error updating meeting request:",dn)}};return jsxRuntimeExports.jsx("aside",{id:"right-sidebar",className:`fixed top-0 right-0 w-16 md:w-48 lg:w-72 h-screen transition-transform translate-x-full md:translate-x-0 right-sidebar ${ht?"dark":""}`,children:jsxRuntimeExports.jsxs("div",{className:"h-full px-3 py-4 overflow-y-auto bg-transparent dark:bg-gray-800",children:[ut==="Student"&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-extrabold mb-2 text-gray-800 dark:text-gray-300",children:"Student Panel"}),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-80 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-y-auto no-scrollbar",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:"Notification Panel"}),jsxRuntimeExports.jsx("button",{className:"text-sm font-semibold text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",onClick:()=>{rt([]),lt([]),pt(!1)},children:"Clear All"})]}),jsxRuntimeExports.jsx("div",{className:"p-4 space-y-4",children:ot.length>0?ot.map((hn,En)=>{const cn=hn.type==="new"?"border-[#FF8503]":hn.type==="due"?"border-[#590098]":"border-[#007BFF]",dn=hn.type==="new"?"bg-[#FF8503]":hn.type==="due"?"bg-[#590098]":"bg-[#007BFF]";return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:0,ease:"easeInOut"},className:`relative flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-l-4 ${cn} shadow-md transition duration-200 ease-in-out`,children:[at.includes(hn.id)&&jsxRuntimeExports.jsx("span",{className:"absolute top-2 right-2 block w-3 h-3 bg-red-600 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:hn.message}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:hn.timestamp.toLocaleTimeString()})]}),jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full ${dn} text-white`,children:jsxRuntimeExports.jsx(HiBell,{className:"h-5 w-5"})})]},`${hn.id}-${hn.timestamp.getTime()}-${En}`)}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications"})}),jsxRuntimeExports.jsx(ReactAudioPlayer,{ref:Yt,src:notificationSound,controls:!1,volume:1})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 dark:bg-gray-700 p-4 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-md font-bold text-gray-800 dark:text-gray-200",children:"Thought of the Day"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:rn.text}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["- ",rn.author]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 dark:bg-gray-700 p-4 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-md font-bold text-gray-800 dark:text-gray-200",children:"Schedule a Meeting"}),jsxRuntimeExports.jsxs("form",{onSubmit:Dn,className:"mt-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"supervisorSelect",className:"block text-sm font-medium mb-1 text-gray-800 dark:text-gray-300",children:"Select supervisor:"}),jsxRuntimeExports.jsxs(Select,{className:"mb-4 mt-2",id:"supervisorSelect",required:!0,onChange:hn=>Mt(hn.target.value),value:jt,children:[jsxRuntimeExports.jsx("option",{disabled:!0,value:"",children:"Select a supervisor"}),_t.map(hn=>jsxRuntimeExports.jsxs("option",{value:hn.id,children:[hn.Title," ",hn.Surname]},hn.id))]}),jsxRuntimeExports.jsx("label",{htmlFor:"meetingDate",className:"block mt-4 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Meeting Date:"}),jsxRuntimeExports.jsx("input",{type:"date",id:"meetingDate",className:"mb-2 mt-2 w-full p-2 border border-gray-300 rounded",value:zt,onChange:hn=>Qt(hn.target.value),required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"meetingTime",className:"block mt-4 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Meeting Time:"}),jsxRuntimeExports.jsx("input",{type:"time",id:"meetingTime",className:"mb-2 mt-2 w-full p-2 border border-gray-300 rounded",value:qt,onChange:hn=>Kt(hn.target.value),required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"reason",className:"block mt-4 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Reason for Meeting:"}),jsxRuntimeExports.jsx("textarea",{id:"reason",className:"w-full p-2 border border-gray-300 rounded",rows:"2",value:Wt,onChange:hn=>pn(hn.target.value),required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 mt-4",children:"Request Meeting"})]}),sn&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-green-500",children:sn})," "]})]}),ut==="Supervisor"&&jsxRuntimeExports.jsxs("div",{className:"overflow-y-auto bg-transparent no-scrollbar p-2 bg-gray-100 dark:bg-gray-700 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-extrabold mb-2 text-gray-800 dark:text-gray-300",children:"Supervisor Panel"}),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-80 bg-white dark:bg-gray-800 rounded-lg shadow-md no-scrollbar",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Meeting Requests"}),jsxRuntimeExports.jsx("button",{className:"text-sm font-semibold text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",onClick:()=>{Xt([])},children:"Clear All"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 space-y-1",children:[jsxRuntimeExports.jsx(ReactAudioPlayer,{ref:Yt,src:notificationSound,controls:!1,volume:1}),Zt.length>0?Zt.map((hn,En)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:0,ease:"easeInOut"},className:"flex flex-col p-3 rounded-lg bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 border-l-4 border-[#007BFF] shadow-md transition duration-200 ease-in-out",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col mb-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm mt-1 text-gray-800 dark:text-gray-300",children:[jsxRuntimeExports.jsx("strong",{children:"Student ID:"})," ",hn.studentId]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm mt-1 text-gray-500 dark:text-gray-400",children:["Date: ",hn.meetingDate]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center text-sm mt-1 text-gray-500 dark:text-gray-400",children:["Time: ",hn.meetingTime]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mt-1 text-gray-500 dark:text-gray-400",children:["Reason: ",hn.reason]})]}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Kn(hn.id,"accepted"),className:"bg-green-500 text-white font-bold px-2 py-2 rounded-lg shadow hover:bg-green-600 transition",children:"Accept"}),jsxRuntimeExports.jsx("button",{onClick:()=>Kn(hn.id,"declined"),className:"bg-red-500 text-white font-bold px-2 py-2 rounded-lg shadow hover:bg-red-600 transition",children:"Decline"})]})]},En)):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No meeting requests available"})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-80 mt-3 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-y-auto no-scrollbar",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:jsxRuntimeExports.jsx("h2",{className:"text-md font-bold text-gray-800 dark:text-gray-300",children:"Assigned Students"})}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 p-4",children:yt.length>0?yt.map((hn,En)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{className:"p-2 mr-2 bg-gray-200 rounded-xl dark:bg-gray-600",children:jsxRuntimeExports.jsx(HiAcademicCap,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-300",children:[hn.Name," ",hn.Surname]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:hn.ID}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:hn.StudentType})]})]},En)):jsxRuntimeExports.jsx("li",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No students assigned"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 dark:bg-gray-700 p-4 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-md font-bold text-gray-800 dark:text-gray-200",children:"Thought of the Day"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:rn.text}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["- ",rn.author]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-80 mt-3 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-y-auto no-scrollbar",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:jsxRuntimeExports.jsx("h4",{className:"text-md font-bold text-gray-800 dark:text-gray-300",children:"Schedule a Meeting"})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("form",{onSubmit:jn,children:[jsxRuntimeExports.jsx("label",{htmlFor:"studentSelect",className:"block text-sm font-medium mb-1 text-gray-800 dark:text-gray-300",children:"Select Student:"}),jsxRuntimeExports.jsxs("select",{id:"studentSelect",className:"mt-3 w-full p-2 border border-gray-300 rounded bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0,onChange:hn=>Dt(hn.target.value),value:Ot,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a Student"}),yt.map(hn=>jsxRuntimeExports.jsxs("option",{value:hn.id,children:[hn.Name," ",hn.Surname]},hn.id))]}),jsxRuntimeExports.jsx("label",{htmlFor:"meetingDate",className:"block mt-3 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Meeting Date:"}),jsxRuntimeExports.jsx("input",{type:"date",id:"meetingDate",className:"mb-2 mt-2 w-full p-2 border border-gray-300 rounded bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",value:zt,onChange:hn=>Qt(hn.target.value),required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"meetingTime",className:"block mt-3 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Meeting Time:"}),jsxRuntimeExports.jsx("input",{type:"time",id:"meetingTime",className:"mb-2 mt-2 w-full p-2 border border-gray-300 rounded bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",value:qt,onChange:hn=>Kt(hn.target.value),required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition mt-4 w-full",children:"Schedule Meeting"})]}),sn&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-green-500",children:sn})]})]})]}),ut==="Examiner"&&jsxRuntimeExports.jsxs("div",{className:"overflow-y-auto bg-transparent no-scrollbar p-2 bg-gray-100 dark:bg-gray-700 rounded-xl",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-extrabold mb-2 text-gray-800 dark:text-gray-300",children:"Examiner Panel"}),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-80 bg-white dark:bg-gray-800 rounded-lg shadow-md no-scrollbar",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Notification Panel"}),jsxRuntimeExports.jsx("button",{className:"text-sm font-semibold text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",onClick:()=>{rt([]),lt([]),pt(!1)},children:"Clear All"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 space-y-1",children:[jsxRuntimeExports.jsx(ReactAudioPlayer,{ref:Yt,src:notificationSound,controls:!1,volume:1}),ot.length>0?ot.map((hn,En)=>{const cn=hn.type==="new"?"border-[#FF8503]":hn.type==="due"?"border-[#590098]":"border-[#007BFF]",dn=hn.type==="new"?"bg-[#FF8503]":hn.type==="due"?"bg-[#590098]":"bg-[#007BFF]";return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},transition:{duration:0,ease:"easeInOut"},className:`relative flex items-start p-4 border-l-4 ${cn} bg-gray-50 dark:bg-gray-700 rounded-lg shadow-sm`,children:[jsxRuntimeExports.jsxs("div",{className:`flex-shrink-0 w-10 h-10 ${dn} rounded-full flex items-center justify-center`,children:[hn.type==="new"&&jsxRuntimeExports.jsx("i",{className:"fas fa-bell text-white"}),hn.type==="due"&&jsxRuntimeExports.jsx("i",{className:"fas fa-exclamation-circle text-white"}),hn.type==="meeting"&&jsxRuntimeExports.jsx("i",{className:"fas fa-calendar-alt text-white"})]}),jsxRuntimeExports.jsxs("div",{className:"ml-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-200",children:hn.message}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:new Date(hn.timestamp).toLocaleString()})]})]},`${hn.id}-${hn.timestamp.getTime()}-${En}`)}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No notifications available."})]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-80 mt-3 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-y-auto no-scrollbar",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:jsxRuntimeExports.jsx("h2",{className:"text-md font-bold text-gray-800 dark:text-gray-300",children:"Assigned Students"})}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 p-4",children:yt.length>0?yt.map((hn,En)=>jsxRuntimeExports.jsxs("li",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsx("button",{className:"p-2 mr-2 bg-gray-200 rounded-xl dark:bg-gray-600",children:jsxRuntimeExports.jsx(HiAcademicCap,{className:"w-6 h-6"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-800 dark:text-gray-300",children:[hn.Name," ",hn.Surname]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:hn.ID}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:hn.StudentType})]})]},En)):jsxRuntimeExports.jsx("li",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No students assigned"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 dark:bg-gray-700 p-4 rounded-lg shadow-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-md font-bold text-gray-800 dark:text-gray-200",children:"Thought of the Day"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-gray-700 dark:text-gray-300",children:rn.text}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:["- ",rn.author]})]}),jsxRuntimeExports.jsxs("div",{className:"w-full min-h-80 mt-3 bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-y-auto no-scrollbar",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:jsxRuntimeExports.jsx("h4",{className:"text-md font-bold text-gray-800 dark:text-gray-300",children:"Schedule a Meeting"})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("form",{onSubmit:jn,children:[jsxRuntimeExports.jsx("label",{htmlFor:"studentSelect",className:"block text-sm font-medium mb-1 text-gray-800 dark:text-gray-300",children:"Select Student:"}),jsxRuntimeExports.jsxs("select",{id:"studentSelect",className:"mt-3 w-full p-2 border border-gray-300 rounded bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",required:!0,onChange:hn=>Dt(hn.target.value),value:Ot,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select a Student"}),yt.map(hn=>jsxRuntimeExports.jsxs("option",{value:hn.id,children:[hn.Name," ",hn.Surname]},hn.id))]}),jsxRuntimeExports.jsx("label",{htmlFor:"meetingDate",className:"block mt-3 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Meeting Date:"}),jsxRuntimeExports.jsx("input",{type:"date",id:"meetingDate",className:"mb-2 mt-2 w-full p-2 border border-gray-300 rounded bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",value:zt,onChange:hn=>Qt(hn.target.value),required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"meetingTime",className:"block mt-3 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Meeting Time:"}),jsxRuntimeExports.jsx("input",{type:"time",id:"meetingTime",className:"mb-2 mt-2 w-full p-2 border border-gray-300 rounded bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",value:qt,onChange:hn=>Kt(hn.target.value),required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"reason",className:"block mt-4 text-sm font-medium text-gray-800 dark:text-gray-300",children:"Reason for Meeting:"}),jsxRuntimeExports.jsx("textarea",{id:"reason",className:"w-full p-2 border border-gray-300 rounded",rows:"2",value:Wt,onChange:hn=>pn(hn.target.value),required:!0}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition mt-4 w-full",children:"Schedule Meeting"})]}),sn&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-green-500",children:sn})]})]})]})]})})},Logo="/PostGradePortal/assets/UJ%20Logo-Dv7lVJwR.png",UserLogo="/PostGradePortal/assets/avatar-D6AjB8us.png",sidebarImg="/PostGradePortal/assets/student_side_dash-DYfBDOSX.jpg",SidebarComponent=()=>{reactExports.useState(!1);const ot=useLocation(),rt=useNavigate(),[at,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(""),[dt,ht]=reactExports.useState(""),{UserData:ft,UserRole:pt,Loading:mt}=useAuth(),[gt,yt]=reactExports.useState("");useTheme();const[xt,bt]=reactExports.useState({honours:!1,masters:!1,phd:!1});console.log("UserData:",ft),reactExports.useEffect(()=>{!mt&&ft&&(lt(ft.Name),ut(ft.Surname),ht(ft.ProfilePicture||UserLogo),yt(pt==="Student"?ft.StudentType:pt))},[mt,ft,pt]),reactExports.useEffect(()=>{pt==="Supervisor"&&ft&&ft.CourseID&&Et(ft.CourseID)},[pt,ft]);const Et=async _t=>{try{const At=[],kt=[],It=[];for(const Pt of _t){const Tt=collection(db$2,"Module"),Ct=query(Tt,where("ModuleID","==",Pt));(await getDocs(Ct)).forEach(Dt=>{const jt=Dt.data();jt.ModuleType==="Honours"?At.push(jt):jt.ModuleType==="Masters"?kt.push(jt):jt.ModuleType==="PhD"&&It.push(jt)})}const Nt={honours:At.length>0,masters:kt.length>0,phd:It.length>0};bt(Nt)}catch(At){console.error("Error fetching supervisor modules:",At)}},Rt=async()=>{try{localStorage.clear(),await signOut(auth),rt("/login")}catch(_t){console.error("Error logging out",_t)}},wt={Student:[{path:"/dashboard",label:"Dashboard",icon:jsxRuntimeExports.jsx(HiChartPie,{className:"w-6 h-6"})},{path:"/research",label:"Research",icon:jsxRuntimeExports.jsx(HiAcademicCap,{className:"w-6 h-6"})},{path:"/tasks",label:"Tasks",icon:jsxRuntimeExports.jsx(HiViewBoards,{className:"w-6 h-6"})},{path:"/inbox",label:"Inbox",icon:jsxRuntimeExports.jsx(HiMail,{className:"w-6 h-6"})},{path:"/settings",label:"Settings",icon:jsxRuntimeExports.jsx(HiCog,{className:"w-6 h-6"})},{path:"/logout",label:"Log Out",icon:jsxRuntimeExports.jsx(HiLogout,{className:"w-6 h-6"}),action:Rt}],Supervisor:[{path:"/dashboard",label:"Dashboard",icon:jsxRuntimeExports.jsx(HiChartPie,{className:"w-6 h-6"})},xt.honours&&{path:"/honours",label:"Honours",icon:jsxRuntimeExports.jsx(HiAcademicCap,{className:"w-6 h-6"})},xt.masters&&{path:"/masters",label:"Masters",icon:jsxRuntimeExports.jsx(HiBookOpen,{className:"w-6 h-6"})},xt.phd&&{path:"/phd",label:"PhD",icon:jsxRuntimeExports.jsx(HiCollection,{className:"w-6 h-6"})},{path:"/students",label:"Students",icon:jsxRuntimeExports.jsx(HiUserGroup,{className:"w-6 h-6"})},{path:"/tasks",label:"Tasks",icon:jsxRuntimeExports.jsx(HiViewBoards,{className:"w-6 h-6"})},{path:"/inbox",label:"Inbox",icon:jsxRuntimeExports.jsx(HiMail,{className:"w-6 h-6"})},{path:"/settings",label:"Settings",icon:jsxRuntimeExports.jsx(HiCog,{className:"w-6 h-6"})},{path:"/logout",label:"Log Out",icon:jsxRuntimeExports.jsx(HiLogout,{className:"w-6 h-6"}),action:Rt}].filter(Boolean),Examiner:[{path:"/dashboard",label:"Dashboard",icon:jsxRuntimeExports.jsx(HiChartPie,{className:"w-6 h-6"})},{path:"/review-submissions",label:"Reviews",icon:jsxRuntimeExports.jsx(HiFlag,{className:"w-6 h-6"})},{path:"/inbox",label:"Inbox",icon:jsxRuntimeExports.jsx(HiMail,{className:"w-6 h-6"})},{path:"/settings",label:"Settings",icon:jsxRuntimeExports.jsx(HiCog,{className:"w-6 h-6"})},{path:"/logout",label:"Log Out",icon:jsxRuntimeExports.jsx(HiLogout,{className:"w-6 h-6"}),action:Rt}],Admin:[{path:"/admin/dashboard",label:"Admin Dashboard",icon:jsxRuntimeExports.jsx(HiChartPie,{className:"w-6 h-6"})},{path:"/admin/inbox",label:"Inbox",icon:jsxRuntimeExports.jsx(HiMail,{className:"w-6 h-6"})},{path:"/admin/settings",label:"Settings",icon:jsxRuntimeExports.jsx(HiUserGroup,{className:"w-6 h-6"})},{path:"/logout",label:"Log Out",icon:jsxRuntimeExports.jsx(HiLogout,{className:"w-6 h-6"}),action:Rt}]};return jsxRuntimeExports.jsx("aside",{id:"sidebar-multi-level-sidebar",className:"fixed top-0 left-0 z-40 w-72 h-screen transition-transform -translate-x-full sm:translate-x-0 sidebar bg-[url('../../src/assets/images/student_side_dash.jpg')]","aria-label":"Sidebar",children:jsxRuntimeExports.jsxs("div",{className:"h-full px-4 py-4 overflow-y-auto bg-cover bg-center bg-no-repeat dark:bg-gray-800",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.3)),url(${sidebarImg})`},children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center mb-3",children:jsxRuntimeExports.jsx(Link,{to:"/dashboard",className:"flex items-center p-2 group",children:jsxRuntimeExports.jsx("img",{src:Logo,className:"w-auto h-25 me-3 sm:h-15",alt:"UJ Logo"})})}),jsxRuntimeExports.jsx("hr",{className:"border-t-2 mb-2 border-gray-700 dark:border-gray-600"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 font-bold text-lg",children:wt[pt].map(({path:_t,label:At,icon:kt,action:It})=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs(Link,{to:_t,onClick:It?Nt=>{Nt.preventDefault(),It()}:void 0,className:`flex items-center p-2 rounded-lg group ${ot.pathname===_t?"bg-gray-700 dark:bg-gray-600 text-white":"text-gray-300 hover:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"}`,children:[kt,jsxRuntimeExports.jsx("span",{className:"ms-3",children:At})]})},_t))}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-6 left-4 right-4 bg-white dark:bg-gray-900 rounded-lg shadow-md p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx("img",{src:dt,className:"w-14 h-14 rounded-full",alt:"avatar"}),jsxRuntimeExports.jsxs("div",{className:"text-sm flex-1 overflow-hidden",children:[jsxRuntimeExports.jsxs("p",{className:"font-extrabold text-md text-gray-900 dark:text-white",children:[at," ",ct]}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-700 dark:text-Black",children:gt})]})]})})]})})},RegImage1="/PostGradePortal/assets/RegImage1-CkXC53zP.jpg",BannerImg$2="/PostGradePortal/assets/RegImage2-C3BdWryZ.jpg",RegImage3="/PostGradePortal/assets/RegImage3-Bgb5F-3w.jpg",BannerImage$2="/PostGradePortal/assets/RegImage4-D5wBeOUb.jpg",CourseCard=({name:ot,image:rt,description:at,progress:lt,borderColor:ct,progressColor:ut})=>jsxRuntimeExports.jsxs("div",{className:`max-w-sm h-80 bg-white border-2 rounded-lg shadow dark:bg-gray-800 ${ct} border-2 dark:border-gray-700`,children:[jsxRuntimeExports.jsx("img",{className:"rounded-t-lg",src:rt,alt:ot}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h4",{className:"mb-2 text-lg font-bold tracking-wider text-gray-900 dark:text-white",children:ot}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm font-normal text-gray-700 dark:text-gray-400",children:at})]})]});var n$1,l$2,u$2,i$3,t$1,r$2,o$1,f$2,e$1,c$2={},s$1=[],a$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h$1(ot,rt){for(var at in rt)ot[at]=rt[at];return ot}function v$2(ot){var rt=ot.parentNode;rt&&rt.removeChild(ot)}function y$1(ot,rt,at){var lt,ct,ut,dt={};for(ut in rt)ut=="key"?lt=rt[ut]:ut=="ref"?ct=rt[ut]:dt[ut]=rt[ut];if(arguments.length>2&&(dt.children=arguments.length>3?n$1.call(arguments,2):at),typeof ot=="function"&&ot.defaultProps!=null)for(ut in ot.defaultProps)dt[ut]===void 0&&(dt[ut]=ot.defaultProps[ut]);return p$1(ot,dt,lt,ct,null)}function p$1(ot,rt,at,lt,ct){var ut={type:ot,props:rt,key:at,ref:lt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:ct??++u$2};return ct==null&&l$2.vnode!=null&&l$2.vnode(ut),ut}function d$1(){return{current:null}}function _$1(ot){return ot.children}function k$2(ot,rt,at,lt,ct){var ut;for(ut in at)ut==="children"||ut==="key"||ut in rt||g$3(ot,ut,null,at[ut],lt);for(ut in rt)ct&&typeof rt[ut]!="function"||ut==="children"||ut==="key"||ut==="value"||ut==="checked"||at[ut]===rt[ut]||g$3(ot,ut,rt[ut],at[ut],lt)}function b$2(ot,rt,at){rt[0]==="-"?ot.setProperty(rt,at??""):ot[rt]=at==null?"":typeof at!="number"||a$1.test(rt)?at:at+"px"}function g$3(ot,rt,at,lt,ct){var ut;e:if(rt==="style")if(typeof at=="string")ot.style.cssText=at;else{if(typeof lt=="string"&&(ot.style.cssText=lt=""),lt)for(rt in lt)at&&rt in at||b$2(ot.style,rt,"");if(at)for(rt in at)lt&&at[rt]===lt[rt]||b$2(ot.style,rt,at[rt])}else if(rt[0]==="o"&&rt[1]==="n")ut=rt!==(rt=rt.replace(/Capture$/,"")),rt=rt.toLowerCase()in ot?rt.toLowerCase().slice(2):rt.slice(2),ot.l||(ot.l={}),ot.l[rt+ut]=at,at?lt||ot.addEventListener(rt,ut?w$3:m$2,ut):ot.removeEventListener(rt,ut?w$3:m$2,ut);else if(rt!=="dangerouslySetInnerHTML"){if(ct)rt=rt.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(rt!=="width"&&rt!=="height"&&rt!=="href"&&rt!=="list"&&rt!=="form"&&rt!=="tabIndex"&&rt!=="download"&&rt in ot)try{ot[rt]=at??"";break e}catch{}typeof at=="function"||(at==null||at===!1&&rt.indexOf("-")==-1?ot.removeAttribute(rt):ot.setAttribute(rt,at))}}function m$2(ot){t$1=!0;try{return this.l[ot.type+!1](l$2.event?l$2.event(ot):ot)}finally{t$1=!1}}function w$3(ot){t$1=!0;try{return this.l[ot.type+!0](l$2.event?l$2.event(ot):ot)}finally{t$1=!1}}function x$2(ot,rt){this.props=ot,this.context=rt}function A$1(ot,rt){if(rt==null)return ot.__?A$1(ot.__,ot.__.__k.indexOf(ot)+1):null;for(var at;rt<ot.__k.length;rt++)if((at=ot.__k[rt])!=null&&at.__e!=null)return at.__e;return typeof ot.type=="function"?A$1(ot):null}function P$2(ot){var rt,at;if((ot=ot.__)!=null&&ot.__c!=null){for(ot.__e=ot.__c.base=null,rt=0;rt<ot.__k.length;rt++)if((at=ot.__k[rt])!=null&&at.__e!=null){ot.__e=ot.__c.base=at.__e;break}return P$2(ot)}}function C$2(ot){t$1?setTimeout(ot):f$2(ot)}function T$2(ot){(!ot.__d&&(ot.__d=!0)&&r$2.push(ot)&&!$$2.__r++||o$1!==l$2.debounceRendering)&&((o$1=l$2.debounceRendering)||C$2)($$2)}function $$2(){var ot,rt,at,lt,ct,ut,dt,ht;for(r$2.sort(function(ft,pt){return ft.__v.__b-pt.__v.__b});ot=r$2.shift();)ot.__d&&(rt=r$2.length,lt=void 0,ct=void 0,dt=(ut=(at=ot).__v).__e,(ht=at.__P)&&(lt=[],(ct=h$1({},ut)).__v=ut.__v+1,M$1(ht,ut,ct,at.__n,ht.ownerSVGElement!==void 0,ut.__h!=null?[dt]:null,lt,dt??A$1(ut),ut.__h),N$1(lt,ut),ut.__e!=dt&&P$2(ut)),r$2.length>rt&&r$2.sort(function(ft,pt){return ft.__v.__b-pt.__v.__b}));$$2.__r=0}function H$2(ot,rt,at,lt,ct,ut,dt,ht,ft,pt){var mt,gt,yt,xt,bt,Et,Rt,wt=lt&&lt.__k||s$1,_t=wt.length;for(at.__k=[],mt=0;mt<rt.length;mt++)if((xt=at.__k[mt]=(xt=rt[mt])==null||typeof xt=="boolean"?null:typeof xt=="string"||typeof xt=="number"||typeof xt=="bigint"?p$1(null,xt,null,null,xt):Array.isArray(xt)?p$1(_$1,{children:xt},null,null,null):xt.__b>0?p$1(xt.type,xt.props,xt.key,xt.ref?xt.ref:null,xt.__v):xt)!=null){if(xt.__=at,xt.__b=at.__b+1,(yt=wt[mt])===null||yt&&xt.key==yt.key&&xt.type===yt.type)wt[mt]=void 0;else for(gt=0;gt<_t;gt++){if((yt=wt[gt])&&xt.key==yt.key&&xt.type===yt.type){wt[gt]=void 0;break}yt=null}M$1(ot,xt,yt=yt||c$2,ct,ut,dt,ht,ft,pt),bt=xt.__e,(gt=xt.ref)&&yt.ref!=gt&&(Rt||(Rt=[]),yt.ref&&Rt.push(yt.ref,null,xt),Rt.push(gt,xt.__c||bt,xt)),bt!=null?(Et==null&&(Et=bt),typeof xt.type=="function"&&xt.__k===yt.__k?xt.__d=ft=I$2(xt,ft,ot):ft=z$1(ot,xt,yt,wt,bt,ft),typeof at.type=="function"&&(at.__d=ft)):ft&&yt.__e==ft&&ft.parentNode!=ot&&(ft=A$1(yt))}for(at.__e=Et,mt=_t;mt--;)wt[mt]!=null&&(typeof at.type=="function"&&wt[mt].__e!=null&&wt[mt].__e==at.__d&&(at.__d=L$2(lt).nextSibling),q$1(wt[mt],wt[mt]));if(Rt)for(mt=0;mt<Rt.length;mt++)S$1(Rt[mt],Rt[++mt],Rt[++mt])}function I$2(ot,rt,at){for(var lt,ct=ot.__k,ut=0;ct&&ut<ct.length;ut++)(lt=ct[ut])&&(lt.__=ot,rt=typeof lt.type=="function"?I$2(lt,rt,at):z$1(at,lt,lt,ct,lt.__e,rt));return rt}function j$3(ot,rt){return rt=rt||[],ot==null||typeof ot=="boolean"||(Array.isArray(ot)?ot.some(function(at){j$3(at,rt)}):rt.push(ot)),rt}function z$1(ot,rt,at,lt,ct,ut){var dt,ht,ft;if(rt.__d!==void 0)dt=rt.__d,rt.__d=void 0;else if(at==null||ct!=ut||ct.parentNode==null)e:if(ut==null||ut.parentNode!==ot)ot.appendChild(ct),dt=null;else{for(ht=ut,ft=0;(ht=ht.nextSibling)&&ft<lt.length;ft+=1)if(ht==ct)break e;ot.insertBefore(ct,ut),dt=ut}return dt!==void 0?dt:ct.nextSibling}function L$2(ot){var rt,at,lt;if(ot.type==null||typeof ot.type=="string")return ot.__e;if(ot.__k){for(rt=ot.__k.length-1;rt>=0;rt--)if((at=ot.__k[rt])&&(lt=L$2(at)))return lt}return null}function M$1(ot,rt,at,lt,ct,ut,dt,ht,ft){var pt,mt,gt,yt,xt,bt,Et,Rt,wt,_t,At,kt,It,Nt,Pt,Tt=rt.type;if(rt.constructor!==void 0)return null;at.__h!=null&&(ft=at.__h,ht=rt.__e=at.__e,rt.__h=null,ut=[ht]),(pt=l$2.__b)&&pt(rt);try{e:if(typeof Tt=="function"){if(Rt=rt.props,wt=(pt=Tt.contextType)&&lt[pt.__c],_t=pt?wt?wt.props.value:pt.__:lt,at.__c?Et=(mt=rt.__c=at.__c).__=mt.__E:("prototype"in Tt&&Tt.prototype.render?rt.__c=mt=new Tt(Rt,_t):(rt.__c=mt=new x$2(Rt,_t),mt.constructor=Tt,mt.render=B$2),wt&&wt.sub(mt),mt.props=Rt,mt.state||(mt.state={}),mt.context=_t,mt.__n=lt,gt=mt.__d=!0,mt.__h=[],mt._sb=[]),mt.__s==null&&(mt.__s=mt.state),Tt.getDerivedStateFromProps!=null&&(mt.__s==mt.state&&(mt.__s=h$1({},mt.__s)),h$1(mt.__s,Tt.getDerivedStateFromProps(Rt,mt.__s))),yt=mt.props,xt=mt.state,mt.__v=rt,gt)Tt.getDerivedStateFromProps==null&&mt.componentWillMount!=null&&mt.componentWillMount(),mt.componentDidMount!=null&&mt.__h.push(mt.componentDidMount);else{if(Tt.getDerivedStateFromProps==null&&Rt!==yt&&mt.componentWillReceiveProps!=null&&mt.componentWillReceiveProps(Rt,_t),!mt.__e&&mt.shouldComponentUpdate!=null&&mt.shouldComponentUpdate(Rt,mt.__s,_t)===!1||rt.__v===at.__v){for(rt.__v!==at.__v&&(mt.props=Rt,mt.state=mt.__s,mt.__d=!1),rt.__e=at.__e,rt.__k=at.__k,rt.__k.forEach(function(Ct){Ct&&(Ct.__=rt)}),At=0;At<mt._sb.length;At++)mt.__h.push(mt._sb[At]);mt._sb=[],mt.__h.length&&dt.push(mt);break e}mt.componentWillUpdate!=null&&mt.componentWillUpdate(Rt,mt.__s,_t),mt.componentDidUpdate!=null&&mt.__h.push(function(){mt.componentDidUpdate(yt,xt,bt)})}if(mt.context=_t,mt.props=Rt,mt.__P=ot,kt=l$2.__r,It=0,"prototype"in Tt&&Tt.prototype.render){for(mt.state=mt.__s,mt.__d=!1,kt&&kt(rt),pt=mt.render(mt.props,mt.state,mt.context),Nt=0;Nt<mt._sb.length;Nt++)mt.__h.push(mt._sb[Nt]);mt._sb=[]}else do mt.__d=!1,kt&&kt(rt),pt=mt.render(mt.props,mt.state,mt.context),mt.state=mt.__s;while(mt.__d&&++It<25);mt.state=mt.__s,mt.getChildContext!=null&&(lt=h$1(h$1({},lt),mt.getChildContext())),gt||mt.getSnapshotBeforeUpdate==null||(bt=mt.getSnapshotBeforeUpdate(yt,xt)),Pt=pt!=null&&pt.type===_$1&&pt.key==null?pt.props.children:pt,H$2(ot,Array.isArray(Pt)?Pt:[Pt],rt,at,lt,ct,ut,dt,ht,ft),mt.base=rt.__e,rt.__h=null,mt.__h.length&&dt.push(mt),Et&&(mt.__E=mt.__=null),mt.__e=!1}else ut==null&&rt.__v===at.__v?(rt.__k=at.__k,rt.__e=at.__e):rt.__e=O$1(at.__e,rt,at,lt,ct,ut,dt,ft);(pt=l$2.diffed)&&pt(rt)}catch(Ct){rt.__v=null,(ft||ut!=null)&&(rt.__e=ht,rt.__h=!!ft,ut[ut.indexOf(ht)]=null),l$2.__e(Ct,rt,at)}}function N$1(ot,rt){l$2.__c&&l$2.__c(rt,ot),ot.some(function(at){try{ot=at.__h,at.__h=[],ot.some(function(lt){lt.call(at)})}catch(lt){l$2.__e(lt,at.__v)}})}function O$1(ot,rt,at,lt,ct,ut,dt,ht){var ft,pt,mt,gt=at.props,yt=rt.props,xt=rt.type,bt=0;if(xt==="svg"&&(ct=!0),ut!=null){for(;bt<ut.length;bt++)if((ft=ut[bt])&&"setAttribute"in ft==!!xt&&(xt?ft.localName===xt:ft.nodeType===3)){ot=ft,ut[bt]=null;break}}if(ot==null){if(xt===null)return document.createTextNode(yt);ot=ct?document.createElementNS("http://www.w3.org/2000/svg",xt):document.createElement(xt,yt.is&&yt),ut=null,ht=!1}if(xt===null)gt===yt||ht&&ot.data===yt||(ot.data=yt);else{if(ut=ut&&n$1.call(ot.childNodes),pt=(gt=at.props||c$2).dangerouslySetInnerHTML,mt=yt.dangerouslySetInnerHTML,!ht){if(ut!=null)for(gt={},bt=0;bt<ot.attributes.length;bt++)gt[ot.attributes[bt].name]=ot.attributes[bt].value;(mt||pt)&&(mt&&(pt&&mt.__html==pt.__html||mt.__html===ot.innerHTML)||(ot.innerHTML=mt&&mt.__html||""))}if(k$2(ot,yt,gt,ct,ht),mt)rt.__k=[];else if(bt=rt.props.children,H$2(ot,Array.isArray(bt)?bt:[bt],rt,at,lt,ct&&xt!=="foreignObject",ut,dt,ut?ut[0]:at.__k&&A$1(at,0),ht),ut!=null)for(bt=ut.length;bt--;)ut[bt]!=null&&v$2(ut[bt]);ht||("value"in yt&&(bt=yt.value)!==void 0&&(bt!==ot.value||xt==="progress"&&!bt||xt==="option"&&bt!==gt.value)&&g$3(ot,"value",bt,gt.value,!1),"checked"in yt&&(bt=yt.checked)!==void 0&&bt!==ot.checked&&g$3(ot,"checked",bt,gt.checked,!1))}return ot}function S$1(ot,rt,at){try{typeof ot=="function"?ot(rt):ot.current=rt}catch(lt){l$2.__e(lt,at)}}function q$1(ot,rt,at){var lt,ct;if(l$2.unmount&&l$2.unmount(ot),(lt=ot.ref)&&(lt.current&&lt.current!==ot.__e||S$1(lt,null,rt)),(lt=ot.__c)!=null){if(lt.componentWillUnmount)try{lt.componentWillUnmount()}catch(ut){l$2.__e(ut,rt)}lt.base=lt.__P=null,ot.__c=void 0}if(lt=ot.__k)for(ct=0;ct<lt.length;ct++)lt[ct]&&q$1(lt[ct],rt,at||typeof ot.type!="function");at||ot.__e==null||v$2(ot.__e),ot.__=ot.__e=ot.__d=void 0}function B$2(ot,rt,at){return this.constructor(ot,at)}function D$2(ot,rt,at){var lt,ct,ut;l$2.__&&l$2.__(ot,rt),ct=(lt=typeof at=="function")?null:rt.__k,ut=[],M$1(rt,ot=(!lt&&at||rt).__k=y$1(_$1,null,[ot]),ct||c$2,c$2,rt.ownerSVGElement!==void 0,!lt&&at?[at]:ct?null:rt.firstChild?n$1.call(rt.childNodes):null,ut,!lt&&at?at:ct?ct.__e:rt.firstChild,lt),N$1(ut,ot)}function G$2(ot,rt){var at={__c:rt="__cC"+e$1++,__:ot,Consumer:function(lt,ct){return lt.children(ct)},Provider:function(lt){var ct,ut;return this.getChildContext||(ct=[],(ut={})[rt]=this,this.getChildContext=function(){return ut},this.shouldComponentUpdate=function(dt){this.props.value!==dt.value&&ct.some(function(ht){ht.__e=!0,T$2(ht)})},this.sub=function(dt){ct.push(dt);var ht=dt.componentWillUnmount;dt.componentWillUnmount=function(){ct.splice(ct.indexOf(dt),1),ht&&ht.call(dt)}}),lt.children}};return at.Provider.__=at.Consumer.contextType=at}n$1=s$1.slice,l$2={__e:function(ot,rt,at,lt){for(var ct,ut,dt;rt=rt.__;)if((ct=rt.__c)&&!ct.__)try{if((ut=ct.constructor)&&ut.getDerivedStateFromError!=null&&(ct.setState(ut.getDerivedStateFromError(ot)),dt=ct.__d),ct.componentDidCatch!=null&&(ct.componentDidCatch(ot,lt||{}),dt=ct.__d),dt)return ct.__E=ct}catch(ht){ot=ht}throw ot}},u$2=0,i$3=function(ot){return ot!=null&&ot.constructor===void 0},t$1=!1,x$2.prototype.setState=function(ot,rt){var at;at=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=h$1({},this.state),typeof ot=="function"&&(ot=ot(h$1({},at),this.props)),ot&&h$1(at,ot),ot!=null&&this.__v&&(rt&&this._sb.push(rt),T$2(this))},x$2.prototype.forceUpdate=function(ot){this.__v&&(this.__e=!0,ot&&this.__h.push(ot),T$2(this))},x$2.prototype.render=_$1,r$2=[],f$2=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$$2.__r=0,e$1=0;var r$1,u$1,i$2,f$1=[],c$1=[],e=l$2.__b,a=l$2.__r,v$1=l$2.diffed,l$1=l$2.__c,m$1=l$2.unmount;function b$1(){for(var ot;ot=f$1.shift();)if(ot.__P&&ot.__H)try{ot.__H.__h.forEach(k$1),ot.__H.__h.forEach(w$2),ot.__H.__h=[]}catch(rt){ot.__H.__h=[],l$2.__e(rt,ot.__v)}}l$2.__b=function(ot){r$1=null,e&&e(ot)},l$2.__r=function(ot){a&&a(ot);var rt=(r$1=ot.__c).__H;rt&&(u$1===r$1?(rt.__h=[],r$1.__h=[],rt.__.forEach(function(at){at.__N&&(at.__=at.__N),at.__V=c$1,at.__N=at.i=void 0})):(rt.__h.forEach(k$1),rt.__h.forEach(w$2),rt.__h=[])),u$1=r$1},l$2.diffed=function(ot){v$1&&v$1(ot);var rt=ot.__c;rt&&rt.__H&&(rt.__H.__h.length&&(f$1.push(rt)!==1&&i$2===l$2.requestAnimationFrame||((i$2=l$2.requestAnimationFrame)||j$2)(b$1)),rt.__H.__.forEach(function(at){at.i&&(at.__H=at.i),at.__V!==c$1&&(at.__=at.__V),at.i=void 0,at.__V=c$1})),u$1=r$1=null},l$2.__c=function(ot,rt){rt.some(function(at){try{at.__h.forEach(k$1),at.__h=at.__h.filter(function(lt){return!lt.__||w$2(lt)})}catch(lt){rt.some(function(ct){ct.__h&&(ct.__h=[])}),rt=[],l$2.__e(lt,at.__v)}}),l$1&&l$1(ot,rt)},l$2.unmount=function(ot){m$1&&m$1(ot);var rt,at=ot.__c;at&&at.__H&&(at.__H.__.forEach(function(lt){try{k$1(lt)}catch(ct){rt=ct}}),at.__H=void 0,rt&&l$2.__e(rt,at.__v))};var g$2=typeof requestAnimationFrame=="function";function j$2(ot){var rt,at=function(){clearTimeout(lt),g$2&&cancelAnimationFrame(rt),setTimeout(ot)},lt=setTimeout(at,100);g$2&&(rt=requestAnimationFrame(at))}function k$1(ot){var rt=r$1,at=ot.__c;typeof at=="function"&&(ot.__c=void 0,at()),r$1=rt}function w$2(ot){var rt=r$1;ot.__c=ot.__(),r$1=rt}function g$1(ot,rt){for(var at in rt)ot[at]=rt[at];return ot}function C$1(ot,rt){for(var at in ot)if(at!=="__source"&&!(at in rt))return!0;for(var lt in rt)if(lt!=="__source"&&ot[lt]!==rt[lt])return!0;return!1}function w$1(ot){this.props=ot}(w$1.prototype=new x$2).isPureReactComponent=!0,w$1.prototype.shouldComponentUpdate=function(ot,rt){return C$1(this.props,ot)||C$1(this.state,rt)};var x$1=l$2.__b;l$2.__b=function(ot){ot.type&&ot.type.__f&&ot.ref&&(ot.props.ref=ot.ref,ot.ref=null),x$1&&x$1(ot)};var T$1=l$2.__e;l$2.__e=function(ot,rt,at,lt){if(ot.then){for(var ct,ut=rt;ut=ut.__;)if((ct=ut.__c)&&ct.__c)return rt.__e==null&&(rt.__e=at.__e,rt.__k=at.__k),ct.__c(ot,rt)}T$1(ot,rt,at,lt)};var I$1=l$2.unmount;function L$1(ot,rt,at){return ot&&(ot.__c&&ot.__c.__H&&(ot.__c.__H.__.forEach(function(lt){typeof lt.__c=="function"&&lt.__c()}),ot.__c.__H=null),(ot=g$1({},ot)).__c!=null&&(ot.__c.__P===at&&(ot.__c.__P=rt),ot.__c=null),ot.__k=ot.__k&&ot.__k.map(function(lt){return L$1(lt,rt,at)})),ot}function U$1(ot,rt,at){return ot&&(ot.__v=null,ot.__k=ot.__k&&ot.__k.map(function(lt){return U$1(lt,rt,at)}),ot.__c&&ot.__c.__P===rt&&(ot.__e&&at.insertBefore(ot.__e,ot.__d),ot.__c.__e=!0,ot.__c.__P=at)),ot}function D$1(){this.__u=0,this.t=null,this.__b=null}function F$1(ot){var rt=ot.__.__c;return rt&&rt.__a&&rt.__a(ot)}function V$1(){this.u=null,this.o=null}l$2.unmount=function(ot){var rt=ot.__c;rt&&rt.__R&&rt.__R(),rt&&ot.__h===!0&&(ot.type=null),I$1&&I$1(ot)},(D$1.prototype=new x$2).__c=function(ot,rt){var at=rt.__c,lt=this;lt.t==null&&(lt.t=[]),lt.t.push(at);var ct=F$1(lt.__v),ut=!1,dt=function(){ut||(ut=!0,at.__R=null,ct?ct(ht):ht())};at.__R=dt;var ht=function(){if(!--lt.__u){if(lt.state.__a){var pt=lt.state.__a;lt.__v.__k[0]=U$1(pt,pt.__c.__P,pt.__c.__O)}var mt;for(lt.setState({__a:lt.__b=null});mt=lt.t.pop();)mt.forceUpdate()}},ft=rt.__h===!0;lt.__u++||ft||lt.setState({__a:lt.__b=lt.__v.__k[0]}),ot.then(dt,dt)},D$1.prototype.componentWillUnmount=function(){this.t=[]},D$1.prototype.render=function(ot,rt){if(this.__b){if(this.__v.__k){var at=document.createElement("div"),lt=this.__v.__k[0].__c;this.__v.__k[0]=L$1(this.__b,at,lt.__O=lt.__P)}this.__b=null}var ct=rt.__a&&y$1(_$1,null,ot.fallback);return ct&&(ct.__h=null),[y$1(_$1,null,rt.__a?null:ot.children),ct]};var W=function(ot,rt,at){if(++at[1]===at[0]&&ot.o.delete(rt),ot.props.revealOrder&&(ot.props.revealOrder[0]!=="t"||!ot.o.size))for(at=ot.u;at;){for(;at.length>3;)at.pop()();if(at[1]<at[0])break;ot.u=at=at[2]}};function P$1(ot){return this.getChildContext=function(){return ot.context},ot.children}function $$1(ot){var rt=this,at=ot.i;rt.componentWillUnmount=function(){D$2(null,rt.l),rt.l=null,rt.i=null},rt.i&&rt.i!==at&&rt.componentWillUnmount(),ot.__v?(rt.l||(rt.i=at,rt.l={nodeType:1,parentNode:at,childNodes:[],appendChild:function(lt){this.childNodes.push(lt),rt.i.appendChild(lt)},insertBefore:function(lt,ct){this.childNodes.push(lt),rt.i.appendChild(lt)},removeChild:function(lt){this.childNodes.splice(this.childNodes.indexOf(lt)>>>1,1),rt.i.removeChild(lt)}}),D$2(y$1(P$1,{context:rt.context},ot.__v),rt.l)):rt.l&&rt.componentWillUnmount()}function j$1(ot,rt){var at=y$1($$1,{__v:ot,i:rt});return at.containerInfo=rt,at}(V$1.prototype=new x$2).__a=function(ot){var rt=this,at=F$1(rt.__v),lt=rt.o.get(ot);return lt[0]++,function(ct){var ut=function(){rt.props.revealOrder?(lt.push(ct),W(rt,ot,lt)):ct()};at?at(ut):ut()}},V$1.prototype.render=function(ot){this.u=null,this.o=new Map;var rt=j$3(ot.children);ot.revealOrder&&ot.revealOrder[0]==="b"&&rt.reverse();for(var at=rt.length;at--;)this.o.set(rt[at],this.u=[1,0,this.u]);return ot.children},V$1.prototype.componentDidUpdate=V$1.prototype.componentDidMount=function(){var ot=this;this.o.forEach(function(rt,at){W(ot,at,rt)})};var z=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,B$1=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H$1=typeof document<"u",Z$1=function(ot){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(ot)};x$2.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ot){Object.defineProperty(x$2.prototype,ot,{configurable:!0,get:function(){return this["UNSAFE_"+ot]},set:function(rt){Object.defineProperty(this,ot,{configurable:!0,writable:!0,value:rt})}})});var G$1=l$2.event;function J$1(){}function K$1(){return this.cancelBubble}function Q$1(){return this.defaultPrevented}l$2.event=function(ot){return G$1&&(ot=G$1(ot)),ot.persist=J$1,ot.isPropagationStopped=K$1,ot.isDefaultPrevented=Q$1,ot.nativeEvent=ot};var nn={configurable:!0,get:function(){return this.class}},tn=l$2.vnode;l$2.vnode=function(ot){var rt=ot.type,at=ot.props,lt=at;if(typeof rt=="string"){var ct=rt.indexOf("-")===-1;for(var ut in lt={},at){var dt=at[ut];H$1&&ut==="children"&&rt==="noscript"||ut==="value"&&"defaultValue"in at&&dt==null||(ut==="defaultValue"&&"value"in at&&at.value==null?ut="value":ut==="download"&&dt===!0?dt="":/ondoubleclick/i.test(ut)?ut="ondblclick":/^onchange(textarea|input)/i.test(ut+rt)&&!Z$1(at.type)?ut="oninput":/^onfocus$/i.test(ut)?ut="onfocusin":/^onblur$/i.test(ut)?ut="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(ut)?ut=ut.toLowerCase():ct&&B$1.test(ut)?ut=ut.replace(/[A-Z0-9]/g,"-$&").toLowerCase():dt===null&&(dt=void 0),/^oninput$/i.test(ut)&&(ut=ut.toLowerCase(),lt[ut]&&(ut="oninputCapture")),lt[ut]=dt)}rt=="select"&&lt.multiple&&Array.isArray(lt.value)&&(lt.value=j$3(at.children).forEach(function(ht){ht.props.selected=lt.value.indexOf(ht.props.value)!=-1})),rt=="select"&&lt.defaultValue!=null&&(lt.value=j$3(at.children).forEach(function(ht){ht.props.selected=lt.multiple?lt.defaultValue.indexOf(ht.props.value)!=-1:lt.defaultValue==ht.props.value})),ot.props=lt,at.class!=at.className&&(nn.enumerable="className"in at,at.className!=null&&(lt.class=at.className),Object.defineProperty(lt,"className",nn))}ot.$$typeof=z,tn&&tn(ot)};var en=l$2.__r;l$2.__r=function(ot){en&&en(ot),ot.__c};const styleTexts=[],styleEls=new Map;function injectStyles(ot){styleTexts.push(ot),styleEls.forEach(rt=>{appendStylesTo(rt,ot)})}function ensureElHasStyles(ot){ot.isConnected&&ot.getRootNode&&registerStylesRoot(ot.getRootNode())}function registerStylesRoot(ot){let rt=styleEls.get(ot);if(!rt||!rt.isConnected){if(rt=ot.querySelector("style[data-fullcalendar]"),!rt){rt=document.createElement("style"),rt.setAttribute("data-fullcalendar","");const at=getNonceValue();at&&(rt.nonce=at);const lt=ot===document?document.head:ot,ct=ot===document?lt.querySelector("script,link[rel=stylesheet],link[as=style],style"):lt.firstChild;lt.insertBefore(rt,ct)}styleEls.set(ot,rt),hydrateStylesRoot(rt)}}function hydrateStylesRoot(ot){for(const rt of styleTexts)appendStylesTo(ot,rt)}function appendStylesTo(ot,rt){const{sheet:at}=ot,lt=at.cssRules.length;rt.split("}").forEach((ct,ut)=>{ct=ct.trim(),ct&&at.insertRule(ct+"}",lt+ut)})}let queriedNonceValue;function getNonceValue(){return queriedNonceValue===void 0&&(queriedNonceValue=queryNonceValue()),queriedNonceValue}function queryNonceValue(){const ot=document.querySelector('meta[name="csp-nonce"]');if(ot&&ot.hasAttribute("content"))return ot.getAttribute("content");const rt=document.querySelector("script[nonce]");return rt&&rt.nonce||""}typeof document<"u"&&registerStylesRoot(document);var css_248z$2=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';injectStyles(css_248z$2);class DelayedRunner{constructor(rt){this.drainedOption=rt,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(rt){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),rt==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),rt))}pause(rt=""){let{pauseDepths:at}=this;at[rt]=(at[rt]||0)+1,this.clearTimeout()}resume(rt="",at){let{pauseDepths:lt}=this;rt in lt&&(at?delete lt[rt]:(lt[rt]-=1,lt[rt]<=0&&delete lt[rt]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function removeElement(ot){ot.parentNode&&ot.parentNode.removeChild(ot)}function elementClosest(ot,rt){if(ot.closest)return ot.closest(rt);if(!document.documentElement.contains(ot))return null;do{if(elementMatches(ot,rt))return ot;ot=ot.parentElement||ot.parentNode}while(ot!==null&&ot.nodeType===1);return null}function elementMatches(ot,rt){return(ot.matches||ot.matchesSelector||ot.msMatchesSelector).call(ot,rt)}function findElements(ot,rt){let at=ot instanceof HTMLElement?[ot]:ot,lt=[];for(let ct=0;ct<at.length;ct+=1){let ut=at[ct].querySelectorAll(rt);for(let dt=0;dt<ut.length;dt+=1)lt.push(ut[dt])}return lt}const PIXEL_PROP_RE=/(top|left|right|bottom|width|height)$/i;function applyStyle(ot,rt){for(let at in rt)applyStyleProp(ot,at,rt[at])}function applyStyleProp(ot,rt,at){at==null?ot.style[rt]="":typeof at=="number"&&PIXEL_PROP_RE.test(rt)?ot.style[rt]=`${at}px`:ot.style[rt]=at}function getEventTargetViaRoot(ot){var rt,at;return(at=(rt=ot.composedPath)===null||rt===void 0?void 0:rt.call(ot)[0])!==null&&at!==void 0?at:ot.target}let guid$1=0;function getUniqueDomId(){return guid$1+=1,"fc-dom-"+guid$1}function preventDefault(ot){ot.preventDefault()}function buildDelegationHandler(ot,rt){return at=>{let lt=elementClosest(at.target,ot);lt&&rt.call(lt,at,lt)}}function listenBySelector(ot,rt,at,lt){let ct=buildDelegationHandler(at,lt);return ot.addEventListener(rt,ct),()=>{ot.removeEventListener(rt,ct)}}function listenToHoverBySelector(ot,rt,at,lt){let ct;return listenBySelector(ot,"mouseover",rt,(ut,dt)=>{if(dt!==ct){ct=dt,at(ut,dt);let ht=ft=>{ct=null,lt(ft,dt),dt.removeEventListener("mouseleave",ht)};dt.addEventListener("mouseleave",ht)}})}const transitionEventNames=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function whenTransitionDone(ot,rt){let at=lt=>{rt(lt),transitionEventNames.forEach(ct=>{ot.removeEventListener(ct,at)})};transitionEventNames.forEach(lt=>{ot.addEventListener(lt,at)})}function createAriaClickAttrs(ot){return Object.assign({onClick:ot},createAriaKeyboardAttrs(ot))}function createAriaKeyboardAttrs(ot){return{tabIndex:0,onKeyDown(rt){(rt.key==="Enter"||rt.key===" ")&&(ot(rt),rt.preventDefault())}}}let guidNumber=0;function guid(){return guidNumber+=1,String(guidNumber)}function disableCursor(){document.body.classList.add("fc-not-allowed")}function enableCursor(){document.body.classList.remove("fc-not-allowed")}function preventSelection(ot){ot.style.userSelect="none",ot.style.webkitUserSelect="none",ot.addEventListener("selectstart",preventDefault)}function allowSelection(ot){ot.style.userSelect="",ot.style.webkitUserSelect="",ot.removeEventListener("selectstart",preventDefault)}function preventContextMenu(ot){ot.addEventListener("contextmenu",preventDefault)}function allowContextMenu(ot){ot.removeEventListener("contextmenu",preventDefault)}function parseFieldSpecs(ot){let rt=[],at=[],lt,ct;for(typeof ot=="string"?at=ot.split(/\s*,\s*/):typeof ot=="function"?at=[ot]:Array.isArray(ot)&&(at=ot),lt=0;lt<at.length;lt+=1)ct=at[lt],typeof ct=="string"?rt.push(ct.charAt(0)==="-"?{field:ct.substring(1),order:-1}:{field:ct,order:1}):typeof ct=="function"&&rt.push({func:ct});return rt}function compareByFieldSpecs(ot,rt,at){let lt,ct;for(lt=0;lt<at.length;lt+=1)if(ct=compareByFieldSpec(ot,rt,at[lt]),ct)return ct;return 0}function compareByFieldSpec(ot,rt,at){return at.func?at.func(ot,rt):flexibleCompare(ot[at.field],rt[at.field])*(at.order||1)}function flexibleCompare(ot,rt){return!ot&&!rt?0:rt==null?-1:ot==null?1:typeof ot=="string"||typeof rt=="string"?String(ot).localeCompare(String(rt)):ot-rt}function padStart(ot,rt){let at=String(ot);return"000".substr(0,rt-at.length)+at}function formatWithOrdinals(ot,rt,at){return typeof ot=="function"?ot(...rt):typeof ot=="string"?rt.reduce((lt,ct,ut)=>lt.replace("$"+ut,ct||""),ot):at}function compareNumbers(ot,rt){return ot-rt}function isInt(ot){return ot%1===0}function computeSmallestCellWidth(ot){let rt=ot.querySelector(".fc-scrollgrid-shrink-frame"),at=ot.querySelector(".fc-scrollgrid-shrink-cushion");if(!rt)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!at)throw new Error("needs fc-scrollgrid-shrink-cushion className");return ot.getBoundingClientRect().width-rt.getBoundingClientRect().width+at.getBoundingClientRect().width}const INTERNAL_UNITS=["years","months","days","milliseconds"],PARSE_RE=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function createDuration(ot,rt){return typeof ot=="string"?parseString(ot):typeof ot=="object"&&ot?parseObject(ot):typeof ot=="number"?parseObject({[rt||"milliseconds"]:ot}):null}function parseString(ot){let rt=PARSE_RE.exec(ot);if(rt){let at=rt[1]?-1:1;return{years:0,months:0,days:at*(rt[2]?parseInt(rt[2],10):0),milliseconds:at*((rt[3]?parseInt(rt[3],10):0)*60*60*1e3+(rt[4]?parseInt(rt[4],10):0)*60*1e3+(rt[5]?parseInt(rt[5],10):0)*1e3+(rt[6]?parseInt(rt[6],10):0))}}return null}function parseObject(ot){let rt={years:ot.years||ot.year||0,months:ot.months||ot.month||0,days:ot.days||ot.day||0,milliseconds:(ot.hours||ot.hour||0)*60*60*1e3+(ot.minutes||ot.minute||0)*60*1e3+(ot.seconds||ot.second||0)*1e3+(ot.milliseconds||ot.millisecond||ot.ms||0)},at=ot.weeks||ot.week;return at&&(rt.days+=at*7,rt.specifiedWeeks=!0),rt}function durationsEqual(ot,rt){return ot.years===rt.years&&ot.months===rt.months&&ot.days===rt.days&&ot.milliseconds===rt.milliseconds}function addDurations(ot,rt){return{years:ot.years+rt.years,months:ot.months+rt.months,days:ot.days+rt.days,milliseconds:ot.milliseconds+rt.milliseconds}}function subtractDurations(ot,rt){return{years:ot.years-rt.years,months:ot.months-rt.months,days:ot.days-rt.days,milliseconds:ot.milliseconds-rt.milliseconds}}function multiplyDuration(ot,rt){return{years:ot.years*rt,months:ot.months*rt,days:ot.days*rt,milliseconds:ot.milliseconds*rt}}function asRoughYears(ot){return asRoughDays(ot)/365}function asRoughMonths(ot){return asRoughDays(ot)/30}function asRoughDays(ot){return asRoughMs(ot)/864e5}function asRoughMs(ot){return ot.years*(365*864e5)+ot.months*(30*864e5)+ot.days*864e5+ot.milliseconds}function wholeDivideDurations(ot,rt){let at=null;for(let lt=0;lt<INTERNAL_UNITS.length;lt+=1){let ct=INTERNAL_UNITS[lt];if(rt[ct]){let ut=ot[ct]/rt[ct];if(!isInt(ut)||at!==null&&at!==ut)return null;at=ut}else if(ot[ct])return null}return at}function greatestDurationDenominator(ot){let rt=ot.milliseconds;if(rt){if(rt%1e3!==0)return{unit:"millisecond",value:rt};if(rt%(1e3*60)!==0)return{unit:"second",value:rt/1e3};if(rt%(1e3*60*60)!==0)return{unit:"minute",value:rt/(1e3*60)};if(rt)return{unit:"hour",value:rt/(1e3*60*60)}}return ot.days?ot.specifiedWeeks&&ot.days%7===0?{unit:"week",value:ot.days/7}:{unit:"day",value:ot.days}:ot.months?{unit:"month",value:ot.months}:ot.years?{unit:"year",value:ot.years}:{unit:"millisecond",value:0}}function isArraysEqual(ot,rt,at){if(ot===rt)return!0;let lt=ot.length,ct;if(lt!==rt.length)return!1;for(ct=0;ct<lt;ct+=1)if(!(at?at(ot[ct],rt[ct]):ot[ct]===rt[ct]))return!1;return!0}const DAY_IDS=["sun","mon","tue","wed","thu","fri","sat"];function addWeeks(ot,rt){let at=dateToUtcArray(ot);return at[2]+=rt*7,arrayToUtcDate(at)}function addDays(ot,rt){let at=dateToUtcArray(ot);return at[2]+=rt,arrayToUtcDate(at)}function addMs(ot,rt){let at=dateToUtcArray(ot);return at[6]+=rt,arrayToUtcDate(at)}function diffWeeks(ot,rt){return diffDays(ot,rt)/7}function diffDays(ot,rt){return(rt.valueOf()-ot.valueOf())/(1e3*60*60*24)}function diffHours(ot,rt){return(rt.valueOf()-ot.valueOf())/(1e3*60*60)}function diffMinutes(ot,rt){return(rt.valueOf()-ot.valueOf())/(1e3*60)}function diffSeconds(ot,rt){return(rt.valueOf()-ot.valueOf())/1e3}function diffDayAndTime(ot,rt){let at=startOfDay(ot),lt=startOfDay(rt);return{years:0,months:0,days:Math.round(diffDays(at,lt)),milliseconds:rt.valueOf()-lt.valueOf()-(ot.valueOf()-at.valueOf())}}function diffWholeWeeks(ot,rt){let at=diffWholeDays(ot,rt);return at!==null&&at%7===0?at/7:null}function diffWholeDays(ot,rt){return timeAsMs(ot)===timeAsMs(rt)?Math.round(diffDays(ot,rt)):null}function startOfDay(ot){return arrayToUtcDate([ot.getUTCFullYear(),ot.getUTCMonth(),ot.getUTCDate()])}function startOfHour(ot){return arrayToUtcDate([ot.getUTCFullYear(),ot.getUTCMonth(),ot.getUTCDate(),ot.getUTCHours()])}function startOfMinute(ot){return arrayToUtcDate([ot.getUTCFullYear(),ot.getUTCMonth(),ot.getUTCDate(),ot.getUTCHours(),ot.getUTCMinutes()])}function startOfSecond(ot){return arrayToUtcDate([ot.getUTCFullYear(),ot.getUTCMonth(),ot.getUTCDate(),ot.getUTCHours(),ot.getUTCMinutes(),ot.getUTCSeconds()])}function weekOfYear(ot,rt,at){let lt=ot.getUTCFullYear(),ct=weekOfGivenYear(ot,lt,rt,at);if(ct<1)return weekOfGivenYear(ot,lt-1,rt,at);let ut=weekOfGivenYear(ot,lt+1,rt,at);return ut>=1?Math.min(ct,ut):ct}function weekOfGivenYear(ot,rt,at,lt){let ct=arrayToUtcDate([rt,0,1+firstWeekOffset(rt,at,lt)]),ut=startOfDay(ot),dt=Math.round(diffDays(ct,ut));return Math.floor(dt/7)+1}function firstWeekOffset(ot,rt,at){let lt=7+rt-at;return-((7+arrayToUtcDate([ot,0,lt]).getUTCDay()-rt)%7)+lt-1}function dateToLocalArray(ot){return[ot.getFullYear(),ot.getMonth(),ot.getDate(),ot.getHours(),ot.getMinutes(),ot.getSeconds(),ot.getMilliseconds()]}function arrayToLocalDate(ot){return new Date(ot[0],ot[1]||0,ot[2]==null?1:ot[2],ot[3]||0,ot[4]||0,ot[5]||0)}function dateToUtcArray(ot){return[ot.getUTCFullYear(),ot.getUTCMonth(),ot.getUTCDate(),ot.getUTCHours(),ot.getUTCMinutes(),ot.getUTCSeconds(),ot.getUTCMilliseconds()]}function arrayToUtcDate(ot){return ot.length===1&&(ot=ot.concat([0])),new Date(Date.UTC(...ot))}function isValidDate(ot){return!isNaN(ot.valueOf())}function timeAsMs(ot){return ot.getUTCHours()*1e3*60*60+ot.getUTCMinutes()*1e3*60+ot.getUTCSeconds()*1e3+ot.getUTCMilliseconds()}function buildIsoString(ot,rt,at=!1){let lt=ot.toISOString();return lt=lt.replace(".000",""),at&&(lt=lt.replace("T00:00:00Z","")),lt.length>10&&(rt==null?lt=lt.replace("Z",""):rt!==0&&(lt=lt.replace("Z",formatTimeZoneOffset(rt,!0)))),lt}function formatDayString(ot){return ot.toISOString().replace(/T.*$/,"")}function formatIsoMonthStr(ot){return ot.toISOString().match(/^\d{4}-\d{2}/)[0]}function formatIsoTimeString(ot){return padStart(ot.getUTCHours(),2)+":"+padStart(ot.getUTCMinutes(),2)+":"+padStart(ot.getUTCSeconds(),2)}function formatTimeZoneOffset(ot,rt=!1){let at=ot<0?"-":"+",lt=Math.abs(ot),ct=Math.floor(lt/60),ut=Math.round(lt%60);return rt?`${at+padStart(ct,2)}:${padStart(ut,2)}`:`GMT${at}${ct}${ut?`:${padStart(ut,2)}`:""}`}function memoize(ot,rt,at){let lt,ct;return function(...ut){if(!lt)ct=ot.apply(this,ut);else if(!isArraysEqual(lt,ut)){let dt=ot.apply(this,ut);(!rt||!rt(dt,ct))&&(ct=dt)}return lt=ut,ct}}function memoizeObjArg(ot,rt,at){let lt,ct;return ut=>(lt?isPropsEqual(lt,ut)||(ct=ot.call(this,ut)):ct=ot.call(this,ut),lt=ut,ct)}const EXTENDED_SETTINGS_AND_SEVERITIES={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},STANDARD_DATE_PROP_SEVERITIES={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},MERIDIEM_RE=/\s*([ap])\.?m\.?/i,COMMA_RE=/,/g,MULTI_SPACE_RE=/\s+/g,LTR_RE=/\u200e/g,UTC_RE=/UTC|GMT/;class NativeFormatter{constructor(rt){let at={},lt={},ct=0;for(let ut in rt)ut in EXTENDED_SETTINGS_AND_SEVERITIES?(lt[ut]=rt[ut],ct=Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[ut],ct)):(at[ut]=rt[ut],ut in STANDARD_DATE_PROP_SEVERITIES&&(ct=Math.max(STANDARD_DATE_PROP_SEVERITIES[ut],ct)));this.standardDateProps=at,this.extendedSettings=lt,this.severity=ct,this.buildFormattingFunc=memoize(buildFormattingFunc)}format(rt,at){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,at)(rt)}formatRange(rt,at,lt,ct){let{standardDateProps:ut,extendedSettings:dt}=this,ht=computeMarkerDiffSeverity(rt.marker,at.marker,lt.calendarSystem);if(!ht)return this.format(rt,lt);let ft=ht;ft>1&&(ut.year==="numeric"||ut.year==="2-digit")&&(ut.month==="numeric"||ut.month==="2-digit")&&(ut.day==="numeric"||ut.day==="2-digit")&&(ft=1);let pt=this.format(rt,lt),mt=this.format(at,lt);if(pt===mt)return pt;let gt=computePartialFormattingOptions(ut,ft),yt=buildFormattingFunc(gt,dt,lt),xt=yt(rt),bt=yt(at),Et=findCommonInsertion(pt,xt,mt,bt),Rt=dt.separator||ct||lt.defaultSeparator||"";return Et?Et.before+xt+Rt+bt+Et.after:pt+Rt+mt}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function buildFormattingFunc(ot,rt,at){let lt=Object.keys(ot).length;return lt===1&&ot.timeZoneName==="short"?ct=>formatTimeZoneOffset(ct.timeZoneOffset):lt===0&&rt.week?ct=>formatWeekNumber(at.computeWeekNumber(ct.marker),at.weekText,at.weekTextLong,at.locale,rt.week):buildNativeFormattingFunc(ot,rt,at)}function buildNativeFormattingFunc(ot,rt,at){ot=Object.assign({},ot),rt=Object.assign({},rt),sanitizeSettings(ot,rt),ot.timeZone="UTC";let lt=new Intl.DateTimeFormat(at.locale.codes,ot),ct;if(rt.omitZeroMinute){let ut=Object.assign({},ot);delete ut.minute,ct=new Intl.DateTimeFormat(at.locale.codes,ut)}return ut=>{let{marker:dt}=ut,ht;ct&&!dt.getUTCMinutes()?ht=ct:ht=lt;let ft=ht.format(dt);return postProcess(ft,ut,ot,rt,at)}}function sanitizeSettings(ot,rt){ot.timeZoneName&&(ot.hour||(ot.hour="2-digit"),ot.minute||(ot.minute="2-digit")),ot.timeZoneName==="long"&&(ot.timeZoneName="short"),rt.omitZeroMinute&&(ot.second||ot.millisecond)&&delete rt.omitZeroMinute}function postProcess(ot,rt,at,lt,ct){return ot=ot.replace(LTR_RE,""),at.timeZoneName==="short"&&(ot=injectTzoStr(ot,ct.timeZone==="UTC"||rt.timeZoneOffset==null?"UTC":formatTimeZoneOffset(rt.timeZoneOffset))),lt.omitCommas&&(ot=ot.replace(COMMA_RE,"").trim()),lt.omitZeroMinute&&(ot=ot.replace(":00","")),lt.meridiem===!1?ot=ot.replace(MERIDIEM_RE,"").trim():lt.meridiem==="narrow"?ot=ot.replace(MERIDIEM_RE,(ut,dt)=>dt.toLocaleLowerCase()):lt.meridiem==="short"?ot=ot.replace(MERIDIEM_RE,(ut,dt)=>`${dt.toLocaleLowerCase()}m`):lt.meridiem==="lowercase"&&(ot=ot.replace(MERIDIEM_RE,ut=>ut.toLocaleLowerCase())),ot=ot.replace(MULTI_SPACE_RE," "),ot=ot.trim(),ot}function injectTzoStr(ot,rt){let at=!1;return ot=ot.replace(UTC_RE,()=>(at=!0,rt)),at||(ot+=` ${rt}`),ot}function formatWeekNumber(ot,rt,at,lt,ct){let ut=[];return ct==="long"?ut.push(at):(ct==="short"||ct==="narrow")&&ut.push(rt),(ct==="long"||ct==="short")&&ut.push(" "),ut.push(lt.simpleNumberFormat.format(ot)),lt.options.direction==="rtl"&&ut.reverse(),ut.join("")}function computeMarkerDiffSeverity(ot,rt,at){return at.getMarkerYear(ot)!==at.getMarkerYear(rt)?5:at.getMarkerMonth(ot)!==at.getMarkerMonth(rt)?4:at.getMarkerDay(ot)!==at.getMarkerDay(rt)?2:timeAsMs(ot)!==timeAsMs(rt)?1:0}function computePartialFormattingOptions(ot,rt){let at={};for(let lt in ot)(!(lt in STANDARD_DATE_PROP_SEVERITIES)||STANDARD_DATE_PROP_SEVERITIES[lt]<=rt)&&(at[lt]=ot[lt]);return at}function findCommonInsertion(ot,rt,at,lt){let ct=0;for(;ct<ot.length;){let ut=ot.indexOf(rt,ct);if(ut===-1)break;let dt=ot.substr(0,ut);ct=ut+rt.length;let ht=ot.substr(ct),ft=0;for(;ft<at.length;){let pt=at.indexOf(lt,ft);if(pt===-1)break;let mt=at.substr(0,pt);ft=pt+lt.length;let gt=at.substr(ft);if(dt===mt&&ht===gt)return{before:dt,after:ht}}}return null}function expandZonedMarker(ot,rt){let at=rt.markerToArray(ot.marker);return{marker:ot.marker,timeZoneOffset:ot.timeZoneOffset,array:at,year:at[0],month:at[1],day:at[2],hour:at[3],minute:at[4],second:at[5],millisecond:at[6]}}function createVerboseFormattingArg(ot,rt,at,lt){let ct=expandZonedMarker(ot,at.calendarSystem),ut=rt?expandZonedMarker(rt,at.calendarSystem):null;return{date:ct,start:ct,end:ut,timeZone:at.timeZone,localeCodes:at.locale.codes,defaultSeparator:lt||at.defaultSeparator}}class CmdFormatter{constructor(rt){this.cmdStr=rt}format(rt,at,lt){return at.cmdFormatter(this.cmdStr,createVerboseFormattingArg(rt,null,at,lt))}formatRange(rt,at,lt,ct){return lt.cmdFormatter(this.cmdStr,createVerboseFormattingArg(rt,at,lt,ct))}}class FuncFormatter{constructor(rt){this.func=rt}format(rt,at,lt){return this.func(createVerboseFormattingArg(rt,null,at,lt))}formatRange(rt,at,lt,ct){return this.func(createVerboseFormattingArg(rt,at,lt,ct))}}function createFormatter(ot){return typeof ot=="object"&&ot?new NativeFormatter(ot):typeof ot=="string"?new CmdFormatter(ot):typeof ot=="function"?new FuncFormatter(ot):null}const BASE_OPTION_REFINERS={navLinkDayClick:identity,navLinkWeekClick:identity,duration:createDuration,bootstrapFontAwesome:identity,buttonIcons:identity,customButtons:identity,defaultAllDayEventDuration:createDuration,defaultTimedEventDuration:createDuration,nextDayThreshold:createDuration,scrollTime:createDuration,scrollTimeReset:Boolean,slotMinTime:createDuration,slotMaxTime:createDuration,dayPopoverFormat:createFormatter,slotDuration:createDuration,snapDuration:createDuration,headerToolbar:identity,footerToolbar:identity,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:createFormatter,dayHeaderClassNames:identity,dayHeaderContent:identity,dayHeaderDidMount:identity,dayHeaderWillUnmount:identity,dayCellClassNames:identity,dayCellContent:identity,dayCellDidMount:identity,dayCellWillUnmount:identity,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:identity,weekNumbers:Boolean,weekNumberClassNames:identity,weekNumberContent:identity,weekNumberDidMount:identity,weekNumberWillUnmount:identity,editable:Boolean,viewClassNames:identity,viewDidMount:identity,viewWillUnmount:identity,nowIndicator:Boolean,nowIndicatorClassNames:identity,nowIndicatorContent:identity,nowIndicatorDidMount:identity,nowIndicatorWillUnmount:identity,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:identity,locale:identity,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:identity,eventOrder:parseFieldSpecs,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:identity,contentHeight:identity,direction:String,weekNumberFormat:createFormatter,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:identity,initialDate:identity,now:identity,eventDataTransform:identity,stickyHeaderDates:identity,stickyFooterScrollbar:identity,viewHeight:identity,defaultAllDay:Boolean,eventSourceFailure:identity,eventSourceSuccess:identity,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:identity,eventConstraint:identity,eventAllow:identity,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:identity,eventContent:identity,eventDidMount:identity,eventWillUnmount:identity,selectConstraint:identity,selectOverlap:identity,selectAllow:identity,droppable:Boolean,unselectCancel:String,slotLabelFormat:identity,slotLaneClassNames:identity,slotLaneContent:identity,slotLaneDidMount:identity,slotLaneWillUnmount:identity,slotLabelClassNames:identity,slotLabelContent:identity,slotLabelDidMount:identity,slotLabelWillUnmount:identity,dayMaxEvents:identity,dayMaxEventRows:identity,dayMinWidth:Number,slotLabelInterval:createDuration,allDayText:String,allDayClassNames:identity,allDayContent:identity,allDayDidMount:identity,allDayWillUnmount:identity,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:createFormatter,rerenderDelay:Number,moreLinkText:identity,moreLinkHint:identity,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:identity,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:createDuration,hiddenDays:identity,fixedWeekCount:Boolean,validRange:identity,visibleRange:identity,titleFormat:identity,eventInteractive:Boolean,noEventsText:String,viewHint:identity,navLinkHint:identity,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:identity,moreLinkClassNames:identity,moreLinkContent:identity,moreLinkDidMount:identity,moreLinkWillUnmount:identity,monthStartFormat:createFormatter,handleCustomRendering:identity,customRenderingMetaMap:identity,customRenderingReplaces:Boolean},BASE_OPTION_DEFAULTS={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},CALENDAR_LISTENER_REFINERS={datesSet:identity,eventsSet:identity,eventAdd:identity,eventChange:identity,eventRemove:identity,windowResize:identity,eventClick:identity,eventMouseEnter:identity,eventMouseLeave:identity,select:identity,unselect:identity,loading:identity,_unmount:identity,_beforeprint:identity,_afterprint:identity,_noEventDrop:identity,_noEventResize:identity,_resize:identity,_scrollRequest:identity},CALENDAR_OPTION_REFINERS={buttonText:identity,buttonHints:identity,views:identity,plugins:identity,initialEvents:identity,events:identity,eventSources:identity},COMPLEX_OPTION_COMPARATORS={headerToolbar:isMaybeObjectsEqual,footerToolbar:isMaybeObjectsEqual,buttonText:isMaybeObjectsEqual,buttonHints:isMaybeObjectsEqual,buttonIcons:isMaybeObjectsEqual,dateIncrement:isMaybeObjectsEqual,plugins:isMaybeArraysEqual,events:isMaybeArraysEqual,eventSources:isMaybeArraysEqual,resources:isMaybeArraysEqual};function isMaybeObjectsEqual(ot,rt){return typeof ot=="object"&&typeof rt=="object"&&ot&&rt?isPropsEqual(ot,rt):ot===rt}function isMaybeArraysEqual(ot,rt){return Array.isArray(ot)&&Array.isArray(rt)?isArraysEqual(ot,rt):ot===rt}const VIEW_OPTION_REFINERS={type:String,component:identity,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:identity,usesMinMaxTime:Boolean,classNames:identity,content:identity,didMount:identity,willUnmount:identity};function mergeRawOptions(ot){return mergeProps(ot,COMPLEX_OPTION_COMPARATORS)}function refineProps(ot,rt){let at={},lt={};for(let ct in rt)ct in ot&&(at[ct]=rt[ct](ot[ct]));for(let ct in ot)ct in rt||(lt[ct]=ot[ct]);return{refined:at,extra:lt}}function identity(ot){return ot}const{hasOwnProperty}=Object.prototype;function mergeProps(ot,rt){let at={};if(rt){for(let lt in rt)if(rt[lt]===isMaybeObjectsEqual){let ct=[];for(let ut=ot.length-1;ut>=0;ut-=1){let dt=ot[ut][lt];if(typeof dt=="object"&&dt)ct.unshift(dt);else if(dt!==void 0){at[lt]=dt;break}}ct.length&&(at[lt]=mergeProps(ct))}}for(let lt=ot.length-1;lt>=0;lt-=1){let ct=ot[lt];for(let ut in ct)ut in at||(at[ut]=ct[ut])}return at}function filterHash(ot,rt){let at={};for(let lt in ot)rt(ot[lt],lt)&&(at[lt]=ot[lt]);return at}function mapHash(ot,rt){let at={};for(let lt in ot)at[lt]=rt(ot[lt],lt);return at}function arrayToHash(ot){let rt={};for(let at of ot)rt[at]=!0;return rt}function hashValuesToArray(ot){let rt=[];for(let at in ot)rt.push(ot[at]);return rt}function isPropsEqual(ot,rt){if(ot===rt)return!0;for(let at in ot)if(hasOwnProperty.call(ot,at)&&!(at in rt))return!1;for(let at in rt)if(hasOwnProperty.call(rt,at)&&ot[at]!==rt[at])return!1;return!0}const HANDLER_RE=/^on[A-Z]/;function isNonHandlerPropsEqual(ot,rt){const at=getUnequalProps(ot,rt);for(let lt of at)if(!HANDLER_RE.test(lt))return!1;return!0}function getUnequalProps(ot,rt){let at=[];for(let lt in ot)hasOwnProperty.call(ot,lt)&&(lt in rt||at.push(lt));for(let lt in rt)hasOwnProperty.call(rt,lt)&&ot[lt]!==rt[lt]&&at.push(lt);return at}function compareObjs(ot,rt,at={}){if(ot===rt)return!0;for(let lt in rt)if(!(lt in ot&&isObjValsEqual(ot[lt],rt[lt],at[lt])))return!1;for(let lt in ot)if(!(lt in rt))return!1;return!0}function isObjValsEqual(ot,rt,at){return ot===rt||at===!0?!0:at?at(ot,rt):!1}function collectFromHash(ot,rt=0,at,lt=1){let ct=[];at==null&&(at=Object.keys(ot).length);for(let ut=rt;ut<at;ut+=lt){let dt=ot[ut];dt!==void 0&&ct.push(dt)}return ct}let calendarSystemClassMap={};function registerCalendarSystem(ot,rt){calendarSystemClassMap[ot]=rt}function createCalendarSystem(ot){return new calendarSystemClassMap[ot]}class GregorianCalendarSystem{getMarkerYear(rt){return rt.getUTCFullYear()}getMarkerMonth(rt){return rt.getUTCMonth()}getMarkerDay(rt){return rt.getUTCDate()}arrayToMarker(rt){return arrayToUtcDate(rt)}markerToArray(rt){return dateToUtcArray(rt)}}registerCalendarSystem("gregory",GregorianCalendarSystem);const ISO_RE=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function parse(ot){let rt=ISO_RE.exec(ot);if(rt){let at=new Date(Date.UTC(Number(rt[1]),rt[3]?Number(rt[3])-1:0,Number(rt[5]||1),Number(rt[7]||0),Number(rt[8]||0),Number(rt[10]||0),rt[12]?+`0.${rt[12]}`*1e3:0));if(isValidDate(at)){let lt=null;return rt[13]&&(lt=(rt[15]==="-"?-1:1)*(Number(rt[16]||0)*60+Number(rt[18]||0))),{marker:at,isTimeUnspecified:!rt[6],timeZoneOffset:lt}}}return null}class DateEnv{constructor(rt){let at=this.timeZone=rt.timeZone,lt=at!=="local"&&at!=="UTC";rt.namedTimeZoneImpl&&lt&&(this.namedTimeZoneImpl=new rt.namedTimeZoneImpl(at)),this.canComputeOffset=!!(!lt||this.namedTimeZoneImpl),this.calendarSystem=createCalendarSystem(rt.calendarSystem),this.locale=rt.locale,this.weekDow=rt.locale.week.dow,this.weekDoy=rt.locale.week.doy,rt.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof rt.firstDay=="number"&&(this.weekDow=rt.firstDay),typeof rt.weekNumberCalculation=="function"&&(this.weekNumberFunc=rt.weekNumberCalculation),this.weekText=rt.weekText!=null?rt.weekText:rt.locale.options.weekText,this.weekTextLong=(rt.weekTextLong!=null?rt.weekTextLong:rt.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=rt.cmdFormatter,this.defaultSeparator=rt.defaultSeparator}createMarker(rt){let at=this.createMarkerMeta(rt);return at===null?null:at.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):arrayToUtcDate(dateToLocalArray(new Date))}createMarkerMeta(rt){if(typeof rt=="string")return this.parse(rt);let at=null;return typeof rt=="number"?at=this.timestampToMarker(rt):rt instanceof Date?(rt=rt.valueOf(),isNaN(rt)||(at=this.timestampToMarker(rt))):Array.isArray(rt)&&(at=arrayToUtcDate(rt)),at===null||!isValidDate(at)?null:{marker:at,isTimeUnspecified:!1,forcedTzo:null}}parse(rt){let at=parse(rt);if(at===null)return null;let{marker:lt}=at,ct=null;return at.timeZoneOffset!==null&&(this.canComputeOffset?lt=this.timestampToMarker(lt.valueOf()-at.timeZoneOffset*60*1e3):ct=at.timeZoneOffset),{marker:lt,isTimeUnspecified:at.isTimeUnspecified,forcedTzo:ct}}getYear(rt){return this.calendarSystem.getMarkerYear(rt)}getMonth(rt){return this.calendarSystem.getMarkerMonth(rt)}getDay(rt){return this.calendarSystem.getMarkerDay(rt)}add(rt,at){let lt=this.calendarSystem.markerToArray(rt);return lt[0]+=at.years,lt[1]+=at.months,lt[2]+=at.days,lt[6]+=at.milliseconds,this.calendarSystem.arrayToMarker(lt)}subtract(rt,at){let lt=this.calendarSystem.markerToArray(rt);return lt[0]-=at.years,lt[1]-=at.months,lt[2]-=at.days,lt[6]-=at.milliseconds,this.calendarSystem.arrayToMarker(lt)}addYears(rt,at){let lt=this.calendarSystem.markerToArray(rt);return lt[0]+=at,this.calendarSystem.arrayToMarker(lt)}addMonths(rt,at){let lt=this.calendarSystem.markerToArray(rt);return lt[1]+=at,this.calendarSystem.arrayToMarker(lt)}diffWholeYears(rt,at){let{calendarSystem:lt}=this;return timeAsMs(rt)===timeAsMs(at)&&lt.getMarkerDay(rt)===lt.getMarkerDay(at)&&lt.getMarkerMonth(rt)===lt.getMarkerMonth(at)?lt.getMarkerYear(at)-lt.getMarkerYear(rt):null}diffWholeMonths(rt,at){let{calendarSystem:lt}=this;return timeAsMs(rt)===timeAsMs(at)&&lt.getMarkerDay(rt)===lt.getMarkerDay(at)?lt.getMarkerMonth(at)-lt.getMarkerMonth(rt)+(lt.getMarkerYear(at)-lt.getMarkerYear(rt))*12:null}greatestWholeUnit(rt,at){let lt=this.diffWholeYears(rt,at);return lt!==null?{unit:"year",value:lt}:(lt=this.diffWholeMonths(rt,at),lt!==null?{unit:"month",value:lt}:(lt=diffWholeWeeks(rt,at),lt!==null?{unit:"week",value:lt}:(lt=diffWholeDays(rt,at),lt!==null?{unit:"day",value:lt}:(lt=diffHours(rt,at),isInt(lt)?{unit:"hour",value:lt}:(lt=diffMinutes(rt,at),isInt(lt)?{unit:"minute",value:lt}:(lt=diffSeconds(rt,at),isInt(lt)?{unit:"second",value:lt}:{unit:"millisecond",value:at.valueOf()-rt.valueOf()}))))))}countDurationsBetween(rt,at,lt){let ct;return lt.years&&(ct=this.diffWholeYears(rt,at),ct!==null)?ct/asRoughYears(lt):lt.months&&(ct=this.diffWholeMonths(rt,at),ct!==null)?ct/asRoughMonths(lt):lt.days&&(ct=diffWholeDays(rt,at),ct!==null)?ct/asRoughDays(lt):(at.valueOf()-rt.valueOf())/asRoughMs(lt)}startOf(rt,at){return at==="year"?this.startOfYear(rt):at==="month"?this.startOfMonth(rt):at==="week"?this.startOfWeek(rt):at==="day"?startOfDay(rt):at==="hour"?startOfHour(rt):at==="minute"?startOfMinute(rt):at==="second"?startOfSecond(rt):null}startOfYear(rt){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(rt)])}startOfMonth(rt){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(rt),this.calendarSystem.getMarkerMonth(rt)])}startOfWeek(rt){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(rt),this.calendarSystem.getMarkerMonth(rt),rt.getUTCDate()-(rt.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(rt){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(rt)):weekOfYear(rt,this.weekDow,this.weekDoy)}format(rt,at,lt={}){return at.format({marker:rt,timeZoneOffset:lt.forcedTzo!=null?lt.forcedTzo:this.offsetForMarker(rt)},this)}formatRange(rt,at,lt,ct={}){return ct.isEndExclusive&&(at=addMs(at,-1)),lt.formatRange({marker:rt,timeZoneOffset:ct.forcedStartTzo!=null?ct.forcedStartTzo:this.offsetForMarker(rt)},{marker:at,timeZoneOffset:ct.forcedEndTzo!=null?ct.forcedEndTzo:this.offsetForMarker(at)},this,ct.defaultSeparator)}formatIso(rt,at={}){let lt=null;return at.omitTimeZoneOffset||(at.forcedTzo!=null?lt=at.forcedTzo:lt=this.offsetForMarker(rt)),buildIsoString(rt,lt,at.omitTime)}timestampToMarker(rt){return this.timeZone==="local"?arrayToUtcDate(dateToLocalArray(new Date(rt))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(rt):arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(rt))}offsetForMarker(rt){return this.timeZone==="local"?-arrayToLocalDate(dateToUtcArray(rt)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(rt)):null}toDate(rt,at){return this.timeZone==="local"?arrayToLocalDate(dateToUtcArray(rt)):this.timeZone==="UTC"?new Date(rt.valueOf()):this.namedTimeZoneImpl?new Date(rt.valueOf()-this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(rt))*1e3*60):new Date(rt.valueOf()-(at||0))}}class Theme{constructor(rt){this.iconOverrideOption&&this.setIconOverride(rt[this.iconOverrideOption])}setIconOverride(rt){let at,lt;if(typeof rt=="object"&&rt){at=Object.assign({},this.iconClasses);for(lt in rt)at[lt]=this.applyIconOverridePrefix(rt[lt]);this.iconClasses=at}else rt===!1&&(this.iconClasses={})}applyIconOverridePrefix(rt){let at=this.iconOverridePrefix;return at&&rt.indexOf(at)!==0&&(rt=at+rt),rt}getClass(rt){return this.classes[rt]||""}getIconClass(rt,at){let lt;return at&&this.rtlIconClasses?lt=this.rtlIconClasses[rt]||this.iconClasses[rt]:lt=this.iconClasses[rt],lt?`${this.baseIconClass} ${lt}`:""}getCustomButtonIconClass(rt){let at;return this.iconOverrideCustomButtonOption&&(at=rt[this.iconOverrideCustomButtonOption],at)?`${this.baseIconClass} ${this.applyIconOverridePrefix(at)}`:""}}Theme.prototype.classes={};Theme.prototype.iconClasses={};Theme.prototype.baseIconClass="";Theme.prototype.iconOverridePrefix="";function flushSync(ot){ot();let rt=l$2.debounceRendering,at=[];function lt(ct){at.push(ct)}for(l$2.debounceRendering=lt,D$2(y$1(FakeComponent,{}),document.createElement("div"));at.length;)at.shift()();l$2.debounceRendering=rt}class FakeComponent extends x$2{render(){return y$1("div",{})}componentDidMount(){this.setState({})}}function createContext(ot){let rt=G$2(ot),at=rt.Provider;return rt.Provider=function(){let lt=!this.getChildContext,ct=at.apply(this,arguments);if(lt){let ut=[];this.shouldComponentUpdate=dt=>{this.props.value!==dt.value&&ut.forEach(ht=>{ht.context=dt.value,ht.forceUpdate()})},this.sub=dt=>{ut.push(dt);let ht=dt.componentWillUnmount;dt.componentWillUnmount=()=>{ut.splice(ut.indexOf(dt),1),ht&&ht.call(dt)}}}return ct},rt}class ScrollResponder{constructor(rt,at,lt,ct){this.execFunc=rt,this.emitter=at,this.scrollTime=lt,this.scrollTimeReset=ct,this.handleScrollRequest=ut=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},ut),this.drain()},at.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(rt){rt&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ViewContextType=createContext({});function buildViewContext(ot,rt,at,lt,ct,ut,dt,ht,ft,pt,mt,gt,yt){return{dateEnv:ct,options:at,pluginHooks:dt,emitter:pt,dispatch:ht,getCurrentData:ft,calendarApi:mt,viewSpec:ot,viewApi:rt,dateProfileGenerator:lt,theme:ut,isRtl:at.direction==="rtl",addResizeHandler(xt){pt.on("_resize",xt)},removeResizeHandler(xt){pt.off("_resize",xt)},createScrollResponder(xt){return new ScrollResponder(xt,pt,createDuration(at.scrollTime),at.scrollTimeReset)},registerInteractiveComponent:gt,unregisterInteractiveComponent:yt}}class PureComponent extends x$2{shouldComponentUpdate(rt,at){return this.debug&&console.log(getUnequalProps(rt,this.props),getUnequalProps(at,this.state)),!compareObjs(this.props,rt,this.propEquality)||!compareObjs(this.state,at,this.stateEquality)}safeSetState(rt){compareObjs(this.state,Object.assign(Object.assign({},this.state),rt),this.stateEquality)||this.setState(rt)}}PureComponent.addPropsEquality=addPropsEquality;PureComponent.addStateEquality=addStateEquality;PureComponent.contextType=ViewContextType;PureComponent.prototype.propEquality={};PureComponent.prototype.stateEquality={};class BaseComponent extends PureComponent{}BaseComponent.contextType=ViewContextType;function addPropsEquality(ot){let rt=Object.create(this.prototype.propEquality);Object.assign(rt,ot),this.prototype.propEquality=rt}function addStateEquality(ot){let rt=Object.create(this.prototype.stateEquality);Object.assign(rt,ot),this.prototype.stateEquality=rt}function setRef(ot,rt){typeof ot=="function"?ot(rt):ot&&(ot.current=rt)}class ContentInjector extends BaseComponent{constructor(){super(...arguments),this.id=guid(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=rt=>{const{options:at}=this.context,{generatorName:lt}=this.props;(!at.customRenderingReplaces||!hasCustomRenderingHandler(lt,at))&&this.updateElRef(rt)},this.updateElRef=rt=>{this.props.elRef&&setRef(this.props.elRef,rt)}}render(){const{props:rt,context:at}=this,{options:lt}=at,{customGenerator:ct,defaultGenerator:ut,renderProps:dt}=rt,ht=buildElAttrs(rt,[],this.handleEl);let ft=!1,pt,mt=[],gt;if(ct!=null){const yt=typeof ct=="function"?ct(dt,y$1):ct;if(yt===!0)ft=!0;else{const xt=yt&&typeof yt=="object";xt&&"html"in yt?ht.dangerouslySetInnerHTML={__html:yt.html}:xt&&"domNodes"in yt?mt=Array.prototype.slice.call(yt.domNodes):(xt?i$3(yt):typeof yt!="function")?pt=yt:gt=yt}}else ft=!hasCustomRenderingHandler(rt.generatorName,lt);return ft&&ut&&(pt=ut(dt)),this.queuedDomNodes=mt,this.currentGeneratorMeta=gt,y$1(rt.elTag,ht,pt)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(rt){var at;const{props:lt,context:ct}=this,{handleCustomRendering:ut,customRenderingMetaMap:dt}=ct.options;if(ut){const ht=(at=this.currentGeneratorMeta)!==null&&at!==void 0?at:dt==null?void 0:dt[lt.generatorName];ht&&ut(Object.assign(Object.assign({id:this.id,isActive:rt,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:ht},lt),{elClasses:(lt.elClasses||[]).filter(isTruthy)}))}}applyQueueudDomNodes(){const{queuedDomNodes:rt,currentDomNodes:at}=this,lt=this.base;if(!isArraysEqual(rt,at)){at.forEach(removeElement);for(let ct of rt)lt.appendChild(ct);this.currentDomNodes=rt}}}ContentInjector.addPropsEquality({elClasses:isArraysEqual,elStyle:isPropsEqual,elAttrs:isNonHandlerPropsEqual,renderProps:isPropsEqual});function hasCustomRenderingHandler(ot,rt){var at;return!!(rt.handleCustomRendering&&ot&&(!((at=rt.customRenderingMetaMap)===null||at===void 0)&&at[ot]))}function buildElAttrs(ot,rt,at){const lt=Object.assign(Object.assign({},ot.elAttrs),{ref:at});return(ot.elClasses||rt)&&(lt.className=(ot.elClasses||[]).concat(rt||[]).concat(lt.className||[]).filter(Boolean).join(" ")),ot.elStyle&&(lt.style=ot.elStyle),lt}function isTruthy(ot){return!!ot}const RenderId=createContext(0);class ContentContainer extends x$2{constructor(){super(...arguments),this.InnerContent=InnerContentInjector.bind(void 0,this),this.handleEl=rt=>{this.el=rt,this.props.elRef&&(setRef(this.props.elRef,rt),rt&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:rt}=this,at=generateClassNames(rt.classNameGenerator,rt.renderProps);if(rt.children){const lt=buildElAttrs(rt,at,this.handleEl),ct=rt.children(this.InnerContent,rt.renderProps,lt);return rt.elTag?y$1(rt.elTag,lt,ct):ct}else return y$1(ContentInjector,Object.assign(Object.assign({},rt),{elRef:this.handleEl,elTag:rt.elTag||"div",elClasses:(rt.elClasses||[]).concat(at),renderId:this.context}))}componentDidMount(){var rt,at;this.el?(at=(rt=this.props).didMount)===null||at===void 0||at.call(rt,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var rt,at;(at=(rt=this.props).willUnmount)===null||at===void 0||at.call(rt,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ContentContainer.contextType=RenderId;function InnerContentInjector(ot,rt){const at=ot.props;return y$1(ContentInjector,Object.assign({renderProps:at.renderProps,generatorName:at.generatorName,customGenerator:at.customGenerator,defaultGenerator:at.defaultGenerator,renderId:ot.context},rt))}function generateClassNames(ot,rt){const at=typeof ot=="function"?ot(rt):ot||[];return typeof at=="string"?[at]:at}class ViewContainer extends BaseComponent{render(){let{props:rt,context:at}=this,{options:lt}=at,ct={view:at.viewApi};return y$1(ContentContainer,Object.assign({},rt,{elTag:rt.elTag||"div",elClasses:[...buildViewClassNames(rt.viewSpec),...rt.elClasses||[]],renderProps:ct,classNameGenerator:lt.viewClassNames,generatorName:void 0,didMount:lt.viewDidMount,willUnmount:lt.viewWillUnmount}),()=>rt.children)}}function buildViewClassNames(ot){return[`fc-${ot.type}-view`,"fc-view"]}function parseRange(ot,rt){let at=null,lt=null;return ot.start&&(at=rt.createMarker(ot.start)),ot.end&&(lt=rt.createMarker(ot.end)),!at&&!lt||at&&lt&&lt<at?null:{start:at,end:lt}}function invertRanges(ot,rt){let at=[],{start:lt}=rt,ct,ut;for(ot.sort(compareRanges),ct=0;ct<ot.length;ct+=1)ut=ot[ct],ut.start>lt&&at.push({start:lt,end:ut.start}),ut.end>lt&&(lt=ut.end);return lt<rt.end&&at.push({start:lt,end:rt.end}),at}function compareRanges(ot,rt){return ot.start.valueOf()-rt.start.valueOf()}function intersectRanges(ot,rt){let{start:at,end:lt}=ot,ct=null;return rt.start!==null&&(at===null?at=rt.start:at=new Date(Math.max(at.valueOf(),rt.start.valueOf()))),rt.end!=null&&(lt===null?lt=rt.end:lt=new Date(Math.min(lt.valueOf(),rt.end.valueOf()))),(at===null||lt===null||at<lt)&&(ct={start:at,end:lt}),ct}function rangesEqual(ot,rt){return(ot.start===null?null:ot.start.valueOf())===(rt.start===null?null:rt.start.valueOf())&&(ot.end===null?null:ot.end.valueOf())===(rt.end===null?null:rt.end.valueOf())}function rangesIntersect(ot,rt){return(ot.end===null||rt.start===null||ot.end>rt.start)&&(ot.start===null||rt.end===null||ot.start<rt.end)}function rangeContainsRange(ot,rt){return(ot.start===null||rt.start!==null&&rt.start>=ot.start)&&(ot.end===null||rt.end!==null&&rt.end<=ot.end)}function rangeContainsMarker(ot,rt){return(ot.start===null||rt>=ot.start)&&(ot.end===null||rt<ot.end)}function constrainMarkerToRange(ot,rt){return rt.start!=null&&ot<rt.start?rt.start:rt.end!=null&&ot>=rt.end?new Date(rt.end.valueOf()-1):ot}function computeAlignedDayRange(ot){let rt=Math.floor(diffDays(ot.start,ot.end))||1,at=startOfDay(ot.start),lt=addDays(at,rt);return{start:at,end:lt}}function computeVisibleDayRange(ot,rt=createDuration(0)){let at=null,lt=null;if(ot.end){lt=startOfDay(ot.end);let ct=ot.end.valueOf()-lt.valueOf();ct&&ct>=asRoughMs(rt)&&(lt=addDays(lt,1))}return ot.start&&(at=startOfDay(ot.start),lt&&lt<=at&&(lt=addDays(at,1))),{start:at,end:lt}}function diffDates(ot,rt,at,lt){return lt==="year"?createDuration(at.diffWholeYears(ot,rt),"year"):lt==="month"?createDuration(at.diffWholeMonths(ot,rt),"month"):diffDayAndTime(ot,rt)}function reduceCurrentDate(ot,rt){switch(rt.type){case"CHANGE_DATE":return rt.dateMarker;default:return ot}}function getInitialDate(ot,rt){let at=ot.initialDate;return at!=null?rt.createMarker(at):getNow(ot.now,rt)}function getNow(ot,rt){return typeof ot=="function"&&(ot=ot()),ot==null?rt.createNowMarker():rt.createMarker(ot)}class DateProfileGenerator{constructor(rt){this.props=rt,this.nowDate=getNow(rt.nowInput,rt.dateEnv),this.initHiddenDays()}buildPrev(rt,at,lt){let{dateEnv:ct}=this.props,ut=ct.subtract(ct.startOf(at,rt.currentRangeUnit),rt.dateIncrement);return this.build(ut,-1,lt)}buildNext(rt,at,lt){let{dateEnv:ct}=this.props,ut=ct.add(ct.startOf(at,rt.currentRangeUnit),rt.dateIncrement);return this.build(ut,1,lt)}build(rt,at,lt=!0){let{props:ct}=this,ut,dt,ht,ft,pt,mt;return ut=this.buildValidRange(),ut=this.trimHiddenDays(ut),lt&&(rt=constrainMarkerToRange(rt,ut)),dt=this.buildCurrentRangeInfo(rt,at),ht=/^(year|month|week|day)$/.test(dt.unit),ft=this.buildRenderRange(this.trimHiddenDays(dt.range),dt.unit,ht),ft=this.trimHiddenDays(ft),pt=ft,ct.showNonCurrentDates||(pt=intersectRanges(pt,dt.range)),pt=this.adjustActiveRange(pt),pt=intersectRanges(pt,ut),mt=rangesIntersect(dt.range,ut),rangeContainsMarker(ft,rt)||(rt=ft.start),{currentDate:rt,validRange:ut,currentRange:dt.range,currentRangeUnit:dt.unit,isRangeAllDay:ht,activeRange:pt,renderRange:ft,slotMinTime:ct.slotMinTime,slotMaxTime:ct.slotMaxTime,isValid:mt,dateIncrement:this.buildDateIncrement(dt.duration)}}buildValidRange(){let rt=this.props.validRangeInput,at=typeof rt=="function"?rt.call(this.props.calendarApi,this.nowDate):rt;return this.refineRange(at)||{start:null,end:null}}buildCurrentRangeInfo(rt,at){let{props:lt}=this,ct=null,ut=null,dt=null,ht;return lt.duration?(ct=lt.duration,ut=lt.durationUnit,dt=this.buildRangeFromDuration(rt,at,ct,ut)):(ht=this.props.dayCount)?(ut="day",dt=this.buildRangeFromDayCount(rt,at,ht)):(dt=this.buildCustomVisibleRange(rt))?ut=lt.dateEnv.greatestWholeUnit(dt.start,dt.end).unit:(ct=this.getFallbackDuration(),ut=greatestDurationDenominator(ct).unit,dt=this.buildRangeFromDuration(rt,at,ct,ut)),{duration:ct,unit:ut,range:dt}}getFallbackDuration(){return createDuration({day:1})}adjustActiveRange(rt){let{dateEnv:at,usesMinMaxTime:lt,slotMinTime:ct,slotMaxTime:ut}=this.props,{start:dt,end:ht}=rt;return lt&&(asRoughDays(ct)<0&&(dt=startOfDay(dt),dt=at.add(dt,ct)),asRoughDays(ut)>1&&(ht=startOfDay(ht),ht=addDays(ht,-1),ht=at.add(ht,ut))),{start:dt,end:ht}}buildRangeFromDuration(rt,at,lt,ct){let{dateEnv:ut,dateAlignment:dt}=this.props,ht,ft,pt;if(!dt){let{dateIncrement:gt}=this.props;gt&&asRoughMs(gt)<asRoughMs(lt)?dt=greatestDurationDenominator(gt).unit:dt=ct}asRoughDays(lt)<=1&&this.isHiddenDay(ht)&&(ht=this.skipHiddenDays(ht,at),ht=startOfDay(ht));function mt(){ht=ut.startOf(rt,dt),ft=ut.add(ht,lt),pt={start:ht,end:ft}}return mt(),this.trimHiddenDays(pt)||(rt=this.skipHiddenDays(rt,at),mt()),pt}buildRangeFromDayCount(rt,at,lt){let{dateEnv:ct,dateAlignment:ut}=this.props,dt=0,ht=rt,ft;ut&&(ht=ct.startOf(ht,ut)),ht=startOfDay(ht),ht=this.skipHiddenDays(ht,at),ft=ht;do ft=addDays(ft,1),this.isHiddenDay(ft)||(dt+=1);while(dt<lt);return{start:ht,end:ft}}buildCustomVisibleRange(rt){let{props:at}=this,lt=at.visibleRangeInput,ct=typeof lt=="function"?lt.call(at.calendarApi,at.dateEnv.toDate(rt)):lt,ut=this.refineRange(ct);return ut&&(ut.start==null||ut.end==null)?null:ut}buildRenderRange(rt,at,lt){return rt}buildDateIncrement(rt){let{dateIncrement:at}=this.props,lt;return at||((lt=this.props.dateAlignment)?createDuration(1,lt):rt||createDuration({days:1}))}refineRange(rt){if(rt){let at=parseRange(rt,this.props.dateEnv);return at&&(at=computeVisibleDayRange(at)),at}return null}initHiddenDays(){let rt=this.props.hiddenDays||[],at=[],lt=0,ct;for(this.props.weekends===!1&&rt.push(0,6),ct=0;ct<7;ct+=1)(at[ct]=rt.indexOf(ct)!==-1)||(lt+=1);if(!lt)throw new Error("invalid hiddenDays");this.isHiddenDayHash=at}trimHiddenDays(rt){let{start:at,end:lt}=rt;return at&&(at=this.skipHiddenDays(at)),lt&&(lt=this.skipHiddenDays(lt,-1,!0)),at==null||lt==null||at<lt?{start:at,end:lt}:null}isHiddenDay(rt){return rt instanceof Date&&(rt=rt.getUTCDay()),this.isHiddenDayHash[rt]}skipHiddenDays(rt,at=1,lt=!1){for(;this.isHiddenDayHash[(rt.getUTCDay()+(lt?at:0)+7)%7];)rt=addDays(rt,at);return rt}}function createEventInstance(ot,rt,at,lt){return{instanceId:guid(),defId:ot,range:rt,forcedStartTzo:at??null,forcedEndTzo:lt??null}}function parseRecurring(ot,rt,at,lt){for(let ct=0;ct<lt.length;ct+=1){let ut=lt[ct].parse(ot,at);if(ut){let{allDay:dt}=ot;return dt==null&&(dt=rt,dt==null&&(dt=ut.allDayGuess,dt==null&&(dt=!1))),{allDay:dt,duration:ut.duration,typeData:ut.typeData,typeId:ct}}}return null}function expandRecurring(ot,rt,at){let{dateEnv:lt,pluginHooks:ct,options:ut}=at,{defs:dt,instances:ht}=ot;ht=filterHash(ht,ft=>!dt[ft.defId].recurringDef);for(let ft in dt){let pt=dt[ft];if(pt.recurringDef){let{duration:mt}=pt.recurringDef;mt||(mt=pt.allDay?ut.defaultAllDayEventDuration:ut.defaultTimedEventDuration);let gt=expandRecurringRanges(pt,mt,rt,lt,ct.recurringTypes);for(let yt of gt){let xt=createEventInstance(ft,{start:yt,end:lt.add(yt,mt)});ht[xt.instanceId]=xt}}}return{defs:dt,instances:ht}}function expandRecurringRanges(ot,rt,at,lt,ct){let dt=ct[ot.recurringDef.typeId].expand(ot.recurringDef.typeData,{start:lt.subtract(at.start,rt),end:at.end},lt);return ot.allDay&&(dt=dt.map(startOfDay)),dt}const EVENT_NON_DATE_REFINERS={id:String,groupId:String,title:String,url:String,interactive:Boolean},EVENT_DATE_REFINERS={start:identity,end:identity,date:identity,allDay:Boolean},EVENT_REFINERS=Object.assign(Object.assign(Object.assign({},EVENT_NON_DATE_REFINERS),EVENT_DATE_REFINERS),{extendedProps:identity});function parseEvent(ot,rt,at,lt,ct=buildEventRefiners(at),ut,dt){let{refined:ht,extra:ft}=refineEventDef(ot,at,ct),pt=computeIsDefaultAllDay(rt,at),mt=parseRecurring(ht,pt,at.dateEnv,at.pluginHooks.recurringTypes);if(mt){let yt=parseEventDef(ht,ft,rt?rt.sourceId:"",mt.allDay,!!mt.duration,at,ut);return yt.recurringDef={typeId:mt.typeId,typeData:mt.typeData,duration:mt.duration},{def:yt,instance:null}}let gt=parseSingle(ht,pt,at,lt);if(gt){let yt=parseEventDef(ht,ft,rt?rt.sourceId:"",gt.allDay,gt.hasEnd,at,ut),xt=createEventInstance(yt.defId,gt.range,gt.forcedStartTzo,gt.forcedEndTzo);return dt&&yt.publicId&&dt[yt.publicId]&&(xt.instanceId=dt[yt.publicId]),{def:yt,instance:xt}}return null}function refineEventDef(ot,rt,at=buildEventRefiners(rt)){return refineProps(ot,at)}function buildEventRefiners(ot){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_REFINERS),ot.pluginHooks.eventRefiners)}function parseEventDef(ot,rt,at,lt,ct,ut,dt){let ht={title:ot.title||"",groupId:ot.groupId||"",publicId:ot.id||"",url:ot.url||"",recurringDef:null,defId:(dt&&ot.id?dt[ot.id]:"")||guid(),sourceId:at,allDay:lt,hasEnd:ct,interactive:ot.interactive,ui:createEventUi(ot,ut),extendedProps:Object.assign(Object.assign({},ot.extendedProps||{}),rt)};for(let ft of ut.pluginHooks.eventDefMemberAdders)Object.assign(ht,ft(ot));return Object.freeze(ht.ui.classNames),Object.freeze(ht.extendedProps),ht}function parseSingle(ot,rt,at,lt){let{allDay:ct}=ot,ut,dt=null,ht=!1,ft,pt=null,mt=ot.start!=null?ot.start:ot.date;if(ut=at.dateEnv.createMarkerMeta(mt),ut)dt=ut.marker;else if(!lt)return null;return ot.end!=null&&(ft=at.dateEnv.createMarkerMeta(ot.end)),ct==null&&(rt!=null?ct=rt:ct=(!ut||ut.isTimeUnspecified)&&(!ft||ft.isTimeUnspecified)),ct&&dt&&(dt=startOfDay(dt)),ft&&(pt=ft.marker,ct&&(pt=startOfDay(pt)),dt&&pt<=dt&&(pt=null)),pt?ht=!0:lt||(ht=at.options.forceEventDuration||!1,pt=at.dateEnv.add(dt,ct?at.options.defaultAllDayEventDuration:at.options.defaultTimedEventDuration)),{allDay:ct,hasEnd:ht,range:{start:dt,end:pt},forcedStartTzo:ut?ut.forcedTzo:null,forcedEndTzo:ft?ft.forcedTzo:null}}function computeIsDefaultAllDay(ot,rt){let at=null;return ot&&(at=ot.defaultAllDay),at==null&&(at=rt.options.defaultAllDay),at}function parseEvents(ot,rt,at,lt,ct,ut){let dt=createEmptyEventStore(),ht=buildEventRefiners(at);for(let ft of ot){let pt=parseEvent(ft,rt,at,lt,ht,ct,ut);pt&&eventTupleToStore(pt,dt)}return dt}function eventTupleToStore(ot,rt=createEmptyEventStore()){return rt.defs[ot.def.defId]=ot.def,ot.instance&&(rt.instances[ot.instance.instanceId]=ot.instance),rt}function getRelevantEvents(ot,rt){let at=ot.instances[rt];if(at){let lt=ot.defs[at.defId],ct=filterEventStoreDefs(ot,ut=>isEventDefsGrouped(lt,ut));return ct.defs[lt.defId]=lt,ct.instances[at.instanceId]=at,ct}return createEmptyEventStore()}function isEventDefsGrouped(ot,rt){return!!(ot.groupId&&ot.groupId===rt.groupId)}function createEmptyEventStore(){return{defs:{},instances:{}}}function mergeEventStores(ot,rt){return{defs:Object.assign(Object.assign({},ot.defs),rt.defs),instances:Object.assign(Object.assign({},ot.instances),rt.instances)}}function filterEventStoreDefs(ot,rt){let at=filterHash(ot.defs,rt),lt=filterHash(ot.instances,ct=>at[ct.defId]);return{defs:at,instances:lt}}function excludeSubEventStore(ot,rt){let{defs:at,instances:lt}=ot,ct={},ut={};for(let dt in at)rt.defs[dt]||(ct[dt]=at[dt]);for(let dt in lt)!rt.instances[dt]&&ct[lt[dt].defId]&&(ut[dt]=lt[dt]);return{defs:ct,instances:ut}}function normalizeConstraint(ot,rt){return Array.isArray(ot)?parseEvents(ot,null,rt,!0):typeof ot=="object"&&ot?parseEvents([ot],null,rt,!0):ot!=null?String(ot):null}function parseClassNames(ot){return Array.isArray(ot)?ot:typeof ot=="string"?ot.split(/\s+/):[]}const EVENT_UI_REFINERS={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:identity,overlap:identity,allow:identity,className:parseClassNames,classNames:parseClassNames,color:String,backgroundColor:String,borderColor:String,textColor:String},EMPTY_EVENT_UI={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function createEventUi(ot,rt){let at=normalizeConstraint(ot.constraint,rt);return{display:ot.display||null,startEditable:ot.startEditable!=null?ot.startEditable:ot.editable,durationEditable:ot.durationEditable!=null?ot.durationEditable:ot.editable,constraints:at!=null?[at]:[],overlap:ot.overlap!=null?ot.overlap:null,allows:ot.allow!=null?[ot.allow]:[],backgroundColor:ot.backgroundColor||ot.color||"",borderColor:ot.borderColor||ot.color||"",textColor:ot.textColor||"",classNames:(ot.className||[]).concat(ot.classNames||[])}}function combineEventUis(ot){return ot.reduce(combineTwoEventUis,EMPTY_EVENT_UI)}function combineTwoEventUis(ot,rt){return{display:rt.display!=null?rt.display:ot.display,startEditable:rt.startEditable!=null?rt.startEditable:ot.startEditable,durationEditable:rt.durationEditable!=null?rt.durationEditable:ot.durationEditable,constraints:ot.constraints.concat(rt.constraints),overlap:typeof rt.overlap=="boolean"?rt.overlap:ot.overlap,allows:ot.allows.concat(rt.allows),backgroundColor:rt.backgroundColor||ot.backgroundColor,borderColor:rt.borderColor||ot.borderColor,textColor:rt.textColor||ot.textColor,classNames:ot.classNames.concat(rt.classNames)}}const EVENT_SOURCE_REFINERS={id:String,defaultAllDay:Boolean,url:String,format:String,events:identity,eventDataTransform:identity,success:identity,failure:identity};function parseEventSource(ot,rt,at=buildEventSourceRefiners(rt)){let lt;if(typeof ot=="string"?lt={url:ot}:typeof ot=="function"||Array.isArray(ot)?lt={events:ot}:typeof ot=="object"&&ot&&(lt=ot),lt){let{refined:ct,extra:ut}=refineProps(lt,at),dt=buildEventSourceMeta(ct,rt);if(dt)return{_raw:ot,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:ct.defaultAllDay,eventDataTransform:ct.eventDataTransform,success:ct.success,failure:ct.failure,publicId:ct.id||"",sourceId:guid(),sourceDefId:dt.sourceDefId,meta:dt.meta,ui:createEventUi(ct,rt),extendedProps:ut}}return null}function buildEventSourceRefiners(ot){return Object.assign(Object.assign(Object.assign({},EVENT_UI_REFINERS),EVENT_SOURCE_REFINERS),ot.pluginHooks.eventSourceRefiners)}function buildEventSourceMeta(ot,rt){let at=rt.pluginHooks.eventSourceDefs;for(let lt=at.length-1;lt>=0;lt-=1){let ut=at[lt].parseMeta(ot);if(ut)return{sourceDefId:lt,meta:ut}}return null}function reduceEventStore(ot,rt,at,lt,ct){switch(rt.type){case"RECEIVE_EVENTS":return receiveRawEvents(ot,at[rt.sourceId],rt.fetchId,rt.fetchRange,rt.rawEvents,ct);case"RESET_RAW_EVENTS":return resetRawEvents(ot,at[rt.sourceId],rt.rawEvents,lt.activeRange,ct);case"ADD_EVENTS":return addEvent(ot,rt.eventStore,lt?lt.activeRange:null,ct);case"RESET_EVENTS":return rt.eventStore;case"MERGE_EVENTS":return mergeEventStores(ot,rt.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return lt?expandRecurring(ot,lt.activeRange,ct):ot;case"REMOVE_EVENTS":return excludeSubEventStore(ot,rt.eventStore);case"REMOVE_EVENT_SOURCE":return excludeEventsBySourceId(ot,rt.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return filterEventStoreDefs(ot,ut=>!ut.sourceId);case"REMOVE_ALL_EVENTS":return createEmptyEventStore();default:return ot}}function receiveRawEvents(ot,rt,at,lt,ct,ut){if(rt&&at===rt.latestFetchId){let dt=parseEvents(transformRawEvents(ct,rt,ut),rt,ut);return lt&&(dt=expandRecurring(dt,lt,ut)),mergeEventStores(excludeEventsBySourceId(ot,rt.sourceId),dt)}return ot}function resetRawEvents(ot,rt,at,lt,ct){const{defIdMap:ut,instanceIdMap:dt}=buildPublicIdMaps(ot);let ht=parseEvents(transformRawEvents(at,rt,ct),rt,ct,!1,ut,dt);return expandRecurring(ht,lt,ct)}function transformRawEvents(ot,rt,at){let lt=at.options.eventDataTransform,ct=rt?rt.eventDataTransform:null;return ct&&(ot=transformEachRawEvent(ot,ct)),lt&&(ot=transformEachRawEvent(ot,lt)),ot}function transformEachRawEvent(ot,rt){let at;if(!rt)at=ot;else{at=[];for(let lt of ot){let ct=rt(lt);ct?at.push(ct):ct==null&&at.push(lt)}}return at}function addEvent(ot,rt,at,lt){return at&&(rt=expandRecurring(rt,at,lt)),mergeEventStores(ot,rt)}function rezoneEventStoreDates(ot,rt,at){let{defs:lt}=ot,ct=mapHash(ot.instances,ut=>lt[ut.defId].allDay?ut:Object.assign(Object.assign({},ut),{range:{start:at.createMarker(rt.toDate(ut.range.start,ut.forcedStartTzo)),end:at.createMarker(rt.toDate(ut.range.end,ut.forcedEndTzo))},forcedStartTzo:at.canComputeOffset?null:ut.forcedStartTzo,forcedEndTzo:at.canComputeOffset?null:ut.forcedEndTzo}));return{defs:lt,instances:ct}}function excludeEventsBySourceId(ot,rt){return filterEventStoreDefs(ot,at=>at.sourceId!==rt)}function excludeInstances(ot,rt){return{defs:ot.defs,instances:filterHash(ot.instances,at=>!rt[at.instanceId])}}function buildPublicIdMaps(ot){const{defs:rt,instances:at}=ot,lt={},ct={};for(let ut in rt){const dt=rt[ut],{publicId:ht}=dt;ht&&(lt[ht]=ut)}for(let ut in at){const dt=at[ut],ht=rt[dt.defId],{publicId:ft}=ht;ft&&(ct[ft]=ut)}return{defIdMap:lt,instanceIdMap:ct}}class Emitter{constructor(){this.handlers={},this.thisContext=null}setThisContext(rt){this.thisContext=rt}setOptions(rt){this.options=rt}on(rt,at){addToHash(this.handlers,rt,at)}off(rt,at){removeFromHash(this.handlers,rt,at)}trigger(rt,...at){let lt=this.handlers[rt]||[],ct=this.options&&this.options[rt],ut=[].concat(ct||[],lt);for(let dt of ut)dt.apply(this.thisContext,at)}hasHandlers(rt){return!!(this.handlers[rt]&&this.handlers[rt].length||this.options&&this.options[rt])}}function addToHash(ot,rt,at){(ot[rt]||(ot[rt]=[])).push(at)}function removeFromHash(ot,rt,at){at?ot[rt]&&(ot[rt]=ot[rt].filter(lt=>lt!==at)):delete ot[rt]}const DEF_DEFAULTS={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function parseBusinessHours(ot,rt){return parseEvents(refineInputs(ot),null,rt)}function refineInputs(ot){let rt;return ot===!0?rt=[{}]:Array.isArray(ot)?rt=ot.filter(at=>at.daysOfWeek):typeof ot=="object"&&ot?rt=[ot]:rt=[],rt=rt.map(at=>Object.assign(Object.assign({},DEF_DEFAULTS),at)),rt}function triggerDateSelect(ot,rt,at){at.emitter.trigger("select",Object.assign(Object.assign({},buildDateSpanApiWithContext(ot,at)),{jsEvent:rt?rt.origEvent:null,view:at.viewApi||at.calendarApi.view}))}function triggerDateUnselect(ot,rt){rt.emitter.trigger("unselect",{jsEvent:ot?ot.origEvent:null,view:rt.viewApi||rt.calendarApi.view})}function buildDateSpanApiWithContext(ot,rt){let at={};for(let lt of rt.pluginHooks.dateSpanTransforms)Object.assign(at,lt(ot,rt));return Object.assign(at,buildDateSpanApi(ot,rt.dateEnv)),at}function getDefaultEventEnd(ot,rt,at){let{dateEnv:lt,options:ct}=at,ut=rt;return ot?(ut=startOfDay(ut),ut=lt.add(ut,ct.defaultAllDayEventDuration)):ut=lt.add(ut,ct.defaultTimedEventDuration),ut}function applyMutationToEventStore(ot,rt,at,lt){let ct=compileEventUis(ot.defs,rt),ut=createEmptyEventStore();for(let dt in ot.defs){let ht=ot.defs[dt];ut.defs[dt]=applyMutationToEventDef(ht,ct[dt],at,lt)}for(let dt in ot.instances){let ht=ot.instances[dt],ft=ut.defs[ht.defId];ut.instances[dt]=applyMutationToEventInstance(ht,ft,ct[ht.defId],at,lt)}return ut}function applyMutationToEventDef(ot,rt,at,lt){let ct=at.standardProps||{};ct.hasEnd==null&&rt.durationEditable&&(at.startDelta||at.endDelta)&&(ct.hasEnd=!0);let ut=Object.assign(Object.assign(Object.assign({},ot),ct),{ui:Object.assign(Object.assign({},ot.ui),ct.ui)});at.extendedProps&&(ut.extendedProps=Object.assign(Object.assign({},ut.extendedProps),at.extendedProps));for(let dt of lt.pluginHooks.eventDefMutationAppliers)dt(ut,at,lt);return!ut.hasEnd&&lt.options.forceEventDuration&&(ut.hasEnd=!0),ut}function applyMutationToEventInstance(ot,rt,at,lt,ct){let{dateEnv:ut}=ct,dt=lt.standardProps&&lt.standardProps.allDay===!0,ht=lt.standardProps&&lt.standardProps.hasEnd===!1,ft=Object.assign({},ot);return dt&&(ft.range=computeAlignedDayRange(ft.range)),lt.datesDelta&&at.startEditable&&(ft.range={start:ut.add(ft.range.start,lt.datesDelta),end:ut.add(ft.range.end,lt.datesDelta)}),lt.startDelta&&at.durationEditable&&(ft.range={start:ut.add(ft.range.start,lt.startDelta),end:ft.range.end}),lt.endDelta&&at.durationEditable&&(ft.range={start:ft.range.start,end:ut.add(ft.range.end,lt.endDelta)}),ht&&(ft.range={start:ft.range.start,end:getDefaultEventEnd(rt.allDay,ft.range.start,ct)}),rt.allDay&&(ft.range={start:startOfDay(ft.range.start),end:startOfDay(ft.range.end)}),ft.range.end<ft.range.start&&(ft.range.end=getDefaultEventEnd(rt.allDay,ft.range.start,ct)),ft}class EventSourceImpl{constructor(rt,at){this.context=rt,this.internalEventSource=at}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class EventImpl{constructor(rt,at,lt){this._context=rt,this._def=at,this._instance=lt||null}setProp(rt,at){if(rt in EVENT_DATE_REFINERS)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(rt==="id")at=EVENT_NON_DATE_REFINERS[rt](at),this.mutate({standardProps:{publicId:at}});else if(rt in EVENT_NON_DATE_REFINERS)at=EVENT_NON_DATE_REFINERS[rt](at),this.mutate({standardProps:{[rt]:at}});else if(rt in EVENT_UI_REFINERS){let lt=EVENT_UI_REFINERS[rt](at);rt==="color"?lt={backgroundColor:at,borderColor:at}:rt==="editable"?lt={startEditable:at,durationEditable:at}:lt={[rt]:at},this.mutate({standardProps:{ui:lt}})}else console.warn(`Could not set prop '${rt}'. Use setExtendedProp instead.`)}setExtendedProp(rt,at){this.mutate({extendedProps:{[rt]:at}})}setStart(rt,at={}){let{dateEnv:lt}=this._context,ct=lt.createMarker(rt);if(ct&&this._instance){let ut=this._instance.range,dt=diffDates(ut.start,ct,lt,at.granularity);at.maintainDuration?this.mutate({datesDelta:dt}):this.mutate({startDelta:dt})}}setEnd(rt,at={}){let{dateEnv:lt}=this._context,ct;if(!(rt!=null&&(ct=lt.createMarker(rt),!ct))&&this._instance)if(ct){let ut=diffDates(this._instance.range.end,ct,lt,at.granularity);this.mutate({endDelta:ut})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(rt,at,lt={}){let{dateEnv:ct}=this._context,ut={allDay:lt.allDay},dt=ct.createMarker(rt),ht;if(dt&&!(at!=null&&(ht=ct.createMarker(at),!ht))&&this._instance){let ft=this._instance.range;lt.allDay===!0&&(ft=computeAlignedDayRange(ft));let pt=diffDates(ft.start,dt,ct,lt.granularity);if(ht){let mt=diffDates(ft.end,ht,ct,lt.granularity);durationsEqual(pt,mt)?this.mutate({datesDelta:pt,standardProps:ut}):this.mutate({startDelta:pt,endDelta:mt,standardProps:ut})}else ut.hasEnd=!1,this.mutate({datesDelta:pt,standardProps:ut})}}moveStart(rt){let at=createDuration(rt);at&&this.mutate({startDelta:at})}moveEnd(rt){let at=createDuration(rt);at&&this.mutate({endDelta:at})}moveDates(rt){let at=createDuration(rt);at&&this.mutate({datesDelta:at})}setAllDay(rt,at={}){let lt={allDay:rt},{maintainDuration:ct}=at;ct==null&&(ct=this._context.options.allDayMaintainDuration),this._def.allDay!==rt&&(lt.hasEnd=ct),this.mutate({standardProps:lt})}formatRange(rt){let{dateEnv:at}=this._context,lt=this._instance,ct=createFormatter(rt);return this._def.hasEnd?at.formatRange(lt.range.start,lt.range.end,ct,{forcedStartTzo:lt.forcedStartTzo,forcedEndTzo:lt.forcedEndTzo}):at.format(lt.range.start,ct,{forcedTzo:lt.forcedStartTzo})}mutate(rt){let at=this._instance;if(at){let lt=this._def,ct=this._context,{eventStore:ut}=ct.getCurrentData(),dt=getRelevantEvents(ut,at.instanceId);dt=applyMutationToEventStore(dt,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},rt,ct);let ft=new EventImpl(ct,lt,at);this._def=dt.defs[lt.defId],this._instance=dt.instances[at.instanceId],ct.dispatch({type:"MERGE_EVENTS",eventStore:dt}),ct.emitter.trigger("eventChange",{oldEvent:ft,event:this,relatedEvents:buildEventApis(dt,ct,at),revert(){ct.dispatch({type:"RESET_EVENTS",eventStore:ut})}})}}remove(){let rt=this._context,at=eventApiToStore(this);rt.dispatch({type:"REMOVE_EVENTS",eventStore:at}),rt.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){rt.dispatch({type:"MERGE_EVENTS",eventStore:at})}})}get source(){let{sourceId:rt}=this._def;return rt?new EventSourceImpl(this._context,this._context.getCurrentData().eventSources[rt]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let rt=this._instance;return rt?this._context.dateEnv.formatIso(rt.range.start,{omitTime:this._def.allDay,forcedTzo:rt.forcedStartTzo}):""}get endStr(){let rt=this._instance;return rt&&this._def.hasEnd?this._context.dateEnv.formatIso(rt.range.end,{omitTime:this._def.allDay,forcedTzo:rt.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(rt={}){let at=this._def,{ui:lt}=at,{startStr:ct,endStr:ut}=this,dt={allDay:at.allDay};return at.title&&(dt.title=at.title),ct&&(dt.start=ct),ut&&(dt.end=ut),at.publicId&&(dt.id=at.publicId),at.groupId&&(dt.groupId=at.groupId),at.url&&(dt.url=at.url),lt.display&&lt.display!=="auto"&&(dt.display=lt.display),rt.collapseColor&&lt.backgroundColor&&lt.backgroundColor===lt.borderColor?dt.color=lt.backgroundColor:(lt.backgroundColor&&(dt.backgroundColor=lt.backgroundColor),lt.borderColor&&(dt.borderColor=lt.borderColor)),lt.textColor&&(dt.textColor=lt.textColor),lt.classNames.length&&(dt.classNames=lt.classNames),Object.keys(at.extendedProps).length&&(rt.collapseExtendedProps?Object.assign(dt,at.extendedProps):dt.extendedProps=at.extendedProps),dt}toJSON(){return this.toPlainObject()}}function eventApiToStore(ot){let rt=ot._def,at=ot._instance;return{defs:{[rt.defId]:rt},instances:at?{[at.instanceId]:at}:{}}}function buildEventApis(ot,rt,at){let{defs:lt,instances:ct}=ot,ut=[],dt=at?at.instanceId:"";for(let ht in ct){let ft=ct[ht],pt=lt[ft.defId];ft.instanceId!==dt&&ut.push(new EventImpl(rt,pt,ft))}return ut}function sliceEventStore(ot,rt,at,lt){let ct={},ut={},dt={},ht=[],ft=[],pt=compileEventUis(ot.defs,rt);for(let mt in ot.defs){let gt=ot.defs[mt];pt[gt.defId].display==="inverse-background"&&(gt.groupId?(ct[gt.groupId]=[],dt[gt.groupId]||(dt[gt.groupId]=gt)):ut[mt]=[])}for(let mt in ot.instances){let gt=ot.instances[mt],yt=ot.defs[gt.defId],xt=pt[yt.defId],bt=gt.range,Et=!yt.allDay&&lt?computeVisibleDayRange(bt,lt):bt,Rt=intersectRanges(Et,at);Rt&&(xt.display==="inverse-background"?yt.groupId?ct[yt.groupId].push(Rt):ut[gt.defId].push(Rt):xt.display!=="none"&&(xt.display==="background"?ht:ft).push({def:yt,ui:xt,instance:gt,range:Rt,isStart:Et.start&&Et.start.valueOf()===Rt.start.valueOf(),isEnd:Et.end&&Et.end.valueOf()===Rt.end.valueOf()}))}for(let mt in ct){let gt=ct[mt],yt=invertRanges(gt,at);for(let xt of yt){let bt=dt[mt],Et=pt[bt.defId];ht.push({def:bt,ui:Et,instance:null,range:xt,isStart:!1,isEnd:!1})}}for(let mt in ut){let gt=ut[mt],yt=invertRanges(gt,at);for(let xt of yt)ht.push({def:ot.defs[mt],ui:pt[mt],instance:null,range:xt,isStart:!1,isEnd:!1})}return{bg:ht,fg:ft}}function hasBgRendering(ot){return ot.ui.display==="background"||ot.ui.display==="inverse-background"}function setElSeg(ot,rt){ot.fcSeg=rt}function getElSeg(ot){return ot.fcSeg||ot.parentNode.fcSeg||null}function compileEventUis(ot,rt){return mapHash(ot,at=>compileEventUi(at,rt))}function compileEventUi(ot,rt){let at=[];return rt[""]&&at.push(rt[""]),rt[ot.defId]&&at.push(rt[ot.defId]),at.push(ot.ui),combineEventUis(at)}function sortEventSegs(ot,rt){let at=ot.map(buildSegCompareObj);return at.sort((lt,ct)=>compareByFieldSpecs(lt,ct,rt)),at.map(lt=>lt._seg)}function buildSegCompareObj(ot){let{eventRange:rt}=ot,at=rt.def,lt=rt.instance?rt.instance.range:rt.range,ct=lt.start?lt.start.valueOf():0,ut=lt.end?lt.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},at.extendedProps),at),{id:at.publicId,start:ct,end:ut,duration:ut-ct,allDay:Number(at.allDay),_seg:ot})}function computeSegDraggable(ot,rt){let{pluginHooks:at}=rt,lt=at.isDraggableTransformers,{def:ct,ui:ut}=ot.eventRange,dt=ut.startEditable;for(let ht of lt)dt=ht(dt,ct,ut,rt);return dt}function computeSegStartResizable(ot,rt){return ot.isStart&&ot.eventRange.ui.durationEditable&&rt.options.eventResizableFromStart}function computeSegEndResizable(ot,rt){return ot.isEnd&&ot.eventRange.ui.durationEditable}function buildSegTimeText(ot,rt,at,lt,ct,ut,dt){let{dateEnv:ht,options:ft}=at,{displayEventTime:pt,displayEventEnd:mt}=ft,gt=ot.eventRange.def,yt=ot.eventRange.instance;pt==null&&(pt=lt!==!1),mt==null&&(mt=ct!==!1);let xt=yt.range.start,bt=yt.range.end,Et=ot.start||ot.eventRange.range.start,Rt=ot.end||ot.eventRange.range.end,wt=startOfDay(xt).valueOf()===startOfDay(Et).valueOf(),_t=startOfDay(addMs(bt,-1)).valueOf()===startOfDay(addMs(Rt,-1)).valueOf();return pt&&!gt.allDay&&(wt||_t)?(Et=wt?xt:Et,Rt=_t?bt:Rt,mt&&gt.hasEnd?ht.formatRange(Et,Rt,rt,{forcedStartTzo:yt.forcedStartTzo,forcedEndTzo:yt.forcedEndTzo}):ht.format(Et,rt,{forcedTzo:yt.forcedStartTzo})):""}function getSegMeta(ot,rt,at){let lt=ot.eventRange.range;return{isPast:lt.end<=(at||rt.start),isFuture:lt.start>=(at||rt.end),isToday:rt&&rangeContainsMarker(rt,lt.start)}}function getEventClassNames(ot){let rt=["fc-event"];return ot.isMirror&&rt.push("fc-event-mirror"),ot.isDraggable&&rt.push("fc-event-draggable"),(ot.isStartResizable||ot.isEndResizable)&&rt.push("fc-event-resizable"),ot.isDragging&&rt.push("fc-event-dragging"),ot.isResizing&&rt.push("fc-event-resizing"),ot.isSelected&&rt.push("fc-event-selected"),ot.isStart&&rt.push("fc-event-start"),ot.isEnd&&rt.push("fc-event-end"),ot.isPast&&rt.push("fc-event-past"),ot.isToday&&rt.push("fc-event-today"),ot.isFuture&&rt.push("fc-event-future"),rt}function buildEventRangeKey(ot){return ot.instance?ot.instance.instanceId:`${ot.def.defId}:${ot.range.start.toISOString()}`}function getSegAnchorAttrs(ot,rt){let{def:at,instance:lt}=ot.eventRange,{url:ct}=at;if(ct)return{href:ct};let{emitter:ut,options:dt}=rt,{eventInteractive:ht}=dt;return ht==null&&(ht=at.interactive,ht==null&&(ht=!!ut.hasHandlers("eventClick"))),ht?createAriaKeyboardAttrs(ft=>{ut.trigger("eventClick",{el:ft.target,event:new EventImpl(rt,at,lt),jsEvent:ft,view:rt.viewApi})}):{}}const STANDARD_PROPS={start:identity,end:identity,allDay:Boolean};function parseDateSpan(ot,rt,at){let lt=parseOpenDateSpan(ot,rt),{range:ct}=lt;if(!ct.start)return null;if(!ct.end){if(at==null)return null;ct.end=rt.add(ct.start,at)}return lt}function parseOpenDateSpan(ot,rt){let{refined:at,extra:lt}=refineProps(ot,STANDARD_PROPS),ct=at.start?rt.createMarkerMeta(at.start):null,ut=at.end?rt.createMarkerMeta(at.end):null,{allDay:dt}=at;return dt==null&&(dt=ct&&ct.isTimeUnspecified&&(!ut||ut.isTimeUnspecified)),Object.assign({range:{start:ct?ct.marker:null,end:ut?ut.marker:null},allDay:dt},lt)}function isDateSpansEqual(ot,rt){return rangesEqual(ot.range,rt.range)&&ot.allDay===rt.allDay&&isSpanPropsEqual(ot,rt)}function isSpanPropsEqual(ot,rt){for(let at in rt)if(at!=="range"&&at!=="allDay"&&ot[at]!==rt[at])return!1;for(let at in ot)if(!(at in rt))return!1;return!0}function buildDateSpanApi(ot,rt){return Object.assign(Object.assign({},buildRangeApi(ot.range,rt,ot.allDay)),{allDay:ot.allDay})}function buildRangeApiWithTimeZone(ot,rt,at){return Object.assign(Object.assign({},buildRangeApi(ot,rt,at)),{timeZone:rt.timeZone})}function buildRangeApi(ot,rt,at){return{start:rt.toDate(ot.start),end:rt.toDate(ot.end),startStr:rt.formatIso(ot.start,{omitTime:at}),endStr:rt.formatIso(ot.end,{omitTime:at})}}function fabricateEventRange(ot,rt,at){let lt=refineEventDef({editable:!1},at),ct=parseEventDef(lt.refined,lt.extra,"",ot.allDay,!0,at);return{def:ct,ui:compileEventUi(ct,rt),instance:createEventInstance(ct.defId,ot.range),range:ot.range,isStart:!0,isEnd:!0}}function unpromisify(ot,rt,at){let lt=!1,ct=function(ht){lt||(lt=!0,rt(ht))},ut=function(ht){lt||(lt=!0,at(ht))},dt=ot(ct,ut);dt&&typeof dt.then=="function"&&dt.then(ct,ut)}class JsonRequestError extends Error{constructor(rt,at){super(rt),this.response=at}}function requestJson(ot,rt,at){ot=ot.toUpperCase();const lt={method:ot};return ot==="GET"?rt+=(rt.indexOf("?")===-1?"?":"&")+new URLSearchParams(at):(lt.body=new URLSearchParams(at),lt.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(rt,lt).then(ct=>{if(ct.ok)return ct.json().then(ut=>[ut,ct],()=>{throw new JsonRequestError("Failure parsing JSON",ct)});throw new JsonRequestError("Request failed",ct)})}let canVGrowWithinCell;function getCanVGrowWithinCell(){return canVGrowWithinCell==null&&(canVGrowWithinCell=computeCanVGrowWithinCell()),canVGrowWithinCell}function computeCanVGrowWithinCell(){if(typeof document>"u")return!0;let ot=document.createElement("div");ot.style.position="absolute",ot.style.top="0px",ot.style.left="0px",ot.innerHTML="<table><tr><td><div></div></td></tr></table>",ot.querySelector("table").style.height="100px",ot.querySelector("div").style.height="100%",document.body.appendChild(ot);let at=ot.querySelector("div").offsetHeight>0;return document.body.removeChild(ot),at}class CalendarRoot extends BaseComponent{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{flushSync(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{flushSync(()=>{this.setState({forPrint:!1})})}}render(){let{props:rt}=this,{options:at}=rt,{forPrint:lt}=this.state,ct=lt||at.height==="auto"||at.contentHeight==="auto",ut=!ct&&at.height!=null?at.height:"",dt=["fc",lt?"fc-media-print":"fc-media-screen",`fc-direction-${at.direction}`,rt.theme.getClass("root")];return getCanVGrowWithinCell()||dt.push("fc-liquid-hack"),rt.children(dt,ut,ct,lt)}componentDidMount(){let{emitter:rt}=this.props;rt.on("_beforeprint",this.handleBeforePrint),rt.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:rt}=this.props;rt.off("_beforeprint",this.handleBeforePrint),rt.off("_afterprint",this.handleAfterPrint)}}class Interaction{constructor(rt){this.component=rt.component,this.isHitComboAllowed=rt.isHitComboAllowed||null}destroy(){}}function parseInteractionSettings(ot,rt){return{component:ot,el:rt.el,useEventCenter:rt.useEventCenter!=null?rt.useEventCenter:!0,isHitComboAllowed:rt.isHitComboAllowed||null}}function interactionSettingsToStore(ot){return{[ot.component.uid]:ot}}const interactionSettingsStore={};class CalendarImpl{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(rt){this.currentDataManager.dispatch(rt)}get view(){return this.getCurrentData().viewApi}batchRendering(rt){rt()}updateSize(){this.trigger("_resize",!0)}setOption(rt,at){this.dispatch({type:"SET_OPTION",optionName:rt,rawOptionValue:at})}getOption(rt){return this.currentDataManager.currentCalendarOptionsInput[rt]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(rt,at){let{currentDataManager:lt}=this;lt.currentCalendarOptionsRefiners[rt]?lt.emitter.on(rt,at):console.warn(`Unknown listener name '${rt}'`)}off(rt,at){this.currentDataManager.emitter.off(rt,at)}trigger(rt,...at){this.currentDataManager.emitter.trigger(rt,...at)}changeView(rt,at){this.batchRendering(()=>{if(this.unselect(),at)if(at.start&&at.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:rt}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:at});else{let{dateEnv:lt}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:rt,dateMarker:lt.createMarker(at)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:rt})})}zoomTo(rt,at){let lt=this.getCurrentData(),ct;at=at||"day",ct=lt.viewSpecs[at]||this.getUnitViewSpec(at),this.unselect(),ct?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:ct.type,dateMarker:rt}):this.dispatch({type:"CHANGE_DATE",dateMarker:rt})}getUnitViewSpec(rt){let{viewSpecs:at,toolbarConfig:lt}=this.getCurrentData(),ct=[].concat(lt.header?lt.header.viewsWithButtons:[],lt.footer?lt.footer.viewsWithButtons:[]),ut,dt;for(let ht in at)ct.push(ht);for(ut=0;ut<ct.length;ut+=1)if(dt=at[ct[ut]],dt&&dt.singleUnit===rt)return dt;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let rt=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:rt.dateEnv.addYears(rt.currentDate,-1)})}nextYear(){let rt=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:rt.dateEnv.addYears(rt.currentDate,1)})}today(){let rt=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:getNow(rt.calendarOptions.now,rt.dateEnv)})}gotoDate(rt){let at=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:at.dateEnv.createMarker(rt)})}incrementDate(rt){let at=this.getCurrentData(),lt=createDuration(rt);lt&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:at.dateEnv.add(at.currentDate,lt)}))}getDate(){let rt=this.getCurrentData();return rt.dateEnv.toDate(rt.currentDate)}formatDate(rt,at){let{dateEnv:lt}=this.getCurrentData();return lt.format(lt.createMarker(rt),createFormatter(at))}formatRange(rt,at,lt){let{dateEnv:ct}=this.getCurrentData();return ct.formatRange(ct.createMarker(rt),ct.createMarker(at),createFormatter(lt),lt)}formatIso(rt,at){let{dateEnv:lt}=this.getCurrentData();return lt.formatIso(lt.createMarker(rt),{omitTime:at})}select(rt,at){let lt;at==null?rt.start!=null?lt=rt:lt={start:rt,end:null}:lt={start:rt,end:at};let ct=this.getCurrentData(),ut=parseDateSpan(lt,ct.dateEnv,createDuration({days:1}));ut&&(this.dispatch({type:"SELECT_DATES",selection:ut}),triggerDateSelect(ut,null,ct))}unselect(rt){let at=this.getCurrentData();at.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),triggerDateUnselect(rt,at))}addEvent(rt,at){if(rt instanceof EventImpl){let dt=rt._def,ht=rt._instance;return this.getCurrentData().eventStore.defs[dt.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore({def:dt,instance:ht})}),this.triggerEventAdd(rt)),rt}let lt=this.getCurrentData(),ct;if(at instanceof EventSourceImpl)ct=at.internalEventSource;else if(typeof at=="boolean")at&&([ct]=hashValuesToArray(lt.eventSources));else if(at!=null){let dt=this.getEventSourceById(at);if(!dt)return console.warn(`Could not find an event source with ID "${at}"`),null;ct=dt.internalEventSource}let ut=parseEvent(rt,ct,lt,!1);if(ut){let dt=new EventImpl(lt,ut.def,ut.def.recurringDef?null:ut.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:eventTupleToStore(ut)}),this.triggerEventAdd(dt),dt}return null}triggerEventAdd(rt){let{emitter:at}=this.getCurrentData();at.trigger("eventAdd",{event:rt,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:eventApiToStore(rt)})}})}getEventById(rt){let at=this.getCurrentData(),{defs:lt,instances:ct}=at.eventStore;rt=String(rt);for(let ut in lt){let dt=lt[ut];if(dt.publicId===rt){if(dt.recurringDef)return new EventImpl(at,dt,null);for(let ht in ct){let ft=ct[ht];if(ft.defId===dt.defId)return new EventImpl(at,dt,ft)}}}return null}getEvents(){let rt=this.getCurrentData();return buildEventApis(rt.eventStore,rt)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let rt=this.getCurrentData(),at=rt.eventSources,lt=[];for(let ct in at)lt.push(new EventSourceImpl(rt,at[ct]));return lt}getEventSourceById(rt){let at=this.getCurrentData(),lt=at.eventSources;rt=String(rt);for(let ct in lt)if(lt[ct].publicId===rt)return new EventSourceImpl(at,lt[ct]);return null}addEventSource(rt){let at=this.getCurrentData();if(rt instanceof EventSourceImpl)return at.eventSources[rt.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[rt.internalEventSource]}),rt;let lt=parseEventSource(rt,at);return lt?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[lt]}),new EventSourceImpl(at,lt)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(rt){let at=createDuration(rt);at&&this.trigger("_scrollRequest",{time:at})}}function pointInsideRect(ot,rt){return ot.left>=rt.left&&ot.left<rt.right&&ot.top>=rt.top&&ot.top<rt.bottom}function intersectRects(ot,rt){let at={left:Math.max(ot.left,rt.left),right:Math.min(ot.right,rt.right),top:Math.max(ot.top,rt.top),bottom:Math.min(ot.bottom,rt.bottom)};return at.left<at.right&&at.top<at.bottom?at:!1}function constrainPoint(ot,rt){return{left:Math.min(Math.max(ot.left,rt.left),rt.right),top:Math.min(Math.max(ot.top,rt.top),rt.bottom)}}function getRectCenter(ot){return{left:(ot.left+ot.right)/2,top:(ot.top+ot.bottom)/2}}function diffPoints(ot,rt){return{left:ot.left-rt.left,top:ot.top-rt.top}}const EMPTY_EVENT_STORE=createEmptyEventStore();class Splitter{constructor(){this.getKeysForEventDefs=memoize(this._getKeysForEventDefs),this.splitDateSelection=memoize(this._splitDateSpan),this.splitEventStore=memoize(this._splitEventStore),this.splitIndividualUi=memoize(this._splitIndividualUi),this.splitEventDrag=memoize(this._splitInteraction),this.splitEventResize=memoize(this._splitInteraction),this.eventUiBuilders={}}splitProps(rt){let at=this.getKeyInfo(rt),lt=this.getKeysForEventDefs(rt.eventStore),ct=this.splitDateSelection(rt.dateSelection),ut=this.splitIndividualUi(rt.eventUiBases,lt),dt=this.splitEventStore(rt.eventStore,lt),ht=this.splitEventDrag(rt.eventDrag),ft=this.splitEventResize(rt.eventResize),pt={};this.eventUiBuilders=mapHash(at,(mt,gt)=>this.eventUiBuilders[gt]||memoize(buildEventUiForKey));for(let mt in at){let gt=at[mt],yt=dt[mt]||EMPTY_EVENT_STORE,xt=this.eventUiBuilders[mt];pt[mt]={businessHours:gt.businessHours||rt.businessHours,dateSelection:ct[mt]||null,eventStore:yt,eventUiBases:xt(rt.eventUiBases[""],gt.ui,ut[mt]),eventSelection:yt.instances[rt.eventSelection]?rt.eventSelection:"",eventDrag:ht[mt]||null,eventResize:ft[mt]||null}}return pt}_splitDateSpan(rt){let at={};if(rt){let lt=this.getKeysForDateSpan(rt);for(let ct of lt)at[ct]=rt}return at}_getKeysForEventDefs(rt){return mapHash(rt.defs,at=>this.getKeysForEventDef(at))}_splitEventStore(rt,at){let{defs:lt,instances:ct}=rt,ut={};for(let dt in lt)for(let ht of at[dt])ut[ht]||(ut[ht]=createEmptyEventStore()),ut[ht].defs[dt]=lt[dt];for(let dt in ct){let ht=ct[dt];for(let ft of at[ht.defId])ut[ft]&&(ut[ft].instances[dt]=ht)}return ut}_splitIndividualUi(rt,at){let lt={};for(let ct in rt)if(ct)for(let ut of at[ct])lt[ut]||(lt[ut]={}),lt[ut][ct]=rt[ct];return lt}_splitInteraction(rt){let at={};if(rt){let lt=this._splitEventStore(rt.affectedEvents,this._getKeysForEventDefs(rt.affectedEvents)),ct=this._getKeysForEventDefs(rt.mutatedEvents),ut=this._splitEventStore(rt.mutatedEvents,ct),dt=ht=>{at[ht]||(at[ht]={affectedEvents:lt[ht]||EMPTY_EVENT_STORE,mutatedEvents:ut[ht]||EMPTY_EVENT_STORE,isEvent:rt.isEvent})};for(let ht in lt)dt(ht);for(let ht in ut)dt(ht)}return at}}function buildEventUiForKey(ot,rt,at){let lt=[];ot&&lt.push(ot),rt&&lt.push(rt);let ct={"":combineEventUis(lt)};return at&&Object.assign(ct,at),ct}function getDateMeta(ot,rt,at,lt){return{dow:ot.getUTCDay(),isDisabled:!!(lt&&!rangeContainsMarker(lt.activeRange,ot)),isOther:!!(lt&&!rangeContainsMarker(lt.currentRange,ot)),isToday:!!(rt&&rangeContainsMarker(rt,ot)),isPast:!!(rt&&ot<rt.start),isFuture:!!(rt&&ot>=rt.end)}}function getDayClassNames(ot,rt){let at=["fc-day",`fc-day-${DAY_IDS[ot.dow]}`];return ot.isDisabled?at.push("fc-day-disabled"):(ot.isToday&&(at.push("fc-day-today"),at.push(rt.getClass("today"))),ot.isPast&&at.push("fc-day-past"),ot.isFuture&&at.push("fc-day-future"),ot.isOther&&at.push("fc-day-other")),at}const DAY_FORMAT=createFormatter({year:"numeric",month:"long",day:"numeric"}),WEEK_FORMAT=createFormatter({week:"long"});function buildNavLinkAttrs(ot,rt,at="day",lt=!0){const{dateEnv:ct,options:ut,calendarApi:dt}=ot;let ht=ct.format(rt,at==="week"?WEEK_FORMAT:DAY_FORMAT);if(ut.navLinks){let ft=ct.toDate(rt);const pt=mt=>{let gt=at==="day"?ut.navLinkDayClick:at==="week"?ut.navLinkWeekClick:null;typeof gt=="function"?gt.call(dt,ct.toDate(rt),mt):(typeof gt=="string"&&(at=gt),dt.zoomTo(rt,at))};return Object.assign({title:formatWithOrdinals(ut.navLinkHint,[ht,ft],ht),"data-navlink":""},lt?createAriaClickAttrs(pt):{onClick:pt})}return{"aria-label":ht}}let _isRtlScrollbarOnLeft=null;function getIsRtlScrollbarOnLeft(){return _isRtlScrollbarOnLeft===null&&(_isRtlScrollbarOnLeft=computeIsRtlScrollbarOnLeft()),_isRtlScrollbarOnLeft}function computeIsRtlScrollbarOnLeft(){let ot=document.createElement("div");applyStyle(ot,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),ot.innerHTML="<div></div>",document.body.appendChild(ot);let at=ot.firstChild.getBoundingClientRect().left>ot.getBoundingClientRect().left;return removeElement(ot),at}let _scrollbarWidths;function getScrollbarWidths(){return _scrollbarWidths||(_scrollbarWidths=computeScrollbarWidths()),_scrollbarWidths}function computeScrollbarWidths(){let ot=document.createElement("div");ot.style.overflow="scroll",ot.style.position="absolute",ot.style.top="-9999px",ot.style.left="-9999px",document.body.appendChild(ot);let rt=computeScrollbarWidthsForEl(ot);return document.body.removeChild(ot),rt}function computeScrollbarWidthsForEl(ot){return{x:ot.offsetHeight-ot.clientHeight,y:ot.offsetWidth-ot.clientWidth}}function computeEdges(ot,rt=!1){let at=window.getComputedStyle(ot),lt=parseInt(at.borderLeftWidth,10)||0,ct=parseInt(at.borderRightWidth,10)||0,ut=parseInt(at.borderTopWidth,10)||0,dt=parseInt(at.borderBottomWidth,10)||0,ht=computeScrollbarWidthsForEl(ot),ft=ht.y-lt-ct,pt=ht.x-ut-dt,mt={borderLeft:lt,borderRight:ct,borderTop:ut,borderBottom:dt,scrollbarBottom:pt,scrollbarLeft:0,scrollbarRight:0};return getIsRtlScrollbarOnLeft()&&at.direction==="rtl"?mt.scrollbarLeft=ft:mt.scrollbarRight=ft,rt&&(mt.paddingLeft=parseInt(at.paddingLeft,10)||0,mt.paddingRight=parseInt(at.paddingRight,10)||0,mt.paddingTop=parseInt(at.paddingTop,10)||0,mt.paddingBottom=parseInt(at.paddingBottom,10)||0),mt}function computeInnerRect(ot,rt=!1,at){let lt=computeRect(ot),ct=computeEdges(ot,rt),ut={left:lt.left+ct.borderLeft+ct.scrollbarLeft,right:lt.right-ct.borderRight-ct.scrollbarRight,top:lt.top+ct.borderTop,bottom:lt.bottom-ct.borderBottom-ct.scrollbarBottom};return rt&&(ut.left+=ct.paddingLeft,ut.right-=ct.paddingRight,ut.top+=ct.paddingTop,ut.bottom-=ct.paddingBottom),ut}function computeRect(ot){let rt=ot.getBoundingClientRect();return{left:rt.left+window.scrollX,top:rt.top+window.scrollY,right:rt.right+window.scrollX,bottom:rt.bottom+window.scrollY}}function computeClippedClientRect(ot){let rt=getClippingParents(ot),at=ot.getBoundingClientRect();for(let lt of rt){let ct=intersectRects(at,lt.getBoundingClientRect());if(ct)at=ct;else return null}return at}function getClippingParents(ot){let rt=[];for(;ot instanceof HTMLElement;){let at=window.getComputedStyle(ot);if(at.position==="fixed")break;/(auto|scroll)/.test(at.overflow+at.overflowY+at.overflowX)&&rt.push(ot),ot=ot.parentNode}return rt}class PositionCache{constructor(rt,at,lt,ct){this.els=at;let ut=this.originClientRect=rt.getBoundingClientRect();lt&&this.buildElHorizontals(ut.left),ct&&this.buildElVerticals(ut.top)}buildElHorizontals(rt){let at=[],lt=[];for(let ct of this.els){let ut=ct.getBoundingClientRect();at.push(ut.left-rt),lt.push(ut.right-rt)}this.lefts=at,this.rights=lt}buildElVerticals(rt){let at=[],lt=[];for(let ct of this.els){let ut=ct.getBoundingClientRect();at.push(ut.top-rt),lt.push(ut.bottom-rt)}this.tops=at,this.bottoms=lt}leftToIndex(rt){let{lefts:at,rights:lt}=this,ct=at.length,ut;for(ut=0;ut<ct;ut+=1)if(rt>=at[ut]&&rt<lt[ut])return ut}topToIndex(rt){let{tops:at,bottoms:lt}=this,ct=at.length,ut;for(ut=0;ut<ct;ut+=1)if(rt>=at[ut]&&rt<lt[ut])return ut}getWidth(rt){return this.rights[rt]-this.lefts[rt]}getHeight(rt){return this.bottoms[rt]-this.tops[rt]}similarTo(rt){return similarNumArrays(this.tops||[],rt.tops||[])&&similarNumArrays(this.bottoms||[],rt.bottoms||[])&&similarNumArrays(this.lefts||[],rt.lefts||[])&&similarNumArrays(this.rights||[],rt.rights||[])}}function similarNumArrays(ot,rt){const at=ot.length;if(at!==rt.length)return!1;for(let lt=0;lt<at;lt++)if(Math.round(ot[lt])!==Math.round(rt[lt]))return!1;return!0}class ScrollController{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class ElementScrollController extends ScrollController{constructor(rt){super(),this.el=rt}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(rt){this.el.scrollTop=rt}setScrollLeft(rt){this.el.scrollLeft=rt}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class WindowScrollController extends ScrollController{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(rt){window.scroll(window.scrollX,rt)}setScrollLeft(rt){window.scroll(rt,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class DateComponent extends BaseComponent{constructor(){super(...arguments),this.uid=guid()}prepareHits(){}queryHit(rt,at,lt,ct){return null}isValidSegDownEl(rt){return!this.props.eventDrag&&!this.props.eventResize&&!elementClosest(rt,".fc-event-mirror")}isValidDateDownEl(rt){return!elementClosest(rt,".fc-event:not(.fc-bg-event)")&&!elementClosest(rt,".fc-more-link")&&!elementClosest(rt,"a[data-navlink]")&&!elementClosest(rt,".fc-popover")}}class SegHierarchy{constructor(rt=at=>at.thickness||1){this.getEntryThickness=rt,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(rt){let at=[];for(let lt of rt)this.insertEntry(lt,at);return at}insertEntry(rt,at){let lt=this.findInsertion(rt);this.isInsertionValid(lt,rt)?this.insertEntryAt(rt,lt):this.handleInvalidInsertion(lt,rt,at)}isInsertionValid(rt,at){return(this.maxCoord===-1||rt.levelCoord+this.getEntryThickness(at)<=this.maxCoord)&&(this.maxStackCnt===-1||rt.stackCnt<this.maxStackCnt)}handleInvalidInsertion(rt,at,lt){if(this.allowReslicing&&rt.touchingEntry){const ct=Object.assign(Object.assign({},at),{span:intersectSpans(at.span,rt.touchingEntry.span)});lt.push(ct),this.splitEntry(at,rt.touchingEntry,lt)}else lt.push(at)}splitEntry(rt,at,lt){let ct=rt.span,ut=at.span;ct.start<ut.start&&this.insertEntry({index:rt.index,thickness:rt.thickness,span:{start:ct.start,end:ut.start}},lt),ct.end>ut.end&&this.insertEntry({index:rt.index,thickness:rt.thickness,span:{start:ut.end,end:ct.end}},lt)}insertEntryAt(rt,at){let{entriesByLevel:lt,levelCoords:ct}=this;at.lateral===-1?(insertAt(ct,at.level,at.levelCoord),insertAt(lt,at.level,[rt])):insertAt(lt[at.level],at.lateral,rt),this.stackCnts[buildEntryKey(rt)]=at.stackCnt}findInsertion(rt){let{levelCoords:at,entriesByLevel:lt,strictOrder:ct,stackCnts:ut}=this,dt=at.length,ht=0,ft=-1,pt=-1,mt=null,gt=0;for(let bt=0;bt<dt;bt+=1){const Et=at[bt];if(!ct&&Et>=ht+this.getEntryThickness(rt))break;let Rt=lt[bt],wt,_t=binarySearch(Rt,rt.span.start,getEntrySpanEnd),At=_t[0]+_t[1];for(;(wt=Rt[At])&&wt.span.start<rt.span.end;){let kt=Et+this.getEntryThickness(wt);kt>ht&&(ht=kt,mt=wt,ft=bt,pt=At),kt===ht&&(gt=Math.max(gt,ut[buildEntryKey(wt)]+1)),At+=1}}let yt=0;if(mt)for(yt=ft+1;yt<dt&&at[yt]<ht;)yt+=1;let xt=-1;return yt<dt&&at[yt]===ht&&(xt=binarySearch(lt[yt],rt.span.end,getEntrySpanEnd)[0]),{touchingLevel:ft,touchingLateral:pt,touchingEntry:mt,stackCnt:gt,levelCoord:ht,level:yt,lateral:xt}}toRects(){let{entriesByLevel:rt,levelCoords:at}=this,lt=rt.length,ct=[];for(let ut=0;ut<lt;ut+=1){let dt=rt[ut],ht=at[ut];for(let ft of dt)ct.push(Object.assign(Object.assign({},ft),{thickness:this.getEntryThickness(ft),levelCoord:ht}))}return ct}}function getEntrySpanEnd(ot){return ot.span.end}function buildEntryKey(ot){return ot.index+":"+ot.span.start}function groupIntersectingEntries(ot){let rt=[];for(let at of ot){let lt=[],ct={span:at.span,entries:[at]};for(let ut of rt)intersectSpans(ut.span,ct.span)?ct={entries:ut.entries.concat(ct.entries),span:joinSpans(ut.span,ct.span)}:lt.push(ut);lt.push(ct),rt=lt}return rt}function joinSpans(ot,rt){return{start:Math.min(ot.start,rt.start),end:Math.max(ot.end,rt.end)}}function intersectSpans(ot,rt){let at=Math.max(ot.start,rt.start),lt=Math.min(ot.end,rt.end);return at<lt?{start:at,end:lt}:null}function insertAt(ot,rt,at){ot.splice(rt,0,at)}function binarySearch(ot,rt,at){let lt=0,ct=ot.length;if(!ct||rt<at(ot[lt]))return[0,0];if(rt>at(ot[ct-1]))return[ct,0];for(;lt<ct;){let ut=Math.floor(lt+(ct-lt)/2),dt=at(ot[ut]);if(rt<dt)ct=ut;else if(rt>dt)lt=ut+1;else return[ut,1]}return[lt,0]}class ElementDragging{constructor(rt,at){this.emitter=new Emitter}destroy(){}setMirrorIsVisible(rt){}setMirrorNeedsRevert(rt){}setAutoScrollEnabled(rt){}}const config={};function computeFallbackHeaderFormat(ot,rt){return!ot||rt>10?createFormatter({weekday:"short"}):rt>1?createFormatter({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):createFormatter({weekday:"long"})}const CLASS_NAME="fc-col-header-cell";function renderInner$1(ot){return ot.text}class TableDateCell extends BaseComponent{render(){let{dateEnv:rt,options:at,theme:lt,viewApi:ct}=this.context,{props:ut}=this,{date:dt,dateProfile:ht}=ut,ft=getDateMeta(dt,ut.todayRange,null,ht),pt=[CLASS_NAME].concat(getDayClassNames(ft,lt)),mt=rt.format(dt,ut.dayHeaderFormat),gt=!ft.isDisabled&&ut.colCnt>1?buildNavLinkAttrs(this.context,dt):{},yt=Object.assign(Object.assign(Object.assign({date:rt.toDate(dt),view:ct},ut.extraRenderProps),{text:mt}),ft);return y$1(ContentContainer,{elTag:"th",elClasses:pt,elAttrs:Object.assign({role:"columnheader",colSpan:ut.colSpan,"data-date":ft.isDisabled?void 0:formatDayString(dt)},ut.extraDataAttrs),renderProps:yt,generatorName:"dayHeaderContent",customGenerator:at.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:at.dayHeaderClassNames,didMount:at.dayHeaderDidMount,willUnmount:at.dayHeaderWillUnmount},xt=>y$1("div",{className:"fc-scrollgrid-sync-inner"},!ft.isDisabled&&y$1(xt,{elTag:"a",elAttrs:gt,elClasses:["fc-col-header-cell-cushion",ut.isSticky&&"fc-sticky"]})))}}const WEEKDAY_FORMAT=createFormatter({weekday:"long"});class TableDowCell extends BaseComponent{render(){let{props:rt}=this,{dateEnv:at,theme:lt,viewApi:ct,options:ut}=this.context,dt=addDays(new Date(2592e5),rt.dow),ht={dow:rt.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},ft=at.format(dt,rt.dayHeaderFormat),pt=Object.assign(Object.assign(Object.assign(Object.assign({date:dt},ht),{view:ct}),rt.extraRenderProps),{text:ft});return y$1(ContentContainer,{elTag:"th",elClasses:[CLASS_NAME,...getDayClassNames(ht,lt),...rt.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:rt.colSpan},rt.extraDataAttrs),renderProps:pt,generatorName:"dayHeaderContent",customGenerator:ut.dayHeaderContent,defaultGenerator:renderInner$1,classNameGenerator:ut.dayHeaderClassNames,didMount:ut.dayHeaderDidMount,willUnmount:ut.dayHeaderWillUnmount},mt=>y$1("div",{className:"fc-scrollgrid-sync-inner"},y$1(mt,{elTag:"a",elClasses:["fc-col-header-cell-cushion",rt.isSticky&&"fc-sticky"],elAttrs:{"aria-label":at.format(dt,WEEKDAY_FORMAT)}})))}}class NowTimer extends x$2{constructor(rt,at){super(rt,at),this.initialNowDate=getNow(at.options.now,at.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:rt,state:at}=this;return rt.children(at.nowDate,at.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(rt){rt.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:rt,context:at}=this,lt=addMs(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),ct=at.dateEnv.startOf(lt,rt.unit),ut=at.dateEnv.add(ct,createDuration(1,rt.unit)),dt=ut.valueOf()-lt.valueOf();return dt=Math.min(1e3*60*60*24,dt),{currentState:{nowDate:ct,todayRange:buildDayRange(ct)},nextState:{nowDate:ut,todayRange:buildDayRange(ut)},waitMs:dt}}setTimeout(){let{nextState:rt,waitMs:at}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(rt,()=>{this.setTimeout()})},at)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}NowTimer.contextType=ViewContextType;function buildDayRange(ot){let rt=startOfDay(ot),at=addDays(rt,1);return{start:rt,end:at}}class DayHeader extends BaseComponent{constructor(){super(...arguments),this.createDayHeaderFormatter=memoize(createDayHeaderFormatter)}render(){let{context:rt}=this,{dates:at,dateProfile:lt,datesRepDistinctDays:ct,renderIntro:ut}=this.props,dt=this.createDayHeaderFormatter(rt.options.dayHeaderFormat,ct,at.length);return y$1(NowTimer,{unit:"day"},(ht,ft)=>y$1("tr",{role:"row"},ut&&ut("day"),at.map(pt=>ct?y$1(TableDateCell,{key:pt.toISOString(),date:pt,dateProfile:lt,todayRange:ft,colCnt:at.length,dayHeaderFormat:dt}):y$1(TableDowCell,{key:pt.getUTCDay(),dow:pt.getUTCDay(),dayHeaderFormat:dt}))))}}function createDayHeaderFormatter(ot,rt,at){return ot||computeFallbackHeaderFormat(rt,at)}class DaySeriesModel{constructor(rt,at){let lt=rt.start,{end:ct}=rt,ut=[],dt=[],ht=-1;for(;lt<ct;)at.isHiddenDay(lt)?ut.push(ht+.5):(ht+=1,ut.push(ht),dt.push(lt)),lt=addDays(lt,1);this.dates=dt,this.indices=ut,this.cnt=dt.length}sliceRange(rt){let at=this.getDateDayIndex(rt.start),lt=this.getDateDayIndex(addDays(rt.end,-1)),ct=Math.max(0,at),ut=Math.min(this.cnt-1,lt);return ct=Math.ceil(ct),ut=Math.floor(ut),ct<=ut?{firstIndex:ct,lastIndex:ut,isStart:at===ct,isEnd:lt===ut}:null}getDateDayIndex(rt){let{indices:at}=this,lt=Math.floor(diffDays(this.dates[0],rt));return lt<0?at[0]-1:lt>=at.length?at[at.length-1]+1:at[lt]}}class DayTableModel{constructor(rt,at){let{dates:lt}=rt,ct,ut,dt;if(at){for(ut=lt[0].getUTCDay(),ct=1;ct<lt.length&&lt[ct].getUTCDay()!==ut;ct+=1);dt=Math.ceil(lt.length/ct)}else dt=1,ct=lt.length;this.rowCnt=dt,this.colCnt=ct,this.daySeries=rt,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let rt=[];for(let at=0;at<this.rowCnt;at+=1){let lt=[];for(let ct=0;ct<this.colCnt;ct+=1)lt.push(this.buildCell(at,ct));rt.push(lt)}return rt}buildCell(rt,at){let lt=this.daySeries.dates[rt*this.colCnt+at];return{key:lt.toISOString(),date:lt}}buildHeaderDates(){let rt=[];for(let at=0;at<this.colCnt;at+=1)rt.push(this.cells[0][at].date);return rt}sliceRange(rt){let{colCnt:at}=this,lt=this.daySeries.sliceRange(rt),ct=[];if(lt){let{firstIndex:ut,lastIndex:dt}=lt,ht=ut;for(;ht<=dt;){let ft=Math.floor(ht/at),pt=Math.min((ft+1)*at,dt+1);ct.push({row:ft,firstCol:ht%at,lastCol:(pt-1)%at,isStart:lt.isStart&&ht===ut,isEnd:lt.isEnd&&pt-1===dt}),ht=pt}}return ct}}class Slicer{constructor(){this.sliceBusinessHours=memoize(this._sliceBusinessHours),this.sliceDateSelection=memoize(this._sliceDateSpan),this.sliceEventStore=memoize(this._sliceEventStore),this.sliceEventDrag=memoize(this._sliceInteraction),this.sliceEventResize=memoize(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(rt,at,lt,ct,...ut){let{eventUiBases:dt}=rt,ht=this.sliceEventStore(rt.eventStore,dt,at,lt,...ut);return{dateSelectionSegs:this.sliceDateSelection(rt.dateSelection,at,lt,dt,ct,...ut),businessHourSegs:this.sliceBusinessHours(rt.businessHours,at,lt,ct,...ut),fgEventSegs:ht.fg,bgEventSegs:ht.bg,eventDrag:this.sliceEventDrag(rt.eventDrag,dt,at,lt,...ut),eventResize:this.sliceEventResize(rt.eventResize,dt,at,lt,...ut),eventSelection:rt.eventSelection}}sliceNowDate(rt,at,lt,ct,...ut){return this._sliceDateSpan({range:{start:rt,end:addMs(rt,1)},allDay:!1},at,lt,{},ct,...ut)}_sliceBusinessHours(rt,at,lt,ct,...ut){return rt?this._sliceEventStore(expandRecurring(rt,computeActiveRange(at,!!lt),ct),{},at,lt,...ut).bg:[]}_sliceEventStore(rt,at,lt,ct,...ut){if(rt){let dt=sliceEventStore(rt,at,computeActiveRange(lt,!!ct),ct);return{bg:this.sliceEventRanges(dt.bg,ut),fg:this.sliceEventRanges(dt.fg,ut)}}return{bg:[],fg:[]}}_sliceInteraction(rt,at,lt,ct,...ut){if(!rt)return null;let dt=sliceEventStore(rt.mutatedEvents,at,computeActiveRange(lt,!!ct),ct);return{segs:this.sliceEventRanges(dt.fg,ut),affectedInstances:rt.affectedEvents.instances,isEvent:rt.isEvent}}_sliceDateSpan(rt,at,lt,ct,ut,...dt){if(!rt)return[];let ht=computeActiveRange(at,!!lt),ft=intersectRanges(rt.range,ht);if(ft){rt=Object.assign(Object.assign({},rt),{range:ft});let pt=fabricateEventRange(rt,ct,ut),mt=this.sliceRange(rt.range,...dt);for(let gt of mt)gt.eventRange=pt;return mt}return[]}sliceEventRanges(rt,at){let lt=[];for(let ct of rt)lt.push(...this.sliceEventRange(ct,at));return lt}sliceEventRange(rt,at){let lt=rt.range;this.forceDayIfListItem&&rt.ui.display==="list-item"&&(lt={start:lt.start,end:addDays(lt.start,1)});let ct=this.sliceRange(lt,...at);for(let ut of ct)ut.eventRange=rt,ut.isStart=rt.isStart&&ut.isStart,ut.isEnd=rt.isEnd&&ut.isEnd;return ct}}function computeActiveRange(ot,rt){let at=ot.activeRange;return rt?at:{start:addMs(at.start,ot.slotMinTime.milliseconds),end:addMs(at.end,ot.slotMaxTime.milliseconds-864e5)}}function isInteractionValid(ot,rt,at){let{instances:lt}=ot.mutatedEvents;for(let ct in lt)if(!rangeContainsRange(rt.validRange,lt[ct].range))return!1;return isNewPropsValid({eventDrag:ot},at)}function isDateSelectionValid(ot,rt,at){return rangeContainsRange(rt.validRange,ot.range)?isNewPropsValid({dateSelection:ot},at):!1}function isNewPropsValid(ot,rt){let at=rt.getCurrentData(),lt=Object.assign({businessHours:at.businessHours,dateSelection:"",eventStore:at.eventStore,eventUiBases:at.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},ot);return(rt.pluginHooks.isPropsValid||isPropsValid)(lt,rt)}function isPropsValid(ot,rt,at={},lt){return!(ot.eventDrag&&!isInteractionPropsValid(ot,rt,at,lt)||ot.dateSelection&&!isDateSelectionPropsValid(ot,rt,at,lt))}function isInteractionPropsValid(ot,rt,at,lt){let ct=rt.getCurrentData(),ut=ot.eventDrag,dt=ut.mutatedEvents,ht=dt.defs,ft=dt.instances,pt=compileEventUis(ht,ut.isEvent?ot.eventUiBases:{"":ct.selectionConfig});lt&&(pt=mapHash(pt,lt));let mt=excludeInstances(ot.eventStore,ut.affectedEvents.instances),gt=mt.defs,yt=mt.instances,xt=compileEventUis(gt,ot.eventUiBases);for(let bt in ft){let Et=ft[bt],Rt=Et.range,wt=pt[Et.defId],_t=ht[Et.defId];if(!allConstraintsPass(wt.constraints,Rt,mt,ot.businessHours,rt))return!1;let{eventOverlap:At}=rt.options,kt=typeof At=="function"?At:null;for(let Nt in yt){let Pt=yt[Nt];if(rangesIntersect(Rt,Pt.range)&&(xt[Pt.defId].overlap===!1&&ut.isEvent||wt.overlap===!1||kt&&!kt(new EventImpl(rt,gt[Pt.defId],Pt),new EventImpl(rt,_t,Et))))return!1}let It=ct.eventStore;for(let Nt of wt.allows){let Pt=Object.assign(Object.assign({},at),{range:Et.range,allDay:_t.allDay}),Tt=It.defs[_t.defId],Ct=It.instances[bt],Ot;if(Tt?Ot=new EventImpl(rt,Tt,Ct):Ot=new EventImpl(rt,_t),!Nt(buildDateSpanApiWithContext(Pt,rt),Ot))return!1}}return!0}function isDateSelectionPropsValid(ot,rt,at,lt){let ct=ot.eventStore,ut=ct.defs,dt=ct.instances,ht=ot.dateSelection,ft=ht.range,{selectionConfig:pt}=rt.getCurrentData();if(lt&&(pt=lt(pt)),!allConstraintsPass(pt.constraints,ft,ct,ot.businessHours,rt))return!1;let{selectOverlap:mt}=rt.options,gt=typeof mt=="function"?mt:null;for(let yt in dt){let xt=dt[yt];if(rangesIntersect(ft,xt.range)&&(pt.overlap===!1||gt&&!gt(new EventImpl(rt,ut[xt.defId],xt),null)))return!1}for(let yt of pt.allows){let xt=Object.assign(Object.assign({},at),ht);if(!yt(buildDateSpanApiWithContext(xt,rt),null))return!1}return!0}function allConstraintsPass(ot,rt,at,lt,ct){for(let ut of ot)if(!anyRangesContainRange(constraintToRanges(ut,rt,at,lt,ct),rt))return!1;return!0}function constraintToRanges(ot,rt,at,lt,ct){return ot==="businessHours"?eventStoreToRanges(expandRecurring(lt,rt,ct)):typeof ot=="string"?eventStoreToRanges(filterEventStoreDefs(at,ut=>ut.groupId===ot)):typeof ot=="object"&&ot?eventStoreToRanges(expandRecurring(ot,rt,ct)):[]}function eventStoreToRanges(ot){let{instances:rt}=ot,at=[];for(let lt in rt)at.push(rt[lt].range);return at}function anyRangesContainRange(ot,rt){for(let at of ot)if(rangeContainsRange(at,rt))return!0;return!1}const VISIBLE_HIDDEN_RE=/^(visible|hidden)$/;class Scroller extends BaseComponent{constructor(){super(...arguments),this.handleEl=rt=>{this.el=rt,setRef(this.props.elRef,rt)}}render(){let{props:rt}=this,{liquid:at,liquidIsAbsolute:lt}=rt,ct=at&&lt,ut=["fc-scroller"];return at&&(lt?ut.push("fc-scroller-liquid-absolute"):ut.push("fc-scroller-liquid")),y$1("div",{ref:this.handleEl,className:ut.join(" "),style:{overflowX:rt.overflowX,overflowY:rt.overflowY,left:ct&&-(rt.overcomeLeft||0)||"",right:ct&&-(rt.overcomeRight||0)||"",bottom:ct&&-(rt.overcomeBottom||0)||"",marginLeft:!ct&&-(rt.overcomeLeft||0)||"",marginRight:!ct&&-(rt.overcomeRight||0)||"",marginBottom:!ct&&-(rt.overcomeBottom||0)||"",maxHeight:rt.maxHeight||""}},rt.children)}needsXScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowX))return!1;let{el:rt}=this,at=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:lt}=rt;for(let ct=0;ct<lt.length;ct+=1)if(lt[ct].getBoundingClientRect().width>at)return!0;return!1}needsYScrolling(){if(VISIBLE_HIDDEN_RE.test(this.props.overflowY))return!1;let{el:rt}=this,at=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:lt}=rt;for(let ct=0;ct<lt.length;ct+=1)if(lt[ct].getBoundingClientRect().height>at)return!0;return!1}getXScrollbarWidth(){return VISIBLE_HIDDEN_RE.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return VISIBLE_HIDDEN_RE.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class RefMap{constructor(rt){this.masterCallback=rt,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(at,lt)=>{let{depths:ct,currentMap:ut}=this,dt=!1,ht=!1;at!==null?(dt=lt in ut,ut[lt]=at,ct[lt]=(ct[lt]||0)+1,ht=!0):(ct[lt]-=1,ct[lt]||(delete ut[lt],delete this.callbackMap[lt],dt=!0)),this.masterCallback&&(dt&&this.masterCallback(null,String(lt)),ht&&this.masterCallback(at,String(lt)))}}createRef(rt){let at=this.callbackMap[rt];return at||(at=this.callbackMap[rt]=lt=>{this.handleValue(lt,String(rt))}),at}collect(rt,at,lt){return collectFromHash(this.currentMap,rt,at,lt)}getAll(){return hashValuesToArray(this.currentMap)}}function computeShrinkWidth(ot){let rt=findElements(ot,".fc-scrollgrid-shrink"),at=0;for(let lt of rt)at=Math.max(at,computeSmallestCellWidth(lt));return Math.ceil(at)}function getSectionHasLiquidHeight(ot,rt){return ot.liquid&&rt.liquid}function getAllowYScrolling(ot,rt){return rt.maxHeight!=null||getSectionHasLiquidHeight(ot,rt)}function renderChunkContent(ot,rt,at,lt){let{expandRows:ct}=at;return typeof rt.content=="function"?rt.content(at):y$1("table",{role:"presentation",className:[rt.tableClassName,ot.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:at.tableMinWidth,width:at.clientWidth,height:ct?at.clientHeight:""}},at.tableColGroupNode,y$1(lt?"thead":"tbody",{role:"presentation"},typeof rt.rowContent=="function"?rt.rowContent(at):rt.rowContent))}function isColPropsEqual(ot,rt){return isArraysEqual(ot,rt,isPropsEqual)}function renderMicroColGroup(ot,rt){let at=[];for(let lt of ot){let ct=lt.span||1;for(let ut=0;ut<ct;ut+=1)at.push(y$1("col",{style:{width:lt.width==="shrink"?sanitizeShrinkWidth(rt):lt.width||"",minWidth:lt.minWidth||""}}))}return y$1("colgroup",{},...at)}function sanitizeShrinkWidth(ot){return ot??4}function hasShrinkWidth(ot){for(let rt of ot)if(rt.width==="shrink")return!0;return!1}function getScrollGridClassNames(ot,rt){let at=["fc-scrollgrid",rt.theme.getClass("table")];return ot&&at.push("fc-scrollgrid-liquid"),at}function getSectionClassNames(ot,rt){let at=["fc-scrollgrid-section",`fc-scrollgrid-section-${ot.type}`,ot.className];return rt&&ot.liquid&&ot.maxHeight==null&&at.push("fc-scrollgrid-section-liquid"),ot.isSticky&&at.push("fc-scrollgrid-section-sticky"),at}function renderScrollShim(ot){return y$1("div",{className:"fc-scrollgrid-sticky-shim",style:{width:ot.clientWidth,minWidth:ot.tableMinWidth}})}function getStickyHeaderDates(ot){let{stickyHeaderDates:rt}=ot;return(rt==null||rt==="auto")&&(rt=ot.height==="auto"||ot.viewHeight==="auto"),rt}function getStickyFooterScrollbar(ot){let{stickyFooterScrollbar:rt}=ot;return(rt==null||rt==="auto")&&(rt=ot.height==="auto"||ot.viewHeight==="auto"),rt}class SimpleScrollGrid extends BaseComponent{constructor(){super(...arguments),this.processCols=memoize(rt=>rt,isColPropsEqual),this.renderMicroColGroup=memoize(renderMicroColGroup),this.scrollerRefs=new RefMap,this.scrollerElRefs=new RefMap(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:rt,state:at,context:lt}=this,ct=rt.sections||[],ut=this.processCols(rt.cols),dt=this.renderMicroColGroup(ut,at.shrinkWidth),ht=getScrollGridClassNames(rt.liquid,lt);rt.collapsibleWidth&&ht.push("fc-scrollgrid-collapsible");let ft=ct.length,pt=0,mt,gt=[],yt=[],xt=[];for(;pt<ft&&(mt=ct[pt]).type==="header";)gt.push(this.renderSection(mt,dt,!0)),pt+=1;for(;pt<ft&&(mt=ct[pt]).type==="body";)yt.push(this.renderSection(mt,dt,!1)),pt+=1;for(;pt<ft&&(mt=ct[pt]).type==="footer";)xt.push(this.renderSection(mt,dt,!0)),pt+=1;let bt=!getCanVGrowWithinCell();const Et={role:"rowgroup"};return y$1("table",{role:"grid",className:ht.join(" "),style:{height:rt.height}},!!(!bt&&gt.length)&&y$1("thead",Et,...gt),!!(!bt&&yt.length)&&y$1("tbody",Et,...yt),!!(!bt&&xt.length)&&y$1("tfoot",Et,...xt),bt&&y$1("tbody",Et,...gt,...yt,...xt))}renderSection(rt,at,lt){return"outerContent"in rt?y$1(_$1,{key:rt.key},rt.outerContent):y$1("tr",{key:rt.key,role:"presentation",className:getSectionClassNames(rt,this.props.liquid).join(" ")},this.renderChunkTd(rt,at,rt.chunk,lt))}renderChunkTd(rt,at,lt,ct){if("outerContent"in lt)return lt.outerContent;let{props:ut}=this,{forceYScrollbars:dt,scrollerClientWidths:ht,scrollerClientHeights:ft}=this.state,pt=getAllowYScrolling(ut,rt),mt=getSectionHasLiquidHeight(ut,rt),gt=ut.liquid?dt?"scroll":pt?"auto":"hidden":"visible",yt=rt.key,xt=renderChunkContent(rt,lt,{tableColGroupNode:at,tableMinWidth:"",clientWidth:!ut.collapsibleWidth&&ht[yt]!==void 0?ht[yt]:null,clientHeight:ft[yt]!==void 0?ft[yt]:null,expandRows:rt.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},ct);return y$1(ct?"th":"td",{ref:lt.elRef,role:"presentation"},y$1("div",{className:`fc-scroller-harness${mt?" fc-scroller-harness-liquid":""}`},y$1(Scroller,{ref:this.scrollerRefs.createRef(yt),elRef:this.scrollerElRefs.createRef(yt),overflowY:gt,overflowX:ut.liquid?"hidden":"visible",maxHeight:rt.maxHeight,liquid:mt,liquidIsAbsolute:!0},xt)))}_handleScrollerEl(rt,at){let lt=getSectionByKey(this.props.sections,at);lt&&setRef(lt.chunk.scrollerElRef,rt)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return hasShrinkWidth(this.props.cols)?computeShrinkWidth(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let rt=getScrollbarWidths(),{scrollerRefs:at,scrollerElRefs:lt}=this,ct=!1,ut={},dt={};for(let ht in at.currentMap){let ft=at.currentMap[ht];if(ft&&ft.needsYScrolling()){ct=!0;break}}for(let ht of this.props.sections){let ft=ht.key,pt=lt.currentMap[ft];if(pt){let mt=pt.parentNode;ut[ft]=Math.floor(mt.getBoundingClientRect().width-(ct?rt.y:0)),dt[ft]=Math.floor(mt.getBoundingClientRect().height)}}return{forceYScrollbars:ct,scrollerClientWidths:ut,scrollerClientHeights:dt}}}SimpleScrollGrid.addStateEquality({scrollerClientWidths:isPropsEqual,scrollerClientHeights:isPropsEqual});function getSectionByKey(ot,rt){for(let at of ot)if(at.key===rt)return at;return null}class EventContainer extends BaseComponent{constructor(){super(...arguments),this.handleEl=rt=>{this.el=rt,rt&&setElSeg(rt,this.props.seg)}}render(){const{props:rt,context:at}=this,{options:lt}=at,{seg:ct}=rt,{eventRange:ut}=ct,{ui:dt}=ut,ht={event:new EventImpl(at,ut.def,ut.instance),view:at.viewApi,timeText:rt.timeText,textColor:dt.textColor,backgroundColor:dt.backgroundColor,borderColor:dt.borderColor,isDraggable:!rt.disableDragging&&computeSegDraggable(ct,at),isStartResizable:!rt.disableResizing&&computeSegStartResizable(ct,at),isEndResizable:!rt.disableResizing&&computeSegEndResizable(ct),isMirror:!!(rt.isDragging||rt.isResizing||rt.isDateSelecting),isStart:!!ct.isStart,isEnd:!!ct.isEnd,isPast:!!rt.isPast,isFuture:!!rt.isFuture,isToday:!!rt.isToday,isSelected:!!rt.isSelected,isDragging:!!rt.isDragging,isResizing:!!rt.isResizing};return y$1(ContentContainer,Object.assign({},rt,{elRef:this.handleEl,elClasses:[...getEventClassNames(ht),...ct.eventRange.ui.classNames,...rt.elClasses||[]],renderProps:ht,generatorName:"eventContent",customGenerator:lt.eventContent,defaultGenerator:rt.defaultGenerator,classNameGenerator:lt.eventClassNames,didMount:lt.eventDidMount,willUnmount:lt.eventWillUnmount}))}componentDidUpdate(rt){this.el&&this.props.seg!==rt.seg&&setElSeg(this.el,this.props.seg)}}class StandardEvent extends BaseComponent{render(){let{props:rt,context:at}=this,{options:lt}=at,{seg:ct}=rt,{ui:ut}=ct.eventRange,dt=lt.eventTimeFormat||rt.defaultTimeFormat,ht=buildSegTimeText(ct,dt,at,rt.defaultDisplayEventTime,rt.defaultDisplayEventEnd);return y$1(EventContainer,Object.assign({},rt,{elTag:"a",elStyle:{borderColor:ut.borderColor,backgroundColor:ut.backgroundColor},elAttrs:getSegAnchorAttrs(ct,at),defaultGenerator:renderInnerContent$1$1,timeText:ht}),(ft,pt)=>y$1(_$1,null,y$1(ft,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:pt.textColor}}),!!pt.isStartResizable&&y$1("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!pt.isEndResizable&&y$1("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function renderInnerContent$1$1(ot){return y$1("div",{className:"fc-event-main-frame"},ot.timeText&&y$1("div",{className:"fc-event-time"},ot.timeText),y$1("div",{className:"fc-event-title-container"},y$1("div",{className:"fc-event-title fc-sticky"},ot.event.title||y$1(_$1,null," "))))}const NowIndicatorContainer=ot=>y$1(ViewContextType.Consumer,null,rt=>{let{options:at}=rt,lt={isAxis:ot.isAxis,date:rt.dateEnv.toDate(ot.date),view:rt.viewApi};return y$1(ContentContainer,Object.assign({},ot,{elTag:ot.elTag||"div",renderProps:lt,generatorName:"nowIndicatorContent",customGenerator:at.nowIndicatorContent,classNameGenerator:at.nowIndicatorClassNames,didMount:at.nowIndicatorDidMount,willUnmount:at.nowIndicatorWillUnmount}))}),DAY_NUM_FORMAT=createFormatter({day:"numeric"});class DayCellContainer extends BaseComponent{constructor(){super(...arguments),this.refineRenderProps=memoizeObjArg(refineRenderProps)}render(){let{props:rt,context:at}=this,{options:lt}=at,ct=this.refineRenderProps({date:rt.date,dateProfile:rt.dateProfile,todayRange:rt.todayRange,isMonthStart:rt.isMonthStart||!1,showDayNumber:rt.showDayNumber,extraRenderProps:rt.extraRenderProps,viewApi:at.viewApi,dateEnv:at.dateEnv,monthStartFormat:lt.monthStartFormat});return y$1(ContentContainer,Object.assign({},rt,{elClasses:[...getDayClassNames(ct,at.theme),...rt.elClasses||[]],elAttrs:Object.assign(Object.assign({},rt.elAttrs),ct.isDisabled?{}:{"data-date":formatDayString(rt.date)}),renderProps:ct,generatorName:"dayCellContent",customGenerator:lt.dayCellContent,defaultGenerator:rt.defaultGenerator,classNameGenerator:ct.isDisabled?void 0:lt.dayCellClassNames,didMount:lt.dayCellDidMount,willUnmount:lt.dayCellWillUnmount}))}}function hasCustomDayCellContent(ot){return!!(ot.dayCellContent||hasCustomRenderingHandler("dayCellContent",ot))}function refineRenderProps(ot){let{date:rt,dateEnv:at,dateProfile:lt,isMonthStart:ct}=ot,ut=getDateMeta(rt,ot.todayRange,null,lt),dt=ot.showDayNumber?at.format(rt,ct?ot.monthStartFormat:DAY_NUM_FORMAT):"";return Object.assign(Object.assign(Object.assign({date:at.toDate(rt),view:ot.viewApi},ut),{isMonthStart:ct,dayNumberText:dt}),ot.extraRenderProps)}class BgEvent extends BaseComponent{render(){let{props:rt}=this,{seg:at}=rt;return y$1(EventContainer,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:at.eventRange.ui.backgroundColor},defaultGenerator:renderInnerContent$2,seg:at,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:rt.isPast,isFuture:rt.isFuture,isToday:rt.isToday,disableDragging:!0,disableResizing:!0})}}function renderInnerContent$2(ot){let{title:rt}=ot.event;return rt&&y$1("div",{className:"fc-event-title"},ot.event.title)}function renderFill(ot){return y$1("div",{className:`fc-${ot}`})}const WeekNumberContainer=ot=>y$1(ViewContextType.Consumer,null,rt=>{let{dateEnv:at,options:lt}=rt,{date:ct}=ot,ut=lt.weekNumberFormat||ot.defaultFormat,dt=at.computeWeekNumber(ct),ht=at.format(ct,ut);return y$1(ContentContainer,Object.assign({},ot,{renderProps:{num:dt,text:ht,date:ct},generatorName:"weekNumberContent",customGenerator:lt.weekNumberContent,defaultGenerator:renderInner,classNameGenerator:lt.weekNumberClassNames,didMount:lt.weekNumberDidMount,willUnmount:lt.weekNumberWillUnmount}))});function renderInner(ot){return ot.text}const PADDING_FROM_VIEWPORT=10;class Popover extends BaseComponent{constructor(){super(...arguments),this.state={titleId:getUniqueDomId()},this.handleRootEl=rt=>{this.rootEl=rt,this.props.elRef&&setRef(this.props.elRef,rt)},this.handleDocumentMouseDown=rt=>{const at=getEventTargetViaRoot(rt);this.rootEl.contains(at)||this.handleCloseClick()},this.handleDocumentKeyDown=rt=>{rt.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:rt}=this.props;rt&&rt()}}render(){let{theme:rt,options:at}=this.context,{props:lt,state:ct}=this,ut=["fc-popover",rt.getClass("popover")].concat(lt.extraClassNames||[]);return j$1(y$1("div",Object.assign({},lt.extraAttrs,{id:lt.id,className:ut.join(" "),"aria-labelledby":ct.titleId,ref:this.handleRootEl}),y$1("div",{className:"fc-popover-header "+rt.getClass("popoverHeader")},y$1("span",{className:"fc-popover-title",id:ct.titleId},lt.title),y$1("span",{className:"fc-popover-close "+rt.getIconClass("close"),title:at.closeHint,onClick:this.handleCloseClick})),y$1("div",{className:"fc-popover-body "+rt.getClass("popoverContent")},lt.children)),lt.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:rt}=this.context,{alignmentEl:at,alignGridTop:lt}=this.props,{rootEl:ct}=this,ut=computeClippedClientRect(at);if(ut){let dt=ct.getBoundingClientRect(),ht=lt?elementClosest(at,".fc-scrollgrid").getBoundingClientRect().top:ut.top,ft=rt?ut.right-dt.width:ut.left;ht=Math.max(ht,PADDING_FROM_VIEWPORT),ft=Math.min(ft,document.documentElement.clientWidth-PADDING_FROM_VIEWPORT-dt.width),ft=Math.max(ft,PADDING_FROM_VIEWPORT);let pt=ct.offsetParent.getBoundingClientRect();applyStyle(ct,{top:ht-pt.top,left:ft-pt.left})}}}class MorePopover extends DateComponent{constructor(){super(...arguments),this.handleRootEl=rt=>{this.rootEl=rt,rt?this.context.registerInteractiveComponent(this,{el:rt,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:rt,dateEnv:at}=this.context,{props:lt}=this,{startDate:ct,todayRange:ut,dateProfile:dt}=lt,ht=at.format(ct,rt.dayPopoverFormat);return y$1(DayCellContainer,{elRef:this.handleRootEl,date:ct,dateProfile:dt,todayRange:ut},(ft,pt,mt)=>y$1(Popover,{elRef:mt.ref,id:lt.id,title:ht,extraClassNames:["fc-more-popover"].concat(mt.className||[]),extraAttrs:mt,parentEl:lt.parentEl,alignmentEl:lt.alignmentEl,alignGridTop:lt.alignGridTop,onClose:lt.onClose},hasCustomDayCellContent(rt)&&y$1(ft,{elTag:"div",elClasses:["fc-more-popover-misc"]}),lt.children))}queryHit(rt,at,lt,ct){let{rootEl:ut,props:dt}=this;return rt>=0&&rt<lt&&at>=0&&at<ct?{dateProfile:dt.dateProfile,dateSpan:Object.assign({allDay:!dt.forceTimed,range:{start:dt.startDate,end:dt.endDate}},dt.extraDateSpan),dayEl:ut,rect:{left:0,top:0,right:lt,bottom:ct},layer:1}:null}}class MoreLinkContainer extends BaseComponent{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:getUniqueDomId()},this.handleLinkEl=rt=>{this.linkEl=rt,this.props.elRef&&setRef(this.props.elRef,rt)},this.handleClick=rt=>{let{props:at,context:lt}=this,{moreLinkClick:ct}=lt.options,ut=computeRange(at).start;function dt(ht){let{def:ft,instance:pt,range:mt}=ht.eventRange;return{event:new EventImpl(lt,ft,pt),start:lt.dateEnv.toDate(mt.start),end:lt.dateEnv.toDate(mt.end),isStart:ht.isStart,isEnd:ht.isEnd}}typeof ct=="function"&&(ct=ct({date:ut,allDay:!!at.allDayDate,allSegs:at.allSegs.map(dt),hiddenSegs:at.hiddenSegs.map(dt),jsEvent:rt,view:lt.viewApi})),!ct||ct==="popover"?this.setState({isPopoverOpen:!0}):typeof ct=="string"&&lt.calendarApi.zoomTo(ut,ct)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:rt,state:at}=this;return y$1(ViewContextType.Consumer,null,lt=>{let{viewApi:ct,options:ut,calendarApi:dt}=lt,{moreLinkText:ht}=ut,{moreCnt:ft}=rt,pt=computeRange(rt),mt=typeof ht=="function"?ht.call(dt,ft):`+${ft} ${ht}`,gt=formatWithOrdinals(ut.moreLinkHint,[ft],mt),yt={num:ft,shortText:`+${ft}`,text:mt,view:ct};return y$1(_$1,null,!!rt.moreCnt&&y$1(ContentContainer,{elTag:rt.elTag||"a",elRef:this.handleLinkEl,elClasses:[...rt.elClasses||[],"fc-more-link"],elStyle:rt.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},rt.elAttrs),createAriaClickAttrs(this.handleClick)),{title:gt,"aria-expanded":at.isPopoverOpen,"aria-controls":at.isPopoverOpen?at.popoverId:""}),renderProps:yt,generatorName:"moreLinkContent",customGenerator:ut.moreLinkContent,defaultGenerator:rt.defaultGenerator||renderMoreLinkInner$1,classNameGenerator:ut.moreLinkClassNames,didMount:ut.moreLinkDidMount,willUnmount:ut.moreLinkWillUnmount},rt.children),at.isPopoverOpen&&y$1(MorePopover,{id:at.popoverId,startDate:pt.start,endDate:pt.end,dateProfile:rt.dateProfile,todayRange:rt.todayRange,extraDateSpan:rt.extraDateSpan,parentEl:this.parentEl,alignmentEl:rt.alignmentElRef?rt.alignmentElRef.current:this.linkEl,alignGridTop:rt.alignGridTop,forceTimed:rt.forceTimed,onClose:this.handlePopoverClose},rt.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=elementClosest(this.linkEl,".fc-view-harness"))}}function renderMoreLinkInner$1(ot){return ot.text}function computeRange(ot){if(ot.allDayDate)return{start:ot.allDayDate,end:addDays(ot.allDayDate,1)};let{hiddenSegs:rt}=ot;return{start:computeEarliestSegStart(rt),end:computeLatestSegEnd(rt)}}function computeEarliestSegStart(ot){return ot.reduce(pickEarliestStart).eventRange.range.start}function pickEarliestStart(ot,rt){return ot.eventRange.range.start<rt.eventRange.range.start?ot:rt}function computeLatestSegEnd(ot){return ot.reduce(pickLatestEnd).eventRange.range.end}function pickLatestEnd(ot,rt){return ot.eventRange.range.end>rt.eventRange.range.end?ot:rt}class Store{constructor(){this.handlers=[]}set(rt){this.currentValue=rt;for(let at of this.handlers)at(rt)}subscribe(rt){this.handlers.push(rt),this.currentValue!==void 0&&rt(this.currentValue)}}class CustomRenderingStore extends Store{constructor(){super(...arguments),this.map=new Map}handle(rt){const{map:at}=this;let lt=!1;rt.isActive?(at.set(rt.id,rt),lt=!0):at.has(rt.id)&&(at.delete(rt.id),lt=!0),lt&&this.set(at)}}const globalLocales=[],MINIMAL_RAW_EN_LOCALE={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},RAW_EN_LOCALE=Object.assign(Object.assign({},MINIMAL_RAW_EN_LOCALE),{buttonHints:{prev:"Previous $0",next:"Next $0",today(ot,rt){return rt==="day"?"Today":`This ${ot}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(ot){return`Show ${ot} more event${ot===1?"":"s"}`}});function organizeRawLocales(ot){let rt=ot.length>0?ot[0].code:"en",at=globalLocales.concat(ot),lt={en:RAW_EN_LOCALE};for(let ct of at)lt[ct.code]=ct;return{map:lt,defaultCode:rt}}function buildLocale(ot,rt){return typeof ot=="object"&&!Array.isArray(ot)?parseLocale(ot.code,[ot.code],ot):queryLocale(ot,rt)}function queryLocale(ot,rt){let at=[].concat(ot||[]),lt=queryRawLocale(at,rt)||RAW_EN_LOCALE;return parseLocale(ot,at,lt)}function queryRawLocale(ot,rt){for(let at=0;at<ot.length;at+=1){let lt=ot[at].toLocaleLowerCase().split("-");for(let ct=lt.length;ct>0;ct-=1){let ut=lt.slice(0,ct).join("-");if(rt[ut])return rt[ut]}}return null}function parseLocale(ot,rt,at){let lt=mergeProps([MINIMAL_RAW_EN_LOCALE,at],["buttonText"]);delete lt.code;let{week:ct}=lt;return delete lt.week,{codeArg:ot,codes:rt,week:ct,simpleNumberFormat:new Intl.NumberFormat(ot),options:lt}}function createPlugin(ot){return{id:guid(),name:ot.name,premiumReleaseDate:ot.premiumReleaseDate?new Date(ot.premiumReleaseDate):void 0,deps:ot.deps||[],reducers:ot.reducers||[],isLoadingFuncs:ot.isLoadingFuncs||[],contextInit:[].concat(ot.contextInit||[]),eventRefiners:ot.eventRefiners||{},eventDefMemberAdders:ot.eventDefMemberAdders||[],eventSourceRefiners:ot.eventSourceRefiners||{},isDraggableTransformers:ot.isDraggableTransformers||[],eventDragMutationMassagers:ot.eventDragMutationMassagers||[],eventDefMutationAppliers:ot.eventDefMutationAppliers||[],dateSelectionTransformers:ot.dateSelectionTransformers||[],datePointTransforms:ot.datePointTransforms||[],dateSpanTransforms:ot.dateSpanTransforms||[],views:ot.views||{},viewPropsTransformers:ot.viewPropsTransformers||[],isPropsValid:ot.isPropsValid||null,externalDefTransforms:ot.externalDefTransforms||[],viewContainerAppends:ot.viewContainerAppends||[],eventDropTransformers:ot.eventDropTransformers||[],componentInteractions:ot.componentInteractions||[],calendarInteractions:ot.calendarInteractions||[],themeClasses:ot.themeClasses||{},eventSourceDefs:ot.eventSourceDefs||[],cmdFormatter:ot.cmdFormatter,recurringTypes:ot.recurringTypes||[],namedTimeZonedImpl:ot.namedTimeZonedImpl,initialView:ot.initialView||"",elementDraggingImpl:ot.elementDraggingImpl,optionChangeHandlers:ot.optionChangeHandlers||{},scrollGridImpl:ot.scrollGridImpl||null,listenerRefiners:ot.listenerRefiners||{},optionRefiners:ot.optionRefiners||{},propSetHandlers:ot.propSetHandlers||{}}}function buildPluginHooks(ot,rt){let at={},lt={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function ct(ut){for(let dt of ut){const ht=dt.name,ft=at[ht];ft===void 0?(at[ht]=dt.id,ct(dt.deps),lt=combineHooks(lt,dt)):ft!==dt.id&&console.warn(`Duplicate plugin '${ht}'`)}}return ot&&ct(ot),ct(rt),lt}function buildBuildPluginHooks(){let ot=[],rt=[],at;return(lt,ct)=>((!at||!isArraysEqual(lt,ot)||!isArraysEqual(ct,rt))&&(at=buildPluginHooks(lt,ct)),ot=lt,rt=ct,at)}function combineHooks(ot,rt){return{premiumReleaseDate:compareOptionalDates(ot.premiumReleaseDate,rt.premiumReleaseDate),reducers:ot.reducers.concat(rt.reducers),isLoadingFuncs:ot.isLoadingFuncs.concat(rt.isLoadingFuncs),contextInit:ot.contextInit.concat(rt.contextInit),eventRefiners:Object.assign(Object.assign({},ot.eventRefiners),rt.eventRefiners),eventDefMemberAdders:ot.eventDefMemberAdders.concat(rt.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},ot.eventSourceRefiners),rt.eventSourceRefiners),isDraggableTransformers:ot.isDraggableTransformers.concat(rt.isDraggableTransformers),eventDragMutationMassagers:ot.eventDragMutationMassagers.concat(rt.eventDragMutationMassagers),eventDefMutationAppliers:ot.eventDefMutationAppliers.concat(rt.eventDefMutationAppliers),dateSelectionTransformers:ot.dateSelectionTransformers.concat(rt.dateSelectionTransformers),datePointTransforms:ot.datePointTransforms.concat(rt.datePointTransforms),dateSpanTransforms:ot.dateSpanTransforms.concat(rt.dateSpanTransforms),views:Object.assign(Object.assign({},ot.views),rt.views),viewPropsTransformers:ot.viewPropsTransformers.concat(rt.viewPropsTransformers),isPropsValid:rt.isPropsValid||ot.isPropsValid,externalDefTransforms:ot.externalDefTransforms.concat(rt.externalDefTransforms),viewContainerAppends:ot.viewContainerAppends.concat(rt.viewContainerAppends),eventDropTransformers:ot.eventDropTransformers.concat(rt.eventDropTransformers),calendarInteractions:ot.calendarInteractions.concat(rt.calendarInteractions),componentInteractions:ot.componentInteractions.concat(rt.componentInteractions),themeClasses:Object.assign(Object.assign({},ot.themeClasses),rt.themeClasses),eventSourceDefs:ot.eventSourceDefs.concat(rt.eventSourceDefs),cmdFormatter:rt.cmdFormatter||ot.cmdFormatter,recurringTypes:ot.recurringTypes.concat(rt.recurringTypes),namedTimeZonedImpl:rt.namedTimeZonedImpl||ot.namedTimeZonedImpl,initialView:ot.initialView||rt.initialView,elementDraggingImpl:ot.elementDraggingImpl||rt.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},ot.optionChangeHandlers),rt.optionChangeHandlers),scrollGridImpl:rt.scrollGridImpl||ot.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},ot.listenerRefiners),rt.listenerRefiners),optionRefiners:Object.assign(Object.assign({},ot.optionRefiners),rt.optionRefiners),propSetHandlers:Object.assign(Object.assign({},ot.propSetHandlers),rt.propSetHandlers)}}function compareOptionalDates(ot,rt){return ot===void 0?rt:rt===void 0?ot:new Date(Math.max(ot.valueOf(),rt.valueOf()))}class StandardTheme extends Theme{}StandardTheme.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};StandardTheme.prototype.baseIconClass="fc-icon";StandardTheme.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};StandardTheme.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};StandardTheme.prototype.iconOverrideOption="buttonIcons";StandardTheme.prototype.iconOverrideCustomButtonOption="icon";StandardTheme.prototype.iconOverridePrefix="fc-icon-";function compileViewDefs(ot,rt){let at={},lt;for(lt in ot)ensureViewDef(lt,at,ot,rt);for(lt in rt)ensureViewDef(lt,at,ot,rt);return at}function ensureViewDef(ot,rt,at,lt){if(rt[ot])return rt[ot];let ct=buildViewDef(ot,rt,at,lt);return ct&&(rt[ot]=ct),ct}function buildViewDef(ot,rt,at,lt){let ct=at[ot],ut=lt[ot],dt=mt=>ct&&ct[mt]!==null?ct[mt]:ut&&ut[mt]!==null?ut[mt]:null,ht=dt("component"),ft=dt("superType"),pt=null;if(ft){if(ft===ot)throw new Error("Can't have a custom view type that references itself");pt=ensureViewDef(ft,rt,at,lt)}return!ht&&pt&&(ht=pt.component),ht?{type:ot,component:ht,defaults:Object.assign(Object.assign({},pt?pt.defaults:{}),ct?ct.rawOptions:{}),overrides:Object.assign(Object.assign({},pt?pt.overrides:{}),ut?ut.rawOptions:{})}:null}function parseViewConfigs(ot){return mapHash(ot,parseViewConfig)}function parseViewConfig(ot){let rt=typeof ot=="function"?{component:ot}:ot,{component:at}=rt;return rt.content?at=createViewHookComponent(rt):at&&!(at.prototype instanceof BaseComponent)&&(at=createViewHookComponent(Object.assign(Object.assign({},rt),{content:at}))),{superType:rt.type,component:at,rawOptions:rt}}function createViewHookComponent(ot){return rt=>y$1(ViewContextType.Consumer,null,at=>y$1(ContentContainer,{elTag:"div",elClasses:buildViewClassNames(at.viewSpec),renderProps:Object.assign(Object.assign({},rt),{nextDayThreshold:at.options.nextDayThreshold}),generatorName:void 0,customGenerator:ot.content,classNameGenerator:ot.classNames,didMount:ot.didMount,willUnmount:ot.willUnmount}))}function buildViewSpecs(ot,rt,at,lt){let ct=parseViewConfigs(ot),ut=parseViewConfigs(rt.views),dt=compileViewDefs(ct,ut);return mapHash(dt,ht=>buildViewSpec(ht,ut,rt,at,lt))}function buildViewSpec(ot,rt,at,lt,ct){let ut=ot.overrides.duration||ot.defaults.duration||lt.duration||at.duration,dt=null,ht="",ft="",pt={};if(ut&&(dt=createDurationCached(ut),dt)){let yt=greatestDurationDenominator(dt);ht=yt.unit,yt.value===1&&(ft=ht,pt=rt[ht]?rt[ht].rawOptions:{})}let mt=yt=>{let xt=yt.buttonText||{},bt=ot.defaults.buttonTextKey;return bt!=null&&xt[bt]!=null?xt[bt]:xt[ot.type]!=null?xt[ot.type]:xt[ft]!=null?xt[ft]:null},gt=yt=>{let xt=yt.buttonHints||{},bt=ot.defaults.buttonTextKey;return bt!=null&&xt[bt]!=null?xt[bt]:xt[ot.type]!=null?xt[ot.type]:xt[ft]!=null?xt[ft]:null};return{type:ot.type,component:ot.component,duration:dt,durationUnit:ht,singleUnit:ft,optionDefaults:ot.defaults,optionOverrides:Object.assign(Object.assign({},pt),ot.overrides),buttonTextOverride:mt(lt)||mt(at)||ot.overrides.buttonText,buttonTextDefault:mt(ct)||ot.defaults.buttonText||mt(BASE_OPTION_DEFAULTS)||ot.type,buttonTitleOverride:gt(lt)||gt(at)||ot.overrides.buttonHint,buttonTitleDefault:gt(ct)||ot.defaults.buttonHint||gt(BASE_OPTION_DEFAULTS)}}let durationInputMap={};function createDurationCached(ot){let rt=JSON.stringify(ot),at=durationInputMap[rt];return at===void 0&&(at=createDuration(ot),durationInputMap[rt]=at),at}function reduceViewType(ot,rt){switch(rt.type){case"CHANGE_VIEW_TYPE":ot=rt.viewType}return ot}function reduceDynamicOptionOverrides(ot,rt){switch(rt.type){case"SET_OPTION":return Object.assign(Object.assign({},ot),{[rt.optionName]:rt.rawOptionValue});default:return ot}}function reduceDateProfile(ot,rt,at,lt){let ct;switch(rt.type){case"CHANGE_VIEW_TYPE":return lt.build(rt.dateMarker||at);case"CHANGE_DATE":return lt.build(rt.dateMarker);case"PREV":if(ct=lt.buildPrev(ot,at),ct.isValid)return ct;break;case"NEXT":if(ct=lt.buildNext(ot,at),ct.isValid)return ct;break}return ot}function initEventSources(ot,rt,at){let lt=rt?rt.activeRange:null;return addSources({},parseInitialSources(ot,at),lt,at)}function reduceEventSources(ot,rt,at,lt){let ct=at?at.activeRange:null;switch(rt.type){case"ADD_EVENT_SOURCES":return addSources(ot,rt.sources,ct,lt);case"REMOVE_EVENT_SOURCE":return removeSource(ot,rt.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return at?fetchDirtySources(ot,ct,lt):ot;case"FETCH_EVENT_SOURCES":return fetchSourcesByIds(ot,rt.sourceIds?arrayToHash(rt.sourceIds):excludeStaticSources(ot,lt),ct,rt.isRefetch||!1,lt);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return receiveResponse(ot,rt.sourceId,rt.fetchId,rt.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return ot}}function reduceEventSourcesNewTimeZone(ot,rt,at){let lt=rt?rt.activeRange:null;return fetchSourcesByIds(ot,excludeStaticSources(ot,at),lt,!0,at)}function computeEventSourcesLoading(ot){for(let rt in ot)if(ot[rt].isFetching)return!0;return!1}function addSources(ot,rt,at,lt){let ct={};for(let ut of rt)ct[ut.sourceId]=ut;return at&&(ct=fetchDirtySources(ct,at,lt)),Object.assign(Object.assign({},ot),ct)}function removeSource(ot,rt){return filterHash(ot,at=>at.sourceId!==rt)}function fetchDirtySources(ot,rt,at){return fetchSourcesByIds(ot,filterHash(ot,lt=>isSourceDirty(lt,rt,at)),rt,!1,at)}function isSourceDirty(ot,rt,at){return doesSourceNeedRange(ot,at)?!at.options.lazyFetching||!ot.fetchRange||ot.isFetching||rt.start<ot.fetchRange.start||rt.end>ot.fetchRange.end:!ot.latestFetchId}function fetchSourcesByIds(ot,rt,at,lt,ct){let ut={};for(let dt in ot){let ht=ot[dt];rt[dt]?ut[dt]=fetchSource(ht,at,lt,ct):ut[dt]=ht}return ut}function fetchSource(ot,rt,at,lt){let{options:ct,calendarApi:ut}=lt,dt=lt.pluginHooks.eventSourceDefs[ot.sourceDefId],ht=guid();return dt.fetch({eventSource:ot,range:rt,isRefetch:at,context:lt},ft=>{let{rawEvents:pt}=ft;ct.eventSourceSuccess&&(pt=ct.eventSourceSuccess.call(ut,pt,ft.response)||pt),ot.success&&(pt=ot.success.call(ut,pt,ft.response)||pt),lt.dispatch({type:"RECEIVE_EVENTS",sourceId:ot.sourceId,fetchId:ht,fetchRange:rt,rawEvents:pt})},ft=>{let pt=!1;ct.eventSourceFailure&&(ct.eventSourceFailure.call(ut,ft),pt=!0),ot.failure&&(ot.failure(ft),pt=!0),pt||console.warn(ft.message,ft),lt.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:ot.sourceId,fetchId:ht,fetchRange:rt,error:ft})}),Object.assign(Object.assign({},ot),{isFetching:!0,latestFetchId:ht})}function receiveResponse(ot,rt,at,lt){let ct=ot[rt];return ct&&at===ct.latestFetchId?Object.assign(Object.assign({},ot),{[rt]:Object.assign(Object.assign({},ct),{isFetching:!1,fetchRange:lt})}):ot}function excludeStaticSources(ot,rt){return filterHash(ot,at=>doesSourceNeedRange(at,rt))}function parseInitialSources(ot,rt){let at=buildEventSourceRefiners(rt),lt=[].concat(ot.eventSources||[]),ct=[];ot.initialEvents&&lt.unshift(ot.initialEvents),ot.events&&lt.unshift(ot.events);for(let ut of lt){let dt=parseEventSource(ut,rt,at);dt&&ct.push(dt)}return ct}function doesSourceNeedRange(ot,rt){return!rt.pluginHooks.eventSourceDefs[ot.sourceDefId].ignoreRange}function reduceDateSelection(ot,rt){switch(rt.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return rt.selection;default:return ot}}function reduceSelectedEvent(ot,rt){switch(rt.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return rt.eventInstanceId;default:return ot}}function reduceEventDrag(ot,rt){let at;switch(rt.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return at=rt.state,{affectedEvents:at.affectedEvents,mutatedEvents:at.mutatedEvents,isEvent:at.isEvent};default:return ot}}function reduceEventResize(ot,rt){let at;switch(rt.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return at=rt.state,{affectedEvents:at.affectedEvents,mutatedEvents:at.mutatedEvents,isEvent:at.isEvent};default:return ot}}function parseToolbars(ot,rt,at,lt,ct){let ut=ot.headerToolbar?parseToolbar(ot.headerToolbar,ot,rt,at,lt,ct):null,dt=ot.footerToolbar?parseToolbar(ot.footerToolbar,ot,rt,at,lt,ct):null;return{header:ut,footer:dt}}function parseToolbar(ot,rt,at,lt,ct,ut){let dt={},ht=[],ft=!1;for(let pt in ot){let mt=ot[pt],gt=parseSection(mt,rt,at,lt,ct,ut);dt[pt]=gt.widgets,ht.push(...gt.viewsWithButtons),ft=ft||gt.hasTitle}return{sectionWidgets:dt,viewsWithButtons:ht,hasTitle:ft}}function parseSection(ot,rt,at,lt,ct,ut){let dt=rt.direction==="rtl",ht=rt.customButtons||{},ft=at.buttonText||{},pt=rt.buttonText||{},mt=at.buttonHints||{},gt=rt.buttonHints||{},yt=ot?ot.split(" "):[],xt=[],bt=!1;return{widgets:yt.map(Rt=>Rt.split(",").map(wt=>{if(wt==="title")return bt=!0,{buttonName:wt};let _t,At,kt,It,Nt,Pt;if(_t=ht[wt])kt=Tt=>{_t.click&&_t.click.call(Tt.target,Tt,Tt.target)},(It=lt.getCustomButtonIconClass(_t))||(It=lt.getIconClass(wt,dt))||(Nt=_t.text),Pt=_t.hint||_t.text;else if(At=ct[wt]){xt.push(wt),kt=()=>{ut.changeView(wt)},(Nt=At.buttonTextOverride)||(It=lt.getIconClass(wt,dt))||(Nt=At.buttonTextDefault);let Tt=At.buttonTextOverride||At.buttonTextDefault;Pt=formatWithOrdinals(At.buttonTitleOverride||At.buttonTitleDefault||rt.viewHint,[Tt,wt],Tt)}else if(ut[wt])if(kt=()=>{ut[wt]()},(Nt=ft[wt])||(It=lt.getIconClass(wt,dt))||(Nt=pt[wt]),wt==="prevYear"||wt==="nextYear"){let Tt=wt==="prevYear"?"prev":"next";Pt=formatWithOrdinals(mt[Tt]||gt[Tt],[pt.year||"year","year"],pt[wt])}else Pt=Tt=>formatWithOrdinals(mt[wt]||gt[wt],[pt[Tt]||Tt,Tt],pt[wt]);return{buttonName:wt,buttonClick:kt,buttonIcon:It,buttonText:Nt,buttonHint:Pt}})),viewsWithButtons:xt,hasTitle:bt}}class ViewImpl{constructor(rt,at,lt){this.type=rt,this.getCurrentData=at,this.dateEnv=lt}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(rt){return this.getCurrentData().options[rt]}}let eventSourceDef$2={ignoreRange:!0,parseMeta(ot){return Array.isArray(ot.events)?ot.events:null},fetch(ot,rt){rt({rawEvents:ot.eventSource.meta})}};const arrayEventSourcePlugin=createPlugin({name:"array-event-source",eventSourceDefs:[eventSourceDef$2]});let eventSourceDef$1={parseMeta(ot){return typeof ot.events=="function"?ot.events:null},fetch(ot,rt,at){const{dateEnv:lt}=ot.context,ct=ot.eventSource.meta;unpromisify(ct.bind(null,buildRangeApiWithTimeZone(ot.range,lt)),ut=>rt({rawEvents:ut}),at)}};const funcEventSourcePlugin=createPlugin({name:"func-event-source",eventSourceDefs:[eventSourceDef$1]}),JSON_FEED_EVENT_SOURCE_REFINERS={method:String,extraParams:identity,startParam:String,endParam:String,timeZoneParam:String};let eventSourceDef={parseMeta(ot){return ot.url&&(ot.format==="json"||!ot.format)?{url:ot.url,format:"json",method:(ot.method||"GET").toUpperCase(),extraParams:ot.extraParams,startParam:ot.startParam,endParam:ot.endParam,timeZoneParam:ot.timeZoneParam}:null},fetch(ot,rt,at){const{meta:lt}=ot.eventSource,ct=buildRequestParams(lt,ot.range,ot.context);requestJson(lt.method,lt.url,ct).then(([ut,dt])=>{rt({rawEvents:ut,response:dt})},at)}};const jsonFeedEventSourcePlugin=createPlugin({name:"json-event-source",eventSourceRefiners:JSON_FEED_EVENT_SOURCE_REFINERS,eventSourceDefs:[eventSourceDef]});function buildRequestParams(ot,rt,at){let{dateEnv:lt,options:ct}=at,ut,dt,ht,ft,pt={};return ut=ot.startParam,ut==null&&(ut=ct.startParam),dt=ot.endParam,dt==null&&(dt=ct.endParam),ht=ot.timeZoneParam,ht==null&&(ht=ct.timeZoneParam),typeof ot.extraParams=="function"?ft=ot.extraParams():ft=ot.extraParams||{},Object.assign(pt,ft),pt[ut]=lt.formatIso(rt.start),pt[dt]=lt.formatIso(rt.end),lt.timeZone!=="local"&&(pt[ht]=lt.timeZone),pt}const SIMPLE_RECURRING_REFINERS={daysOfWeek:identity,startTime:createDuration,endTime:createDuration,duration:createDuration,startRecur:identity,endRecur:identity};let recurring={parse(ot,rt){if(ot.daysOfWeek||ot.startTime||ot.endTime||ot.startRecur||ot.endRecur){let at={daysOfWeek:ot.daysOfWeek||null,startTime:ot.startTime||null,endTime:ot.endTime||null,startRecur:ot.startRecur?rt.createMarker(ot.startRecur):null,endRecur:ot.endRecur?rt.createMarker(ot.endRecur):null},lt;return ot.duration&&(lt=ot.duration),!lt&&ot.startTime&&ot.endTime&&(lt=subtractDurations(ot.endTime,ot.startTime)),{allDayGuess:!ot.startTime&&!ot.endTime,duration:lt,typeData:at}}return null},expand(ot,rt,at){let lt=intersectRanges(rt,{start:ot.startRecur,end:ot.endRecur});return lt?expandRanges(ot.daysOfWeek,ot.startTime,lt,at):[]}};const simpleRecurringEventsPlugin=createPlugin({name:"simple-recurring-event",recurringTypes:[recurring],eventRefiners:SIMPLE_RECURRING_REFINERS});function expandRanges(ot,rt,at,lt){let ct=ot?arrayToHash(ot):null,ut=startOfDay(at.start),dt=at.end,ht=[];for(;ut<dt;){let ft;(!ct||ct[ut.getUTCDay()])&&(rt?ft=lt.add(ut,rt):ft=ut,ht.push(ft)),ut=addDays(ut,1)}return ht}const changeHandlerPlugin=createPlugin({name:"change-handler",optionChangeHandlers:{events(ot,rt){handleEventSources([ot],rt)},eventSources:handleEventSources}});function handleEventSources(ot,rt){let at=hashValuesToArray(rt.getCurrentData().eventSources);if(at.length===1&&ot.length===1&&Array.isArray(at[0]._raw)&&Array.isArray(ot[0])){rt.dispatch({type:"RESET_RAW_EVENTS",sourceId:at[0].sourceId,rawEvents:ot[0]});return}let lt=[];for(let ct of ot){let ut=!1;for(let dt=0;dt<at.length;dt+=1)if(at[dt]._raw===ct){at.splice(dt,1),ut=!0;break}ut||lt.push(ct)}for(let ct of at)rt.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:ct.sourceId});for(let ct of lt)rt.calendarApi.addEventSource(ct)}function handleDateProfile(ot,rt){rt.emitter.trigger("datesSet",Object.assign(Object.assign({},buildRangeApiWithTimeZone(ot.activeRange,rt.dateEnv)),{view:rt.viewApi}))}function handleEventStore(ot,rt){let{emitter:at}=rt;at.hasHandlers("eventsSet")&&at.trigger("eventsSet",buildEventApis(ot,rt))}const globalPlugins=[arrayEventSourcePlugin,funcEventSourcePlugin,jsonFeedEventSourcePlugin,simpleRecurringEventsPlugin,changeHandlerPlugin,createPlugin({name:"misc",isLoadingFuncs:[ot=>computeEventSourcesLoading(ot.eventSources)],propSetHandlers:{dateProfile:handleDateProfile,eventStore:handleEventStore}})];class TaskRunner{constructor(rt,at){this.runTaskOption=rt,this.drainedOption=at,this.queue=[],this.delayedRunner=new DelayedRunner(this.drain.bind(this))}request(rt,at){this.queue.push(rt),this.delayedRunner.request(at)}pause(rt){this.delayedRunner.pause(rt)}resume(rt,at){this.delayedRunner.resume(rt,at)}drain(){let{queue:rt}=this;for(;rt.length;){let at=[],lt;for(;lt=rt.shift();)this.runTask(lt),at.push(lt);this.drained(at)}}runTask(rt){this.runTaskOption&&this.runTaskOption(rt)}drained(rt){this.drainedOption&&this.drainedOption(rt)}}function buildTitle(ot,rt,at){let lt;return/^(year|month)$/.test(ot.currentRangeUnit)?lt=ot.currentRange:lt=ot.activeRange,at.formatRange(lt.start,lt.end,createFormatter(rt.titleFormat||buildTitleFormat(ot)),{isEndExclusive:ot.isRangeAllDay,defaultSeparator:rt.titleRangeSeparator})}function buildTitleFormat(ot){let{currentRangeUnit:rt}=ot;if(rt==="year")return{year:"numeric"};if(rt==="month")return{year:"numeric",month:"long"};let at=diffWholeDays(ot.currentRange.start,ot.currentRange.end);return at!==null&&at>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class CalendarDataManager{constructor(rt){this.computeCurrentViewData=memoize(this._computeCurrentViewData),this.organizeRawLocales=memoize(organizeRawLocales),this.buildLocale=memoize(buildLocale),this.buildPluginHooks=buildBuildPluginHooks(),this.buildDateEnv=memoize(buildDateEnv$1),this.buildTheme=memoize(buildTheme),this.parseToolbars=memoize(parseToolbars),this.buildViewSpecs=memoize(buildViewSpecs),this.buildDateProfileGenerator=memoizeObjArg(buildDateProfileGenerator),this.buildViewApi=memoize(buildViewApi),this.buildViewUiProps=memoizeObjArg(buildViewUiProps),this.buildEventUiBySource=memoize(buildEventUiBySource,isPropsEqual),this.buildEventUiBases=memoize(buildEventUiBases),this.parseContextBusinessHours=memoizeObjArg(parseContextBusinessHours),this.buildTitle=memoize(buildTitle),this.emitter=new Emitter,this.actionRunner=new TaskRunner(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=yt=>{this.actionRunner.request(yt)},this.props=rt,this.actionRunner.pause();let at={},lt=this.computeOptionsData(rt.optionOverrides,at,rt.calendarApi),ct=lt.calendarOptions.initialView||lt.pluginHooks.initialView,ut=this.computeCurrentViewData(ct,lt,rt.optionOverrides,at);rt.calendarApi.currentDataManager=this,this.emitter.setThisContext(rt.calendarApi),this.emitter.setOptions(ut.options);let dt=getInitialDate(lt.calendarOptions,lt.dateEnv),ht=ut.dateProfileGenerator.build(dt);rangeContainsMarker(ht.activeRange,dt)||(dt=ht.currentRange.start);let ft={dateEnv:lt.dateEnv,options:lt.calendarOptions,pluginHooks:lt.pluginHooks,calendarApi:rt.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let yt of lt.pluginHooks.contextInit)yt(ft);let pt=initEventSources(lt.calendarOptions,ht,ft),mt={dynamicOptionOverrides:at,currentViewType:ct,currentDate:dt,dateProfile:ht,businessHours:this.parseContextBusinessHours(ft),eventSources:pt,eventUiBases:{},eventStore:createEmptyEventStore(),renderableEventStore:createEmptyEventStore(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(ft).selectionConfig},gt=Object.assign(Object.assign({},ft),mt);for(let yt of lt.pluginHooks.reducers)Object.assign(mt,yt(null,null,gt));computeIsLoading(mt,ft)&&this.emitter.trigger("loading",!0),this.state=mt,this.updateData(),this.actionRunner.resume()}resetOptions(rt,at){let{props:lt}=this;at===void 0?lt.optionOverrides=rt:(lt.optionOverrides=Object.assign(Object.assign({},lt.optionOverrides||{}),rt),this.optionsForRefining.push(...at)),(at===void 0||at.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(rt){let{props:at,state:lt,emitter:ct}=this,ut=reduceDynamicOptionOverrides(lt.dynamicOptionOverrides,rt),dt=this.computeOptionsData(at.optionOverrides,ut,at.calendarApi),ht=reduceViewType(lt.currentViewType,rt),ft=this.computeCurrentViewData(ht,dt,at.optionOverrides,ut);at.calendarApi.currentDataManager=this,ct.setThisContext(at.calendarApi),ct.setOptions(ft.options);let pt={dateEnv:dt.dateEnv,options:dt.calendarOptions,pluginHooks:dt.pluginHooks,calendarApi:at.calendarApi,dispatch:this.dispatch,emitter:ct,getCurrentData:this.getCurrentData},{currentDate:mt,dateProfile:gt}=lt;this.data&&this.data.dateProfileGenerator!==ft.dateProfileGenerator&&(gt=ft.dateProfileGenerator.build(mt)),mt=reduceCurrentDate(mt,rt),gt=reduceDateProfile(gt,rt,mt,ft.dateProfileGenerator),(rt.type==="PREV"||rt.type==="NEXT"||!rangeContainsMarker(gt.currentRange,mt))&&(mt=gt.currentRange.start);let yt=reduceEventSources(lt.eventSources,rt,gt,pt),xt=reduceEventStore(lt.eventStore,rt,yt,gt,pt),Et=computeEventSourcesLoading(yt)&&!ft.options.progressiveEventRendering&&lt.renderableEventStore||xt,{eventUiSingleBase:Rt,selectionConfig:wt}=this.buildViewUiProps(pt),_t=this.buildEventUiBySource(yt),At=this.buildEventUiBases(Et.defs,Rt,_t),kt={dynamicOptionOverrides:ut,currentViewType:ht,currentDate:mt,dateProfile:gt,eventSources:yt,eventStore:xt,renderableEventStore:Et,selectionConfig:wt,eventUiBases:At,businessHours:this.parseContextBusinessHours(pt),dateSelection:reduceDateSelection(lt.dateSelection,rt),eventSelection:reduceSelectedEvent(lt.eventSelection,rt),eventDrag:reduceEventDrag(lt.eventDrag,rt),eventResize:reduceEventResize(lt.eventResize,rt)},It=Object.assign(Object.assign({},pt),kt);for(let Tt of dt.pluginHooks.reducers)Object.assign(kt,Tt(lt,rt,It));let Nt=computeIsLoading(lt,pt),Pt=computeIsLoading(kt,pt);!Nt&&Pt?ct.trigger("loading",!0):Nt&&!Pt&&ct.trigger("loading",!1),this.state=kt,at.onAction&&at.onAction(rt)}updateData(){let{props:rt,state:at}=this,lt=this.data,ct=this.computeOptionsData(rt.optionOverrides,at.dynamicOptionOverrides,rt.calendarApi),ut=this.computeCurrentViewData(at.currentViewType,ct,rt.optionOverrides,at.dynamicOptionOverrides),dt=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(at.dateProfile,ut.options,ct.dateEnv),calendarApi:rt.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},ct),ut),at),ht=ct.pluginHooks.optionChangeHandlers,ft=lt&&lt.calendarOptions,pt=ct.calendarOptions;if(ft&&ft!==pt){ft.timeZone!==pt.timeZone&&(at.eventSources=dt.eventSources=reduceEventSourcesNewTimeZone(dt.eventSources,at.dateProfile,dt),at.eventStore=dt.eventStore=rezoneEventStoreDates(dt.eventStore,lt.dateEnv,dt.dateEnv),at.renderableEventStore=dt.renderableEventStore=rezoneEventStoreDates(dt.renderableEventStore,lt.dateEnv,dt.dateEnv));for(let mt in ht)(this.optionsForHandling.indexOf(mt)!==-1||ft[mt]!==pt[mt])&&ht[mt](pt[mt],dt)}this.optionsForHandling=[],rt.onData&&rt.onData(dt)}computeOptionsData(rt,at,lt){if(!this.optionsForRefining.length&&rt===this.stableOptionOverrides&&at===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:ct,pluginHooks:ut,localeDefaults:dt,availableLocaleData:ht,extra:ft}=this.processRawCalendarOptions(rt,at);warnUnknownOptions(ft);let pt=this.buildDateEnv(ct.timeZone,ct.locale,ct.weekNumberCalculation,ct.firstDay,ct.weekText,ut,ht,ct.defaultRangeSeparator),mt=this.buildViewSpecs(ut.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,dt),gt=this.buildTheme(ct,ut),yt=this.parseToolbars(ct,this.stableOptionOverrides,gt,mt,lt);return this.stableCalendarOptionsData={calendarOptions:ct,pluginHooks:ut,dateEnv:pt,viewSpecs:mt,theme:gt,toolbarConfig:yt,localeDefaults:dt,availableRawLocales:ht.map}}processRawCalendarOptions(rt,at){let{locales:lt,locale:ct}=mergeRawOptions([BASE_OPTION_DEFAULTS,rt,at]),ut=this.organizeRawLocales(lt),dt=ut.map,ht=this.buildLocale(ct||ut.defaultCode,dt).options,ft=this.buildPluginHooks(rt.plugins||[],globalPlugins),pt=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),ft.listenerRefiners),ft.optionRefiners),mt={},gt=mergeRawOptions([BASE_OPTION_DEFAULTS,ht,rt,at]),yt={},xt=this.currentCalendarOptionsInput,bt=this.currentCalendarOptionsRefined,Et=!1;for(let Rt in gt)this.optionsForRefining.indexOf(Rt)===-1&&(gt[Rt]===xt[Rt]||COMPLEX_OPTION_COMPARATORS[Rt]&&Rt in xt&&COMPLEX_OPTION_COMPARATORS[Rt](xt[Rt],gt[Rt]))?yt[Rt]=bt[Rt]:pt[Rt]?(yt[Rt]=pt[Rt](gt[Rt]),Et=!0):mt[Rt]=xt[Rt];return Et&&(this.currentCalendarOptionsInput=gt,this.currentCalendarOptionsRefined=yt,this.stableOptionOverrides=rt,this.stableDynamicOptionOverrides=at),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:ft,availableLocaleData:ut,localeDefaults:ht,extra:mt}}_computeCurrentViewData(rt,at,lt,ct){let ut=at.viewSpecs[rt];if(!ut)throw new Error(`viewType "${rt}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:dt,extra:ht}=this.processRawViewOptions(ut,at.pluginHooks,at.localeDefaults,lt,ct);warnUnknownOptions(ht);let ft=this.buildDateProfileGenerator({dateProfileGeneratorClass:ut.optionDefaults.dateProfileGeneratorClass,duration:ut.duration,durationUnit:ut.durationUnit,usesMinMaxTime:ut.optionDefaults.usesMinMaxTime,dateEnv:at.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:dt.slotMinTime,slotMaxTime:dt.slotMaxTime,showNonCurrentDates:dt.showNonCurrentDates,dayCount:dt.dayCount,dateAlignment:dt.dateAlignment,dateIncrement:dt.dateIncrement,hiddenDays:dt.hiddenDays,weekends:dt.weekends,nowInput:dt.now,validRangeInput:dt.validRange,visibleRangeInput:dt.visibleRange,fixedWeekCount:dt.fixedWeekCount}),pt=this.buildViewApi(rt,this.getCurrentData,at.dateEnv);return{viewSpec:ut,options:dt,dateProfileGenerator:ft,viewApi:pt}}processRawViewOptions(rt,at,lt,ct,ut){let dt=mergeRawOptions([BASE_OPTION_DEFAULTS,rt.optionDefaults,lt,ct,rt.optionOverrides,ut]),ht=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},BASE_OPTION_REFINERS),CALENDAR_LISTENER_REFINERS),CALENDAR_OPTION_REFINERS),VIEW_OPTION_REFINERS),at.listenerRefiners),at.optionRefiners),ft={},pt=this.currentViewOptionsInput,mt=this.currentViewOptionsRefined,gt=!1,yt={};for(let xt in dt)dt[xt]===pt[xt]||COMPLEX_OPTION_COMPARATORS[xt]&&COMPLEX_OPTION_COMPARATORS[xt](dt[xt],pt[xt])?ft[xt]=mt[xt]:(dt[xt]===this.currentCalendarOptionsInput[xt]||COMPLEX_OPTION_COMPARATORS[xt]&&COMPLEX_OPTION_COMPARATORS[xt](dt[xt],this.currentCalendarOptionsInput[xt])?xt in this.currentCalendarOptionsRefined&&(ft[xt]=this.currentCalendarOptionsRefined[xt]):ht[xt]?ft[xt]=ht[xt](dt[xt]):yt[xt]=dt[xt],gt=!0);return gt&&(this.currentViewOptionsInput=dt,this.currentViewOptionsRefined=ft),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:yt}}}function buildDateEnv$1(ot,rt,at,lt,ct,ut,dt,ht){let ft=buildLocale(rt||dt.defaultCode,dt.map);return new DateEnv({calendarSystem:"gregory",timeZone:ot,namedTimeZoneImpl:ut.namedTimeZonedImpl,locale:ft,weekNumberCalculation:at,firstDay:lt,weekText:ct,cmdFormatter:ut.cmdFormatter,defaultSeparator:ht})}function buildTheme(ot,rt){let at=rt.themeClasses[ot.themeSystem]||StandardTheme;return new at(ot)}function buildDateProfileGenerator(ot){let rt=ot.dateProfileGeneratorClass||DateProfileGenerator;return new rt(ot)}function buildViewApi(ot,rt,at){return new ViewImpl(ot,rt,at)}function buildEventUiBySource(ot){return mapHash(ot,rt=>rt.ui)}function buildEventUiBases(ot,rt,at){let lt={"":rt};for(let ct in ot){let ut=ot[ct];ut.sourceId&&at[ut.sourceId]&&(lt[ct]=at[ut.sourceId])}return lt}function buildViewUiProps(ot){let{options:rt}=ot;return{eventUiSingleBase:createEventUi({display:rt.eventDisplay,editable:rt.editable,startEditable:rt.eventStartEditable,durationEditable:rt.eventDurationEditable,constraint:rt.eventConstraint,overlap:typeof rt.eventOverlap=="boolean"?rt.eventOverlap:void 0,allow:rt.eventAllow,backgroundColor:rt.eventBackgroundColor,borderColor:rt.eventBorderColor,textColor:rt.eventTextColor,color:rt.eventColor},ot),selectionConfig:createEventUi({constraint:rt.selectConstraint,overlap:typeof rt.selectOverlap=="boolean"?rt.selectOverlap:void 0,allow:rt.selectAllow},ot)}}function computeIsLoading(ot,rt){for(let at of rt.pluginHooks.isLoadingFuncs)if(at(ot))return!0;return!1}function parseContextBusinessHours(ot){return parseBusinessHours(ot.options.businessHours,ot)}function warnUnknownOptions(ot,rt){for(let at in ot)console.warn(`Unknown option '${at}'`)}class ToolbarSection extends BaseComponent{render(){let rt=this.props.widgetGroups.map(at=>this.renderWidgetGroup(at));return y$1("div",{className:"fc-toolbar-chunk"},...rt)}renderWidgetGroup(rt){let{props:at}=this,{theme:lt}=this.context,ct=[],ut=!0;for(let dt of rt){let{buttonName:ht,buttonClick:ft,buttonText:pt,buttonIcon:mt,buttonHint:gt}=dt;if(ht==="title")ut=!1,ct.push(y$1("h2",{className:"fc-toolbar-title",id:at.titleId},at.title));else{let yt=ht===at.activeButton,xt=!at.isTodayEnabled&&ht==="today"||!at.isPrevEnabled&&ht==="prev"||!at.isNextEnabled&&ht==="next",bt=[`fc-${ht}-button`,lt.getClass("button")];yt&&bt.push(lt.getClass("buttonActive")),ct.push(y$1("button",{type:"button",title:typeof gt=="function"?gt(at.navUnit):gt,disabled:xt,"aria-pressed":yt,className:bt.join(" "),onClick:ft},pt||(mt?y$1("span",{className:mt,role:"img"}):"")))}}if(ct.length>1){let dt=ut&&lt.getClass("buttonGroup")||"";return y$1("div",{className:dt},...ct)}return ct[0]}}class Toolbar extends BaseComponent{render(){let{model:rt,extraClassName:at}=this.props,lt=!1,ct,ut,dt=rt.sectionWidgets,ht=dt.center;return dt.left?(lt=!0,ct=dt.left):ct=dt.start,dt.right?(lt=!0,ut=dt.right):ut=dt.end,y$1("div",{className:[at||"","fc-toolbar",lt?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",ct||[]),this.renderSection("center",ht||[]),this.renderSection("end",ut||[]))}renderSection(rt,at){let{props:lt}=this;return y$1(ToolbarSection,{key:rt,widgetGroups:at,title:lt.title,navUnit:lt.navUnit,activeButton:lt.activeButton,isTodayEnabled:lt.isTodayEnabled,isPrevEnabled:lt.isPrevEnabled,isNextEnabled:lt.isNextEnabled,titleId:lt.titleId})}}class ViewHarness extends BaseComponent{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=rt=>{this.el=rt,setRef(this.props.elRef,rt),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:rt,state:at}=this,{aspectRatio:lt}=rt,ct=["fc-view-harness",lt||rt.liquid||rt.height?"fc-view-harness-active":"fc-view-harness-passive"],ut="",dt="";return lt?at.availableWidth!==null?ut=at.availableWidth/lt:dt=`${1/lt*100}%`:ut=rt.height||"",y$1("div",{"aria-labelledby":rt.labeledById,ref:this.handleEl,className:ct.join(" "),style:{height:ut,paddingBottom:dt}},rt.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class EventClicking extends Interaction{constructor(rt){super(rt),this.handleSegClick=(at,lt)=>{let{component:ct}=this,{context:ut}=ct,dt=getElSeg(lt);if(dt&&ct.isValidSegDownEl(at.target)){let ht=elementClosest(at.target,".fc-event-forced-url"),ft=ht?ht.querySelector("a[href]").href:"";ut.emitter.trigger("eventClick",{el:lt,event:new EventImpl(ct.context,dt.eventRange.def,dt.eventRange.instance),jsEvent:at,view:ut.viewApi}),ft&&!at.defaultPrevented&&(window.location.href=ft)}},this.destroy=listenBySelector(rt.el,"click",".fc-event",this.handleSegClick)}}class EventHovering extends Interaction{constructor(rt){super(rt),this.handleEventElRemove=at=>{at===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(at,lt)=>{getElSeg(lt)&&(this.currentSegEl=lt,this.triggerEvent("eventMouseEnter",at,lt))},this.handleSegLeave=(at,lt)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",at,lt))},this.removeHoverListeners=listenToHoverBySelector(rt.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(rt,at,lt){let{component:ct}=this,{context:ut}=ct,dt=getElSeg(lt);(!at||ct.isValidSegDownEl(at.target))&&ut.emitter.trigger(rt,{el:lt,event:new EventImpl(ut,dt.eventRange.def,dt.eventRange.instance),jsEvent:at,view:ut.viewApi})}}class CalendarContent extends PureComponent{constructor(){super(...arguments),this.buildViewContext=memoize(buildViewContext),this.buildViewPropTransformers=memoize(buildViewPropTransformers),this.buildToolbarProps=memoize(buildToolbarProps),this.headerRef=d$1(),this.footerRef=d$1(),this.interactionsStore={},this.state={viewLabelId:getUniqueDomId()},this.registerInteractiveComponent=(rt,at)=>{let lt=parseInteractionSettings(rt,at),dt=[EventClicking,EventHovering].concat(this.props.pluginHooks.componentInteractions).map(ht=>new ht(lt));this.interactionsStore[rt.uid]=dt,interactionSettingsStore[rt.uid]=lt},this.unregisterInteractiveComponent=rt=>{let at=this.interactionsStore[rt.uid];if(at){for(let lt of at)lt.destroy();delete this.interactionsStore[rt.uid]}delete interactionSettingsStore[rt.uid]},this.resizeRunner=new DelayedRunner(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=rt=>{let{options:at}=this.props;at.handleWindowResize&&rt.target===window&&this.resizeRunner.request(at.windowResizeDelay)}}render(){let{props:rt}=this,{toolbarConfig:at,options:lt}=rt,ct=this.buildToolbarProps(rt.viewSpec,rt.dateProfile,rt.dateProfileGenerator,rt.currentDate,getNow(rt.options.now,rt.dateEnv),rt.viewTitle),ut=!1,dt="",ht;rt.isHeightAuto||rt.forPrint?dt="":lt.height!=null?ut=!0:lt.contentHeight!=null?dt=lt.contentHeight:ht=Math.max(lt.aspectRatio,.5);let ft=this.buildViewContext(rt.viewSpec,rt.viewApi,rt.options,rt.dateProfileGenerator,rt.dateEnv,rt.theme,rt.pluginHooks,rt.dispatch,rt.getCurrentData,rt.emitter,rt.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),pt=at.header&&at.header.hasTitle?this.state.viewLabelId:void 0;return y$1(ViewContextType.Provider,{value:ft},at.header&&y$1(Toolbar,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:at.header,titleId:pt},ct)),y$1(ViewHarness,{liquid:ut,height:dt,aspectRatio:ht,labeledById:pt},this.renderView(rt),this.buildAppendContent()),at.footer&&y$1(Toolbar,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:at.footer,titleId:""},ct)))}componentDidMount(){let{props:rt}=this;this.calendarInteractions=rt.pluginHooks.calendarInteractions.map(lt=>new lt(rt)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:at}=rt.pluginHooks;for(let lt in at)at[lt](rt[lt],rt)}componentDidUpdate(rt){let{props:at}=this,{propSetHandlers:lt}=at.pluginHooks;for(let ct in lt)at[ct]!==rt[ct]&&lt[ct](at[ct],at)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let rt of this.calendarInteractions)rt.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:rt}=this,at=rt.pluginHooks.viewContainerAppends.map(lt=>lt(rt));return y$1(_$1,{},...at)}renderView(rt){let{pluginHooks:at}=rt,{viewSpec:lt}=rt,ct={dateProfile:rt.dateProfile,businessHours:rt.businessHours,eventStore:rt.renderableEventStore,eventUiBases:rt.eventUiBases,dateSelection:rt.dateSelection,eventSelection:rt.eventSelection,eventDrag:rt.eventDrag,eventResize:rt.eventResize,isHeightAuto:rt.isHeightAuto,forPrint:rt.forPrint},ut=this.buildViewPropTransformers(at.viewPropsTransformers);for(let ht of ut)Object.assign(ct,ht.transform(ct,rt));let dt=lt.component;return y$1(dt,Object.assign({},ct))}}function buildToolbarProps(ot,rt,at,lt,ct,ut){let dt=at.build(ct,void 0,!1),ht=at.buildPrev(rt,lt,!1),ft=at.buildNext(rt,lt,!1);return{title:ut,activeButton:ot.type,navUnit:ot.singleUnit,isTodayEnabled:dt.isValid&&!rangeContainsMarker(rt.currentRange,ct),isPrevEnabled:ht.isValid,isNextEnabled:ft.isValid}}function buildViewPropTransformers(ot){return ot.map(rt=>new rt)}let Calendar$1=class extends CalendarImpl{constructor(rt,at={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=lt=>{switch(lt.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=lt=>{this.currentData=lt,this.renderRunner.request(lt.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:lt}=this;flushSync(()=>{D$2(y$1(CalendarRoot,{options:lt.calendarOptions,theme:lt.theme,emitter:lt.emitter},(ct,ut,dt,ht)=>(this.setClassNames(ct),this.setHeight(ut),y$1(RenderId.Provider,{value:this.customContentRenderId},y$1(CalendarContent,Object.assign({isHeightAuto:dt,forPrint:ht},lt))))),this.el)})}else this.isRendered&&(this.isRendered=!1,D$2(null,this.el),this.setClassNames([]),this.setHeight(""))},ensureElHasStyles(rt),this.el=rt,this.renderRunner=new DelayedRunner(this.handleRenderRequest),new CalendarDataManager({optionOverrides:at,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let rt=this.isRendering;rt?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),rt&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){flushSync(()=>{super.updateSize()})}batchRendering(rt){this.renderRunner.pause("batchRendering"),rt(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(rt,at){this.currentDataManager.resetOptions(rt,at)}setClassNames(rt){if(!isArraysEqual(rt,this.currentClassNames)){let{classList:at}=this.el;for(let lt of this.currentClassNames)at.remove(lt);for(let lt of rt)at.add(lt);this.currentClassNames=rt}}setHeight(rt){applyStyleProp(this.el,"height",rt)}};const reactMajorVersion=parseInt(String(React.version).split(".")[0]),syncRenderingByDefault=reactMajorVersion<18;class FullCalendar extends reactExports.Component{constructor(){super(...arguments),this.elRef=reactExports.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const rt=[];for(const at of this.state.customRenderingMap.values())rt.push(React.createElement(CustomRenderingComponent,{key:at.id,customRendering:at}));return React.createElement("div",{ref:this.elRef},rt)}componentDidMount(){this.isUnmounting=!1;const rt=new CustomRenderingStore;this.handleCustomRendering=rt.handle.bind(rt),this.calendar=new Calendar$1(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{reactDomExports.flushSync(()=>{})});let at;rt.subscribe(lt=>{const ct=Date.now(),ut=!at;(syncRenderingByDefault||ut||this.isUpdating||this.isUnmounting||ct-at<100?runNow:reactDomExports.flushSync)(()=>{this.setState({customRenderingMap:lt},()=>{at=ct,ut?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}FullCalendar.act=runNow;class CustomRenderingComponent extends reactExports.PureComponent{render(){const{customRendering:rt}=this.props,{generatorMeta:at}=rt,lt=typeof at=="function"?at(rt.renderProps):at;return reactDomExports.createPortal(lt,rt.containerEl)}}function runNow(ot){ot()}class TableView extends DateComponent{constructor(){super(...arguments),this.headerElRef=d$1()}renderSimpleLayout(rt,at){let{props:lt,context:ct}=this,ut=[],dt=getStickyHeaderDates(ct.options);return rt&&ut.push({type:"header",key:"header",isSticky:dt,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:rt}}),ut.push({type:"body",key:"body",liquid:!0,chunk:{content:at}}),y$1(ViewContainer,{elClasses:["fc-daygrid"],viewSpec:ct.viewSpec},y$1(SimpleScrollGrid,{liquid:!lt.isHeightAuto&&!lt.forPrint,collapsibleWidth:lt.forPrint,cols:[],sections:ut}))}renderHScrollLayout(rt,at,lt,ct){let ut=this.context.pluginHooks.scrollGridImpl;if(!ut)throw new Error("No ScrollGrid implementation");let{props:dt,context:ht}=this,ft=!dt.forPrint&&getStickyHeaderDates(ht.options),pt=!dt.forPrint&&getStickyFooterScrollbar(ht.options),mt=[];return rt&&mt.push({type:"header",key:"header",isSticky:ft,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:rt}]}),mt.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:at}]}),pt&&mt.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:renderScrollShim}]}),y$1(ViewContainer,{elClasses:["fc-daygrid"],viewSpec:ht.viewSpec},y$1(ut,{liquid:!dt.isHeightAuto&&!dt.forPrint,forPrint:dt.forPrint,collapsibleWidth:dt.forPrint,colGroups:[{cols:[{span:lt,minWidth:ct}]}],sections:mt}))}}function splitSegsByRow(ot,rt){let at=[];for(let lt=0;lt<rt;lt+=1)at[lt]=[];for(let lt of ot)at[lt.row].push(lt);return at}function splitSegsByFirstCol(ot,rt){let at=[];for(let lt=0;lt<rt;lt+=1)at[lt]=[];for(let lt of ot)at[lt.firstCol].push(lt);return at}function splitInteractionByRow(ot,rt){let at=[];if(ot){for(let lt=0;lt<rt;lt+=1)at[lt]={affectedInstances:ot.affectedInstances,isEvent:ot.isEvent,segs:[]};for(let lt of ot.segs)at[lt.row].segs.push(lt)}else for(let lt=0;lt<rt;lt+=1)at[lt]=null;return at}const DEFAULT_TABLE_EVENT_TIME_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function hasListItemDisplay(ot){let{display:rt}=ot.eventRange.ui;return rt==="list-item"||rt==="auto"&&!ot.eventRange.def.allDay&&ot.firstCol===ot.lastCol&&ot.isStart&&ot.isEnd}class TableBlockEvent extends BaseComponent{render(){let{props:rt}=this;return y$1(StandardEvent,Object.assign({},rt,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:DEFAULT_TABLE_EVENT_TIME_FORMAT,defaultDisplayEventEnd:rt.defaultDisplayEventEnd,disableResizing:!rt.seg.eventRange.def.allDay}))}}class TableListItemEvent extends BaseComponent{render(){let{props:rt,context:at}=this,{options:lt}=at,{seg:ct}=rt,ut=lt.eventTimeFormat||DEFAULT_TABLE_EVENT_TIME_FORMAT,dt=buildSegTimeText(ct,ut,at,!0,rt.defaultDisplayEventEnd);return y$1(EventContainer,Object.assign({},rt,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:getSegAnchorAttrs(rt.seg,at),defaultGenerator:renderInnerContent$1,timeText:dt,isResizing:!1,isDateSelecting:!1}))}}function renderInnerContent$1(ot){return y$1(_$1,null,y$1("div",{className:"fc-daygrid-event-dot",style:{borderColor:ot.borderColor||ot.backgroundColor}}),ot.timeText&&y$1("div",{className:"fc-event-time"},ot.timeText),y$1("div",{className:"fc-event-title"},ot.event.title||y$1(_$1,null," ")))}class TableCellMoreLink extends BaseComponent{constructor(){super(...arguments),this.compileSegs=memoize(compileSegs)}render(){let{props:rt}=this,{allSegs:at,invisibleSegs:lt}=this.compileSegs(rt.singlePlacements);return y$1(MoreLinkContainer,{elClasses:["fc-daygrid-more-link"],dateProfile:rt.dateProfile,todayRange:rt.todayRange,allDayDate:rt.allDayDate,moreCnt:rt.moreCnt,allSegs:at,hiddenSegs:lt,alignmentElRef:rt.alignmentElRef,alignGridTop:rt.alignGridTop,extraDateSpan:rt.extraDateSpan,popoverContent:()=>{let ct=(rt.eventDrag?rt.eventDrag.affectedInstances:null)||(rt.eventResize?rt.eventResize.affectedInstances:null)||{};return y$1(_$1,null,at.map(ut=>{let dt=ut.eventRange.instance.instanceId;return y$1("div",{className:"fc-daygrid-event-harness",key:dt,style:{visibility:ct[dt]?"hidden":""}},hasListItemDisplay(ut)?y$1(TableListItemEvent,Object.assign({seg:ut,isDragging:!1,isSelected:dt===rt.eventSelection,defaultDisplayEventEnd:!1},getSegMeta(ut,rt.todayRange))):y$1(TableBlockEvent,Object.assign({seg:ut,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:dt===rt.eventSelection,defaultDisplayEventEnd:!1},getSegMeta(ut,rt.todayRange))))}))}})}}function compileSegs(ot){let rt=[],at=[];for(let lt of ot)rt.push(lt.seg),lt.isVisible||at.push(lt.seg);return{allSegs:rt,invisibleSegs:at}}const DEFAULT_WEEK_NUM_FORMAT$1=createFormatter({week:"narrow"});class TableCell extends DateComponent{constructor(){super(...arguments),this.rootElRef=d$1(),this.state={dayNumberId:getUniqueDomId()},this.handleRootEl=rt=>{setRef(this.rootElRef,rt),setRef(this.props.elRef,rt)}}render(){let{context:rt,props:at,state:lt,rootElRef:ct}=this,{options:ut,dateEnv:dt}=rt,{date:ht,dateProfile:ft}=at;const pt=at.showDayNumber&&shouldDisplayMonthStart(ht,ft.currentRange,dt);return y$1(DayCellContainer,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...at.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},at.extraDataAttrs),at.showDayNumber?{"aria-labelledby":lt.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:renderTopInner,date:ht,dateProfile:ft,todayRange:at.todayRange,showDayNumber:at.showDayNumber,isMonthStart:pt,extraRenderProps:at.extraRenderProps},(mt,gt)=>y$1("div",{ref:at.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:at.minHeight}},at.showWeekNumber&&y$1(WeekNumberContainer,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:buildNavLinkAttrs(rt,ht,"week"),date:ht,defaultFormat:DEFAULT_WEEK_NUM_FORMAT$1}),!gt.isDisabled&&(at.showDayNumber||hasCustomDayCellContent(ut)||at.forceDayTop)?y$1("div",{className:"fc-daygrid-day-top"},y$1(mt,{elTag:"a",elClasses:["fc-daygrid-day-number",pt&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},buildNavLinkAttrs(rt,ht)),{id:lt.dayNumberId})})):at.showDayNumber?y$1("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},y$1("a",{className:"fc-daygrid-day-number"}," ")):void 0,y$1("div",{className:"fc-daygrid-day-events",ref:at.fgContentElRef},at.fgContent,y$1("div",{className:"fc-daygrid-day-bottom",style:{marginTop:at.moreMarginTop}},y$1(TableCellMoreLink,{allDayDate:ht,singlePlacements:at.singlePlacements,moreCnt:at.moreCnt,alignmentElRef:ct,alignGridTop:!at.showDayNumber,extraDateSpan:at.extraDateSpan,dateProfile:at.dateProfile,eventSelection:at.eventSelection,eventDrag:at.eventDrag,eventResize:at.eventResize,todayRange:at.todayRange}))),y$1("div",{className:"fc-daygrid-day-bg"},at.bgContent)))}}function renderTopInner(ot){return ot.dayNumberText||y$1(_$1,null," ")}function shouldDisplayMonthStart(ot,rt,at){const{start:lt,end:ct}=rt,ut=addMs(ct,-1),dt=at.getYear(lt),ht=at.getMonth(lt),ft=at.getYear(ut),pt=at.getMonth(ut);return!(dt===ft&&ht===pt)&&(ot.valueOf()===lt.valueOf()||at.getDay(ot)===1&&ot.valueOf()<ct.valueOf())}function generateSegKey(ot){return ot.eventRange.instance.instanceId+":"+ot.firstCol}function generateSegUid(ot){return generateSegKey(ot)+":"+ot.lastCol}function computeFgSegPlacement(ot,rt,at,lt,ct,ut,dt){let ht=new DayGridSegHierarchy(wt=>{let _t=ot[wt.index].eventRange.instance.instanceId+":"+wt.span.start+":"+(wt.span.end-1);return ct[_t]||1});ht.allowReslicing=!0,ht.strictOrder=lt,rt===!0||at===!0?(ht.maxCoord=ut,ht.hiddenConsumes=!0):typeof rt=="number"?ht.maxStackCnt=rt:typeof at=="number"&&(ht.maxStackCnt=at,ht.hiddenConsumes=!0);let ft=[],pt=[];for(let wt=0;wt<ot.length;wt+=1){let _t=ot[wt],At=generateSegUid(_t);ct[At]!=null?ft.push({index:wt,span:{start:_t.firstCol,end:_t.lastCol+1}}):pt.push(_t)}let mt=ht.addSegs(ft),gt=ht.toRects(),{singleColPlacements:yt,multiColPlacements:xt,leftoverMargins:bt}=placeRects(gt,ot,dt),Et=[],Rt=[];for(let wt of pt){xt[wt.firstCol].push({seg:wt,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let _t=wt.firstCol;_t<=wt.lastCol;_t+=1)yt[_t].push({seg:resliceSeg(wt,_t,_t+1,dt),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let wt=0;wt<dt.length;wt+=1)Et.push(0);for(let wt of mt){let _t=ot[wt.index],At=wt.span;xt[At.start].push({seg:resliceSeg(_t,At.start,At.end,dt),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let kt=At.start;kt<At.end;kt+=1)Et[kt]+=1,yt[kt].push({seg:resliceSeg(_t,kt,kt+1,dt),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let wt=0;wt<dt.length;wt+=1)Rt.push(bt[wt]);return{singleColPlacements:yt,multiColPlacements:xt,moreCnts:Et,moreMarginTops:Rt}}function placeRects(ot,rt,at){let lt=groupRectsByEachCol(ot,at.length),ct=[],ut=[],dt=[];for(let ht=0;ht<at.length;ht+=1){let ft=lt[ht],pt=[],mt=0,gt=0;for(let xt of ft){let bt=rt[xt.index];pt.push({seg:resliceSeg(bt,ht,ht+1,at),isVisible:!0,isAbsolute:!1,absoluteTop:xt.levelCoord,marginTop:xt.levelCoord-mt}),mt=xt.levelCoord+xt.thickness}let yt=[];mt=0,gt=0;for(let xt of ft){let bt=rt[xt.index],Et=xt.span.end-xt.span.start>1,Rt=xt.span.start===ht;gt+=xt.levelCoord-mt,mt=xt.levelCoord+xt.thickness,Et?(gt+=xt.thickness,Rt&&yt.push({seg:resliceSeg(bt,xt.span.start,xt.span.end,at),isVisible:!0,isAbsolute:!0,absoluteTop:xt.levelCoord,marginTop:0})):Rt&&(yt.push({seg:resliceSeg(bt,xt.span.start,xt.span.end,at),isVisible:!0,isAbsolute:!1,absoluteTop:xt.levelCoord,marginTop:gt}),gt=0)}ct.push(pt),ut.push(yt),dt.push(gt)}return{singleColPlacements:ct,multiColPlacements:ut,leftoverMargins:dt}}function groupRectsByEachCol(ot,rt){let at=[];for(let lt=0;lt<rt;lt+=1)at.push([]);for(let lt of ot)for(let ct=lt.span.start;ct<lt.span.end;ct+=1)at[ct].push(lt);return at}function resliceSeg(ot,rt,at,lt){if(ot.firstCol===rt&&ot.lastCol===at-1)return ot;let ct=ot.eventRange,ut=ct.range,dt=intersectRanges(ut,{start:lt[rt].date,end:addDays(lt[at-1].date,1)});return Object.assign(Object.assign({},ot),{firstCol:rt,lastCol:at-1,eventRange:{def:ct.def,ui:Object.assign(Object.assign({},ct.ui),{durationEditable:!1}),instance:ct.instance,range:dt},isStart:ot.isStart&&dt.start.valueOf()===ut.start.valueOf(),isEnd:ot.isEnd&&dt.end.valueOf()===ut.end.valueOf()})}class DayGridSegHierarchy extends SegHierarchy{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(rt){const at=super.addSegs(rt),{entriesByLevel:lt}=this,ct=ut=>!this.forceHidden[buildEntryKey(ut)];for(let ut=0;ut<lt.length;ut+=1)lt[ut]=lt[ut].filter(ct);return at}handleInvalidInsertion(rt,at,lt){const{entriesByLevel:ct,forceHidden:ut}=this,{touchingEntry:dt,touchingLevel:ht,touchingLateral:ft}=rt;if(this.hiddenConsumes&&dt){const pt=buildEntryKey(dt);if(!ut[pt])if(this.allowReslicing){const mt=Object.assign(Object.assign({},dt),{span:intersectSpans(dt.span,at.span)}),gt=buildEntryKey(mt);ut[gt]=!0,ct[ht][ft]=mt,lt.push(mt),this.splitEntry(dt,at,lt)}else ut[pt]=!0,lt.push(dt)}super.handleInvalidInsertion(rt,at,lt)}}class TableRow extends DateComponent{constructor(){super(...arguments),this.cellElRefs=new RefMap,this.frameElRefs=new RefMap,this.fgElRefs=new RefMap,this.segHarnessRefs=new RefMap,this.rootElRef=d$1(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=rt=>{rt&&this.updateSizing(!0)}}render(){let{props:rt,state:at,context:lt}=this,{options:ct}=lt,ut=rt.cells.length,dt=splitSegsByFirstCol(rt.businessHourSegs,ut),ht=splitSegsByFirstCol(rt.bgEventSegs,ut),ft=splitSegsByFirstCol(this.getHighlightSegs(),ut),pt=splitSegsByFirstCol(this.getMirrorSegs(),ut),{singleColPlacements:mt,multiColPlacements:gt,moreCnts:yt,moreMarginTops:xt}=computeFgSegPlacement(sortEventSegs(rt.fgEventSegs,ct.eventOrder),rt.dayMaxEvents,rt.dayMaxEventRows,ct.eventOrderStrict,at.segHeights,at.maxContentHeight,rt.cells),bt=rt.eventDrag&&rt.eventDrag.affectedInstances||rt.eventResize&&rt.eventResize.affectedInstances||{};return y$1("tr",{ref:this.rootElRef,role:"row"},rt.renderIntro&&rt.renderIntro(),rt.cells.map((Et,Rt)=>{let wt=this.renderFgSegs(Rt,rt.forPrint?mt[Rt]:gt[Rt],rt.todayRange,bt),_t=this.renderFgSegs(Rt,buildMirrorPlacements(pt[Rt],gt),rt.todayRange,{},!!rt.eventDrag,!!rt.eventResize,!1);return y$1(TableCell,{key:Et.key,elRef:this.cellElRefs.createRef(Et.key),innerElRef:this.frameElRefs.createRef(Et.key),dateProfile:rt.dateProfile,date:Et.date,showDayNumber:rt.showDayNumbers,showWeekNumber:rt.showWeekNumbers&&Rt===0,forceDayTop:rt.showWeekNumbers,todayRange:rt.todayRange,eventSelection:rt.eventSelection,eventDrag:rt.eventDrag,eventResize:rt.eventResize,extraRenderProps:Et.extraRenderProps,extraDataAttrs:Et.extraDataAttrs,extraClassNames:Et.extraClassNames,extraDateSpan:Et.extraDateSpan,moreCnt:yt[Rt],moreMarginTop:xt[Rt],singlePlacements:mt[Rt],fgContentElRef:this.fgElRefs.createRef(Et.key),fgContent:y$1(_$1,null,y$1(_$1,null,wt),y$1(_$1,null,_t)),bgContent:y$1(_$1,null,this.renderFillSegs(ft[Rt],"highlight"),this.renderFillSegs(dt[Rt],"non-business"),this.renderFillSegs(ht[Rt],"bg-event")),minHeight:rt.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(rt,at){let lt=this.props;this.updateSizing(!isPropsEqual(rt,lt))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:rt}=this;return rt.eventDrag&&rt.eventDrag.segs.length?rt.eventDrag.segs:rt.eventResize&&rt.eventResize.segs.length?rt.eventResize.segs:rt.dateSelectionSegs}getMirrorSegs(){let{props:rt}=this;return rt.eventResize&&rt.eventResize.segs.length?rt.eventResize.segs:[]}renderFgSegs(rt,at,lt,ct,ut,dt,ht){let{context:ft}=this,{eventSelection:pt}=this.props,{framePositions:mt}=this.state,gt=this.props.cells.length===1,yt=ut||dt||ht,xt=[];if(mt)for(let bt of at){let{seg:Et}=bt,{instanceId:Rt}=Et.eventRange.instance,wt=bt.isVisible&&!ct[Rt],_t=bt.isAbsolute,At="",kt="";_t&&(ft.isRtl?(kt=0,At=mt.lefts[Et.lastCol]-mt.lefts[Et.firstCol]):(At=0,kt=mt.rights[Et.firstCol]-mt.rights[Et.lastCol])),xt.push(y$1("div",{className:"fc-daygrid-event-harness"+(_t?" fc-daygrid-event-harness-abs":""),key:generateSegKey(Et),ref:yt?null:this.segHarnessRefs.createRef(generateSegUid(Et)),style:{visibility:wt?"":"hidden",marginTop:_t?"":bt.marginTop,top:_t?bt.absoluteTop:"",left:At,right:kt}},hasListItemDisplay(Et)?y$1(TableListItemEvent,Object.assign({seg:Et,isDragging:ut,isSelected:Rt===pt,defaultDisplayEventEnd:gt},getSegMeta(Et,lt))):y$1(TableBlockEvent,Object.assign({seg:Et,isDragging:ut,isResizing:dt,isDateSelecting:ht,isSelected:Rt===pt,defaultDisplayEventEnd:gt},getSegMeta(Et,lt)))))}return xt}renderFillSegs(rt,at){let{isRtl:lt}=this.context,{todayRange:ct}=this.props,{framePositions:ut}=this.state,dt=[];if(ut)for(let ht of rt){let ft=lt?{right:0,left:ut.lefts[ht.lastCol]-ut.lefts[ht.firstCol]}:{left:0,right:ut.rights[ht.firstCol]-ut.rights[ht.lastCol]};dt.push(y$1("div",{key:buildEventRangeKey(ht.eventRange),className:"fc-daygrid-bg-harness",style:ft},at==="bg-event"?y$1(BgEvent,Object.assign({seg:ht},getSegMeta(ht,ct))):renderFill(at)))}return y$1(_$1,{},...dt)}updateSizing(rt){let{props:at,state:lt,frameElRefs:ct}=this;if(!at.forPrint&&at.clientWidth!==null){if(rt){let ft=at.cells.map(pt=>ct.currentMap[pt.key]);if(ft.length){let pt=this.rootElRef.current,mt=new PositionCache(pt,ft,!0,!1);(!lt.framePositions||!lt.framePositions.similarTo(mt))&&this.setState({framePositions:new PositionCache(pt,ft,!0,!1)})}}const ut=this.state.segHeights,dt=this.querySegHeights(),ht=at.dayMaxEvents===!0||at.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},ut),dt),maxContentHeight:ht?this.computeMaxContentHeight():null})}}querySegHeights(){let rt=this.segHarnessRefs.currentMap,at={};for(let lt in rt){let ct=Math.round(rt[lt].getBoundingClientRect().height);at[lt]=Math.max(at[lt]||0,ct)}return at}computeMaxContentHeight(){let rt=this.props.cells[0].key,at=this.cellElRefs.currentMap[rt],lt=this.fgElRefs.currentMap[rt];return at.getBoundingClientRect().bottom-lt.getBoundingClientRect().top}getCellEls(){let rt=this.cellElRefs.currentMap;return this.props.cells.map(at=>rt[at.key])}}TableRow.addStateEquality({segHeights:isPropsEqual});function buildMirrorPlacements(ot,rt){if(!ot.length)return[];let at=buildAbsoluteTopHash(rt);return ot.map(lt=>({seg:lt,isVisible:!0,isAbsolute:!0,absoluteTop:at[lt.eventRange.instance.instanceId],marginTop:0}))}function buildAbsoluteTopHash(ot){let rt={};for(let at of ot)for(let lt of at)rt[lt.seg.eventRange.instance.instanceId]=lt.absoluteTop;return rt}class TableRows extends DateComponent{constructor(){super(...arguments),this.splitBusinessHourSegs=memoize(splitSegsByRow),this.splitBgEventSegs=memoize(splitSegsByRow),this.splitFgEventSegs=memoize(splitSegsByRow),this.splitDateSelectionSegs=memoize(splitSegsByRow),this.splitEventDrag=memoize(splitInteractionByRow),this.splitEventResize=memoize(splitInteractionByRow),this.rowRefs=new RefMap}render(){let{props:rt,context:at}=this,lt=rt.cells.length,ct=this.splitBusinessHourSegs(rt.businessHourSegs,lt),ut=this.splitBgEventSegs(rt.bgEventSegs,lt),dt=this.splitFgEventSegs(rt.fgEventSegs,lt),ht=this.splitDateSelectionSegs(rt.dateSelectionSegs,lt),ft=this.splitEventDrag(rt.eventDrag,lt),pt=this.splitEventResize(rt.eventResize,lt),mt=lt>=7&&rt.clientWidth?rt.clientWidth/at.options.aspectRatio/6:null;return y$1(NowTimer,{unit:"day"},(gt,yt)=>y$1(_$1,null,rt.cells.map((xt,bt)=>y$1(TableRow,{ref:this.rowRefs.createRef(bt),key:xt.length?xt[0].date.toISOString():bt,showDayNumbers:lt>1,showWeekNumbers:rt.showWeekNumbers,todayRange:yt,dateProfile:rt.dateProfile,cells:xt,renderIntro:rt.renderRowIntro,businessHourSegs:ct[bt],eventSelection:rt.eventSelection,bgEventSegs:ut[bt].filter(isSegAllDay),fgEventSegs:dt[bt],dateSelectionSegs:ht[bt],eventDrag:ft[bt],eventResize:pt[bt],dayMaxEvents:rt.dayMaxEvents,dayMaxEventRows:rt.dayMaxEventRows,clientWidth:rt.clientWidth,clientHeight:rt.clientHeight,cellMinHeight:mt,forPrint:rt.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const rt=this.rowRefs.currentMap[0].getCellEls()[0],at=rt?rt.closest(".fc-daygrid-body"):null;at&&(this.rootEl=at,this.context.registerInteractiveComponent(this,{el:at,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new PositionCache(this.rootEl,this.rowRefs.collect().map(rt=>rt.getCellEls()[0]),!1,!0),this.colPositions=new PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(rt,at){let{colPositions:lt,rowPositions:ct}=this,ut=lt.leftToIndex(rt),dt=ct.topToIndex(at);if(dt!=null&&ut!=null){let ht=this.props.cells[dt][ut];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(dt,ut),allDay:!0},ht.extraDateSpan),dayEl:this.getCellEl(dt,ut),rect:{left:lt.lefts[ut],right:lt.rights[ut],top:ct.tops[dt],bottom:ct.bottoms[dt]},layer:0}}return null}getCellEl(rt,at){return this.rowRefs.currentMap[rt].getCellEls()[at]}getCellRange(rt,at){let lt=this.props.cells[rt][at].date,ct=addDays(lt,1);return{start:lt,end:ct}}}function isSegAllDay(ot){return ot.eventRange.def.allDay}class Table extends DateComponent{constructor(){super(...arguments),this.elRef=d$1(),this.needsScrollReset=!1}render(){let{props:rt}=this,{dayMaxEventRows:at,dayMaxEvents:lt,expandRows:ct}=rt,ut=lt===!0||at===!0;ut&&!ct&&(ut=!1,at=null,lt=null);let dt=["fc-daygrid-body",ut?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",ct?"":"fc-daygrid-body-natural"];return y$1("div",{ref:this.elRef,className:dt.join(" "),style:{width:rt.clientWidth,minWidth:rt.tableMinWidth}},y$1("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:rt.clientWidth,minWidth:rt.tableMinWidth,height:ct?rt.clientHeight:""}},rt.colGroupNode,y$1("tbody",{role:"presentation"},y$1(TableRows,{dateProfile:rt.dateProfile,cells:rt.cells,renderRowIntro:rt.renderRowIntro,showWeekNumbers:rt.showWeekNumbers,clientWidth:rt.clientWidth,clientHeight:rt.clientHeight,businessHourSegs:rt.businessHourSegs,bgEventSegs:rt.bgEventSegs,fgEventSegs:rt.fgEventSegs,dateSelectionSegs:rt.dateSelectionSegs,eventSelection:rt.eventSelection,eventDrag:rt.eventDrag,eventResize:rt.eventResize,dayMaxEvents:lt,dayMaxEventRows:at,forPrint:rt.forPrint,isHitComboAllowed:rt.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(rt){rt.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const rt=getScrollSubjectEl(this.elRef.current,this.props.dateProfile);if(rt){const at=rt.closest(".fc-daygrid-body"),lt=at.closest(".fc-scroller"),ct=rt.getBoundingClientRect().top-at.getBoundingClientRect().top;lt.scrollTop=ct?ct+1:0}this.needsScrollReset=!1}}}function getScrollSubjectEl(ot,rt){let at;return rt.currentRangeUnit.match(/year|month/)&&(at=ot.querySelector(`[data-date="${formatIsoMonthStr(rt.currentDate)}-01"]`)),at||(at=ot.querySelector(`[data-date="${formatDayString(rt.currentDate)}"]`)),at}class DayTableSlicer extends Slicer{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(rt,at){return at.sliceRange(rt)}}class DayTable extends DateComponent{constructor(){super(...arguments),this.slicer=new DayTableSlicer,this.tableRef=d$1()}render(){let{props:rt,context:at}=this;return y$1(Table,Object.assign({ref:this.tableRef},this.slicer.sliceProps(rt,rt.dateProfile,rt.nextDayThreshold,at,rt.dayTableModel),{dateProfile:rt.dateProfile,cells:rt.dayTableModel.cells,colGroupNode:rt.colGroupNode,tableMinWidth:rt.tableMinWidth,renderRowIntro:rt.renderRowIntro,dayMaxEvents:rt.dayMaxEvents,dayMaxEventRows:rt.dayMaxEventRows,showWeekNumbers:rt.showWeekNumbers,expandRows:rt.expandRows,headerAlignElRef:rt.headerAlignElRef,clientWidth:rt.clientWidth,clientHeight:rt.clientHeight,forPrint:rt.forPrint}))}}class DayTableView extends TableView{constructor(){super(...arguments),this.buildDayTableModel=memoize(buildDayTableModel),this.headerRef=d$1(),this.tableRef=d$1()}render(){let{options:rt,dateProfileGenerator:at}=this.context,{props:lt}=this,ct=this.buildDayTableModel(lt.dateProfile,at),ut=rt.dayHeaders&&y$1(DayHeader,{ref:this.headerRef,dateProfile:lt.dateProfile,dates:ct.headerDates,datesRepDistinctDays:ct.rowCnt===1}),dt=ht=>y$1(DayTable,{ref:this.tableRef,dateProfile:lt.dateProfile,dayTableModel:ct,businessHours:lt.businessHours,dateSelection:lt.dateSelection,eventStore:lt.eventStore,eventUiBases:lt.eventUiBases,eventSelection:lt.eventSelection,eventDrag:lt.eventDrag,eventResize:lt.eventResize,nextDayThreshold:rt.nextDayThreshold,colGroupNode:ht.tableColGroupNode,tableMinWidth:ht.tableMinWidth,dayMaxEvents:rt.dayMaxEvents,dayMaxEventRows:rt.dayMaxEventRows,showWeekNumbers:rt.weekNumbers,expandRows:!lt.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:ht.clientWidth,clientHeight:ht.clientHeight,forPrint:lt.forPrint});return rt.dayMinWidth?this.renderHScrollLayout(ut,dt,ct.colCnt,rt.dayMinWidth):this.renderSimpleLayout(ut,dt)}}function buildDayTableModel(ot,rt){let at=new DaySeriesModel(ot.renderRange,rt);return new DayTableModel(at,/year|month|week/.test(ot.currentRangeUnit))}class TableDateProfileGenerator extends DateProfileGenerator{buildRenderRange(rt,at,lt){let ct=super.buildRenderRange(rt,at,lt),{props:ut}=this;return buildDayTableRenderRange({currentRange:ct,snapToWeek:/^(year|month)$/.test(at),fixedWeekCount:ut.fixedWeekCount,dateEnv:ut.dateEnv})}}function buildDayTableRenderRange(ot){let{dateEnv:rt,currentRange:at}=ot,{start:lt,end:ct}=at,ut;if(ot.snapToWeek&&(lt=rt.startOfWeek(lt),ut=rt.startOfWeek(ct),ut.valueOf()!==ct.valueOf()&&(ct=addWeeks(ut,1))),ot.fixedWeekCount){let dt=rt.startOfWeek(rt.startOfMonth(addDays(at.end,-1))),ht=Math.ceil(diffWeeks(dt,ct));ct=addWeeks(ct,6-ht)}return{start:lt,end:ct}}var css_248z$1=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';injectStyles(css_248z$1);var index$2=createPlugin({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:DayTableView,dateProfileGeneratorClass:TableDateProfileGenerator},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class AllDaySplitter extends Splitter{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(rt){return rt.allDay?["allDay"]:["timed"]}getKeysForEventDef(rt){return rt.allDay?hasBgRendering(rt)?["timed","allDay"]:["allDay"]:["timed"]}}const DEFAULT_SLAT_LABEL_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function TimeColsAxisCell(ot){let rt=["fc-timegrid-slot","fc-timegrid-slot-label",ot.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return y$1(ViewContextType.Consumer,null,at=>{if(!ot.isLabeled)return y$1("td",{className:rt.join(" "),"data-time":ot.isoTimeStr});let{dateEnv:lt,options:ct,viewApi:ut}=at,dt=ct.slotLabelFormat==null?DEFAULT_SLAT_LABEL_FORMAT:Array.isArray(ct.slotLabelFormat)?createFormatter(ct.slotLabelFormat[0]):createFormatter(ct.slotLabelFormat),ht={level:0,time:ot.time,date:lt.toDate(ot.date),view:ut,text:lt.format(ot.date,dt)};return y$1(ContentContainer,{elTag:"td",elClasses:rt,elAttrs:{"data-time":ot.isoTimeStr},renderProps:ht,generatorName:"slotLabelContent",customGenerator:ct.slotLabelContent,defaultGenerator:renderInnerContent,classNameGenerator:ct.slotLabelClassNames,didMount:ct.slotLabelDidMount,willUnmount:ct.slotLabelWillUnmount},ft=>y$1("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},y$1(ft,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function renderInnerContent(ot){return ot.text}class TimeBodyAxis extends BaseComponent{render(){return this.props.slatMetas.map(rt=>y$1("tr",{key:rt.key},y$1(TimeColsAxisCell,Object.assign({},rt))))}}const DEFAULT_WEEK_NUM_FORMAT=createFormatter({week:"short"}),AUTO_ALL_DAY_MAX_EVENT_ROWS=5;class TimeColsView extends DateComponent{constructor(){super(...arguments),this.allDaySplitter=new AllDaySplitter,this.headerElRef=d$1(),this.rootElRef=d$1(),this.scrollerElRef=d$1(),this.state={slatCoords:null},this.handleScrollTopRequest=rt=>{let at=this.scrollerElRef.current;at&&(at.scrollTop=rt)},this.renderHeadAxis=(rt,at="")=>{let{options:lt}=this.context,{dateProfile:ct}=this.props,ut=ct.renderRange,ht=diffDays(ut.start,ut.end)===1?buildNavLinkAttrs(this.context,ut.start,"week"):{};return lt.weekNumbers&&rt==="day"?y$1(WeekNumberContainer,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:ut.start,defaultFormat:DEFAULT_WEEK_NUM_FORMAT},ft=>y$1("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:at}},y$1(ft,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:ht}))):y$1("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},y$1("div",{className:"fc-timegrid-axis-frame",style:{height:at}}))},this.renderTableRowAxis=rt=>{let{options:at,viewApi:lt}=this.context,ct={text:at.allDayText,view:lt};return y$1(ContentContainer,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:ct,generatorName:"allDayContent",customGenerator:at.allDayContent,defaultGenerator:renderAllDayInner,classNameGenerator:at.allDayClassNames,didMount:at.allDayDidMount,willUnmount:at.allDayWillUnmount},ut=>y$1("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",rt==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:rt}},y$1(ut,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=rt=>{this.setState({slatCoords:rt})}}renderSimpleLayout(rt,at,lt){let{context:ct,props:ut}=this,dt=[],ht=getStickyHeaderDates(ct.options);return rt&&dt.push({type:"header",key:"header",isSticky:ht,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:rt}}),at&&(dt.push({type:"body",key:"all-day",chunk:{content:at}}),dt.push({type:"body",key:"all-day-divider",outerContent:y$1("tr",{role:"presentation",className:"fc-scrollgrid-section"},y$1("td",{className:"fc-timegrid-divider "+ct.theme.getClass("tableCellShaded")}))})),dt.push({type:"body",key:"body",liquid:!0,expandRows:!!ct.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:lt}}),y$1(ViewContainer,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:ct.viewSpec},y$1(SimpleScrollGrid,{liquid:!ut.isHeightAuto&&!ut.forPrint,collapsibleWidth:ut.forPrint,cols:[{width:"shrink"}],sections:dt}))}renderHScrollLayout(rt,at,lt,ct,ut,dt,ht){let ft=this.context.pluginHooks.scrollGridImpl;if(!ft)throw new Error("No ScrollGrid implementation");let{context:pt,props:mt}=this,gt=!mt.forPrint&&getStickyHeaderDates(pt.options),yt=!mt.forPrint&&getStickyFooterScrollbar(pt.options),xt=[];rt&&xt.push({type:"header",key:"header",isSticky:gt,syncRowHeights:!0,chunks:[{key:"axis",rowContent:Et=>y$1("tr",{role:"presentation"},this.renderHeadAxis("day",Et.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:rt}]}),at&&(xt.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:Et=>y$1("tr",{role:"presentation"},this.renderTableRowAxis(Et.rowSyncHeights[0]))},{key:"cols",content:at}]}),xt.push({key:"all-day-divider",type:"body",outerContent:y$1("tr",{role:"presentation",className:"fc-scrollgrid-section"},y$1("td",{colSpan:2,className:"fc-timegrid-divider "+pt.theme.getClass("tableCellShaded")}))}));let bt=pt.options.nowIndicator;return xt.push({type:"body",key:"body",liquid:!0,expandRows:!!pt.options.expandRows,chunks:[{key:"axis",content:Et=>y$1("div",{className:"fc-timegrid-axis-chunk"},y$1("table",{"aria-hidden":!0,style:{height:Et.expandRows?Et.clientHeight:""}},Et.tableColGroupNode,y$1("tbody",null,y$1(TimeBodyAxis,{slatMetas:dt}))),y$1("div",{className:"fc-timegrid-now-indicator-container"},y$1(NowTimer,{unit:bt?"minute":"day"},Rt=>{let wt=bt&&ht&&ht.safeComputeTop(Rt);return typeof wt=="number"?y$1(NowIndicatorContainer,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:wt},isAxis:!0,date:Rt}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:lt}]}),yt&&xt.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:renderScrollShim},{key:"cols",content:renderScrollShim}]}),y$1(ViewContainer,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:pt.viewSpec},y$1(ft,{liquid:!mt.isHeightAuto&&!mt.forPrint,forPrint:mt.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:ct,minWidth:ut}]}],sections:xt}))}getAllDayMaxEventProps(){let{dayMaxEvents:rt,dayMaxEventRows:at}=this.context.options;return(rt===!0||at===!0)&&(rt=void 0,at=AUTO_ALL_DAY_MAX_EVENT_ROWS),{dayMaxEvents:rt,dayMaxEventRows:at}}}function renderAllDayInner(ot){return ot.text}class TimeColsSlatsCoords{constructor(rt,at,lt){this.positions=rt,this.dateProfile=at,this.slotDuration=lt}safeComputeTop(rt){let{dateProfile:at}=this;if(rangeContainsMarker(at.currentRange,rt)){let lt=startOfDay(rt),ct=rt.valueOf()-lt.valueOf();if(ct>=asRoughMs(at.slotMinTime)&&ct<asRoughMs(at.slotMaxTime))return this.computeTimeTop(createDuration(ct))}return null}computeDateTop(rt,at){return at||(at=startOfDay(rt)),this.computeTimeTop(createDuration(rt.valueOf()-at.valueOf()))}computeTimeTop(rt){let{positions:at,dateProfile:lt}=this,ct=at.els.length,ut=(rt.milliseconds-asRoughMs(lt.slotMinTime))/asRoughMs(this.slotDuration),dt,ht;return ut=Math.max(0,ut),ut=Math.min(ct,ut),dt=Math.floor(ut),dt=Math.min(dt,ct-1),ht=ut-dt,at.tops[dt]+at.getHeight(dt)*ht}}class TimeColsSlatsBody extends BaseComponent{render(){let{props:rt,context:at}=this,{options:lt}=at,{slatElRefs:ct}=rt;return y$1("tbody",null,rt.slatMetas.map((ut,dt)=>{let ht={time:ut.time,date:at.dateEnv.toDate(ut.date),view:at.viewApi};return y$1("tr",{key:ut.key,ref:ct.createRef(ut.key)},rt.axis&&y$1(TimeColsAxisCell,Object.assign({},ut)),y$1(ContentContainer,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!ut.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":ut.isoTimeStr},renderProps:ht,generatorName:"slotLaneContent",customGenerator:lt.slotLaneContent,classNameGenerator:lt.slotLaneClassNames,didMount:lt.slotLaneDidMount,willUnmount:lt.slotLaneWillUnmount}))}))}}class TimeColsSlats extends BaseComponent{constructor(){super(...arguments),this.rootElRef=d$1(),this.slatElRefs=new RefMap}render(){let{props:rt,context:at}=this;return y$1("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},y$1("table",{"aria-hidden":!0,className:at.theme.getClass("table"),style:{minWidth:rt.tableMinWidth,width:rt.clientWidth,height:rt.minHeight}},rt.tableColGroupNode,y$1(TimeColsSlatsBody,{slatElRefs:this.slatElRefs,axis:rt.axis,slatMetas:rt.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:rt,props:at}=this;at.onCoords&&at.clientWidth!==null&&this.rootElRef.current.offsetHeight&&at.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current,collectSlatEls(this.slatElRefs.currentMap,at.slatMetas),!1,!0),this.props.dateProfile,rt.options.slotDuration))}}function collectSlatEls(ot,rt){return rt.map(at=>ot[at.key])}function splitSegsByCol(ot,rt){let at=[],lt;for(lt=0;lt<rt;lt+=1)at.push([]);if(ot)for(lt=0;lt<ot.length;lt+=1)at[ot[lt].col].push(ot[lt]);return at}function splitInteractionByCol(ot,rt){let at=[];if(ot){for(let lt=0;lt<rt;lt+=1)at[lt]={affectedInstances:ot.affectedInstances,isEvent:ot.isEvent,segs:[]};for(let lt of ot.segs)at[lt.col].segs.push(lt)}else for(let lt=0;lt<rt;lt+=1)at[lt]=null;return at}class TimeColMoreLink extends BaseComponent{render(){let{props:rt}=this;return y$1(MoreLinkContainer,{elClasses:["fc-timegrid-more-link"],elStyle:{top:rt.top,bottom:rt.bottom},allDayDate:null,moreCnt:rt.hiddenSegs.length,allSegs:rt.hiddenSegs,hiddenSegs:rt.hiddenSegs,extraDateSpan:rt.extraDateSpan,dateProfile:rt.dateProfile,todayRange:rt.todayRange,popoverContent:()=>renderPlainFgSegs(rt.hiddenSegs,rt),defaultGenerator:renderMoreLinkInner,forceTimed:!0},at=>y$1(at,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function renderMoreLinkInner(ot){return ot.shortText}function buildPositioning(ot,rt,at){let lt=new SegHierarchy;rt!=null&&(lt.strictOrder=rt),at!=null&&(lt.maxStackCnt=at);let ct=lt.addSegs(ot),ut=groupIntersectingEntries(ct),dt=buildWeb(lt);return dt=stretchWeb(dt,1),{segRects:webToRects(dt),hiddenGroups:ut}}function buildWeb(ot){const{entriesByLevel:rt}=ot,at=cacheable((lt,ct)=>lt+":"+ct,(lt,ct)=>{let ut=findNextLevelSegs(ot,lt,ct),dt=buildNodes(ut,at),ht=rt[lt][ct];return[Object.assign(Object.assign({},ht),{nextLevelNodes:dt[0]}),ht.thickness+dt[1]]});return buildNodes(rt.length?{level:0,lateralStart:0,lateralEnd:rt[0].length}:null,at)[0]}function buildNodes(ot,rt){if(!ot)return[[],0];let{level:at,lateralStart:lt,lateralEnd:ct}=ot,ut=lt,dt=[];for(;ut<ct;)dt.push(rt(at,ut)),ut+=1;return dt.sort(cmpDescPressures),[dt.map(extractNode),dt[0][1]]}function cmpDescPressures(ot,rt){return rt[1]-ot[1]}function extractNode(ot){return ot[0]}function findNextLevelSegs(ot,rt,at){let{levelCoords:lt,entriesByLevel:ct}=ot,ut=ct[rt][at],dt=lt[rt]+ut.thickness,ht=lt.length,ft=rt;for(;ft<ht&&lt[ft]<dt;ft+=1);for(;ft<ht;ft+=1){let pt=ct[ft],mt,gt=binarySearch(pt,ut.span.start,getEntrySpanEnd),yt=gt[0]+gt[1],xt=yt;for(;(mt=pt[xt])&&mt.span.start<ut.span.end;)xt+=1;if(yt<xt)return{level:ft,lateralStart:yt,lateralEnd:xt}}return null}function stretchWeb(ot,rt){const at=cacheable((lt,ct,ut)=>buildEntryKey(lt),(lt,ct,ut)=>{let{nextLevelNodes:dt,thickness:ht}=lt,ft=ht+ut,pt=ht/ft,mt,gt=[];if(!dt.length)mt=rt;else for(let xt of dt)if(mt===void 0){let bt=at(xt,ct,ft);mt=bt[0],gt.push(bt[1])}else{let bt=at(xt,mt,0);gt.push(bt[1])}let yt=(mt-ct)*pt;return[mt-yt,Object.assign(Object.assign({},lt),{thickness:yt,nextLevelNodes:gt})]});return ot.map(lt=>at(lt,0,0)[1])}function webToRects(ot){let rt=[];const at=cacheable((ct,ut,dt)=>buildEntryKey(ct),(ct,ut,dt)=>{let ht=Object.assign(Object.assign({},ct),{levelCoord:ut,stackDepth:dt,stackForward:0});return rt.push(ht),ht.stackForward=lt(ct.nextLevelNodes,ut+ct.thickness,dt+1)+1});function lt(ct,ut,dt){let ht=0;for(let ft of ct)ht=Math.max(at(ft,ut,dt),ht);return ht}return lt(ot,0,0),rt}function cacheable(ot,rt){const at={};return(...lt)=>{let ct=ot(...lt);return ct in at?at[ct]:at[ct]=rt(...lt)}}function computeSegVCoords(ot,rt,at=null,lt=0){let ct=[];if(at)for(let ut=0;ut<ot.length;ut+=1){let dt=ot[ut],ht=at.computeDateTop(dt.start,rt),ft=Math.max(ht+(lt||0),at.computeDateTop(dt.end,rt));ct.push({start:Math.round(ht),end:Math.round(ft)})}return ct}function computeFgSegPlacements(ot,rt,at,lt){let ct=[],ut=[];for(let pt=0;pt<ot.length;pt+=1){let mt=rt[pt];mt?ct.push({index:pt,thickness:1,span:mt}):ut.push(ot[pt])}let{segRects:dt,hiddenGroups:ht}=buildPositioning(ct,at,lt),ft=[];for(let pt of dt)ft.push({seg:ot[pt.index],rect:pt});for(let pt of ut)ft.push({seg:pt,rect:null});return{segPlacements:ft,hiddenGroups:ht}}const DEFAULT_TIME_FORMAT=createFormatter({hour:"numeric",minute:"2-digit",meridiem:!1});class TimeColEvent extends BaseComponent{render(){return y$1(StandardEvent,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:DEFAULT_TIME_FORMAT}))}}class TimeCol extends BaseComponent{constructor(){super(...arguments),this.sortEventSegs=memoize(sortEventSegs)}render(){let{props:rt,context:at}=this,{options:lt}=at,ct=lt.selectMirror,ut=rt.eventDrag&&rt.eventDrag.segs||rt.eventResize&&rt.eventResize.segs||ct&&rt.dateSelectionSegs||[],dt=rt.eventDrag&&rt.eventDrag.affectedInstances||rt.eventResize&&rt.eventResize.affectedInstances||{},ht=this.sortEventSegs(rt.fgEventSegs,lt.eventOrder);return y$1(DayCellContainer,{elTag:"td",elRef:rt.elRef,elClasses:["fc-timegrid-col",...rt.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},rt.extraDataAttrs),date:rt.date,dateProfile:rt.dateProfile,todayRange:rt.todayRange,extraRenderProps:rt.extraRenderProps},ft=>y$1("div",{className:"fc-timegrid-col-frame"},y$1("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(rt.businessHourSegs,"non-business"),this.renderFillSegs(rt.bgEventSegs,"bg-event"),this.renderFillSegs(rt.dateSelectionSegs,"highlight")),y$1("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(ht,dt,!1,!1,!1)),y$1("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(ut,{},!!rt.eventDrag,!!rt.eventResize,!!ct,"mirror")),y$1("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(rt.nowIndicatorSegs)),hasCustomDayCellContent(lt)&&y$1(ft,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(rt,at,lt,ct,ut,dt){let{props:ht}=this;return ht.forPrint?renderPlainFgSegs(rt,ht):this.renderPositionedFgSegs(rt,at,lt,ct,ut,dt)}renderPositionedFgSegs(rt,at,lt,ct,ut,dt){let{eventMaxStack:ht,eventShortHeight:ft,eventOrderStrict:pt,eventMinHeight:mt}=this.context.options,{date:gt,slatCoords:yt,eventSelection:xt,todayRange:bt,nowDate:Et}=this.props,Rt=lt||ct||ut,wt=computeSegVCoords(rt,gt,yt,mt),{segPlacements:_t,hiddenGroups:At}=computeFgSegPlacements(rt,wt,pt,ht);return y$1(_$1,null,this.renderHiddenGroups(At,rt),_t.map(kt=>{let{seg:It,rect:Nt}=kt,Pt=It.eventRange.instance.instanceId,Tt=Rt||!!(!at[Pt]&&Nt),Ct=computeSegVStyle(Nt&&Nt.span),Ot=!Rt&&Nt?this.computeSegHStyle(Nt):{left:0,right:0},Dt=!!Nt&&Nt.stackForward>0,jt=!!Nt&&Nt.span.end-Nt.span.start<ft;return y$1("div",{className:"fc-timegrid-event-harness"+(Dt?" fc-timegrid-event-harness-inset":""),key:dt||Pt,style:Object.assign(Object.assign({visibility:Tt?"":"hidden"},Ct),Ot)},y$1(TimeColEvent,Object.assign({seg:It,isDragging:lt,isResizing:ct,isDateSelecting:ut,isSelected:Pt===xt,isShort:jt},getSegMeta(It,bt,Et))))}))}renderHiddenGroups(rt,at){let{extraDateSpan:lt,dateProfile:ct,todayRange:ut,nowDate:dt,eventSelection:ht,eventDrag:ft,eventResize:pt}=this.props;return y$1(_$1,null,rt.map(mt=>{let gt=computeSegVStyle(mt.span),yt=compileSegsFromEntries(mt.entries,at);return y$1(TimeColMoreLink,{key:buildIsoString(computeEarliestSegStart(yt)),hiddenSegs:yt,top:gt.top,bottom:gt.bottom,extraDateSpan:lt,dateProfile:ct,todayRange:ut,nowDate:dt,eventSelection:ht,eventDrag:ft,eventResize:pt})}))}renderFillSegs(rt,at){let{props:lt,context:ct}=this,dt=computeSegVCoords(rt,lt.date,lt.slatCoords,ct.options.eventMinHeight).map((ht,ft)=>{let pt=rt[ft];return y$1("div",{key:buildEventRangeKey(pt.eventRange),className:"fc-timegrid-bg-harness",style:computeSegVStyle(ht)},at==="bg-event"?y$1(BgEvent,Object.assign({seg:pt},getSegMeta(pt,lt.todayRange,lt.nowDate))):renderFill(at))});return y$1(_$1,null,dt)}renderNowIndicator(rt){let{slatCoords:at,date:lt}=this.props;return at?rt.map((ct,ut)=>y$1(NowIndicatorContainer,{key:ut,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:at.computeDateTop(ct.start,lt)},isAxis:!1,date:lt})):null}computeSegHStyle(rt){let{isRtl:at,options:lt}=this.context,ct=lt.slotEventOverlap,ut=rt.levelCoord,dt=rt.levelCoord+rt.thickness,ht,ft;ct&&(dt=Math.min(1,ut+(dt-ut)*2)),at?(ht=1-dt,ft=ut):(ht=ut,ft=1-dt);let pt={zIndex:rt.stackDepth+1,left:ht*100+"%",right:ft*100+"%"};return ct&&!rt.stackForward&&(pt[at?"marginLeft":"marginRight"]=10*2),pt}}function renderPlainFgSegs(ot,{todayRange:rt,nowDate:at,eventSelection:lt,eventDrag:ct,eventResize:ut}){let dt=(ct?ct.affectedInstances:null)||(ut?ut.affectedInstances:null)||{};return y$1(_$1,null,ot.map(ht=>{let ft=ht.eventRange.instance.instanceId;return y$1("div",{key:ft,style:{visibility:dt[ft]?"hidden":""}},y$1(TimeColEvent,Object.assign({seg:ht,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:ft===lt,isShort:!1},getSegMeta(ht,rt,at))))}))}function computeSegVStyle(ot){return ot?{top:ot.start,bottom:-ot.end}:{top:"",bottom:""}}function compileSegsFromEntries(ot,rt){return ot.map(at=>rt[at.index])}class TimeColsContent extends BaseComponent{constructor(){super(...arguments),this.splitFgEventSegs=memoize(splitSegsByCol),this.splitBgEventSegs=memoize(splitSegsByCol),this.splitBusinessHourSegs=memoize(splitSegsByCol),this.splitNowIndicatorSegs=memoize(splitSegsByCol),this.splitDateSelectionSegs=memoize(splitSegsByCol),this.splitEventDrag=memoize(splitInteractionByCol),this.splitEventResize=memoize(splitInteractionByCol),this.rootElRef=d$1(),this.cellElRefs=new RefMap}render(){let{props:rt,context:at}=this,lt=at.options.nowIndicator&&rt.slatCoords&&rt.slatCoords.safeComputeTop(rt.nowDate),ct=rt.cells.length,ut=this.splitFgEventSegs(rt.fgEventSegs,ct),dt=this.splitBgEventSegs(rt.bgEventSegs,ct),ht=this.splitBusinessHourSegs(rt.businessHourSegs,ct),ft=this.splitNowIndicatorSegs(rt.nowIndicatorSegs,ct),pt=this.splitDateSelectionSegs(rt.dateSelectionSegs,ct),mt=this.splitEventDrag(rt.eventDrag,ct),gt=this.splitEventResize(rt.eventResize,ct);return y$1("div",{className:"fc-timegrid-cols",ref:this.rootElRef},y$1("table",{role:"presentation",style:{minWidth:rt.tableMinWidth,width:rt.clientWidth}},rt.tableColGroupNode,y$1("tbody",{role:"presentation"},y$1("tr",{role:"row"},rt.axis&&y$1("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},y$1("div",{className:"fc-timegrid-col-frame"},y$1("div",{className:"fc-timegrid-now-indicator-container"},typeof lt=="number"&&y$1(NowIndicatorContainer,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:lt},isAxis:!0,date:rt.nowDate})))),rt.cells.map((yt,xt)=>y$1(TimeCol,{key:yt.key,elRef:this.cellElRefs.createRef(yt.key),dateProfile:rt.dateProfile,date:yt.date,nowDate:rt.nowDate,todayRange:rt.todayRange,extraRenderProps:yt.extraRenderProps,extraDataAttrs:yt.extraDataAttrs,extraClassNames:yt.extraClassNames,extraDateSpan:yt.extraDateSpan,fgEventSegs:ut[xt],bgEventSegs:dt[xt],businessHourSegs:ht[xt],nowIndicatorSegs:ft[xt],dateSelectionSegs:pt[xt],eventDrag:mt[xt],eventResize:gt[xt],slatCoords:rt.slatCoords,eventSelection:rt.eventSelection,forPrint:rt.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:rt}=this;rt.onColCoords&&rt.clientWidth!==null&&rt.onColCoords(new PositionCache(this.rootElRef.current,collectCellEls(this.cellElRefs.currentMap,rt.cells),!0,!1))}}function collectCellEls(ot,rt){return rt.map(at=>ot[at.key])}class TimeCols extends DateComponent{constructor(){super(...arguments),this.processSlotOptions=memoize(processSlotOptions),this.state={slatCoords:null},this.handleRootEl=rt=>{rt?this.context.registerInteractiveComponent(this,{el:rt,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=rt=>{let{onScrollTopRequest:at}=this.props,{slatCoords:lt}=this.state;if(at&&lt){if(rt.time){let ct=lt.computeTimeTop(rt.time);ct=Math.ceil(ct),ct&&(ct+=1),at(ct)}return!0}return!1},this.handleColCoords=rt=>{this.colCoords=rt},this.handleSlatCoords=rt=>{this.setState({slatCoords:rt}),this.props.onSlatCoords&&this.props.onSlatCoords(rt)}}render(){let{props:rt,state:at}=this;return y$1("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:rt.clientWidth,minWidth:rt.tableMinWidth}},y$1(TimeColsSlats,{axis:rt.axis,dateProfile:rt.dateProfile,slatMetas:rt.slatMetas,clientWidth:rt.clientWidth,minHeight:rt.expandRows?rt.clientHeight:"",tableMinWidth:rt.tableMinWidth,tableColGroupNode:rt.axis?rt.tableColGroupNode:null,onCoords:this.handleSlatCoords}),y$1(TimeColsContent,{cells:rt.cells,axis:rt.axis,dateProfile:rt.dateProfile,businessHourSegs:rt.businessHourSegs,bgEventSegs:rt.bgEventSegs,fgEventSegs:rt.fgEventSegs,dateSelectionSegs:rt.dateSelectionSegs,eventSelection:rt.eventSelection,eventDrag:rt.eventDrag,eventResize:rt.eventResize,todayRange:rt.todayRange,nowDate:rt.nowDate,nowIndicatorSegs:rt.nowIndicatorSegs,clientWidth:rt.clientWidth,tableMinWidth:rt.tableMinWidth,tableColGroupNode:rt.tableColGroupNode,slatCoords:at.slatCoords,onColCoords:this.handleColCoords,forPrint:rt.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(rt){this.scrollResponder.update(rt.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(rt,at){let{dateEnv:lt,options:ct}=this.context,{colCoords:ut}=this,{dateProfile:dt}=this.props,{slatCoords:ht}=this.state,{snapDuration:ft,snapsPerSlot:pt}=this.processSlotOptions(this.props.slotDuration,ct.snapDuration),mt=ut.leftToIndex(rt),gt=ht.positions.topToIndex(at);if(mt!=null&&gt!=null){let yt=this.props.cells[mt],xt=ht.positions.tops[gt],bt=ht.positions.getHeight(gt),Et=(at-xt)/bt,Rt=Math.floor(Et*pt),wt=gt*pt+Rt,_t=this.props.cells[mt].date,At=addDurations(dt.slotMinTime,multiplyDuration(ft,wt)),kt=lt.add(_t,At),It=lt.add(kt,ft);return{dateProfile:dt,dateSpan:Object.assign({range:{start:kt,end:It},allDay:!1},yt.extraDateSpan),dayEl:ut.els[mt],rect:{left:ut.lefts[mt],right:ut.rights[mt],top:xt,bottom:xt+bt},layer:0}}return null}}function processSlotOptions(ot,rt){let at=rt||ot,lt=wholeDivideDurations(ot,at);return lt===null&&(at=ot,lt=1),{snapDuration:at,snapsPerSlot:lt}}class DayTimeColsSlicer extends Slicer{sliceRange(rt,at){let lt=[];for(let ct=0;ct<at.length;ct+=1){let ut=intersectRanges(rt,at[ct]);ut&&lt.push({start:ut.start,end:ut.end,isStart:ut.start.valueOf()===rt.start.valueOf(),isEnd:ut.end.valueOf()===rt.end.valueOf(),col:ct})}return lt}}class DayTimeCols extends DateComponent{constructor(){super(...arguments),this.buildDayRanges=memoize(buildDayRanges),this.slicer=new DayTimeColsSlicer,this.timeColsRef=d$1()}render(){let{props:rt,context:at}=this,{dateProfile:lt,dayTableModel:ct}=rt,{nowIndicator:ut,nextDayThreshold:dt}=at.options,ht=this.buildDayRanges(ct,lt,at.dateEnv);return y$1(NowTimer,{unit:ut?"minute":"day"},(ft,pt)=>y$1(TimeCols,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(rt,lt,null,at,ht),{forPrint:rt.forPrint,axis:rt.axis,dateProfile:lt,slatMetas:rt.slatMetas,slotDuration:rt.slotDuration,cells:ct.cells[0],tableColGroupNode:rt.tableColGroupNode,tableMinWidth:rt.tableMinWidth,clientWidth:rt.clientWidth,clientHeight:rt.clientHeight,expandRows:rt.expandRows,nowDate:ft,nowIndicatorSegs:ut&&this.slicer.sliceNowDate(ft,lt,dt,at,ht),todayRange:pt,onScrollTopRequest:rt.onScrollTopRequest,onSlatCoords:rt.onSlatCoords})))}}function buildDayRanges(ot,rt,at){let lt=[];for(let ct of ot.headerDates)lt.push({start:at.add(ct,rt.slotMinTime),end:at.add(ct,rt.slotMaxTime)});return lt}const STOCK_SUB_DURATIONS=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function buildSlatMetas(ot,rt,at,lt,ct){let ut=new Date(0),dt=ot,ht=createDuration(0),ft=at||computeLabelInterval(lt),pt=[];for(;asRoughMs(dt)<asRoughMs(rt);){let mt=ct.add(ut,dt),gt=wholeDivideDurations(ht,ft)!==null;pt.push({date:mt,time:dt,key:mt.toISOString(),isoTimeStr:formatIsoTimeString(mt),isLabeled:gt}),dt=addDurations(dt,lt),ht=addDurations(ht,lt)}return pt}function computeLabelInterval(ot){let rt,at,lt;for(rt=STOCK_SUB_DURATIONS.length-1;rt>=0;rt-=1)if(at=createDuration(STOCK_SUB_DURATIONS[rt]),lt=wholeDivideDurations(at,ot),lt!==null&&lt>1)return at;return ot}class DayTimeColsView extends TimeColsView{constructor(){super(...arguments),this.buildTimeColsModel=memoize(buildTimeColsModel),this.buildSlatMetas=memoize(buildSlatMetas)}render(){let{options:rt,dateEnv:at,dateProfileGenerator:lt}=this.context,{props:ct}=this,{dateProfile:ut}=ct,dt=this.buildTimeColsModel(ut,lt),ht=this.allDaySplitter.splitProps(ct),ft=this.buildSlatMetas(ut.slotMinTime,ut.slotMaxTime,rt.slotLabelInterval,rt.slotDuration,at),{dayMinWidth:pt}=rt,mt=!pt,gt=pt,yt=rt.dayHeaders&&y$1(DayHeader,{dates:dt.headerDates,dateProfile:ut,datesRepDistinctDays:!0,renderIntro:mt?this.renderHeadAxis:null}),xt=rt.allDaySlot!==!1&&(Et=>y$1(DayTable,Object.assign({},ht.allDay,{dateProfile:ut,dayTableModel:dt,nextDayThreshold:rt.nextDayThreshold,tableMinWidth:Et.tableMinWidth,colGroupNode:Et.tableColGroupNode,renderRowIntro:mt?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:Et.clientWidth,clientHeight:Et.clientHeight,forPrint:ct.forPrint},this.getAllDayMaxEventProps()))),bt=Et=>y$1(DayTimeCols,Object.assign({},ht.timed,{dayTableModel:dt,dateProfile:ut,axis:mt,slotDuration:rt.slotDuration,slatMetas:ft,forPrint:ct.forPrint,tableColGroupNode:Et.tableColGroupNode,tableMinWidth:Et.tableMinWidth,clientWidth:Et.clientWidth,clientHeight:Et.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:Et.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return gt?this.renderHScrollLayout(yt,xt,bt,dt.colCnt,pt,ft,this.state.slatCoords):this.renderSimpleLayout(yt,xt,bt)}}function buildTimeColsModel(ot,rt){let at=new DaySeriesModel(ot.renderRange,rt);return new DayTableModel(at,!1)}var css_248z='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';injectStyles(css_248z);const OPTION_REFINERS$1={allDaySlot:Boolean};var index$1=createPlugin({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:OPTION_REFINERS$1,views:{timeGrid:{component:DayTimeColsView,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});config.touchMouseIgnoreWait=500;let ignoreMouseDepth=0,listenerCnt=0,isWindowTouchMoveCancelled=!1;class PointerDragging{constructor(rt){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=at=>{if(!this.shouldIgnoreMouse()&&isPrimaryMouseButton(at)&&this.tryStart(at)){let lt=this.createEventFromMouse(at,!0);this.emitter.trigger("pointerdown",lt),this.initScrollWatch(lt),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=at=>{let lt=this.createEventFromMouse(at);this.recordCoords(lt),this.emitter.trigger("pointermove",lt)},this.handleMouseUp=at=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(at)),this.cleanup()},this.handleTouchStart=at=>{if(this.tryStart(at)){this.isTouchDragging=!0;let lt=this.createEventFromTouch(at,!0);this.emitter.trigger("pointerdown",lt),this.initScrollWatch(lt);let ct=at.target;this.shouldIgnoreMove||ct.addEventListener("touchmove",this.handleTouchMove),ct.addEventListener("touchend",this.handleTouchEnd),ct.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=at=>{let lt=this.createEventFromTouch(at);this.recordCoords(lt),this.emitter.trigger("pointermove",lt)},this.handleTouchEnd=at=>{if(this.isDragging){let lt=at.target;lt.removeEventListener("touchmove",this.handleTouchMove),lt.removeEventListener("touchend",this.handleTouchEnd),lt.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(at)),this.cleanup(),this.isTouchDragging=!1,startIgnoringMouse()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=at=>{if(!this.shouldIgnoreMove){let lt=window.scrollX-this.prevScrollX+this.prevPageX,ct=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:at,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:lt,pageY:ct,deltaX:lt-this.origPageX,deltaY:ct-this.origPageY})}},this.containerEl=rt,this.emitter=new Emitter,rt.addEventListener("mousedown",this.handleMouseDown),rt.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),listenerCreated()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),listenerDestroyed()}tryStart(rt){let at=this.querySubjectEl(rt),lt=rt.target;return at&&(!this.handleSelector||elementClosest(lt,this.handleSelector))?(this.subjectEl=at,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){isWindowTouchMoveCancelled=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(rt){return this.selector?elementClosest(rt.target,this.selector):this.containerEl}shouldIgnoreMouse(){return ignoreMouseDepth||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(isWindowTouchMoveCancelled=!0)}initScrollWatch(rt){this.shouldWatchScroll&&(this.recordCoords(rt),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(rt){this.shouldWatchScroll&&(this.prevPageX=rt.pageX,this.prevPageY=rt.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(rt,at){let lt=0,ct=0;return at?(this.origPageX=rt.pageX,this.origPageY=rt.pageY):(lt=rt.pageX-this.origPageX,ct=rt.pageY-this.origPageY),{origEvent:rt,isTouch:!1,subjectEl:this.subjectEl,pageX:rt.pageX,pageY:rt.pageY,deltaX:lt,deltaY:ct}}createEventFromTouch(rt,at){let lt=rt.touches,ct,ut,dt=0,ht=0;return lt&&lt.length?(ct=lt[0].pageX,ut=lt[0].pageY):(ct=rt.pageX,ut=rt.pageY),at?(this.origPageX=ct,this.origPageY=ut):(dt=ct-this.origPageX,ht=ut-this.origPageY),{origEvent:rt,isTouch:!0,subjectEl:this.subjectEl,pageX:ct,pageY:ut,deltaX:dt,deltaY:ht}}}function isPrimaryMouseButton(ot){return ot.button===0&&!ot.ctrlKey}function startIgnoringMouse(){ignoreMouseDepth+=1,setTimeout(()=>{ignoreMouseDepth-=1},config.touchMouseIgnoreWait)}function listenerCreated(){listenerCnt+=1,listenerCnt===1&&window.addEventListener("touchmove",onWindowTouchMove,{passive:!1})}function listenerDestroyed(){listenerCnt-=1,listenerCnt||window.removeEventListener("touchmove",onWindowTouchMove,{passive:!1})}function onWindowTouchMove(ot){isWindowTouchMoveCancelled&&ot.preventDefault()}class ElementMirror{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(rt,at,lt){this.sourceEl=rt,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=at-window.scrollX,this.origScreenY=lt-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(rt,at){this.deltaX=rt-window.scrollX-this.origScreenX,this.deltaY=at-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(rt){rt?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=rt,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=rt)}stop(rt,at){let lt=()=>{this.cleanup(),at()};rt&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(lt,this.revertDuration):setTimeout(lt,0)}doRevertAnimation(rt,at){let lt=this.mirrorEl,ct=this.sourceEl.getBoundingClientRect();lt.style.transition="top "+at+"ms,left "+at+"ms",applyStyle(lt,{left:ct.left,top:ct.top}),whenTransitionDone(lt,()=>{lt.style.transition="",rt()})}cleanup(){this.mirrorEl&&(removeElement(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&applyStyle(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let rt=this.sourceElRect,at=this.mirrorEl;return at||(at=this.mirrorEl=this.sourceEl.cloneNode(!0),at.style.userSelect="none",at.style.webkitUserSelect="none",at.style.pointerEvents="none",at.classList.add("fc-event-dragging"),applyStyle(at,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:rt.right-rt.left,height:rt.bottom-rt.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(at)),at}}class ScrollGeomCache extends ScrollController{constructor(rt,at){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=rt,this.doesListening=at,this.scrollTop=this.origScrollTop=rt.getScrollTop(),this.scrollLeft=this.origScrollLeft=rt.getScrollLeft(),this.scrollWidth=rt.getScrollWidth(),this.scrollHeight=rt.getScrollHeight(),this.clientWidth=rt.getClientWidth(),this.clientHeight=rt.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(rt){this.scrollController.setScrollTop(rt),this.doesListening||(this.scrollTop=Math.max(Math.min(rt,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(rt){this.scrollController.setScrollLeft(rt),this.doesListening||(this.scrollLeft=Math.max(Math.min(rt,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class ElementScrollGeomCache extends ScrollGeomCache{constructor(rt,at){super(new ElementScrollController(rt),at)}getEventTarget(){return this.scrollController.el}computeClientRect(){return computeInnerRect(this.scrollController.el)}}class WindowScrollGeomCache extends ScrollGeomCache{constructor(rt){super(new WindowScrollController,rt)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const getTime=typeof performance=="function"?performance.now:Date.now;class AutoScroller{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let rt=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(rt){let at=getTime();this.handleSide(rt,(at-this.msSinceRequest)/1e3),this.requestAnimation(at)}else this.isAnimating=!1}}}start(rt,at,lt){this.isEnabled&&(this.scrollCaches=this.buildCaches(lt),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(rt,at))}handleMove(rt,at){if(this.isEnabled){let lt=rt-window.scrollX,ct=at-window.scrollY,ut=this.pointerScreenY===null?0:ct-this.pointerScreenY,dt=this.pointerScreenX===null?0:lt-this.pointerScreenX;ut<0?this.everMovedUp=!0:ut>0&&(this.everMovedDown=!0),dt<0?this.everMovedLeft=!0:dt>0&&(this.everMovedRight=!0),this.pointerScreenX=lt,this.pointerScreenY=ct,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(getTime()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let rt of this.scrollCaches)rt.destroy();this.scrollCaches=null}}requestAnimation(rt){this.msSinceRequest=rt,requestAnimationFrame(this.animate)}handleSide(rt,at){let{scrollCache:lt}=rt,{edgeThreshold:ct}=this,ut=ct-rt.distance,dt=ut*ut/(ct*ct)*this.maxVelocity*at,ht=1;switch(rt.name){case"left":ht=-1;case"right":lt.setScrollLeft(lt.getScrollLeft()+dt*ht);break;case"top":ht=-1;case"bottom":lt.setScrollTop(lt.getScrollTop()+dt*ht);break}}computeBestEdge(rt,at){let{edgeThreshold:lt}=this,ct=null,ut=this.scrollCaches||[];for(let dt of ut){let ht=dt.clientRect,ft=rt-ht.left,pt=ht.right-rt,mt=at-ht.top,gt=ht.bottom-at;ft>=0&&pt>=0&&mt>=0&&gt>=0&&(mt<=lt&&this.everMovedUp&&dt.canScrollUp()&&(!ct||ct.distance>mt)&&(ct={scrollCache:dt,name:"top",distance:mt}),gt<=lt&&this.everMovedDown&&dt.canScrollDown()&&(!ct||ct.distance>gt)&&(ct={scrollCache:dt,name:"bottom",distance:gt}),ft<=lt&&this.everMovedLeft&&dt.canScrollLeft()&&(!ct||ct.distance>ft)&&(ct={scrollCache:dt,name:"left",distance:ft}),pt<=lt&&this.everMovedRight&&dt.canScrollRight()&&(!ct||ct.distance>pt)&&(ct={scrollCache:dt,name:"right",distance:pt}))}return ct}buildCaches(rt){return this.queryScrollEls(rt).map(at=>at===window?new WindowScrollGeomCache(!1):new ElementScrollGeomCache(at,!1))}queryScrollEls(rt){let at=[];for(let lt of this.scrollQuery)typeof lt=="object"?at.push(lt):at.push(...Array.prototype.slice.call(rt.getRootNode().querySelectorAll(lt)));return at}}class FeaturefulElementDragging extends ElementDragging{constructor(rt,at){super(rt),this.containerEl=rt,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=ct=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,preventSelection(document.body),preventContextMenu(document.body),ct.isTouch||ct.origEvent.preventDefault(),this.emitter.trigger("pointerdown",ct),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(ct.subjectEl,ct.pageX,ct.pageY),this.startDelay(ct),this.minDistance||this.handleDistanceSurpassed(ct)))},this.onPointerMove=ct=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",ct),!this.isDistanceSurpassed){let ut=this.minDistance,dt,{deltaX:ht,deltaY:ft}=ct;dt=ht*ht+ft*ft,dt>=ut*ut&&this.handleDistanceSurpassed(ct)}this.isDragging&&(ct.origEvent.type!=="scroll"&&(this.mirror.handleMove(ct.pageX,ct.pageY),this.autoScroller.handleMove(ct.pageX,ct.pageY)),this.emitter.trigger("dragmove",ct))}},this.onPointerUp=ct=>{this.isInteracting&&(this.isInteracting=!1,allowSelection(document.body),allowContextMenu(document.body),this.emitter.trigger("pointerup",ct),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(ct)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let lt=this.pointer=new PointerDragging(rt);lt.emitter.on("pointerdown",this.onPointerDown),lt.emitter.on("pointermove",this.onPointerMove),lt.emitter.on("pointerup",this.onPointerUp),at&&(lt.selector=at),this.mirror=new ElementMirror,this.autoScroller=new AutoScroller}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(rt){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(rt)},this.delay):this.handleDelayEnd(rt)}handleDelayEnd(rt){this.isDelayEnded=!0,this.tryStartDrag(rt)}handleDistanceSurpassed(rt){this.isDistanceSurpassed=!0,this.tryStartDrag(rt)}tryStartDrag(rt){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(rt.pageX,rt.pageY,this.containerEl),this.emitter.trigger("dragstart",rt),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(rt){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,rt))}stopDrag(rt){this.isDragging=!1,this.emitter.trigger("dragend",rt)}setIgnoreMove(rt){this.pointer.shouldIgnoreMove=rt}setMirrorIsVisible(rt){this.mirror.setIsVisible(rt)}setMirrorNeedsRevert(rt){this.mirrorNeedsRevert=rt}setAutoScrollEnabled(rt){this.autoScroller.isEnabled=rt}}class OffsetTracker{constructor(rt){this.el=rt,this.origRect=computeRect(rt),this.scrollCaches=getClippingParents(rt).map(at=>new ElementScrollGeomCache(at,!0))}destroy(){for(let rt of this.scrollCaches)rt.destroy()}computeLeft(){let rt=this.origRect.left;for(let at of this.scrollCaches)rt+=at.origScrollLeft-at.getScrollLeft();return rt}computeTop(){let rt=this.origRect.top;for(let at of this.scrollCaches)rt+=at.origScrollTop-at.getScrollTop();return rt}isWithinClipping(rt,at){let lt={left:rt,top:at};for(let ct of this.scrollCaches)if(!isIgnoredClipping(ct.getEventTarget())&&!pointInsideRect(lt,ct.clientRect))return!1;return!0}}function isIgnoredClipping(ot){let rt=ot.tagName;return rt==="HTML"||rt==="BODY"}class HitDragging{constructor(rt,at){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=lt=>{let{dragging:ct}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(lt),this.initialHit||!this.requireInitial?(ct.setIgnoreMove(!1),this.emitter.trigger("pointerdown",lt)):ct.setIgnoreMove(!0)},this.handleDragStart=lt=>{this.emitter.trigger("dragstart",lt),this.handleMove(lt,!0)},this.handleDragMove=lt=>{this.emitter.trigger("dragmove",lt),this.handleMove(lt)},this.handlePointerUp=lt=>{this.releaseHits(),this.emitter.trigger("pointerup",lt)},this.handleDragEnd=lt=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,lt),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",lt)},this.droppableStore=at,rt.emitter.on("pointerdown",this.handlePointerDown),rt.emitter.on("dragstart",this.handleDragStart),rt.emitter.on("dragmove",this.handleDragMove),rt.emitter.on("pointerup",this.handlePointerUp),rt.emitter.on("dragend",this.handleDragEnd),this.dragging=rt,this.emitter=new Emitter}processFirstCoord(rt){let at={left:rt.pageX,top:rt.pageY},lt=at,ct=rt.subjectEl,ut;ct instanceof HTMLElement&&(ut=computeRect(ct),lt=constrainPoint(lt,ut));let dt=this.initialHit=this.queryHitForOffset(lt.left,lt.top);if(dt){if(this.useSubjectCenter&&ut){let ht=intersectRects(ut,dt.rect);ht&&(lt=getRectCenter(ht))}this.coordAdjust=diffPoints(lt,at)}else this.coordAdjust={left:0,top:0}}handleMove(rt,at){let lt=this.queryHitForOffset(rt.pageX+this.coordAdjust.left,rt.pageY+this.coordAdjust.top);(at||!isHitsEqual(this.movingHit,lt))&&(this.movingHit=lt,this.emitter.trigger("hitupdate",lt,!1,rt))}prepareHits(){this.offsetTrackers=mapHash(this.droppableStore,rt=>(rt.component.prepareHits(),new OffsetTracker(rt.el)))}releaseHits(){let{offsetTrackers:rt}=this;for(let at in rt)rt[at].destroy();this.offsetTrackers={}}queryHitForOffset(rt,at){let{droppableStore:lt,offsetTrackers:ct}=this,ut=null;for(let dt in lt){let ht=lt[dt].component,ft=ct[dt];if(ft&&ft.isWithinClipping(rt,at)){let pt=ft.computeLeft(),mt=ft.computeTop(),gt=rt-pt,yt=at-mt,{origRect:xt}=ft,bt=xt.right-xt.left,Et=xt.bottom-xt.top;if(gt>=0&&gt<bt&&yt>=0&&yt<Et){let Rt=ht.queryHit(gt,yt,bt,Et);Rt&&rangeContainsRange(Rt.dateProfile.activeRange,Rt.dateSpan.range)&&(this.disablePointCheck||ft.el.contains(ft.el.getRootNode().elementFromPoint(gt+pt-window.scrollX,yt+mt-window.scrollY)))&&(!ut||Rt.layer>ut.layer)&&(Rt.componentId=dt,Rt.context=ht.context,Rt.rect.left+=pt,Rt.rect.right+=pt,Rt.rect.top+=mt,Rt.rect.bottom+=mt,ut=Rt)}}}return ut}}function isHitsEqual(ot,rt){return!ot&&!rt?!0:!!ot!=!!rt?!1:isDateSpansEqual(ot.dateSpan,rt.dateSpan)}function buildDatePointApiWithContext(ot,rt){let at={};for(let lt of rt.pluginHooks.datePointTransforms)Object.assign(at,lt(ot,rt));return Object.assign(at,buildDatePointApi(ot,rt.dateEnv)),at}function buildDatePointApi(ot,rt){return{date:rt.toDate(ot.range.start),dateStr:rt.formatIso(ot.range.start,{omitTime:ot.allDay}),allDay:ot.allDay}}class DateClicking extends Interaction{constructor(rt){super(rt),this.handlePointerDown=lt=>{let{dragging:ct}=this,ut=lt.origEvent.target;ct.setIgnoreMove(!this.component.isValidDateDownEl(ut))},this.handleDragEnd=lt=>{let{component:ct}=this,{pointer:ut}=this.dragging;if(!ut.wasTouchScroll){let{initialHit:dt,finalHit:ht}=this.hitDragging;if(dt&&ht&&isHitsEqual(dt,ht)){let{context:ft}=ct,pt=Object.assign(Object.assign({},buildDatePointApiWithContext(dt.dateSpan,ft)),{dayEl:dt.dayEl,jsEvent:lt.origEvent,view:ft.viewApi||ft.calendarApi.view});ft.emitter.trigger("dateClick",pt)}}},this.dragging=new FeaturefulElementDragging(rt.el),this.dragging.autoScroller.isEnabled=!1;let at=this.hitDragging=new HitDragging(this.dragging,interactionSettingsToStore(rt));at.emitter.on("pointerdown",this.handlePointerDown),at.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class DateSelecting extends Interaction{constructor(rt){super(rt),this.dragSelection=null,this.handlePointerDown=dt=>{let{component:ht,dragging:ft}=this,{options:pt}=ht.context,mt=pt.selectable&&ht.isValidDateDownEl(dt.origEvent.target);ft.setIgnoreMove(!mt),ft.delay=dt.isTouch?getComponentTouchDelay$1(ht):null},this.handleDragStart=dt=>{this.component.context.calendarApi.unselect(dt)},this.handleHitUpdate=(dt,ht)=>{let{context:ft}=this.component,pt=null,mt=!1;if(dt){let gt=this.hitDragging.initialHit;dt.componentId===gt.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(gt,dt)||(pt=joinHitsIntoSelection(gt,dt,ft.pluginHooks.dateSelectionTransformers)),(!pt||!isDateSelectionValid(pt,dt.dateProfile,ft))&&(mt=!0,pt=null)}pt?ft.dispatch({type:"SELECT_DATES",selection:pt}):ht||ft.dispatch({type:"UNSELECT_DATES"}),mt?disableCursor():enableCursor(),ht||(this.dragSelection=pt)},this.handlePointerUp=dt=>{this.dragSelection&&(triggerDateSelect(this.dragSelection,dt,this.component.context),this.dragSelection=null)};let{component:at}=rt,{options:lt}=at.context,ct=this.dragging=new FeaturefulElementDragging(rt.el);ct.touchScrollAllowed=!1,ct.minDistance=lt.selectMinDistance||0,ct.autoScroller.isEnabled=lt.dragScroll;let ut=this.hitDragging=new HitDragging(this.dragging,interactionSettingsToStore(rt));ut.emitter.on("pointerdown",this.handlePointerDown),ut.emitter.on("dragstart",this.handleDragStart),ut.emitter.on("hitupdate",this.handleHitUpdate),ut.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function getComponentTouchDelay$1(ot){let{options:rt}=ot.context,at=rt.selectLongPressDelay;return at==null&&(at=rt.longPressDelay),at}function joinHitsIntoSelection(ot,rt,at){let lt=ot.dateSpan,ct=rt.dateSpan,ut=[lt.range.start,lt.range.end,ct.range.start,ct.range.end];ut.sort(compareNumbers);let dt={};for(let ht of at){let ft=ht(ot,rt);if(ft===!1)return null;ft&&Object.assign(dt,ft)}return dt.range={start:ut[0],end:ut[3]},dt.allDay=lt.allDay,dt}class EventDragging extends Interaction{constructor(rt){super(rt),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=dt=>{let ht=dt.origEvent.target,{component:ft,dragging:pt}=this,{mirror:mt}=pt,{options:gt}=ft.context,yt=ft.context;this.subjectEl=dt.subjectEl;let xt=this.subjectSeg=getElSeg(dt.subjectEl),Et=(this.eventRange=xt.eventRange).instance.instanceId;this.relevantEvents=getRelevantEvents(yt.getCurrentData().eventStore,Et),pt.minDistance=dt.isTouch?0:gt.eventDragMinDistance,pt.delay=dt.isTouch&&Et!==ft.props.eventSelection?getComponentTouchDelay(ft):null,gt.fixedMirrorParent?mt.parentNode=gt.fixedMirrorParent:mt.parentNode=elementClosest(ht,".fc"),mt.revertDuration=gt.dragRevertDuration;let Rt=ft.isValidSegDownEl(ht)&&!elementClosest(ht,".fc-event-resizer");pt.setIgnoreMove(!Rt),this.isDragging=Rt&&dt.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=dt=>{let ht=this.component.context,ft=this.eventRange,pt=ft.instance.instanceId;dt.isTouch?pt!==this.component.props.eventSelection&&ht.dispatch({type:"SELECT_EVENT",eventInstanceId:pt}):ht.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(ht.calendarApi.unselect(dt),ht.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new EventImpl(ht,ft.def,ft.instance),jsEvent:dt.origEvent,view:ht.viewApi}))},this.handleHitUpdate=(dt,ht)=>{if(!this.isDragging)return;let ft=this.relevantEvents,pt=this.hitDragging.initialHit,mt=this.component.context,gt=null,yt=null,xt=null,bt=!1,Et={affectedEvents:ft,mutatedEvents:createEmptyEventStore(),isEvent:!0};if(dt){gt=dt.context;let Rt=gt.options;mt===gt||Rt.editable&&Rt.droppable?(yt=computeEventMutation(pt,dt,this.eventRange.instance.range.start,gt.getCurrentData().pluginHooks.eventDragMutationMassagers),yt&&(xt=applyMutationToEventStore(ft,gt.getCurrentData().eventUiBases,yt,gt),Et.mutatedEvents=xt,isInteractionValid(Et,dt.dateProfile,gt)||(bt=!0,yt=null,xt=null,Et.mutatedEvents=createEmptyEventStore()))):gt=null}this.displayDrag(gt,Et),bt?disableCursor():enableCursor(),ht||(mt===gt&&isHitsEqual(pt,dt)&&(yt=null),this.dragging.setMirrorNeedsRevert(!yt),this.dragging.setMirrorIsVisible(!dt||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=gt,this.validMutation=yt,this.mutatedRelevantEvents=xt)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=dt=>{if(this.isDragging){let ht=this.component.context,ft=ht.viewApi,{receivingContext:pt,validMutation:mt}=this,gt=this.eventRange.def,yt=this.eventRange.instance,xt=new EventImpl(ht,gt,yt),bt=this.relevantEvents,Et=this.mutatedRelevantEvents,{finalHit:Rt}=this.hitDragging;if(this.clearDrag(),ht.emitter.trigger("eventDragStop",{el:this.subjectEl,event:xt,jsEvent:dt.origEvent,view:ft}),mt){if(pt===ht){let wt=new EventImpl(ht,Et.defs[gt.defId],yt?Et.instances[yt.instanceId]:null);ht.dispatch({type:"MERGE_EVENTS",eventStore:Et});let _t={oldEvent:xt,event:wt,relatedEvents:buildEventApis(Et,ht,yt),revert(){ht.dispatch({type:"MERGE_EVENTS",eventStore:bt})}},At={};for(let kt of ht.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(At,kt(mt,ht));ht.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},_t),At),{el:dt.subjectEl,delta:mt.datesDelta,jsEvent:dt.origEvent,view:ft})),ht.emitter.trigger("eventChange",_t)}else if(pt){let wt={event:xt,relatedEvents:buildEventApis(bt,ht,yt),revert(){ht.dispatch({type:"MERGE_EVENTS",eventStore:bt})}};ht.emitter.trigger("eventLeave",Object.assign(Object.assign({},wt),{draggedEl:dt.subjectEl,view:ft})),ht.dispatch({type:"REMOVE_EVENTS",eventStore:bt}),ht.emitter.trigger("eventRemove",wt);let _t=Et.defs[gt.defId],At=Et.instances[yt.instanceId],kt=new EventImpl(pt,_t,At);pt.dispatch({type:"MERGE_EVENTS",eventStore:Et});let It={event:kt,relatedEvents:buildEventApis(Et,pt,At),revert(){pt.dispatch({type:"REMOVE_EVENTS",eventStore:Et})}};pt.emitter.trigger("eventAdd",It),dt.isTouch&&pt.dispatch({type:"SELECT_EVENT",eventInstanceId:yt.instanceId}),pt.emitter.trigger("drop",Object.assign(Object.assign({},buildDatePointApiWithContext(Rt.dateSpan,pt)),{draggedEl:dt.subjectEl,jsEvent:dt.origEvent,view:Rt.context.viewApi})),pt.emitter.trigger("eventReceive",Object.assign(Object.assign({},It),{draggedEl:dt.subjectEl,view:Rt.context.viewApi}))}}else ht.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:at}=this,{options:lt}=at.context,ct=this.dragging=new FeaturefulElementDragging(rt.el);ct.pointer.selector=EventDragging.SELECTOR,ct.touchScrollAllowed=!1,ct.autoScroller.isEnabled=lt.dragScroll;let ut=this.hitDragging=new HitDragging(this.dragging,interactionSettingsStore);ut.useSubjectCenter=rt.useEventCenter,ut.emitter.on("pointerdown",this.handlePointerDown),ut.emitter.on("dragstart",this.handleDragStart),ut.emitter.on("hitupdate",this.handleHitUpdate),ut.emitter.on("pointerup",this.handlePointerUp),ut.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(rt,at){let lt=this.component.context,ct=this.receivingContext;ct&&ct!==rt&&(ct===lt?ct.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:at.affectedEvents,mutatedEvents:createEmptyEventStore(),isEvent:!0}}):ct.dispatch({type:"UNSET_EVENT_DRAG"})),rt&&rt.dispatch({type:"SET_EVENT_DRAG",state:at})}clearDrag(){let rt=this.component.context,{receivingContext:at}=this;at&&at.dispatch({type:"UNSET_EVENT_DRAG"}),rt!==at&&rt.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}EventDragging.SELECTOR=".fc-event-draggable, .fc-event-resizable";function computeEventMutation(ot,rt,at,lt){let ct=ot.dateSpan,ut=rt.dateSpan,dt=ct.range.start,ht=ut.range.start,ft={};ct.allDay!==ut.allDay&&(ft.allDay=ut.allDay,ft.hasEnd=rt.context.options.allDayMaintainDuration,ut.allDay?dt=startOfDay(at):dt=at);let pt=diffDates(dt,ht,ot.context.dateEnv,ot.componentId===rt.componentId?ot.largeUnit:null);pt.milliseconds&&(ft.allDay=!1);let mt={datesDelta:pt,standardProps:ft};for(let gt of lt)gt(mt,ot,rt);return mt}function getComponentTouchDelay(ot){let{options:rt}=ot.context,at=rt.eventLongPressDelay;return at==null&&(at=rt.longPressDelay),at}class EventResizing extends Interaction{constructor(rt){super(rt),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=ut=>{let{component:dt}=this,ht=this.querySegEl(ut),ft=getElSeg(ht),pt=this.eventRange=ft.eventRange;this.dragging.minDistance=dt.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ut.origEvent.target)||ut.isTouch&&this.component.props.eventSelection!==pt.instance.instanceId)},this.handleDragStart=ut=>{let{context:dt}=this.component,ht=this.eventRange;this.relevantEvents=getRelevantEvents(dt.getCurrentData().eventStore,this.eventRange.instance.instanceId);let ft=this.querySegEl(ut);this.draggingSegEl=ft,this.draggingSeg=getElSeg(ft),dt.calendarApi.unselect(),dt.emitter.trigger("eventResizeStart",{el:ft,event:new EventImpl(dt,ht.def,ht.instance),jsEvent:ut.origEvent,view:dt.viewApi})},this.handleHitUpdate=(ut,dt,ht)=>{let{context:ft}=this.component,pt=this.relevantEvents,mt=this.hitDragging.initialHit,gt=this.eventRange.instance,yt=null,xt=null,bt=!1,Et={affectedEvents:pt,mutatedEvents:createEmptyEventStore(),isEvent:!0};ut&&(ut.componentId===mt.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(mt,ut)||(yt=computeMutation(mt,ut,ht.subjectEl.classList.contains("fc-event-resizer-start"),gt.range))),yt&&(xt=applyMutationToEventStore(pt,ft.getCurrentData().eventUiBases,yt,ft),Et.mutatedEvents=xt,isInteractionValid(Et,ut.dateProfile,ft)||(bt=!0,yt=null,xt=null,Et.mutatedEvents=null)),xt?ft.dispatch({type:"SET_EVENT_RESIZE",state:Et}):ft.dispatch({type:"UNSET_EVENT_RESIZE"}),bt?disableCursor():enableCursor(),dt||(yt&&isHitsEqual(mt,ut)&&(yt=null),this.validMutation=yt,this.mutatedRelevantEvents=xt)},this.handleDragEnd=ut=>{let{context:dt}=this.component,ht=this.eventRange.def,ft=this.eventRange.instance,pt=new EventImpl(dt,ht,ft),mt=this.relevantEvents,gt=this.mutatedRelevantEvents;if(dt.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:pt,jsEvent:ut.origEvent,view:dt.viewApi}),this.validMutation){let yt=new EventImpl(dt,gt.defs[ht.defId],ft?gt.instances[ft.instanceId]:null);dt.dispatch({type:"MERGE_EVENTS",eventStore:gt});let xt={oldEvent:pt,event:yt,relatedEvents:buildEventApis(gt,dt,ft),revert(){dt.dispatch({type:"MERGE_EVENTS",eventStore:mt})}};dt.emitter.trigger("eventResize",Object.assign(Object.assign({},xt),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||createDuration(0),endDelta:this.validMutation.endDelta||createDuration(0),jsEvent:ut.origEvent,view:dt.viewApi})),dt.emitter.trigger("eventChange",xt)}else dt.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:at}=rt,lt=this.dragging=new FeaturefulElementDragging(rt.el);lt.pointer.selector=".fc-event-resizer",lt.touchScrollAllowed=!1,lt.autoScroller.isEnabled=at.context.options.dragScroll;let ct=this.hitDragging=new HitDragging(this.dragging,interactionSettingsToStore(rt));ct.emitter.on("pointerdown",this.handlePointerDown),ct.emitter.on("dragstart",this.handleDragStart),ct.emitter.on("hitupdate",this.handleHitUpdate),ct.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(rt){return elementClosest(rt.subjectEl,".fc-event")}}function computeMutation(ot,rt,at,lt){let ct=ot.context.dateEnv,ut=ot.dateSpan.range.start,dt=rt.dateSpan.range.start,ht=diffDates(ut,dt,ct,ot.largeUnit);if(at){if(ct.add(lt.start,ht)<lt.end)return{startDelta:ht}}else if(ct.add(lt.end,ht)>lt.start)return{endDelta:ht};return null}class UnselectAuto{constructor(rt){this.context=rt,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=lt=>{lt.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=lt=>{let ct=this.context.options.unselectCancel,ut=getEventTargetViaRoot(lt.origEvent);this.matchesCancel=!!elementClosest(ut,ct),this.matchesEvent=!!elementClosest(ut,EventDragging.SELECTOR)},this.onDocumentPointerUp=lt=>{let{context:ct}=this,{documentPointer:ut}=this,dt=ct.getCurrentData();if(!ut.wasTouchScroll){if(dt.dateSelection&&!this.isRecentPointerDateSelect){let ht=ct.options.unselectAuto;ht&&(!ht||!this.matchesCancel)&&ct.calendarApi.unselect(lt)}dt.eventSelection&&!this.matchesEvent&&ct.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let at=this.documentPointer=new PointerDragging(document);at.shouldIgnoreMove=!0,at.shouldWatchScroll=!1,at.emitter.on("pointerdown",this.onDocumentPointerDown),at.emitter.on("pointerup",this.onDocumentPointerUp),rt.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const OPTION_REFINERS={fixedMirrorParent:identity},LISTENER_REFINERS={dateClick:identity,eventDragStart:identity,eventDragStop:identity,eventDrop:identity,eventResizeStart:identity,eventResizeStop:identity,eventResize:identity,drop:identity,eventReceive:identity,eventLeave:identity};config.dataAttrPrefix="";var index=createPlugin({name:"@fullcalendar/interaction",componentInteractions:[DateClicking,DateSelecting,EventDragging,EventResizing],calendarInteractions:[UnselectAuto],elementDraggingImpl:FeaturefulElementDragging,optionRefiners:OPTION_REFINERS,listenerRefiners:LISTENER_REFINERS}),bootstrap_bundle_min={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(ot,rt){(function(at,lt){ot.exports=lt()})(commonjsGlobal$2,function(){const at=new Map,lt={set(an,St,Bt){at.has(an)||at.set(an,new Map);const mn=at.get(an);mn.has(St)||mn.size===0?mn.set(St,Bt):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(mn.keys())[0]}.`)},get:(an,St)=>at.has(an)&&at.get(an).get(St)||null,remove(an,St){if(!at.has(an))return;const Bt=at.get(an);Bt.delete(St),Bt.size===0&&at.delete(an)}},ct="transitionend",ut=an=>(an&&window.CSS&&window.CSS.escape&&(an=an.replace(/#([^\s"#']+)/g,(St,Bt)=>`#${CSS.escape(Bt)}`)),an),dt=an=>{an.dispatchEvent(new Event(ct))},ht=an=>!(!an||typeof an!="object")&&(an.jquery!==void 0&&(an=an[0]),an.nodeType!==void 0),ft=an=>ht(an)?an.jquery?an[0]:an:typeof an=="string"&&an.length>0?document.querySelector(ut(an)):null,pt=an=>{if(!ht(an)||an.getClientRects().length===0)return!1;const St=getComputedStyle(an).getPropertyValue("visibility")==="visible",Bt=an.closest("details:not([open])");if(!Bt)return St;if(Bt!==an){const mn=an.closest("summary");if(mn&&mn.parentNode!==Bt||mn===null)return!1}return St},mt=an=>!an||an.nodeType!==Node.ELEMENT_NODE||!!an.classList.contains("disabled")||(an.disabled!==void 0?an.disabled:an.hasAttribute("disabled")&&an.getAttribute("disabled")!=="false"),gt=an=>{if(!document.documentElement.attachShadow)return null;if(typeof an.getRootNode=="function"){const St=an.getRootNode();return St instanceof ShadowRoot?St:null}return an instanceof ShadowRoot?an:an.parentNode?gt(an.parentNode):null},yt=()=>{},xt=an=>{an.offsetHeight},bt=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Et=[],Rt=()=>document.documentElement.dir==="rtl",wt=an=>{var St;St=()=>{const Bt=bt();if(Bt){const mn=an.NAME,zn=Bt.fn[mn];Bt.fn[mn]=an.jQueryInterface,Bt.fn[mn].Constructor=an,Bt.fn[mn].noConflict=()=>(Bt.fn[mn]=zn,an.jQueryInterface)}},document.readyState==="loading"?(Et.length||document.addEventListener("DOMContentLoaded",()=>{for(const Bt of Et)Bt()}),Et.push(St)):St()},_t=(an,St=[],Bt=an)=>typeof an=="function"?an(...St):Bt,At=(an,St,Bt=!0)=>{if(!Bt)return void _t(an);const mn=(or=>{if(!or)return 0;let{transitionDuration:mr,transitionDelay:kr}=window.getComputedStyle(or);const Hr=Number.parseFloat(mr),Kr=Number.parseFloat(kr);return Hr||Kr?(mr=mr.split(",")[0],kr=kr.split(",")[0],1e3*(Number.parseFloat(mr)+Number.parseFloat(kr))):0})(St)+5;let zn=!1;const Xn=({target:or})=>{or===St&&(zn=!0,St.removeEventListener(ct,Xn),_t(an))};St.addEventListener(ct,Xn),setTimeout(()=>{zn||dt(St)},mn)},kt=(an,St,Bt,mn)=>{const zn=an.length;let Xn=an.indexOf(St);return Xn===-1?!Bt&&mn?an[zn-1]:an[0]:(Xn+=Bt?1:-1,mn&&(Xn=(Xn+zn)%zn),an[Math.max(0,Math.min(Xn,zn-1))])},It=/[^.]*(?=\..*)\.|.*/,Nt=/\..*/,Pt=/::\d+$/,Tt={};let Ct=1;const Ot={mouseenter:"mouseover",mouseleave:"mouseout"},Dt=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function jt(an,St){return St&&`${St}::${Ct++}`||an.uidEvent||Ct++}function Mt(an){const St=jt(an);return an.uidEvent=St,Tt[St]=Tt[St]||{},Tt[St]}function zt(an,St,Bt=null){return Object.values(an).find(mn=>mn.callable===St&&mn.delegationSelector===Bt)}function Qt(an,St,Bt){const mn=typeof St=="string",zn=mn?Bt:St||Bt;let Xn=Gt(an);return Dt.has(Xn)||(Xn=an),[mn,zn,Xn]}function qt(an,St,Bt,mn,zn){if(typeof St!="string"||!an)return;let[Xn,or,mr]=Qt(St,Bt,mn);St in Ot&&(or=(ds=>function(as){if(!as.relatedTarget||as.relatedTarget!==as.delegateTarget&&!as.delegateTarget.contains(as.relatedTarget))return ds.call(this,as)})(or));const kr=Mt(an),Hr=kr[mr]||(kr[mr]={}),Kr=zt(Hr,or,Xn?Bt:null);if(Kr)return void(Kr.oneOff=Kr.oneOff&&zn);const Vr=jt(or,St.replace(It,"")),gs=Xn?function(is,ds,as){return function hs(Bs){const qs=is.querySelectorAll(ds);for(let{target:Rs}=Bs;Rs&&Rs!==this;Rs=Rs.parentNode)for(const Os of qs)if(Os===Rs)return pn(Bs,{delegateTarget:Rs}),hs.oneOff&&Wt.off(is,Bs.type,ds,as),as.apply(Rs,[Bs])}}(an,Bt,or):function(is,ds){return function as(hs){return pn(hs,{delegateTarget:is}),as.oneOff&&Wt.off(is,hs.type,ds),ds.apply(is,[hs])}}(an,or);gs.delegationSelector=Xn?Bt:null,gs.callable=or,gs.oneOff=zn,gs.uidEvent=Vr,Hr[Vr]=gs,an.addEventListener(mr,gs,Xn)}function Kt(an,St,Bt,mn,zn){const Xn=zt(St[Bt],mn,zn);Xn&&(an.removeEventListener(Bt,Xn,!!zn),delete St[Bt][Xn.uidEvent])}function sn(an,St,Bt,mn){const zn=St[Bt]||{};for(const[Xn,or]of Object.entries(zn))Xn.includes(mn)&&Kt(an,St,Bt,or.callable,or.delegationSelector)}function Gt(an){return an=an.replace(Nt,""),Ot[an]||an}const Wt={on(an,St,Bt,mn){qt(an,St,Bt,mn,!1)},one(an,St,Bt,mn){qt(an,St,Bt,mn,!0)},off(an,St,Bt,mn){if(typeof St!="string"||!an)return;const[zn,Xn,or]=Qt(St,Bt,mn),mr=or!==St,kr=Mt(an),Hr=kr[or]||{},Kr=St.startsWith(".");if(Xn===void 0){if(Kr)for(const Vr of Object.keys(kr))sn(an,kr,Vr,St.slice(1));for(const[Vr,gs]of Object.entries(Hr)){const is=Vr.replace(Pt,"");mr&&!St.includes(is)||Kt(an,kr,or,gs.callable,gs.delegationSelector)}}else{if(!Object.keys(Hr).length)return;Kt(an,kr,or,Xn,zn?Bt:null)}},trigger(an,St,Bt){if(typeof St!="string"||!an)return null;const mn=bt();let zn=null,Xn=!0,or=!0,mr=!1;St!==Gt(St)&&mn&&(zn=mn.Event(St,Bt),mn(an).trigger(zn),Xn=!zn.isPropagationStopped(),or=!zn.isImmediatePropagationStopped(),mr=zn.isDefaultPrevented());const kr=pn(new Event(St,{bubbles:Xn,cancelable:!0}),Bt);return mr&&kr.preventDefault(),or&&an.dispatchEvent(kr),kr.defaultPrevented&&zn&&zn.preventDefault(),kr}};function pn(an,St={}){for(const[Bt,mn]of Object.entries(St))try{an[Bt]=mn}catch{Object.defineProperty(an,Bt,{configurable:!0,get:()=>mn})}return an}function rn(an){if(an==="true")return!0;if(an==="false")return!1;if(an===Number(an).toString())return Number(an);if(an===""||an==="null")return null;if(typeof an!="string")return an;try{return JSON.parse(decodeURIComponent(an))}catch{return an}}function Vt(an){return an.replace(/[A-Z]/g,St=>`-${St.toLowerCase()}`)}const $t={setDataAttribute(an,St,Bt){an.setAttribute(`data-bs-${Vt(St)}`,Bt)},removeDataAttribute(an,St){an.removeAttribute(`data-bs-${Vt(St)}`)},getDataAttributes(an){if(!an)return{};const St={},Bt=Object.keys(an.dataset).filter(mn=>mn.startsWith("bs")&&!mn.startsWith("bsConfig"));for(const mn of Bt){let zn=mn.replace(/^bs/,"");zn=zn.charAt(0).toLowerCase()+zn.slice(1,zn.length),St[zn]=rn(an.dataset[mn])}return St},getDataAttribute:(an,St)=>rn(an.getAttribute(`data-bs-${Vt(St)}`))};class Xt{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(St){return St=this._mergeConfigObj(St),St=this._configAfterMerge(St),this._typeCheckConfig(St),St}_configAfterMerge(St){return St}_mergeConfigObj(St,Bt){const mn=ht(Bt)?$t.getDataAttribute(Bt,"config"):{};return{...this.constructor.Default,...typeof mn=="object"?mn:{},...ht(Bt)?$t.getDataAttributes(Bt):{},...typeof St=="object"?St:{}}}_typeCheckConfig(St,Bt=this.constructor.DefaultType){for(const[zn,Xn]of Object.entries(Bt)){const or=St[zn],mr=ht(or)?"element":(mn=or)==null?`${mn}`:Object.prototype.toString.call(mn).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Xn).test(mr))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${zn}" provided type "${mr}" but expected type "${Xn}".`)}var mn}}class Zt extends Xt{constructor(St,Bt){super(),(St=ft(St))&&(this._element=St,this._config=this._getConfig(Bt),lt.set(this._element,this.constructor.DATA_KEY,this))}dispose(){lt.remove(this._element,this.constructor.DATA_KEY),Wt.off(this._element,this.constructor.EVENT_KEY);for(const St of Object.getOwnPropertyNames(this))this[St]=null}_queueCallback(St,Bt,mn=!0){At(St,Bt,mn)}_getConfig(St){return St=this._mergeConfigObj(St,this._element),St=this._configAfterMerge(St),this._typeCheckConfig(St),St}static getInstance(St){return lt.get(ft(St),this.DATA_KEY)}static getOrCreateInstance(St,Bt={}){return this.getInstance(St)||new this(St,typeof Bt=="object"?Bt:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(St){return`${St}${this.EVENT_KEY}`}}const Jt=an=>{let St=an.getAttribute("data-bs-target");if(!St||St==="#"){let Bt=an.getAttribute("href");if(!Bt||!Bt.includes("#")&&!Bt.startsWith("."))return null;Bt.includes("#")&&!Bt.startsWith("#")&&(Bt=`#${Bt.split("#")[1]}`),St=Bt&&Bt!=="#"?Bt.trim():null}return St?St.split(",").map(Bt=>ut(Bt)).join(","):null},Yt={find:(an,St=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(St,an)),findOne:(an,St=document.documentElement)=>Element.prototype.querySelector.call(St,an),children:(an,St)=>[].concat(...an.children).filter(Bt=>Bt.matches(St)),parents(an,St){const Bt=[];let mn=an.parentNode.closest(St);for(;mn;)Bt.push(mn),mn=mn.parentNode.closest(St);return Bt},prev(an,St){let Bt=an.previousElementSibling;for(;Bt;){if(Bt.matches(St))return[Bt];Bt=Bt.previousElementSibling}return[]},next(an,St){let Bt=an.nextElementSibling;for(;Bt;){if(Bt.matches(St))return[Bt];Bt=Bt.nextElementSibling}return[]},focusableChildren(an){const St=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Bt=>`${Bt}:not([tabindex^="-"])`).join(",");return this.find(St,an).filter(Bt=>!mt(Bt)&&pt(Bt))},getSelectorFromElement(an){const St=Jt(an);return St&&Yt.findOne(St)?St:null},getElementFromSelector(an){const St=Jt(an);return St?Yt.findOne(St):null},getMultipleElementsFromSelector(an){const St=Jt(an);return St?Yt.find(St):[]}},gn=(an,St="hide")=>{const Bt=`click.dismiss${an.EVENT_KEY}`,mn=an.NAME;Wt.on(document,Bt,`[data-bs-dismiss="${mn}"]`,function(zn){if(["A","AREA"].includes(this.tagName)&&zn.preventDefault(),mt(this))return;const Xn=Yt.getElementFromSelector(this)||this.closest(`.${mn}`);an.getOrCreateInstance(Xn)[St]()})},_n=".bs.alert",Sn=`close${_n}`,jn=`closed${_n}`;class Dn extends Zt{static get NAME(){return"alert"}close(){if(Wt.trigger(this._element,Sn).defaultPrevented)return;this._element.classList.remove("show");const St=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,St)}_destroyElement(){this._element.remove(),Wt.trigger(this._element,jn),this.dispose()}static jQueryInterface(St){return this.each(function(){const Bt=Dn.getOrCreateInstance(this);if(typeof St=="string"){if(Bt[St]===void 0||St.startsWith("_")||St==="constructor")throw new TypeError(`No method named "${St}"`);Bt[St](this)}})}}gn(Dn,"close"),wt(Dn);const Gn='[data-bs-toggle="button"]';class Kn extends Zt{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(St){return this.each(function(){const Bt=Kn.getOrCreateInstance(this);St==="toggle"&&Bt[St]()})}}Wt.on(document,"click.bs.button.data-api",Gn,an=>{an.preventDefault();const St=an.target.closest(Gn);Kn.getOrCreateInstance(St).toggle()}),wt(Kn);const hn=".bs.swipe",En=`touchstart${hn}`,cn=`touchmove${hn}`,dn=`touchend${hn}`,wn=`pointerdown${hn}`,kn=`pointerup${hn}`,Un={endCallback:null,leftCallback:null,rightCallback:null},Jn={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class An extends Xt{constructor(St,Bt){super(),this._element=St,St&&An.isSupported()&&(this._config=this._getConfig(Bt),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Un}static get DefaultType(){return Jn}static get NAME(){return"swipe"}dispose(){Wt.off(this._element,hn)}_start(St){this._supportPointerEvents?this._eventIsPointerPenTouch(St)&&(this._deltaX=St.clientX):this._deltaX=St.touches[0].clientX}_end(St){this._eventIsPointerPenTouch(St)&&(this._deltaX=St.clientX-this._deltaX),this._handleSwipe(),_t(this._config.endCallback)}_move(St){this._deltaX=St.touches&&St.touches.length>1?0:St.touches[0].clientX-this._deltaX}_handleSwipe(){const St=Math.abs(this._deltaX);if(St<=40)return;const Bt=St/this._deltaX;this._deltaX=0,Bt&&_t(Bt>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Wt.on(this._element,wn,St=>this._start(St)),Wt.on(this._element,kn,St=>this._end(St)),this._element.classList.add("pointer-event")):(Wt.on(this._element,En,St=>this._start(St)),Wt.on(this._element,cn,St=>this._move(St)),Wt.on(this._element,dn,St=>this._end(St)))}_eventIsPointerPenTouch(St){return this._supportPointerEvents&&(St.pointerType==="pen"||St.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const xn=".bs.carousel",er=".data-api",Qn="next",gr="prev",yr="left",Fr="right",br=`slide${xn}`,Er=`slid${xn}`,Yr=`keydown${xn}`,ss=`mouseenter${xn}`,nr=`mouseleave${xn}`,Ln=`dragstart${xn}`,Vn=`load${xn}${er}`,vr=`click${xn}${er}`,Tr="carousel",Or="active",vn=".active",tr=".carousel-item",dr=vn+tr,Rr={ArrowLeft:Fr,ArrowRight:yr},Ir={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},_r={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class yn extends Zt{constructor(St,Bt){super(St,Bt),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Yt.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Tr&&this.cycle()}static get Default(){return Ir}static get DefaultType(){return _r}static get NAME(){return"carousel"}next(){this._slide(Qn)}nextWhenVisible(){!document.hidden&&pt(this._element)&&this.next()}prev(){this._slide(gr)}pause(){this._isSliding&&dt(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Wt.one(this._element,Er,()=>this.cycle()):this.cycle())}to(St){const Bt=this._getItems();if(St>Bt.length-1||St<0)return;if(this._isSliding)return void Wt.one(this._element,Er,()=>this.to(St));const mn=this._getItemIndex(this._getActive());if(mn===St)return;const zn=St>mn?Qn:gr;this._slide(zn,Bt[St])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(St){return St.defaultInterval=St.interval,St}_addEventListeners(){this._config.keyboard&&Wt.on(this._element,Yr,St=>this._keydown(St)),this._config.pause==="hover"&&(Wt.on(this._element,ss,()=>this.pause()),Wt.on(this._element,nr,()=>this._maybeEnableCycle())),this._config.touch&&An.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Bt of Yt.find(".carousel-item img",this._element))Wt.on(Bt,Ln,mn=>mn.preventDefault());const St={leftCallback:()=>this._slide(this._directionToOrder(yr)),rightCallback:()=>this._slide(this._directionToOrder(Fr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new An(this._element,St)}_keydown(St){if(/input|textarea/i.test(St.target.tagName))return;const Bt=Rr[St.key];Bt&&(St.preventDefault(),this._slide(this._directionToOrder(Bt)))}_getItemIndex(St){return this._getItems().indexOf(St)}_setActiveIndicatorElement(St){if(!this._indicatorsElement)return;const Bt=Yt.findOne(vn,this._indicatorsElement);Bt.classList.remove(Or),Bt.removeAttribute("aria-current");const mn=Yt.findOne(`[data-bs-slide-to="${St}"]`,this._indicatorsElement);mn&&(mn.classList.add(Or),mn.setAttribute("aria-current","true"))}_updateInterval(){const St=this._activeElement||this._getActive();if(!St)return;const Bt=Number.parseInt(St.getAttribute("data-bs-interval"),10);this._config.interval=Bt||this._config.defaultInterval}_slide(St,Bt=null){if(this._isSliding)return;const mn=this._getActive(),zn=St===Qn,Xn=Bt||kt(this._getItems(),mn,zn,this._config.wrap);if(Xn===mn)return;const or=this._getItemIndex(Xn),mr=Vr=>Wt.trigger(this._element,Vr,{relatedTarget:Xn,direction:this._orderToDirection(St),from:this._getItemIndex(mn),to:or});if(mr(br).defaultPrevented||!mn||!Xn)return;const kr=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(or),this._activeElement=Xn;const Hr=zn?"carousel-item-start":"carousel-item-end",Kr=zn?"carousel-item-next":"carousel-item-prev";Xn.classList.add(Kr),xt(Xn),mn.classList.add(Hr),Xn.classList.add(Hr),this._queueCallback(()=>{Xn.classList.remove(Hr,Kr),Xn.classList.add(Or),mn.classList.remove(Or,Kr,Hr),this._isSliding=!1,mr(Er)},mn,this._isAnimated()),kr&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Yt.findOne(dr,this._element)}_getItems(){return Yt.find(tr,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(St){return Rt()?St===yr?gr:Qn:St===yr?Qn:gr}_orderToDirection(St){return Rt()?St===gr?yr:Fr:St===gr?Fr:yr}static jQueryInterface(St){return this.each(function(){const Bt=yn.getOrCreateInstance(this,St);if(typeof St!="number"){if(typeof St=="string"){if(Bt[St]===void 0||St.startsWith("_")||St==="constructor")throw new TypeError(`No method named "${St}"`);Bt[St]()}}else Bt.to(St)})}}Wt.on(document,vr,"[data-bs-slide], [data-bs-slide-to]",function(an){const St=Yt.getElementFromSelector(this);if(!St||!St.classList.contains(Tr))return;an.preventDefault();const Bt=yn.getOrCreateInstance(St),mn=this.getAttribute("data-bs-slide-to");return mn?(Bt.to(mn),void Bt._maybeEnableCycle()):$t.getDataAttribute(this,"slide")==="next"?(Bt.next(),void Bt._maybeEnableCycle()):(Bt.prev(),void Bt._maybeEnableCycle())}),Wt.on(window,Vn,()=>{const an=Yt.find('[data-bs-ride="carousel"]');for(const St of an)yn.getOrCreateInstance(St)}),wt(yn);const fn=".bs.collapse",Pn=`show${fn}`,Hn=`shown${fn}`,Zn=`hide${fn}`,rr=`hidden${fn}`,lr=`click${fn}.data-api`,Sr="show",wr="collapse",pr="collapsing",Zr=`:scope .${wr} .${wr}`,Ar='[data-bs-toggle="collapse"]',Pr={parent:null,toggle:!0},Br={parent:"(null|element)",toggle:"boolean"};class Xr extends Zt{constructor(St,Bt){super(St,Bt),this._isTransitioning=!1,this._triggerArray=[];const mn=Yt.find(Ar);for(const zn of mn){const Xn=Yt.getSelectorFromElement(zn),or=Yt.find(Xn).filter(mr=>mr===this._element);Xn!==null&&or.length&&this._triggerArray.push(zn)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Pr}static get DefaultType(){return Br}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let St=[];if(this._config.parent&&(St=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(zn=>zn!==this._element).map(zn=>Xr.getOrCreateInstance(zn,{toggle:!1}))),St.length&&St[0]._isTransitioning||Wt.trigger(this._element,Pn).defaultPrevented)return;for(const zn of St)zn.hide();const Bt=this._getDimension();this._element.classList.remove(wr),this._element.classList.add(pr),this._element.style[Bt]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const mn=`scroll${Bt[0].toUpperCase()+Bt.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pr),this._element.classList.add(wr,Sr),this._element.style[Bt]="",Wt.trigger(this._element,Hn)},this._element,!0),this._element.style[Bt]=`${this._element[mn]}px`}hide(){if(this._isTransitioning||!this._isShown()||Wt.trigger(this._element,Zn).defaultPrevented)return;const St=this._getDimension();this._element.style[St]=`${this._element.getBoundingClientRect()[St]}px`,xt(this._element),this._element.classList.add(pr),this._element.classList.remove(wr,Sr);for(const Bt of this._triggerArray){const mn=Yt.getElementFromSelector(Bt);mn&&!this._isShown(mn)&&this._addAriaAndCollapsedClass([Bt],!1)}this._isTransitioning=!0,this._element.style[St]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(pr),this._element.classList.add(wr),Wt.trigger(this._element,rr)},this._element,!0)}_isShown(St=this._element){return St.classList.contains(Sr)}_configAfterMerge(St){return St.toggle=!!St.toggle,St.parent=ft(St.parent),St}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const St=this._getFirstLevelChildren(Ar);for(const Bt of St){const mn=Yt.getElementFromSelector(Bt);mn&&this._addAriaAndCollapsedClass([Bt],this._isShown(mn))}}_getFirstLevelChildren(St){const Bt=Yt.find(Zr,this._config.parent);return Yt.find(St,this._config.parent).filter(mn=>!Bt.includes(mn))}_addAriaAndCollapsedClass(St,Bt){if(St.length)for(const mn of St)mn.classList.toggle("collapsed",!Bt),mn.setAttribute("aria-expanded",Bt)}static jQueryInterface(St){const Bt={};return typeof St=="string"&&/show|hide/.test(St)&&(Bt.toggle=!1),this.each(function(){const mn=Xr.getOrCreateInstance(this,Bt);if(typeof St=="string"){if(mn[St]===void 0)throw new TypeError(`No method named "${St}"`);mn[St]()}})}}Wt.on(document,lr,Ar,function(an){(an.target.tagName==="A"||an.delegateTarget&&an.delegateTarget.tagName==="A")&&an.preventDefault();for(const St of Yt.getMultipleElementsFromSelector(this))Xr.getOrCreateInstance(St,{toggle:!1}).toggle()}),wt(Xr);var Qr="top",ns="bottom",Ts="right",ls="left",eo="auto",Qs=[Qr,ns,Ts,ls],Js="start",fo="end",Hl="clippingParents",Ho="viewport",po="popper",_l="reference",No=Qs.reduce(function(an,St){return an.concat([St+"-"+Js,St+"-"+fo])},[]),_o=[].concat(Qs,[eo]).reduce(function(an,St){return an.concat([St,St+"-"+Js,St+"-"+fo])},[]),El="beforeRead",zl="read",Dl="afterRead",zo="beforeMain",wl="main",ga="afterMain",Rl="beforeWrite",Mo="write",Nl="afterWrite",Wl=[El,zl,Dl,zo,wl,ga,Rl,Mo,Nl];function mo(an){return an?(an.nodeName||"").toLowerCase():null}function to(an){if(an==null)return window;if(an.toString()!=="[object Window]"){var St=an.ownerDocument;return St&&St.defaultView||window}return an}function So(an){return an instanceof to(an).Element||an instanceof Element}function oo(an){return an instanceof to(an).HTMLElement||an instanceof HTMLElement}function go(an){return typeof ShadowRoot<"u"&&(an instanceof to(an).ShadowRoot||an instanceof ShadowRoot)}const ao={name:"applyStyles",enabled:!0,phase:"write",fn:function(an){var St=an.state;Object.keys(St.elements).forEach(function(Bt){var mn=St.styles[Bt]||{},zn=St.attributes[Bt]||{},Xn=St.elements[Bt];oo(Xn)&&mo(Xn)&&(Object.assign(Xn.style,mn),Object.keys(zn).forEach(function(or){var mr=zn[or];mr===!1?Xn.removeAttribute(or):Xn.setAttribute(or,mr===!0?"":mr)}))})},effect:function(an){var St=an.state,Bt={popper:{position:St.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(St.elements.popper.style,Bt.popper),St.styles=Bt,St.elements.arrow&&Object.assign(St.elements.arrow.style,Bt.arrow),function(){Object.keys(St.elements).forEach(function(mn){var zn=St.elements[mn],Xn=St.attributes[mn]||{},or=Object.keys(St.styles.hasOwnProperty(mn)?St.styles[mn]:Bt[mn]).reduce(function(mr,kr){return mr[kr]="",mr},{});oo(zn)&&mo(zn)&&(Object.assign(zn.style,or),Object.keys(Xn).forEach(function(mr){zn.removeAttribute(mr)}))})}},requires:["computeStyles"]};function io(an){return an.split("-")[0]}var yo=Math.max,Oo=Math.min,Is=Math.round;function Lo(){var an=navigator.userAgentData;return an!=null&&an.brands&&Array.isArray(an.brands)?an.brands.map(function(St){return St.brand+"/"+St.version}).join(" "):navigator.userAgent}function Fo(){return!/^((?!chrome|android).)*safari/i.test(Lo())}function xo(an,St,Bt){St===void 0&&(St=!1),Bt===void 0&&(Bt=!1);var mn=an.getBoundingClientRect(),zn=1,Xn=1;St&&oo(an)&&(zn=an.offsetWidth>0&&Is(mn.width)/an.offsetWidth||1,Xn=an.offsetHeight>0&&Is(mn.height)/an.offsetHeight||1);var or=(So(an)?to(an):window).visualViewport,mr=!Fo()&&Bt,kr=(mn.left+(mr&&or?or.offsetLeft:0))/zn,Hr=(mn.top+(mr&&or?or.offsetTop:0))/Xn,Kr=mn.width/zn,Vr=mn.height/Xn;return{width:Kr,height:Vr,top:Hr,right:kr+Kr,bottom:Hr+Vr,left:kr,x:kr,y:Hr}}function xa(an){var St=xo(an),Bt=an.offsetWidth,mn=an.offsetHeight;return Math.abs(St.width-Bt)<=1&&(Bt=St.width),Math.abs(St.height-mn)<=1&&(mn=St.height),{x:an.offsetLeft,y:an.offsetTop,width:Bt,height:mn}}function Ml(an,St){var Bt=St.getRootNode&&St.getRootNode();if(an.contains(St))return!0;if(Bt&&go(Bt)){var mn=St;do{if(mn&&an.isSameNode(mn))return!0;mn=mn.parentNode||mn.host}while(mn)}return!1}function Eo(an){return to(an).getComputedStyle(an)}function Wo(an){return["table","td","th"].indexOf(mo(an))>=0}function Co(an){return((So(an)?an.ownerDocument:an.document)||window.document).documentElement}function ba(an){return mo(an)==="html"?an:an.assignedSlot||an.parentNode||(go(an)?an.host:null)||Co(an)}function qo(an){return oo(an)&&Eo(an).position!=="fixed"?an.offsetParent:null}function no(an){for(var St=to(an),Bt=qo(an);Bt&&Wo(Bt)&&Eo(Bt).position==="static";)Bt=qo(Bt);return Bt&&(mo(Bt)==="html"||mo(Bt)==="body"&&Eo(Bt).position==="static")?St:Bt||function(mn){var zn=/firefox/i.test(Lo());if(/Trident/i.test(Lo())&&oo(mn)&&Eo(mn).position==="fixed")return null;var Xn=ba(mn);for(go(Xn)&&(Xn=Xn.host);oo(Xn)&&["html","body"].indexOf(mo(Xn))<0;){var or=Eo(Xn);if(or.transform!=="none"||or.perspective!=="none"||or.contain==="paint"||["transform","perspective"].indexOf(or.willChange)!==-1||zn&&or.willChange==="filter"||zn&&or.filter&&or.filter!=="none")return Xn;Xn=Xn.parentNode}return null}(an)||St}function Go(an){return["top","bottom"].indexOf(an)>=0?"x":"y"}function Ko(an,St,Bt){return yo(an,Oo(St,Bt))}function Tl(an){return Object.assign({},{top:0,right:0,bottom:0,left:0},an)}function Po(an,St){return St.reduce(function(Bt,mn){return Bt[mn]=an,Bt},{})}const Al={name:"arrow",enabled:!0,phase:"main",fn:function(an){var St,Bt=an.state,mn=an.name,zn=an.options,Xn=Bt.elements.arrow,or=Bt.modifiersData.popperOffsets,mr=io(Bt.placement),kr=Go(mr),Hr=[ls,Ts].indexOf(mr)>=0?"height":"width";if(Xn&&or){var Kr=function(Us,$s){return Tl(typeof(Us=typeof Us=="function"?Us(Object.assign({},$s.rects,{placement:$s.placement})):Us)!="number"?Us:Po(Us,Qs))}(zn.padding,Bt),Vr=xa(Xn),gs=kr==="y"?Qr:ls,is=kr==="y"?ns:Ts,ds=Bt.rects.reference[Hr]+Bt.rects.reference[kr]-or[kr]-Bt.rects.popper[Hr],as=or[kr]-Bt.rects.reference[kr],hs=no(Xn),Bs=hs?kr==="y"?hs.clientHeight||0:hs.clientWidth||0:0,qs=ds/2-as/2,Rs=Kr[gs],Os=Bs-Vr[Hr]-Kr[is],vs=Bs/2-Vr[Hr]/2+qs,ks=Ko(Rs,vs,Os),Vs=kr;Bt.modifiersData[mn]=((St={})[Vs]=ks,St.centerOffset=ks-vs,St)}},effect:function(an){var St=an.state,Bt=an.options.element,mn=Bt===void 0?"[data-popper-arrow]":Bt;mn!=null&&(typeof mn!="string"||(mn=St.elements.popper.querySelector(mn)))&&Ml(St.elements.popper,mn)&&(St.elements.arrow=mn)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yo(an){return an.split("-")[1]}var au={top:"auto",right:"auto",bottom:"auto",left:"auto"};function wo(an){var St,Bt=an.popper,mn=an.popperRect,zn=an.placement,Xn=an.variation,or=an.offsets,mr=an.position,kr=an.gpuAcceleration,Hr=an.adaptive,Kr=an.roundOffsets,Vr=an.isFixed,gs=or.x,is=gs===void 0?0:gs,ds=or.y,as=ds===void 0?0:ds,hs=typeof Kr=="function"?Kr({x:is,y:as}):{x:is,y:as};is=hs.x,as=hs.y;var Bs=or.hasOwnProperty("x"),qs=or.hasOwnProperty("y"),Rs=ls,Os=Qr,vs=window;if(Hr){var ks=no(Bt),Vs="clientHeight",Us="clientWidth";ks===to(Bt)&&Eo(ks=Co(Bt)).position!=="static"&&mr==="absolute"&&(Vs="scrollHeight",Us="scrollWidth"),(zn===Qr||(zn===ls||zn===Ts)&&Xn===fo)&&(Os=ns,as-=(Vr&&ks===vs&&vs.visualViewport?vs.visualViewport.height:ks[Vs])-mn.height,as*=kr?1:-1),zn!==ls&&(zn!==Qr&&zn!==ns||Xn!==fo)||(Rs=Ts,is-=(Vr&&ks===vs&&vs.visualViewport?vs.visualViewport.width:ks[Us])-mn.width,is*=kr?1:-1)}var $s,_i=Object.assign({position:mr},Hr&&au),Ao=Kr===!0?function(Uo,uo){var ko=Uo.x,Io=Uo.y,Xs=uo.devicePixelRatio||1;return{x:Is(ko*Xs)/Xs||0,y:Is(Io*Xs)/Xs||0}}({x:is,y:as},to(Bt)):{x:is,y:as};return is=Ao.x,as=Ao.y,kr?Object.assign({},_i,(($s={})[Os]=qs?"0":"",$s[Rs]=Bs?"0":"",$s.transform=(vs.devicePixelRatio||1)<=1?"translate("+is+"px, "+as+"px)":"translate3d("+is+"px, "+as+"px, 0)",$s)):Object.assign({},_i,((St={})[Os]=qs?as+"px":"",St[Rs]=Bs?is+"px":"",St.transform="",St))}const Ht={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(an){var St=an.state,Bt=an.options,mn=Bt.gpuAcceleration,zn=mn===void 0||mn,Xn=Bt.adaptive,or=Xn===void 0||Xn,mr=Bt.roundOffsets,kr=mr===void 0||mr,Hr={placement:io(St.placement),variation:Yo(St.placement),popper:St.elements.popper,popperRect:St.rects.popper,gpuAcceleration:zn,isFixed:St.options.strategy==="fixed"};St.modifiersData.popperOffsets!=null&&(St.styles.popper=Object.assign({},St.styles.popper,wo(Object.assign({},Hr,{offsets:St.modifiersData.popperOffsets,position:St.options.strategy,adaptive:or,roundOffsets:kr})))),St.modifiersData.arrow!=null&&(St.styles.arrow=Object.assign({},St.styles.arrow,wo(Object.assign({},Hr,{offsets:St.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:kr})))),St.attributes.popper=Object.assign({},St.attributes.popper,{"data-popper-placement":St.placement})},data:{}};var un={passive:!0};const bn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(an){var St=an.state,Bt=an.instance,mn=an.options,zn=mn.scroll,Xn=zn===void 0||zn,or=mn.resize,mr=or===void 0||or,kr=to(St.elements.popper),Hr=[].concat(St.scrollParents.reference,St.scrollParents.popper);return Xn&&Hr.forEach(function(Kr){Kr.addEventListener("scroll",Bt.update,un)}),mr&&kr.addEventListener("resize",Bt.update,un),function(){Xn&&Hr.forEach(function(Kr){Kr.removeEventListener("scroll",Bt.update,un)}),mr&&kr.removeEventListener("resize",Bt.update,un)}},data:{}};var Rn={left:"right",right:"left",bottom:"top",top:"bottom"};function Cn(an){return an.replace(/left|right|bottom|top/g,function(St){return Rn[St]})}var In={start:"end",end:"start"};function Bn(an){return an.replace(/start|end/g,function(St){return In[St]})}function Fn(an){var St=to(an);return{scrollLeft:St.pageXOffset,scrollTop:St.pageYOffset}}function Tn(an){return xo(Co(an)).left+Fn(an).scrollLeft}function Nn(an){var St=Eo(an),Bt=St.overflow,mn=St.overflowX,zn=St.overflowY;return/auto|scroll|overlay|hidden/.test(Bt+zn+mn)}function $n(an){return["html","body","#document"].indexOf(mo(an))>=0?an.ownerDocument.body:oo(an)&&Nn(an)?an:$n(ba(an))}function ar(an,St){var Bt;St===void 0&&(St=[]);var mn=$n(an),zn=mn===((Bt=an.ownerDocument)==null?void 0:Bt.body),Xn=to(mn),or=zn?[Xn].concat(Xn.visualViewport||[],Nn(mn)?mn:[]):mn,mr=St.concat(or);return zn?mr:mr.concat(ar(ba(or)))}function ir(an){return Object.assign({},an,{left:an.x,top:an.y,right:an.x+an.width,bottom:an.y+an.height})}function sr(an,St,Bt){return St===Ho?ir(function(mn,zn){var Xn=to(mn),or=Co(mn),mr=Xn.visualViewport,kr=or.clientWidth,Hr=or.clientHeight,Kr=0,Vr=0;if(mr){kr=mr.width,Hr=mr.height;var gs=Fo();(gs||!gs&&zn==="fixed")&&(Kr=mr.offsetLeft,Vr=mr.offsetTop)}return{width:kr,height:Hr,x:Kr+Tn(mn),y:Vr}}(an,Bt)):So(St)?function(mn,zn){var Xn=xo(mn,!1,zn==="fixed");return Xn.top=Xn.top+mn.clientTop,Xn.left=Xn.left+mn.clientLeft,Xn.bottom=Xn.top+mn.clientHeight,Xn.right=Xn.left+mn.clientWidth,Xn.width=mn.clientWidth,Xn.height=mn.clientHeight,Xn.x=Xn.left,Xn.y=Xn.top,Xn}(St,Bt):ir(function(mn){var zn,Xn=Co(mn),or=Fn(mn),mr=(zn=mn.ownerDocument)==null?void 0:zn.body,kr=yo(Xn.scrollWidth,Xn.clientWidth,mr?mr.scrollWidth:0,mr?mr.clientWidth:0),Hr=yo(Xn.scrollHeight,Xn.clientHeight,mr?mr.scrollHeight:0,mr?mr.clientHeight:0),Kr=-or.scrollLeft+Tn(mn),Vr=-or.scrollTop;return Eo(mr||Xn).direction==="rtl"&&(Kr+=yo(Xn.clientWidth,mr?mr.clientWidth:0)-kr),{width:kr,height:Hr,x:Kr,y:Vr}}(Co(an)))}function xr(an){var St,Bt=an.reference,mn=an.element,zn=an.placement,Xn=zn?io(zn):null,or=zn?Yo(zn):null,mr=Bt.x+Bt.width/2-mn.width/2,kr=Bt.y+Bt.height/2-mn.height/2;switch(Xn){case Qr:St={x:mr,y:Bt.y-mn.height};break;case ns:St={x:mr,y:Bt.y+Bt.height};break;case Ts:St={x:Bt.x+Bt.width,y:kr};break;case ls:St={x:Bt.x-mn.width,y:kr};break;default:St={x:Bt.x,y:Bt.y}}var Hr=Xn?Go(Xn):null;if(Hr!=null){var Kr=Hr==="y"?"height":"width";switch(or){case Js:St[Hr]=St[Hr]-(Bt[Kr]/2-mn[Kr]/2);break;case fo:St[Hr]=St[Hr]+(Bt[Kr]/2-mn[Kr]/2)}}return St}function cr(an,St){St===void 0&&(St={});var Bt=St,mn=Bt.placement,zn=mn===void 0?an.placement:mn,Xn=Bt.strategy,or=Xn===void 0?an.strategy:Xn,mr=Bt.boundary,kr=mr===void 0?Hl:mr,Hr=Bt.rootBoundary,Kr=Hr===void 0?Ho:Hr,Vr=Bt.elementContext,gs=Vr===void 0?po:Vr,is=Bt.altBoundary,ds=is!==void 0&&is,as=Bt.padding,hs=as===void 0?0:as,Bs=Tl(typeof hs!="number"?hs:Po(hs,Qs)),qs=gs===po?_l:po,Rs=an.rects.popper,Os=an.elements[ds?qs:gs],vs=function(uo,ko,Io,Xs){var Zo=ko==="clippingParents"?function(Ws){var ho=ar(ba(Ws)),Do=["absolute","fixed"].indexOf(Eo(Ws).position)>=0&&oo(Ws)?no(Ws):Ws;return So(Do)?ho.filter(function(Il){return So(Il)&&Ml(Il,Do)&&mo(Il)!=="body"}):[]}(uo):[].concat(ko),na=[].concat(Zo,[Io]),tu=na[0],so=na.reduce(function(Ws,ho){var Do=sr(uo,ho,Xs);return Ws.top=yo(Do.top,Ws.top),Ws.right=Oo(Do.right,Ws.right),Ws.bottom=Oo(Do.bottom,Ws.bottom),Ws.left=yo(Do.left,Ws.left),Ws},sr(uo,tu,Xs));return so.width=so.right-so.left,so.height=so.bottom-so.top,so.x=so.left,so.y=so.top,so}(So(Os)?Os:Os.contextElement||Co(an.elements.popper),kr,Kr,or),ks=xo(an.elements.reference),Vs=xr({reference:ks,element:Rs,strategy:"absolute",placement:zn}),Us=ir(Object.assign({},Rs,Vs)),$s=gs===po?Us:ks,_i={top:vs.top-$s.top+Bs.top,bottom:$s.bottom-vs.bottom+Bs.bottom,left:vs.left-$s.left+Bs.left,right:$s.right-vs.right+Bs.right},Ao=an.modifiersData.offset;if(gs===po&&Ao){var Uo=Ao[zn];Object.keys(_i).forEach(function(uo){var ko=[Ts,ns].indexOf(uo)>=0?1:-1,Io=[Qr,ns].indexOf(uo)>=0?"y":"x";_i[uo]+=Uo[Io]*ko})}return _i}function hr(an,St){St===void 0&&(St={});var Bt=St,mn=Bt.placement,zn=Bt.boundary,Xn=Bt.rootBoundary,or=Bt.padding,mr=Bt.flipVariations,kr=Bt.allowedAutoPlacements,Hr=kr===void 0?_o:kr,Kr=Yo(mn),Vr=Kr?mr?No:No.filter(function(ds){return Yo(ds)===Kr}):Qs,gs=Vr.filter(function(ds){return Hr.indexOf(ds)>=0});gs.length===0&&(gs=Vr);var is=gs.reduce(function(ds,as){return ds[as]=cr(an,{placement:as,boundary:zn,rootBoundary:Xn,padding:or})[io(as)],ds},{});return Object.keys(is).sort(function(ds,as){return is[ds]-is[as]})}const es={name:"flip",enabled:!0,phase:"main",fn:function(an){var St=an.state,Bt=an.options,mn=an.name;if(!St.modifiersData[mn]._skip){for(var zn=Bt.mainAxis,Xn=zn===void 0||zn,or=Bt.altAxis,mr=or===void 0||or,kr=Bt.fallbackPlacements,Hr=Bt.padding,Kr=Bt.boundary,Vr=Bt.rootBoundary,gs=Bt.altBoundary,is=Bt.flipVariations,ds=is===void 0||is,as=Bt.allowedAutoPlacements,hs=St.options.placement,Bs=io(hs),qs=kr||(Bs!==hs&&ds?function(Ws){if(io(Ws)===eo)return[];var ho=Cn(Ws);return[Bn(Ws),ho,Bn(ho)]}(hs):[Cn(hs)]),Rs=[hs].concat(qs).reduce(function(Ws,ho){return Ws.concat(io(ho)===eo?hr(St,{placement:ho,boundary:Kr,rootBoundary:Vr,padding:Hr,flipVariations:ds,allowedAutoPlacements:as}):ho)},[]),Os=St.rects.reference,vs=St.rects.popper,ks=new Map,Vs=!0,Us=Rs[0],$s=0;$s<Rs.length;$s++){var _i=Rs[$s],Ao=io(_i),Uo=Yo(_i)===Js,uo=[Qr,ns].indexOf(Ao)>=0,ko=uo?"width":"height",Io=cr(St,{placement:_i,boundary:Kr,rootBoundary:Vr,altBoundary:gs,padding:Hr}),Xs=uo?Uo?Ts:ls:Uo?ns:Qr;Os[ko]>vs[ko]&&(Xs=Cn(Xs));var Zo=Cn(Xs),na=[];if(Xn&&na.push(Io[Ao]<=0),mr&&na.push(Io[Xs]<=0,Io[Zo]<=0),na.every(function(Ws){return Ws})){Us=_i,Vs=!1;break}ks.set(_i,na)}if(Vs)for(var tu=function(Ws){var ho=Rs.find(function(Do){var Il=ks.get(Do);if(Il)return Il.slice(0,Ws).every(function(Fu){return Fu})});if(ho)return Us=ho,"break"},so=ds?3:1;so>0&&tu(so)!=="break";so--);St.placement!==Us&&(St.modifiersData[mn]._skip=!0,St.placement=Us,St.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function $r(an,St,Bt){return Bt===void 0&&(Bt={x:0,y:0}),{top:an.top-St.height-Bt.y,right:an.right-St.width+Bt.x,bottom:an.bottom-St.height+Bt.y,left:an.left-St.width-Bt.x}}function Ur(an){return[Qr,Ts,ns,ls].some(function(St){return an[St]>=0})}const Wr={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(an){var St=an.state,Bt=an.name,mn=St.rects.reference,zn=St.rects.popper,Xn=St.modifiersData.preventOverflow,or=cr(St,{elementContext:"reference"}),mr=cr(St,{altBoundary:!0}),kr=$r(or,mn),Hr=$r(mr,zn,Xn),Kr=Ur(kr),Vr=Ur(Hr);St.modifiersData[Bt]={referenceClippingOffsets:kr,popperEscapeOffsets:Hr,isReferenceHidden:Kr,hasPopperEscaped:Vr},St.attributes.popper=Object.assign({},St.attributes.popper,{"data-popper-reference-hidden":Kr,"data-popper-escaped":Vr})}},Nr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(an){var St=an.state,Bt=an.options,mn=an.name,zn=Bt.offset,Xn=zn===void 0?[0,0]:zn,or=_o.reduce(function(Kr,Vr){return Kr[Vr]=function(gs,is,ds){var as=io(gs),hs=[ls,Qr].indexOf(as)>=0?-1:1,Bs=typeof ds=="function"?ds(Object.assign({},is,{placement:gs})):ds,qs=Bs[0],Rs=Bs[1];return qs=qs||0,Rs=(Rs||0)*hs,[ls,Ts].indexOf(as)>=0?{x:Rs,y:qs}:{x:qs,y:Rs}}(Vr,St.rects,Xn),Kr},{}),mr=or[St.placement],kr=mr.x,Hr=mr.y;St.modifiersData.popperOffsets!=null&&(St.modifiersData.popperOffsets.x+=kr,St.modifiersData.popperOffsets.y+=Hr),St.modifiersData[mn]=or}},Jr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(an){var St=an.state,Bt=an.name;St.modifiersData[Bt]=xr({reference:St.rects.reference,element:St.rects.popper,strategy:"absolute",placement:St.placement})},data:{}},qr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(an){var St=an.state,Bt=an.options,mn=an.name,zn=Bt.mainAxis,Xn=zn===void 0||zn,or=Bt.altAxis,mr=or!==void 0&&or,kr=Bt.boundary,Hr=Bt.rootBoundary,Kr=Bt.altBoundary,Vr=Bt.padding,gs=Bt.tether,is=gs===void 0||gs,ds=Bt.tetherOffset,as=ds===void 0?0:ds,hs=cr(St,{boundary:kr,rootBoundary:Hr,padding:Vr,altBoundary:Kr}),Bs=io(St.placement),qs=Yo(St.placement),Rs=!qs,Os=Go(Bs),vs=Os==="x"?"y":"x",ks=St.modifiersData.popperOffsets,Vs=St.rects.reference,Us=St.rects.popper,$s=typeof as=="function"?as(Object.assign({},St.rects,{placement:St.placement})):as,_i=typeof $s=="number"?{mainAxis:$s,altAxis:$s}:Object.assign({mainAxis:0,altAxis:0},$s),Ao=St.modifiersData.offset?St.modifiersData.offset[St.placement]:null,Uo={x:0,y:0};if(ks){if(Xn){var uo,ko=Os==="y"?Qr:ls,Io=Os==="y"?ns:Ts,Xs=Os==="y"?"height":"width",Zo=ks[Os],na=Zo+hs[ko],tu=Zo-hs[Io],so=is?-Us[Xs]/2:0,Ws=qs===Js?Vs[Xs]:Us[Xs],ho=qs===Js?-Us[Xs]:-Vs[Xs],Do=St.elements.arrow,Il=is&&Do?xa(Do):{width:0,height:0},Fu=St.modifiersData["arrow#persistent"]?St.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},lm=Fu[ko],cm=Fu[Io],Vu=Ko(0,Vs[Xs],Il[Xs]),j0=Rs?Vs[Xs]/2-so-Vu-lm-_i.mainAxis:Ws-Vu-lm-_i.mainAxis,N0=Rs?-Vs[Xs]/2+so+Vu+cm+_i.mainAxis:ho+Vu+cm+_i.mainAxis,fp=St.elements.arrow&&no(St.elements.arrow),M0=fp?Os==="y"?fp.clientTop||0:fp.clientLeft||0:0,um=(uo=Ao==null?void 0:Ao[Os])!=null?uo:0,O0=Zo+N0-um,dm=Ko(is?Oo(na,Zo+j0-um-M0):na,Zo,is?yo(tu,O0):tu);ks[Os]=dm,Uo[Os]=dm-Zo}if(mr){var hm,L0=Os==="x"?Qr:ls,F0=Os==="x"?ns:Ts,Bl=ks[vs],$u=vs==="y"?"height":"width",fm=Bl+hs[L0],pm=Bl-hs[F0],pp=[Qr,ls].indexOf(Bs)!==-1,mm=(hm=Ao==null?void 0:Ao[vs])!=null?hm:0,gm=pp?fm:Bl-Vs[$u]-Us[$u]-mm+_i.altAxis,ym=pp?Bl+Vs[$u]+Us[$u]-mm-_i.altAxis:pm,xm=is&&pp?function(V0,$0,mp){var bm=Ko(V0,$0,mp);return bm>mp?mp:bm}(gm,Bl,ym):Ko(is?gm:fm,Bl,is?ym:pm);ks[vs]=xm,Uo[vs]=xm-Bl}St.modifiersData[mn]=Uo}},requiresIfExists:["offset"]};function ys(an,St,Bt){Bt===void 0&&(Bt=!1);var mn,zn,Xn=oo(St),or=oo(St)&&function(Vr){var gs=Vr.getBoundingClientRect(),is=Is(gs.width)/Vr.offsetWidth||1,ds=Is(gs.height)/Vr.offsetHeight||1;return is!==1||ds!==1}(St),mr=Co(St),kr=xo(an,or,Bt),Hr={scrollLeft:0,scrollTop:0},Kr={x:0,y:0};return(Xn||!Xn&&!Bt)&&((mo(St)!=="body"||Nn(mr))&&(Hr=(mn=St)!==to(mn)&&oo(mn)?{scrollLeft:(zn=mn).scrollLeft,scrollTop:zn.scrollTop}:Fn(mn)),oo(St)?((Kr=xo(St,!0)).x+=St.clientLeft,Kr.y+=St.clientTop):mr&&(Kr.x=Tn(mr))),{x:kr.left+Hr.scrollLeft-Kr.x,y:kr.top+Hr.scrollTop-Kr.y,width:kr.width,height:kr.height}}function cs(an){var St=new Map,Bt=new Set,mn=[];function zn(Xn){Bt.add(Xn.name),[].concat(Xn.requires||[],Xn.requiresIfExists||[]).forEach(function(or){if(!Bt.has(or)){var mr=St.get(or);mr&&zn(mr)}}),mn.push(Xn)}return an.forEach(function(Xn){St.set(Xn.name,Xn)}),an.forEach(function(Xn){Bt.has(Xn.name)||zn(Xn)}),mn}var xs={placement:"bottom",modifiers:[],strategy:"absolute"};function bs(){for(var an=arguments.length,St=new Array(an),Bt=0;Bt<an;Bt++)St[Bt]=arguments[Bt];return!St.some(function(mn){return!(mn&&typeof mn.getBoundingClientRect=="function")})}function us(an){an===void 0&&(an={});var St=an,Bt=St.defaultModifiers,mn=Bt===void 0?[]:Bt,zn=St.defaultOptions,Xn=zn===void 0?xs:zn;return function(or,mr,kr){kr===void 0&&(kr=Xn);var Hr,Kr,Vr={placement:"bottom",orderedModifiers:[],options:Object.assign({},xs,Xn),modifiersData:{},elements:{reference:or,popper:mr},attributes:{},styles:{}},gs=[],is=!1,ds={state:Vr,setOptions:function(hs){var Bs=typeof hs=="function"?hs(Vr.options):hs;as(),Vr.options=Object.assign({},Xn,Vr.options,Bs),Vr.scrollParents={reference:So(or)?ar(or):or.contextElement?ar(or.contextElement):[],popper:ar(mr)};var qs,Rs,Os=function(vs){var ks=cs(vs);return Wl.reduce(function(Vs,Us){return Vs.concat(ks.filter(function($s){return $s.phase===Us}))},[])}((qs=[].concat(mn,Vr.options.modifiers),Rs=qs.reduce(function(vs,ks){var Vs=vs[ks.name];return vs[ks.name]=Vs?Object.assign({},Vs,ks,{options:Object.assign({},Vs.options,ks.options),data:Object.assign({},Vs.data,ks.data)}):ks,vs},{}),Object.keys(Rs).map(function(vs){return Rs[vs]})));return Vr.orderedModifiers=Os.filter(function(vs){return vs.enabled}),Vr.orderedModifiers.forEach(function(vs){var ks=vs.name,Vs=vs.options,Us=Vs===void 0?{}:Vs,$s=vs.effect;if(typeof $s=="function"){var _i=$s({state:Vr,name:ks,instance:ds,options:Us});gs.push(_i||function(){})}}),ds.update()},forceUpdate:function(){if(!is){var hs=Vr.elements,Bs=hs.reference,qs=hs.popper;if(bs(Bs,qs)){Vr.rects={reference:ys(Bs,no(qs),Vr.options.strategy==="fixed"),popper:xa(qs)},Vr.reset=!1,Vr.placement=Vr.options.placement,Vr.orderedModifiers.forEach(function($s){return Vr.modifiersData[$s.name]=Object.assign({},$s.data)});for(var Rs=0;Rs<Vr.orderedModifiers.length;Rs++)if(Vr.reset!==!0){var Os=Vr.orderedModifiers[Rs],vs=Os.fn,ks=Os.options,Vs=ks===void 0?{}:ks,Us=Os.name;typeof vs=="function"&&(Vr=vs({state:Vr,options:Vs,name:Us,instance:ds})||Vr)}else Vr.reset=!1,Rs=-1}}},update:(Hr=function(){return new Promise(function(hs){ds.forceUpdate(),hs(Vr)})},function(){return Kr||(Kr=new Promise(function(hs){Promise.resolve().then(function(){Kr=void 0,hs(Hr())})})),Kr}),destroy:function(){as(),is=!0}};if(!bs(or,mr))return ds;function as(){gs.forEach(function(hs){return hs()}),gs=[]}return ds.setOptions(kr).then(function(hs){!is&&kr.onFirstUpdate&&kr.onFirstUpdate(hs)}),ds}}var Hs=us(),Ds=us({defaultModifiers:[bn,Jr,Ht,ao]}),Ls=us({defaultModifiers:[bn,Jr,Ht,ao,Nr,es,qr,Al,Wr]});const Ns=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ga,afterRead:Dl,afterWrite:Nl,applyStyles:ao,arrow:Al,auto:eo,basePlacements:Qs,beforeMain:zo,beforeRead:El,beforeWrite:Rl,bottom:ns,clippingParents:Hl,computeStyles:Ht,createPopper:Ls,createPopperBase:Hs,createPopperLite:Ds,detectOverflow:cr,end:fo,eventListeners:bn,flip:es,hide:Wr,left:ls,main:wl,modifierPhases:Wl,offset:Nr,placements:_o,popper:po,popperGenerator:us,popperOffsets:Jr,preventOverflow:qr,read:zl,reference:_l,right:Ts,start:Js,top:Qr,variationPlacements:No,viewport:Ho,write:Mo},Symbol.toStringTag,{value:"Module"})),Fs="dropdown",Ss=".bs.dropdown",Ms=".data-api",Ks="ArrowUp",Zs="ArrowDown",lo=`hide${Ss}`,Gs=`hidden${Ss}`,ro=`show${Ss}`,bo=`shown${Ss}`,Gr=`click${Ss}${Ms}`,Dr=`keydown${Ss}${Ms}`,Lr=`keyup${Ss}${Ms}`,Mr="show",Cr='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',vt=`${Cr}.${Mr}`,Lt=".dropdown-menu",Ut=Rt()?"top-end":"top-start",ln=Rt()?"top-start":"top-end",Mn=Rt()?"bottom-end":"bottom-start",Yn=Rt()?"bottom-start":"bottom-end",ur=Rt()?"left-start":"right-start",ts=Rt()?"right-start":"left-start",_s={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},os={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class jr extends Zt{constructor(St,Bt){super(St,Bt),this._popper=null,this._parent=this._element.parentNode,this._menu=Yt.next(this._element,Lt)[0]||Yt.prev(this._element,Lt)[0]||Yt.findOne(Lt,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return _s}static get DefaultType(){return os}static get NAME(){return Fs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(mt(this._element)||this._isShown())return;const St={relatedTarget:this._element};if(!Wt.trigger(this._element,ro,St).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Bt of[].concat(...document.body.children))Wt.on(Bt,"mouseover",yt);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Mr),this._element.classList.add(Mr),Wt.trigger(this._element,bo,St)}}hide(){if(mt(this._element)||!this._isShown())return;const St={relatedTarget:this._element};this._completeHide(St)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(St){if(!Wt.trigger(this._element,lo,St).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Bt of[].concat(...document.body.children))Wt.off(Bt,"mouseover",yt);this._popper&&this._popper.destroy(),this._menu.classList.remove(Mr),this._element.classList.remove(Mr),this._element.setAttribute("aria-expanded","false"),$t.removeDataAttribute(this._menu,"popper"),Wt.trigger(this._element,Gs,St)}}_getConfig(St){if(typeof(St=super._getConfig(St)).reference=="object"&&!ht(St.reference)&&typeof St.reference.getBoundingClientRect!="function")throw new TypeError(`${Fs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return St}_createPopper(){if(Ns===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let St=this._element;this._config.reference==="parent"?St=this._parent:ht(this._config.reference)?St=ft(this._config.reference):typeof this._config.reference=="object"&&(St=this._config.reference);const Bt=this._getPopperConfig();this._popper=Ls(St,this._menu,Bt)}_isShown(){return this._menu.classList.contains(Mr)}_getPlacement(){const St=this._parent;if(St.classList.contains("dropend"))return ur;if(St.classList.contains("dropstart"))return ts;if(St.classList.contains("dropup-center"))return"top";if(St.classList.contains("dropdown-center"))return"bottom";const Bt=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return St.classList.contains("dropup")?Bt?ln:Ut:Bt?Yn:Mn}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:St}=this._config;return typeof St=="string"?St.split(",").map(Bt=>Number.parseInt(Bt,10)):typeof St=="function"?Bt=>St(Bt,this._element):St}_getPopperConfig(){const St={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&($t.setDataAttribute(this._menu,"popper","static"),St.modifiers=[{name:"applyStyles",enabled:!1}]),{...St,..._t(this._config.popperConfig,[St])}}_selectMenuItem({key:St,target:Bt}){const mn=Yt.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(zn=>pt(zn));mn.length&&kt(mn,Bt,St===Zs,!mn.includes(Bt)).focus()}static jQueryInterface(St){return this.each(function(){const Bt=jr.getOrCreateInstance(this,St);if(typeof St=="string"){if(Bt[St]===void 0)throw new TypeError(`No method named "${St}"`);Bt[St]()}})}static clearMenus(St){if(St.button===2||St.type==="keyup"&&St.key!=="Tab")return;const Bt=Yt.find(vt);for(const mn of Bt){const zn=jr.getInstance(mn);if(!zn||zn._config.autoClose===!1)continue;const Xn=St.composedPath(),or=Xn.includes(zn._menu);if(Xn.includes(zn._element)||zn._config.autoClose==="inside"&&!or||zn._config.autoClose==="outside"&&or||zn._menu.contains(St.target)&&(St.type==="keyup"&&St.key==="Tab"||/input|select|option|textarea|form/i.test(St.target.tagName)))continue;const mr={relatedTarget:zn._element};St.type==="click"&&(mr.clickEvent=St),zn._completeHide(mr)}}static dataApiKeydownHandler(St){const Bt=/input|textarea/i.test(St.target.tagName),mn=St.key==="Escape",zn=[Ks,Zs].includes(St.key);if(!zn&&!mn||Bt&&!mn)return;St.preventDefault();const Xn=this.matches(Cr)?this:Yt.prev(this,Cr)[0]||Yt.next(this,Cr)[0]||Yt.findOne(Cr,St.delegateTarget.parentNode),or=jr.getOrCreateInstance(Xn);if(zn)return St.stopPropagation(),or.show(),void or._selectMenuItem(St);or._isShown()&&(St.stopPropagation(),or.hide(),Xn.focus())}}Wt.on(document,Dr,Cr,jr.dataApiKeydownHandler),Wt.on(document,Dr,Lt,jr.dataApiKeydownHandler),Wt.on(document,Gr,jr.clearMenus),Wt.on(document,Lr,jr.clearMenus),Wt.on(document,Gr,Cr,function(an){an.preventDefault(),jr.getOrCreateInstance(this).toggle()}),wt(jr);const Es="backdrop",ws="show",ps=`mousedown.bs.${Es}`,zs={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},As={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Vo extends Xt{constructor(St){super(),this._config=this._getConfig(St),this._isAppended=!1,this._element=null}static get Default(){return zs}static get DefaultType(){return As}static get NAME(){return Es}show(St){if(!this._config.isVisible)return void _t(St);this._append();const Bt=this._getElement();this._config.isAnimated&&xt(Bt),Bt.classList.add(ws),this._emulateAnimation(()=>{_t(St)})}hide(St){this._config.isVisible?(this._getElement().classList.remove(ws),this._emulateAnimation(()=>{this.dispose(),_t(St)})):_t(St)}dispose(){this._isAppended&&(Wt.off(this._element,ps),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const St=document.createElement("div");St.className=this._config.className,this._config.isAnimated&&St.classList.add("fade"),this._element=St}return this._element}_configAfterMerge(St){return St.rootElement=ft(St.rootElement),St}_append(){if(this._isAppended)return;const St=this._getElement();this._config.rootElement.append(St),Wt.on(St,ps,()=>{_t(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(St){At(St,this._getElement(),this._config.isAnimated)}}const $o=".bs.focustrap",Gl=`focusin${$o}`,_a=`keydown.tab${$o}`,Sl="backward",_h={autofocus:!0,trapElement:null},co={autofocus:"boolean",trapElement:"element"};class lu extends Xt{constructor(St){super(),this._config=this._getConfig(St),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _h}static get DefaultType(){return co}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Wt.off(document,$o),Wt.on(document,Gl,St=>this._handleFocusin(St)),Wt.on(document,_a,St=>this._handleKeydown(St)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Wt.off(document,$o))}_handleFocusin(St){const{trapElement:Bt}=this._config;if(St.target===document||St.target===Bt||Bt.contains(St.target))return;const mn=Yt.focusableChildren(Bt);mn.length===0?Bt.focus():this._lastTabNavDirection===Sl?mn[mn.length-1].focus():mn[0].focus()}_handleKeydown(St){St.key==="Tab"&&(this._lastTabNavDirection=St.shiftKey?Sl:"forward")}}const Au=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",js=".sticky-top",Kl="padding-right",Bo="margin-right";class cu{constructor(){this._element=document.body}getWidth(){const St=document.documentElement.clientWidth;return Math.abs(window.innerWidth-St)}hide(){const St=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Kl,Bt=>Bt+St),this._setElementAttributes(Au,Kl,Bt=>Bt+St),this._setElementAttributes(js,Bo,Bt=>Bt-St)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Kl),this._resetElementAttributes(Au,Kl),this._resetElementAttributes(js,Bo)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(St,Bt,mn){const zn=this.getWidth();this._applyManipulationCallback(St,Xn=>{if(Xn!==this._element&&window.innerWidth>Xn.clientWidth+zn)return;this._saveInitialAttribute(Xn,Bt);const or=window.getComputedStyle(Xn).getPropertyValue(Bt);Xn.style.setProperty(Bt,`${mn(Number.parseFloat(or))}px`)})}_saveInitialAttribute(St,Bt){const mn=St.style.getPropertyValue(Bt);mn&&$t.setDataAttribute(St,Bt,mn)}_resetElementAttributes(St,Bt){this._applyManipulationCallback(St,mn=>{const zn=$t.getDataAttribute(mn,Bt);zn!==null?($t.removeDataAttribute(mn,Bt),mn.style.setProperty(Bt,zn)):mn.style.removeProperty(Bt)})}_applyManipulationCallback(St,Bt){if(ht(St))Bt(St);else for(const mn of Yt.find(St,this._element))Bt(mn)}}const vo=".bs.modal",_f=`hide${vo}`,uu=`hidePrevented${vo}`,du=`hidden${vo}`,Su=`show${vo}`,ep=`shown${vo}`,tp=`resize${vo}`,Xo=`click.dismiss${vo}`,np=`mousedown.dismiss${vo}`,Cu=`keydown.dismiss${vo}`,Pu=`click${vo}.data-api`,Yl="modal-open",hu="show",Xl="modal-static",$a={backdrop:!0,focus:!0,keyboard:!0},rp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class yl extends Zt{constructor(St,Bt){super(St,Bt),this._dialog=Yt.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new cu,this._addEventListeners()}static get Default(){return $a}static get DefaultType(){return rp}static get NAME(){return"modal"}toggle(St){return this._isShown?this.hide():this.show(St)}show(St){this._isShown||this._isTransitioning||Wt.trigger(this._element,Su,{relatedTarget:St}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Yl),this._adjustDialog(),this._backdrop.show(()=>this._showElement(St)))}hide(){this._isShown&&!this._isTransitioning&&(Wt.trigger(this._element,_f).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(hu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){Wt.off(window,vo),Wt.off(this._dialog,vo),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Vo({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new lu({trapElement:this._element})}_showElement(St){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Bt=Yt.findOne(".modal-body",this._dialog);Bt&&(Bt.scrollTop=0),xt(this._element),this._element.classList.add(hu),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Wt.trigger(this._element,ep,{relatedTarget:St})},this._dialog,this._isAnimated())}_addEventListeners(){Wt.on(this._element,Cu,St=>{St.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),Wt.on(window,tp,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Wt.on(this._element,np,St=>{Wt.one(this._element,Xo,Bt=>{this._element===St.target&&this._element===Bt.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Yl),this._resetAdjustments(),this._scrollBar.reset(),Wt.trigger(this._element,du)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Wt.trigger(this._element,uu).defaultPrevented)return;const St=this._element.scrollHeight>document.documentElement.clientHeight,Bt=this._element.style.overflowY;Bt==="hidden"||this._element.classList.contains(Xl)||(St||(this._element.style.overflowY="hidden"),this._element.classList.add(Xl),this._queueCallback(()=>{this._element.classList.remove(Xl),this._queueCallback(()=>{this._element.style.overflowY=Bt},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const St=this._element.scrollHeight>document.documentElement.clientHeight,Bt=this._scrollBar.getWidth(),mn=Bt>0;if(mn&&!St){const zn=Rt()?"paddingLeft":"paddingRight";this._element.style[zn]=`${Bt}px`}if(!mn&&St){const zn=Rt()?"paddingRight":"paddingLeft";this._element.style[zn]=`${Bt}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(St,Bt){return this.each(function(){const mn=yl.getOrCreateInstance(this,St);if(typeof St=="string"){if(mn[St]===void 0)throw new TypeError(`No method named "${St}"`);mn[St](Bt)}})}}Wt.on(document,Pu,'[data-bs-toggle="modal"]',function(an){const St=Yt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&an.preventDefault(),Wt.one(St,Su,mn=>{mn.defaultPrevented||Wt.one(St,du,()=>{pt(this)&&this.focus()})});const Bt=Yt.findOne(".modal.show");Bt&&yl.getInstance(Bt).hide(),yl.getOrCreateInstance(St).toggle(this)}),gn(yl),wt(yl);const Ro=".bs.offcanvas",Ql=".data-api",fu=`load${Ro}${Ql}`,pu="show",ku="showing",Jl="hiding",Iu=".offcanvas.show",sp=`show${Ro}`,Du=`shown${Ro}`,fr=`hide${Ro}`,rs=`hidePrevented${Ro}`,fs=`hidden${Ro}`,Ps=`resize${Ro}`,Cs=`click${Ro}${Ql}`,ms=`keydown.dismiss${Ro}`,Ys={backdrop:!0,keyboard:!0,scroll:!1},Qo={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class To extends Zt{constructor(St,Bt){super(St,Bt),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Ys}static get DefaultType(){return Qo}static get NAME(){return"offcanvas"}toggle(St){return this._isShown?this.hide():this.show(St)}show(St){this._isShown||Wt.trigger(this._element,sp,{relatedTarget:St}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new cu().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ku),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(pu),this._element.classList.remove(ku),Wt.trigger(this._element,Du,{relatedTarget:St})},this._element,!0))}hide(){this._isShown&&(Wt.trigger(this._element,fr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Jl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(pu,Jl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new cu().reset(),Wt.trigger(this._element,fs)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const St=!!this._config.backdrop;return new Vo({className:"offcanvas-backdrop",isVisible:St,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:St?()=>{this._config.backdrop!=="static"?this.hide():Wt.trigger(this._element,rs)}:null})}_initializeFocusTrap(){return new lu({trapElement:this._element})}_addEventListeners(){Wt.on(this._element,ms,St=>{St.key==="Escape"&&(this._config.keyboard?this.hide():Wt.trigger(this._element,rs))})}static jQueryInterface(St){return this.each(function(){const Bt=To.getOrCreateInstance(this,St);if(typeof St=="string"){if(Bt[St]===void 0||St.startsWith("_")||St==="constructor")throw new TypeError(`No method named "${St}"`);Bt[St](this)}})}}Wt.on(document,Cs,'[data-bs-toggle="offcanvas"]',function(an){const St=Yt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&an.preventDefault(),mt(this))return;Wt.one(St,fs,()=>{pt(this)&&this.focus()});const Bt=Yt.findOne(Iu);Bt&&Bt!==St&&To.getInstance(Bt).hide(),To.getOrCreateInstance(St).toggle(this)}),Wt.on(window,fu,()=>{for(const an of Yt.find(Iu))To.getOrCreateInstance(an).show()}),Wt.on(window,Ps,()=>{for(const an of Yt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(an).position!=="fixed"&&To.getOrCreateInstance(an).hide()}),gn(To),wt(To);const Ol={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Jo=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Zl=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ju=(an,St)=>{const Bt=an.nodeName.toLowerCase();return St.includes(Bt)?!Jo.has(Bt)||!!Zl.test(an.nodeValue):St.filter(mn=>mn instanceof RegExp).some(mn=>mn.test(Bt))},_c={allowList:Ol,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Cl={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},e0={entry:"(string|element|function|null)",selector:"(string|element)"};class t0 extends Xt{constructor(St){super(),this._config=this._getConfig(St)}static get Default(){return _c}static get DefaultType(){return Cl}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(St=>this._resolvePossibleFunction(St)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(St){return this._checkContent(St),this._config.content={...this._config.content,...St},this}toHtml(){const St=document.createElement("div");St.innerHTML=this._maybeSanitize(this._config.template);for(const[zn,Xn]of Object.entries(this._config.content))this._setContent(St,Xn,zn);const Bt=St.children[0],mn=this._resolvePossibleFunction(this._config.extraClass);return mn&&Bt.classList.add(...mn.split(" ")),Bt}_typeCheckConfig(St){super._typeCheckConfig(St),this._checkContent(St.content)}_checkContent(St){for(const[Bt,mn]of Object.entries(St))super._typeCheckConfig({selector:Bt,entry:mn},e0)}_setContent(St,Bt,mn){const zn=Yt.findOne(mn,St);zn&&((Bt=this._resolvePossibleFunction(Bt))?ht(Bt)?this._putElementInTemplate(ft(Bt),zn):this._config.html?zn.innerHTML=this._maybeSanitize(Bt):zn.textContent=Bt:zn.remove())}_maybeSanitize(St){return this._config.sanitize?function(Bt,mn,zn){if(!Bt.length)return Bt;if(zn&&typeof zn=="function")return zn(Bt);const Xn=new window.DOMParser().parseFromString(Bt,"text/html"),or=[].concat(...Xn.body.querySelectorAll("*"));for(const mr of or){const kr=mr.nodeName.toLowerCase();if(!Object.keys(mn).includes(kr)){mr.remove();continue}const Hr=[].concat(...mr.attributes),Kr=[].concat(mn["*"]||[],mn[kr]||[]);for(const Vr of Hr)ju(Vr,Kr)||mr.removeAttribute(Vr.nodeName)}return Xn.body.innerHTML}(St,this._config.allowList,this._config.sanitizeFn):St}_resolvePossibleFunction(St){return _t(St,[this])}_putElementInTemplate(St,Bt){if(this._config.html)return Bt.innerHTML="",void Bt.append(St);Bt.textContent=St.textContent}}const n0=new Set(["sanitize","allowList","sanitizeFn"]),ip="fade",Nu="show",Qp=".modal",Jp="hide.bs.modal",mu="hover",op="focus",r0={AUTO:"auto",TOP:"top",RIGHT:Rt()?"left":"right",BOTTOM:"bottom",LEFT:Rt()?"right":"left"},s0={allowList:Ol,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},i0={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ll extends Zt{constructor(St,Bt){if(Ns===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(St,Bt),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return s0}static get DefaultType(){return i0}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Wt.off(this._element.closest(Qp),Jp,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const St=Wt.trigger(this._element,this.constructor.eventName("show")),Bt=(gt(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(St.defaultPrevented||!Bt)return;this._disposePopper();const mn=this._getTipElement();this._element.setAttribute("aria-describedby",mn.getAttribute("id"));const{container:zn}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(zn.append(mn),Wt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(mn),mn.classList.add(Nu),"ontouchstart"in document.documentElement)for(const Xn of[].concat(...document.body.children))Wt.on(Xn,"mouseover",yt);this._queueCallback(()=>{Wt.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!Wt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Nu),"ontouchstart"in document.documentElement)for(const St of[].concat(...document.body.children))Wt.off(St,"mouseover",yt);this._activeTrigger.click=!1,this._activeTrigger[op]=!1,this._activeTrigger[mu]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Wt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(St){const Bt=this._getTemplateFactory(St).toHtml();if(!Bt)return null;Bt.classList.remove(ip,Nu),Bt.classList.add(`bs-${this.constructor.NAME}-auto`);const mn=(zn=>{do zn+=Math.floor(1e6*Math.random());while(document.getElementById(zn));return zn})(this.constructor.NAME).toString();return Bt.setAttribute("id",mn),this._isAnimated()&&Bt.classList.add(ip),Bt}setContent(St){this._newContent=St,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(St){return this._templateFactory?this._templateFactory.changeContent(St):this._templateFactory=new t0({...this._config,content:St,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(St){return this.constructor.getOrCreateInstance(St.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ip)}_isShown(){return this.tip&&this.tip.classList.contains(Nu)}_createPopper(St){const Bt=_t(this._config.placement,[this,St,this._element]),mn=r0[Bt.toUpperCase()];return Ls(this._element,St,this._getPopperConfig(mn))}_getOffset(){const{offset:St}=this._config;return typeof St=="string"?St.split(",").map(Bt=>Number.parseInt(Bt,10)):typeof St=="function"?Bt=>St(Bt,this._element):St}_resolvePossibleFunction(St){return _t(St,[this._element])}_getPopperConfig(St){const Bt={placement:St,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:mn=>{this._getTipElement().setAttribute("data-popper-placement",mn.state.placement)}}]};return{...Bt,..._t(this._config.popperConfig,[Bt])}}_setListeners(){const St=this._config.trigger.split(" ");for(const Bt of St)if(Bt==="click")Wt.on(this._element,this.constructor.eventName("click"),this._config.selector,mn=>{this._initializeOnDelegatedTarget(mn).toggle()});else if(Bt!=="manual"){const mn=Bt===mu?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),zn=Bt===mu?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Wt.on(this._element,mn,this._config.selector,Xn=>{const or=this._initializeOnDelegatedTarget(Xn);or._activeTrigger[Xn.type==="focusin"?op:mu]=!0,or._enter()}),Wt.on(this._element,zn,this._config.selector,Xn=>{const or=this._initializeOnDelegatedTarget(Xn);or._activeTrigger[Xn.type==="focusout"?op:mu]=or._element.contains(Xn.relatedTarget),or._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Wt.on(this._element.closest(Qp),Jp,this._hideModalHandler)}_fixTitle(){const St=this._element.getAttribute("title");St&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",St),this._element.setAttribute("data-bs-original-title",St),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(St,Bt){clearTimeout(this._timeout),this._timeout=setTimeout(St,Bt)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(St){const Bt=$t.getDataAttributes(this._element);for(const mn of Object.keys(Bt))n0.has(mn)&&delete Bt[mn];return St={...Bt,...typeof St=="object"&&St?St:{}},St=this._mergeConfigObj(St),St=this._configAfterMerge(St),this._typeCheckConfig(St),St}_configAfterMerge(St){return St.container=St.container===!1?document.body:ft(St.container),typeof St.delay=="number"&&(St.delay={show:St.delay,hide:St.delay}),typeof St.title=="number"&&(St.title=St.title.toString()),typeof St.content=="number"&&(St.content=St.content.toString()),St}_getDelegateConfig(){const St={};for(const[Bt,mn]of Object.entries(this._config))this.constructor.Default[Bt]!==mn&&(St[Bt]=mn);return St.selector=!1,St.trigger="manual",St}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(St){return this.each(function(){const Bt=Ll.getOrCreateInstance(this,St);if(typeof St=="string"){if(Bt[St]===void 0)throw new TypeError(`No method named "${St}"`);Bt[St]()}})}}wt(Ll);const o0={...Ll.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},a0={...Ll.DefaultType,content:"(null|string|element|function)"};class Mu extends Ll{static get Default(){return o0}static get DefaultType(){return a0}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(St){return this.each(function(){const Bt=Mu.getOrCreateInstance(this,St);if(typeof St=="string"){if(Bt[St]===void 0)throw new TypeError(`No method named "${St}"`);Bt[St]()}})}}wt(Mu);const ap=".bs.scrollspy",l0=`activate${ap}`,Zp=`click${ap}`,c0=`load${ap}.data-api`,eu="active",lp="[href]",em=".nav-link",u0=`${em}, .nav-item > ${em}, .list-group-item`,d0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},h0={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class gu extends Zt{constructor(St,Bt){super(St,Bt),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return d0}static get DefaultType(){return h0}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const St of this._observableSections.values())this._observer.observe(St)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(St){return St.target=ft(St.target)||document.body,St.rootMargin=St.offset?`${St.offset}px 0px -30%`:St.rootMargin,typeof St.threshold=="string"&&(St.threshold=St.threshold.split(",").map(Bt=>Number.parseFloat(Bt))),St}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Wt.off(this._config.target,Zp),Wt.on(this._config.target,Zp,lp,St=>{const Bt=this._observableSections.get(St.target.hash);if(Bt){St.preventDefault();const mn=this._rootElement||window,zn=Bt.offsetTop-this._element.offsetTop;if(mn.scrollTo)return void mn.scrollTo({top:zn,behavior:"smooth"});mn.scrollTop=zn}}))}_getNewObserver(){const St={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Bt=>this._observerCallback(Bt),St)}_observerCallback(St){const Bt=or=>this._targetLinks.get(`#${or.target.id}`),mn=or=>{this._previousScrollData.visibleEntryTop=or.target.offsetTop,this._process(Bt(or))},zn=(this._rootElement||document.documentElement).scrollTop,Xn=zn>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=zn;for(const or of St){if(!or.isIntersecting){this._activeTarget=null,this._clearActiveClass(Bt(or));continue}const mr=or.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Xn&&mr){if(mn(or),!zn)return}else Xn||mr||mn(or)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const St=Yt.find(lp,this._config.target);for(const Bt of St){if(!Bt.hash||mt(Bt))continue;const mn=Yt.findOne(decodeURI(Bt.hash),this._element);pt(mn)&&(this._targetLinks.set(decodeURI(Bt.hash),Bt),this._observableSections.set(Bt.hash,mn))}}_process(St){this._activeTarget!==St&&(this._clearActiveClass(this._config.target),this._activeTarget=St,St.classList.add(eu),this._activateParents(St),Wt.trigger(this._element,l0,{relatedTarget:St}))}_activateParents(St){if(St.classList.contains("dropdown-item"))Yt.findOne(".dropdown-toggle",St.closest(".dropdown")).classList.add(eu);else for(const Bt of Yt.parents(St,".nav, .list-group"))for(const mn of Yt.prev(Bt,u0))mn.classList.add(eu)}_clearActiveClass(St){St.classList.remove(eu);const Bt=Yt.find(`${lp}.${eu}`,St);for(const mn of Bt)mn.classList.remove(eu)}static jQueryInterface(St){return this.each(function(){const Bt=gu.getOrCreateInstance(this,St);if(typeof St=="string"){if(Bt[St]===void 0||St.startsWith("_")||St==="constructor")throw new TypeError(`No method named "${St}"`);Bt[St]()}})}}Wt.on(window,c0,()=>{for(const an of Yt.find('[data-bs-spy="scroll"]'))gu.getOrCreateInstance(an)}),wt(gu);const Fl=".bs.tab",f0=`hide${Fl}`,p0=`hidden${Fl}`,m0=`show${Fl}`,g0=`shown${Fl}`,y0=`click${Fl}`,x0=`keydown${Fl}`,b0=`load${Fl}`,v0="ArrowLeft",tm="ArrowRight",_0="ArrowUp",nm="ArrowDown",cp="Home",rm="End",Vl="active",sm="fade",up="show",im=".dropdown-toggle",dp=`:not(${im})`,om='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',hp=`.nav-link${dp}, .list-group-item${dp}, [role="tab"]${dp}, ${om}`,E0=`.${Vl}[data-bs-toggle="tab"], .${Vl}[data-bs-toggle="pill"], .${Vl}[data-bs-toggle="list"]`;class $l extends Zt{constructor(St){super(St),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Wt.on(this._element,x0,Bt=>this._keydown(Bt)))}static get NAME(){return"tab"}show(){const St=this._element;if(this._elemIsActive(St))return;const Bt=this._getActiveElem(),mn=Bt?Wt.trigger(Bt,f0,{relatedTarget:St}):null;Wt.trigger(St,m0,{relatedTarget:Bt}).defaultPrevented||mn&&mn.defaultPrevented||(this._deactivate(Bt,St),this._activate(St,Bt))}_activate(St,Bt){St&&(St.classList.add(Vl),this._activate(Yt.getElementFromSelector(St)),this._queueCallback(()=>{St.getAttribute("role")==="tab"?(St.removeAttribute("tabindex"),St.setAttribute("aria-selected",!0),this._toggleDropDown(St,!0),Wt.trigger(St,g0,{relatedTarget:Bt})):St.classList.add(up)},St,St.classList.contains(sm)))}_deactivate(St,Bt){St&&(St.classList.remove(Vl),St.blur(),this._deactivate(Yt.getElementFromSelector(St)),this._queueCallback(()=>{St.getAttribute("role")==="tab"?(St.setAttribute("aria-selected",!1),St.setAttribute("tabindex","-1"),this._toggleDropDown(St,!1),Wt.trigger(St,p0,{relatedTarget:Bt})):St.classList.remove(up)},St,St.classList.contains(sm)))}_keydown(St){if(![v0,tm,_0,nm,cp,rm].includes(St.key))return;St.stopPropagation(),St.preventDefault();const Bt=this._getChildren().filter(zn=>!mt(zn));let mn;if([cp,rm].includes(St.key))mn=Bt[St.key===cp?0:Bt.length-1];else{const zn=[tm,nm].includes(St.key);mn=kt(Bt,St.target,zn,!0)}mn&&(mn.focus({preventScroll:!0}),$l.getOrCreateInstance(mn).show())}_getChildren(){return Yt.find(hp,this._parent)}_getActiveElem(){return this._getChildren().find(St=>this._elemIsActive(St))||null}_setInitialAttributes(St,Bt){this._setAttributeIfNotExists(St,"role","tablist");for(const mn of Bt)this._setInitialAttributesOnChild(mn)}_setInitialAttributesOnChild(St){St=this._getInnerElement(St);const Bt=this._elemIsActive(St),mn=this._getOuterElement(St);St.setAttribute("aria-selected",Bt),mn!==St&&this._setAttributeIfNotExists(mn,"role","presentation"),Bt||St.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(St,"role","tab"),this._setInitialAttributesOnTargetPanel(St)}_setInitialAttributesOnTargetPanel(St){const Bt=Yt.getElementFromSelector(St);Bt&&(this._setAttributeIfNotExists(Bt,"role","tabpanel"),St.id&&this._setAttributeIfNotExists(Bt,"aria-labelledby",`${St.id}`))}_toggleDropDown(St,Bt){const mn=this._getOuterElement(St);if(!mn.classList.contains("dropdown"))return;const zn=(Xn,or)=>{const mr=Yt.findOne(Xn,mn);mr&&mr.classList.toggle(or,Bt)};zn(im,Vl),zn(".dropdown-menu",up),mn.setAttribute("aria-expanded",Bt)}_setAttributeIfNotExists(St,Bt,mn){St.hasAttribute(Bt)||St.setAttribute(Bt,mn)}_elemIsActive(St){return St.classList.contains(Vl)}_getInnerElement(St){return St.matches(hp)?St:Yt.findOne(hp,St)}_getOuterElement(St){return St.closest(".nav-item, .list-group-item")||St}static jQueryInterface(St){return this.each(function(){const Bt=$l.getOrCreateInstance(this);if(typeof St=="string"){if(Bt[St]===void 0||St.startsWith("_")||St==="constructor")throw new TypeError(`No method named "${St}"`);Bt[St]()}})}}Wt.on(document,y0,om,function(an){["A","AREA"].includes(this.tagName)&&an.preventDefault(),mt(this)||$l.getOrCreateInstance(this).show()}),Wt.on(window,b0,()=>{for(const an of Yt.find(E0))$l.getOrCreateInstance(an)}),wt($l);const Pl=".bs.toast",w0=`mouseover${Pl}`,R0=`mouseout${Pl}`,T0=`focusin${Pl}`,A0=`focusout${Pl}`,S0=`hide${Pl}`,C0=`hidden${Pl}`,P0=`show${Pl}`,k0=`shown${Pl}`,am="hide",Ou="show",Lu="showing",I0={animation:"boolean",autohide:"boolean",delay:"number"},D0={animation:!0,autohide:!0,delay:5e3};class yu extends Zt{constructor(St,Bt){super(St,Bt),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return D0}static get DefaultType(){return I0}static get NAME(){return"toast"}show(){Wt.trigger(this._element,P0).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(am),xt(this._element),this._element.classList.add(Ou,Lu),this._queueCallback(()=>{this._element.classList.remove(Lu),Wt.trigger(this._element,k0),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(Wt.trigger(this._element,S0).defaultPrevented||(this._element.classList.add(Lu),this._queueCallback(()=>{this._element.classList.add(am),this._element.classList.remove(Lu,Ou),Wt.trigger(this._element,C0)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ou),super.dispose()}isShown(){return this._element.classList.contains(Ou)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(St,Bt){switch(St.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Bt;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Bt}if(Bt)return void this._clearTimeout();const mn=St.relatedTarget;this._element===mn||this._element.contains(mn)||this._maybeScheduleHide()}_setListeners(){Wt.on(this._element,w0,St=>this._onInteraction(St,!0)),Wt.on(this._element,R0,St=>this._onInteraction(St,!1)),Wt.on(this._element,T0,St=>this._onInteraction(St,!0)),Wt.on(this._element,A0,St=>this._onInteraction(St,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(St){return this.each(function(){const Bt=yu.getOrCreateInstance(this,St);if(typeof St=="string"){if(Bt[St]===void 0)throw new TypeError(`No method named "${St}"`);Bt[St](this)}})}}return gn(yu),wt(yu),{Alert:Dn,Button:Kn,Carousel:yn,Collapse:Xr,Dropdown:jr,Modal:yl,Offcanvas:To,Popover:Mu,ScrollSpy:gu,Tab:$l,Toast:yu,Tooltip:Ll}})})(bootstrap_bundle_min);/*!
* sweetalert2 v11.14.1
* Released under the MIT License.
*/function _assertClassBrand(ot,rt,at){if(typeof ot=="function"?ot===rt:ot.has(rt))return arguments.length<3?rt:at;throw new TypeError("Private element is not present on this object")}function _checkPrivateRedeclaration(ot,rt){if(rt.has(ot))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _classPrivateFieldGet2(ot,rt){return ot.get(_assertClassBrand(ot,rt))}function _classPrivateFieldInitSpec(ot,rt,at){_checkPrivateRedeclaration(ot,rt),rt.set(ot,at)}function _classPrivateFieldSet2(ot,rt,at){return ot.set(_assertClassBrand(ot,rt),at),at}const RESTORE_FOCUS_TIMEOUT=100,globalState={},focusPreviousActiveElement=()=>{globalState.previousActiveElement instanceof HTMLElement?(globalState.previousActiveElement.focus(),globalState.previousActiveElement=null):document.body&&document.body.focus()},restoreActiveElement=ot=>new Promise(rt=>{if(!ot)return rt();const at=window.scrollX,lt=window.scrollY;globalState.restoreFocusTimeout=setTimeout(()=>{focusPreviousActiveElement(),rt()},RESTORE_FOCUS_TIMEOUT),window.scrollTo(at,lt)}),swalPrefix="swal2-",classNames=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],swalClasses=classNames.reduce((ot,rt)=>(ot[rt]=swalPrefix+rt,ot),{}),icons=["success","warning","info","question","error"],iconTypes=icons.reduce((ot,rt)=>(ot[rt]=swalPrefix+rt,ot),{}),consolePrefix="SweetAlert2:",capitalizeFirstLetter=ot=>ot.charAt(0).toUpperCase()+ot.slice(1),warn=ot=>{console.warn(`${consolePrefix} ${typeof ot=="object"?ot.join(" "):ot}`)},error=ot=>{console.error(`${consolePrefix} ${ot}`)},previousWarnOnceMessages=[],warnOnce=ot=>{previousWarnOnceMessages.includes(ot)||(previousWarnOnceMessages.push(ot),warn(ot))},warnAboutDeprecation=function(ot){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;warnOnce(`"${ot}" is deprecated and will be removed in the next major release.${rt?` Use "${rt}" instead.`:""}`)},callIfFunction=ot=>typeof ot=="function"?ot():ot,hasToPromiseFn=ot=>ot&&typeof ot.toPromise=="function",asPromise=ot=>hasToPromiseFn(ot)?ot.toPromise():Promise.resolve(ot),isPromise=ot=>ot&&Promise.resolve(ot)===ot,getContainer=()=>document.body.querySelector(`.${swalClasses.container}`),elementBySelector=ot=>{const rt=getContainer();return rt?rt.querySelector(ot):null},elementByClass=ot=>elementBySelector(`.${ot}`),getPopup=()=>elementByClass(swalClasses.popup),getIcon=()=>elementByClass(swalClasses.icon),getIconContent=()=>elementByClass(swalClasses["icon-content"]),getTitle=()=>elementByClass(swalClasses.title),getHtmlContainer=()=>elementByClass(swalClasses["html-container"]),getImage=()=>elementByClass(swalClasses.image),getProgressSteps=()=>elementByClass(swalClasses["progress-steps"]),getValidationMessage=()=>elementByClass(swalClasses["validation-message"]),getConfirmButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`),getCancelButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`),getDenyButton=()=>elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`),getInputLabel=()=>elementByClass(swalClasses["input-label"]),getLoader=()=>elementBySelector(`.${swalClasses.loader}`),getActions=()=>elementByClass(swalClasses.actions),getFooter=()=>elementByClass(swalClasses.footer),getTimerProgressBar=()=>elementByClass(swalClasses["timer-progress-bar"]),getCloseButton=()=>elementByClass(swalClasses.close),focusable=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,getFocusableElements=()=>{const ot=getPopup();if(!ot)return[];const rt=ot.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),at=Array.from(rt).sort((ut,dt)=>{const ht=parseInt(ut.getAttribute("tabindex")||"0"),ft=parseInt(dt.getAttribute("tabindex")||"0");return ht>ft?1:ht<ft?-1:0}),lt=ot.querySelectorAll(focusable),ct=Array.from(lt).filter(ut=>ut.getAttribute("tabindex")!=="-1");return[...new Set(at.concat(ct))].filter(ut=>isVisible$1(ut))},isModal=()=>hasClass(document.body,swalClasses.shown)&&!hasClass(document.body,swalClasses["toast-shown"])&&!hasClass(document.body,swalClasses["no-backdrop"]),isToast=()=>{const ot=getPopup();return ot?hasClass(ot,swalClasses.toast):!1},isLoading=()=>{const ot=getPopup();return ot?ot.hasAttribute("data-loading"):!1},setInnerHtml=(ot,rt)=>{if(ot.textContent="",rt){const lt=new DOMParser().parseFromString(rt,"text/html"),ct=lt.querySelector("head");ct&&Array.from(ct.childNodes).forEach(dt=>{ot.appendChild(dt)});const ut=lt.querySelector("body");ut&&Array.from(ut.childNodes).forEach(dt=>{dt instanceof HTMLVideoElement||dt instanceof HTMLAudioElement?ot.appendChild(dt.cloneNode(!0)):ot.appendChild(dt)})}},hasClass=(ot,rt)=>{if(!rt)return!1;const at=rt.split(/\s+/);for(let lt=0;lt<at.length;lt++)if(!ot.classList.contains(at[lt]))return!1;return!0},removeCustomClasses=(ot,rt)=>{Array.from(ot.classList).forEach(at=>{!Object.values(swalClasses).includes(at)&&!Object.values(iconTypes).includes(at)&&!Object.values(rt.showClass||{}).includes(at)&&ot.classList.remove(at)})},applyCustomClass=(ot,rt,at)=>{if(removeCustomClasses(ot,rt),!rt.customClass)return;const lt=rt.customClass[at];if(lt){if(typeof lt!="string"&&!lt.forEach){warn(`Invalid type of customClass.${at}! Expected string or iterable object, got "${typeof lt}"`);return}addClass(ot,lt)}},getInput$1=(ot,rt)=>{if(!rt)return null;switch(rt){case"select":case"textarea":case"file":return ot.querySelector(`.${swalClasses.popup} > .${swalClasses[rt]}`);case"checkbox":return ot.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);case"radio":return ot.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`)||ot.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);case"range":return ot.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);default:return ot.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`)}},focusInput=ot=>{if(ot.focus(),ot.type!=="file"){const rt=ot.value;ot.value="",ot.value=rt}},toggleClass=(ot,rt,at)=>{!ot||!rt||(typeof rt=="string"&&(rt=rt.split(/\s+/).filter(Boolean)),rt.forEach(lt=>{Array.isArray(ot)?ot.forEach(ct=>{at?ct.classList.add(lt):ct.classList.remove(lt)}):at?ot.classList.add(lt):ot.classList.remove(lt)}))},addClass=(ot,rt)=>{toggleClass(ot,rt,!0)},removeClass=(ot,rt)=>{toggleClass(ot,rt,!1)},getDirectChildByClass=(ot,rt)=>{const at=Array.from(ot.children);for(let lt=0;lt<at.length;lt++){const ct=at[lt];if(ct instanceof HTMLElement&&hasClass(ct,rt))return ct}},applyNumericalStyle=(ot,rt,at)=>{at===`${parseInt(at)}`&&(at=parseInt(at)),at||parseInt(at)===0?ot.style.setProperty(rt,typeof at=="number"?`${at}px`:at):ot.style.removeProperty(rt)},show=function(ot){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";ot&&(ot.style.display=rt)},hide=ot=>{ot&&(ot.style.display="none")},showWhenInnerHtmlPresent=function(ot){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";ot&&new MutationObserver(()=>{toggle(ot,ot.innerHTML,rt)}).observe(ot,{childList:!0,subtree:!0})},setStyle=(ot,rt,at,lt)=>{const ct=ot.querySelector(rt);ct&&ct.style.setProperty(at,lt)},toggle=function(ot,rt){let at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";rt?show(ot,at):hide(ot)},isVisible$1=ot=>!!(ot&&(ot.offsetWidth||ot.offsetHeight||ot.getClientRects().length)),allButtonsAreHidden=()=>!isVisible$1(getConfirmButton())&&!isVisible$1(getDenyButton())&&!isVisible$1(getCancelButton()),isScrollable=ot=>ot.scrollHeight>ot.clientHeight,hasCssAnimation=ot=>{const rt=window.getComputedStyle(ot),at=parseFloat(rt.getPropertyValue("animation-duration")||"0"),lt=parseFloat(rt.getPropertyValue("transition-duration")||"0");return at>0||lt>0},animateTimerProgressBar=function(ot){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const at=getTimerProgressBar();at&&isVisible$1(at)&&(rt&&(at.style.transition="none",at.style.width="100%"),setTimeout(()=>{at.style.transition=`width ${ot/1e3}s linear`,at.style.width="0%"},10))},stopTimerProgressBar=()=>{const ot=getTimerProgressBar();if(!ot)return;const rt=parseInt(window.getComputedStyle(ot).width);ot.style.removeProperty("transition"),ot.style.width="100%";const at=parseInt(window.getComputedStyle(ot).width),lt=rt/at*100;ot.style.width=`${lt}%`},isNodeEnv=()=>typeof window>"u"||typeof document>"u",sweetHTML=`
 <div aria-labelledby="${swalClasses.title}" aria-describedby="${swalClasses["html-container"]}" class="${swalClasses.popup}" tabindex="-1">
   <button type="button" class="${swalClasses.close}"></button>
   <ul class="${swalClasses["progress-steps"]}"></ul>
   <div class="${swalClasses.icon}"></div>
   <img class="${swalClasses.image}" />
   <h2 class="${swalClasses.title}" id="${swalClasses.title}"></h2>
   <div class="${swalClasses["html-container"]}" id="${swalClasses["html-container"]}"></div>
   <input class="${swalClasses.input}" id="${swalClasses.input}" />
   <input type="file" class="${swalClasses.file}" />
   <div class="${swalClasses.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${swalClasses.select}" id="${swalClasses.select}"></select>
   <div class="${swalClasses.radio}"></div>
   <label class="${swalClasses.checkbox}">
     <input type="checkbox" id="${swalClasses.checkbox}" />
     <span class="${swalClasses.label}"></span>
   </label>
   <textarea class="${swalClasses.textarea}" id="${swalClasses.textarea}"></textarea>
   <div class="${swalClasses["validation-message"]}" id="${swalClasses["validation-message"]}"></div>
   <div class="${swalClasses.actions}">
     <div class="${swalClasses.loader}"></div>
     <button type="button" class="${swalClasses.confirm}"></button>
     <button type="button" class="${swalClasses.deny}"></button>
     <button type="button" class="${swalClasses.cancel}"></button>
   </div>
   <div class="${swalClasses.footer}"></div>
   <div class="${swalClasses["timer-progress-bar-container"]}">
     <div class="${swalClasses["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),resetOldContainer=()=>{const ot=getContainer();return ot?(ot.remove(),removeClass([document.documentElement,document.body],[swalClasses["no-backdrop"],swalClasses["toast-shown"],swalClasses["has-column"]]),!0):!1},resetValidationMessage$1=()=>{globalState.currentInstance.resetValidationMessage()},addInputChangeListeners=()=>{const ot=getPopup(),rt=getDirectChildByClass(ot,swalClasses.input),at=getDirectChildByClass(ot,swalClasses.file),lt=ot.querySelector(`.${swalClasses.range} input`),ct=ot.querySelector(`.${swalClasses.range} output`),ut=getDirectChildByClass(ot,swalClasses.select),dt=ot.querySelector(`.${swalClasses.checkbox} input`),ht=getDirectChildByClass(ot,swalClasses.textarea);rt.oninput=resetValidationMessage$1,at.onchange=resetValidationMessage$1,ut.onchange=resetValidationMessage$1,dt.onchange=resetValidationMessage$1,ht.oninput=resetValidationMessage$1,lt.oninput=()=>{resetValidationMessage$1(),ct.value=lt.value},lt.onchange=()=>{resetValidationMessage$1(),ct.value=lt.value}},getTarget=ot=>typeof ot=="string"?document.querySelector(ot):ot,setupAccessibility=ot=>{const rt=getPopup();rt.setAttribute("role",ot.toast?"alert":"dialog"),rt.setAttribute("aria-live",ot.toast?"polite":"assertive"),ot.toast||rt.setAttribute("aria-modal","true")},setupRTL=ot=>{window.getComputedStyle(ot).direction==="rtl"&&addClass(getContainer(),swalClasses.rtl)},init=ot=>{const rt=resetOldContainer();if(isNodeEnv()){error("SweetAlert2 requires document to initialize");return}const at=document.createElement("div");at.className=swalClasses.container,rt&&addClass(at,swalClasses["no-transition"]),setInnerHtml(at,sweetHTML);const lt=getTarget(ot.target);lt.appendChild(at),setupAccessibility(ot),setupRTL(lt),addInputChangeListeners()},parseHtmlToContainer=(ot,rt)=>{ot instanceof HTMLElement?rt.appendChild(ot):typeof ot=="object"?handleObject(ot,rt):ot&&setInnerHtml(rt,ot)},handleObject=(ot,rt)=>{ot.jquery?handleJqueryElem(rt,ot):setInnerHtml(rt,ot.toString())},handleJqueryElem=(ot,rt)=>{if(ot.textContent="",0 in rt)for(let at=0;at in rt;at++)ot.appendChild(rt[at].cloneNode(!0));else ot.appendChild(rt.cloneNode(!0))},animationEndEvent=(()=>{if(isNodeEnv())return!1;const ot=document.createElement("div");return typeof ot.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof ot.style.animation<"u"?"animationend":!1})(),renderActions=(ot,rt)=>{const at=getActions(),lt=getLoader();!at||!lt||(!rt.showConfirmButton&&!rt.showDenyButton&&!rt.showCancelButton?hide(at):show(at),applyCustomClass(at,rt,"actions"),renderButtons(at,lt,rt),setInnerHtml(lt,rt.loaderHtml||""),applyCustomClass(lt,rt,"loader"))};function renderButtons(ot,rt,at){const lt=getConfirmButton(),ct=getDenyButton(),ut=getCancelButton();!lt||!ct||!ut||(renderButton(lt,"confirm",at),renderButton(ct,"deny",at),renderButton(ut,"cancel",at),handleButtonsStyling(lt,ct,ut,at),at.reverseButtons&&(at.toast?(ot.insertBefore(ut,lt),ot.insertBefore(ct,lt)):(ot.insertBefore(ut,rt),ot.insertBefore(ct,rt),ot.insertBefore(lt,rt))))}function handleButtonsStyling(ot,rt,at,lt){if(!lt.buttonsStyling){removeClass([ot,rt,at],swalClasses.styled);return}addClass([ot,rt,at],swalClasses.styled),lt.confirmButtonColor&&(ot.style.backgroundColor=lt.confirmButtonColor,addClass(ot,swalClasses["default-outline"])),lt.denyButtonColor&&(rt.style.backgroundColor=lt.denyButtonColor,addClass(rt,swalClasses["default-outline"])),lt.cancelButtonColor&&(at.style.backgroundColor=lt.cancelButtonColor,addClass(at,swalClasses["default-outline"]))}function renderButton(ot,rt,at){const lt=capitalizeFirstLetter(rt);toggle(ot,at[`show${lt}Button`],"inline-block"),setInnerHtml(ot,at[`${rt}ButtonText`]||""),ot.setAttribute("aria-label",at[`${rt}ButtonAriaLabel`]||""),ot.className=swalClasses[rt],applyCustomClass(ot,at,`${rt}Button`)}const renderCloseButton=(ot,rt)=>{const at=getCloseButton();at&&(setInnerHtml(at,rt.closeButtonHtml||""),applyCustomClass(at,rt,"closeButton"),toggle(at,rt.showCloseButton),at.setAttribute("aria-label",rt.closeButtonAriaLabel||""))},renderContainer=(ot,rt)=>{const at=getContainer();at&&(handleBackdropParam(at,rt.backdrop),handlePositionParam(at,rt.position),handleGrowParam(at,rt.grow),applyCustomClass(at,rt,"container"))};function handleBackdropParam(ot,rt){typeof rt=="string"?ot.style.background=rt:rt||addClass([document.documentElement,document.body],swalClasses["no-backdrop"])}function handlePositionParam(ot,rt){rt&&(rt in swalClasses?addClass(ot,swalClasses[rt]):(warn('The "position" parameter is not valid, defaulting to "center"'),addClass(ot,swalClasses.center)))}function handleGrowParam(ot,rt){rt&&addClass(ot,swalClasses[`grow-${rt}`])}var privateProps={innerParams:new WeakMap,domCache:new WeakMap};const inputClasses=["input","file","range","select","radio","checkbox","textarea"],renderInput=(ot,rt)=>{const at=getPopup();if(!at)return;const lt=privateProps.innerParams.get(ot),ct=!lt||rt.input!==lt.input;inputClasses.forEach(ut=>{const dt=getDirectChildByClass(at,swalClasses[ut]);dt&&(setAttributes(ut,rt.inputAttributes),dt.className=swalClasses[ut],ct&&hide(dt))}),rt.input&&(ct&&showInput(rt),setCustomClass(rt))},showInput=ot=>{if(!ot.input)return;if(!renderInputType[ot.input]){error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(" | ")}, got "${ot.input}"`);return}const rt=getInputContainer(ot.input);if(!rt)return;const at=renderInputType[ot.input](rt,ot);show(rt),ot.inputAutoFocus&&setTimeout(()=>{focusInput(at)})},removeAttributes=ot=>{for(let rt=0;rt<ot.attributes.length;rt++){const at=ot.attributes[rt].name;["id","type","value","style"].includes(at)||ot.removeAttribute(at)}},setAttributes=(ot,rt)=>{const at=getPopup();if(!at)return;const lt=getInput$1(at,ot);if(lt){removeAttributes(lt);for(const ct in rt)lt.setAttribute(ct,rt[ct])}},setCustomClass=ot=>{if(!ot.input)return;const rt=getInputContainer(ot.input);rt&&applyCustomClass(rt,ot,"input")},setInputPlaceholder=(ot,rt)=>{!ot.placeholder&&rt.inputPlaceholder&&(ot.placeholder=rt.inputPlaceholder)},setInputLabel=(ot,rt,at)=>{if(at.inputLabel){const lt=document.createElement("label"),ct=swalClasses["input-label"];lt.setAttribute("for",ot.id),lt.className=ct,typeof at.customClass=="object"&&addClass(lt,at.customClass.inputLabel),lt.innerText=at.inputLabel,rt.insertAdjacentElement("beforebegin",lt)}},getInputContainer=ot=>{const rt=getPopup();if(rt)return getDirectChildByClass(rt,swalClasses[ot]||swalClasses.input)},checkAndSetInputValue=(ot,rt)=>{["string","number"].includes(typeof rt)?ot.value=`${rt}`:isPromise(rt)||warn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof rt}"`)},renderInputType={};renderInputType.text=renderInputType.email=renderInputType.password=renderInputType.number=renderInputType.tel=renderInputType.url=renderInputType.search=renderInputType.date=renderInputType["datetime-local"]=renderInputType.time=renderInputType.week=renderInputType.month=(ot,rt)=>(checkAndSetInputValue(ot,rt.inputValue),setInputLabel(ot,ot,rt),setInputPlaceholder(ot,rt),ot.type=rt.input,ot);renderInputType.file=(ot,rt)=>(setInputLabel(ot,ot,rt),setInputPlaceholder(ot,rt),ot);renderInputType.range=(ot,rt)=>{const at=ot.querySelector("input"),lt=ot.querySelector("output");return checkAndSetInputValue(at,rt.inputValue),at.type=rt.input,checkAndSetInputValue(lt,rt.inputValue),setInputLabel(at,ot,rt),ot};renderInputType.select=(ot,rt)=>{if(ot.textContent="",rt.inputPlaceholder){const at=document.createElement("option");setInnerHtml(at,rt.inputPlaceholder),at.value="",at.disabled=!0,at.selected=!0,ot.appendChild(at)}return setInputLabel(ot,ot,rt),ot};renderInputType.radio=ot=>(ot.textContent="",ot);renderInputType.checkbox=(ot,rt)=>{const at=getInput$1(getPopup(),"checkbox");at.value="1",at.checked=!!rt.inputValue;const lt=ot.querySelector("span");return setInnerHtml(lt,rt.inputPlaceholder||rt.inputLabel),at};renderInputType.textarea=(ot,rt)=>{checkAndSetInputValue(ot,rt.inputValue),setInputPlaceholder(ot,rt),setInputLabel(ot,ot,rt);const at=lt=>parseInt(window.getComputedStyle(lt).marginLeft)+parseInt(window.getComputedStyle(lt).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const lt=parseInt(window.getComputedStyle(getPopup()).width),ct=()=>{if(!document.body.contains(ot))return;const ut=ot.offsetWidth+at(ot);ut>lt?getPopup().style.width=`${ut}px`:applyNumericalStyle(getPopup(),"width",rt.width)};new MutationObserver(ct).observe(ot,{attributes:!0,attributeFilter:["style"]})}}),ot};const renderContent=(ot,rt)=>{const at=getHtmlContainer();at&&(showWhenInnerHtmlPresent(at),applyCustomClass(at,rt,"htmlContainer"),rt.html?(parseHtmlToContainer(rt.html,at),show(at,"block")):rt.text?(at.textContent=rt.text,show(at,"block")):hide(at),renderInput(ot,rt))},renderFooter=(ot,rt)=>{const at=getFooter();at&&(showWhenInnerHtmlPresent(at),toggle(at,rt.footer,"block"),rt.footer&&parseHtmlToContainer(rt.footer,at),applyCustomClass(at,rt,"footer"))},renderIcon=(ot,rt)=>{const at=privateProps.innerParams.get(ot),lt=getIcon();if(lt){if(at&&rt.icon===at.icon){setContent(lt,rt),applyStyles(lt,rt);return}if(!rt.icon&&!rt.iconHtml){hide(lt);return}if(rt.icon&&Object.keys(iconTypes).indexOf(rt.icon)===-1){error(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${rt.icon}"`),hide(lt);return}show(lt),setContent(lt,rt),applyStyles(lt,rt),addClass(lt,rt.showClass&&rt.showClass.icon)}},applyStyles=(ot,rt)=>{for(const[at,lt]of Object.entries(iconTypes))rt.icon!==at&&removeClass(ot,lt);addClass(ot,rt.icon&&iconTypes[rt.icon]),setColor(ot,rt),adjustSuccessIconBackgroundColor(),applyCustomClass(ot,rt,"icon")},adjustSuccessIconBackgroundColor=()=>{const ot=getPopup();if(!ot)return;const rt=window.getComputedStyle(ot).getPropertyValue("background-color"),at=ot.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let lt=0;lt<at.length;lt++)at[lt].style.backgroundColor=rt},successIconHtml=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,errorIconHtml=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,setContent=(ot,rt)=>{if(!rt.icon&&!rt.iconHtml)return;let at=ot.innerHTML,lt="";rt.iconHtml?lt=iconContent(rt.iconHtml):rt.icon==="success"?(lt=successIconHtml,at=at.replace(/ style=".*?"/g,"")):rt.icon==="error"?lt=errorIconHtml:rt.icon&&(lt=iconContent({question:"?",warning:"!",info:"i"}[rt.icon])),at.trim()!==lt.trim()&&setInnerHtml(ot,lt)},setColor=(ot,rt)=>{if(rt.iconColor){ot.style.color=rt.iconColor,ot.style.borderColor=rt.iconColor;for(const at of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])setStyle(ot,at,"background-color",rt.iconColor);setStyle(ot,".swal2-success-ring","border-color",rt.iconColor)}},iconContent=ot=>`<div class="${swalClasses["icon-content"]}">${ot}</div>`,renderImage=(ot,rt)=>{const at=getImage();if(at){if(!rt.imageUrl){hide(at);return}show(at,""),at.setAttribute("src",rt.imageUrl),at.setAttribute("alt",rt.imageAlt||""),applyNumericalStyle(at,"width",rt.imageWidth),applyNumericalStyle(at,"height",rt.imageHeight),at.className=swalClasses.image,applyCustomClass(at,rt,"image")}},renderPopup=(ot,rt)=>{const at=getContainer(),lt=getPopup();if(!(!at||!lt)){if(rt.toast){applyNumericalStyle(at,"width",rt.width),lt.style.width="100%";const ct=getLoader();ct&&lt.insertBefore(ct,getIcon())}else applyNumericalStyle(lt,"width",rt.width);applyNumericalStyle(lt,"padding",rt.padding),rt.color&&(lt.style.color=rt.color),rt.background&&(lt.style.background=rt.background),hide(getValidationMessage()),addClasses$1(lt,rt)}},addClasses$1=(ot,rt)=>{const at=rt.showClass||{};ot.className=`${swalClasses.popup} ${isVisible$1(ot)?at.popup:""}`,rt.toast?(addClass([document.documentElement,document.body],swalClasses["toast-shown"]),addClass(ot,swalClasses.toast)):addClass(ot,swalClasses.modal),applyCustomClass(ot,rt,"popup"),typeof rt.customClass=="string"&&addClass(ot,rt.customClass),rt.icon&&addClass(ot,swalClasses[`icon-${rt.icon}`])},renderProgressSteps=(ot,rt)=>{const at=getProgressSteps();if(!at)return;const{progressSteps:lt,currentProgressStep:ct}=rt;if(!lt||lt.length===0||ct===void 0){hide(at);return}show(at),at.textContent="",ct>=lt.length&&warn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),lt.forEach((ut,dt)=>{const ht=createStepElement(ut);if(at.appendChild(ht),dt===ct&&addClass(ht,swalClasses["active-progress-step"]),dt!==lt.length-1){const ft=createLineElement(rt);at.appendChild(ft)}})},createStepElement=ot=>{const rt=document.createElement("li");return addClass(rt,swalClasses["progress-step"]),setInnerHtml(rt,ot),rt},createLineElement=ot=>{const rt=document.createElement("li");return addClass(rt,swalClasses["progress-step-line"]),ot.progressStepsDistance&&applyNumericalStyle(rt,"width",ot.progressStepsDistance),rt},renderTitle=(ot,rt)=>{const at=getTitle();at&&(showWhenInnerHtmlPresent(at),toggle(at,rt.title||rt.titleText,"block"),rt.title&&parseHtmlToContainer(rt.title,at),rt.titleText&&(at.innerText=rt.titleText),applyCustomClass(at,rt,"title"))},render=(ot,rt)=>{renderPopup(ot,rt),renderContainer(ot,rt),renderProgressSteps(ot,rt),renderIcon(ot,rt),renderImage(ot,rt),renderTitle(ot,rt),renderCloseButton(ot,rt),renderContent(ot,rt),renderActions(ot,rt),renderFooter(ot,rt);const at=getPopup();typeof rt.didRender=="function"&&at&&rt.didRender(at),globalState.eventEmitter.emit("didRender",at)},isVisible=()=>isVisible$1(getPopup()),clickConfirm=()=>{var ot;return(ot=getConfirmButton())===null||ot===void 0?void 0:ot.click()},clickDeny=()=>{var ot;return(ot=getDenyButton())===null||ot===void 0?void 0:ot.click()},clickCancel=()=>{var ot;return(ot=getCancelButton())===null||ot===void 0?void 0:ot.click()},DismissReason=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),removeKeydownHandler=ot=>{ot.keydownTarget&&ot.keydownHandlerAdded&&(ot.keydownTarget.removeEventListener("keydown",ot.keydownHandler,{capture:ot.keydownListenerCapture}),ot.keydownHandlerAdded=!1)},addKeydownHandler=(ot,rt,at)=>{removeKeydownHandler(ot),rt.toast||(ot.keydownHandler=lt=>keydownHandler(rt,lt,at),ot.keydownTarget=rt.keydownListenerCapture?window:getPopup(),ot.keydownListenerCapture=rt.keydownListenerCapture,ot.keydownTarget.addEventListener("keydown",ot.keydownHandler,{capture:ot.keydownListenerCapture}),ot.keydownHandlerAdded=!0)},setFocus=(ot,rt)=>{var at;const lt=getFocusableElements();if(lt.length){ot=ot+rt,ot===lt.length?ot=0:ot===-1&&(ot=lt.length-1),lt[ot].focus();return}(at=getPopup())===null||at===void 0||at.focus()},arrowKeysNextButton=["ArrowRight","ArrowDown"],arrowKeysPreviousButton=["ArrowLeft","ArrowUp"],keydownHandler=(ot,rt,at)=>{ot&&(rt.isComposing||rt.keyCode===229||(ot.stopKeydownPropagation&&rt.stopPropagation(),rt.key==="Enter"?handleEnter(rt,ot):rt.key==="Tab"?handleTab(rt):[...arrowKeysNextButton,...arrowKeysPreviousButton].includes(rt.key)?handleArrows(rt.key):rt.key==="Escape"&&handleEsc(rt,ot,at)))},handleEnter=(ot,rt)=>{if(!callIfFunction(rt.allowEnterKey))return;const at=getInput$1(getPopup(),rt.input);if(ot.target&&at&&ot.target instanceof HTMLElement&&ot.target.outerHTML===at.outerHTML){if(["textarea","file"].includes(rt.input))return;clickConfirm(),ot.preventDefault()}},handleTab=ot=>{const rt=ot.target,at=getFocusableElements();let lt=-1;for(let ct=0;ct<at.length;ct++)if(rt===at[ct]){lt=ct;break}ot.shiftKey?setFocus(lt,-1):setFocus(lt,1),ot.stopPropagation(),ot.preventDefault()},handleArrows=ot=>{const rt=getActions(),at=getConfirmButton(),lt=getDenyButton(),ct=getCancelButton();if(!rt||!at||!lt||!ct)return;const ut=[at,lt,ct];if(document.activeElement instanceof HTMLElement&&!ut.includes(document.activeElement))return;const dt=arrowKeysNextButton.includes(ot)?"nextElementSibling":"previousElementSibling";let ht=document.activeElement;if(ht){for(let ft=0;ft<rt.children.length;ft++){if(ht=ht[dt],!ht)return;if(ht instanceof HTMLButtonElement&&isVisible$1(ht))break}ht instanceof HTMLButtonElement&&ht.focus()}},handleEsc=(ot,rt,at)=>{callIfFunction(rt.allowEscapeKey)&&(ot.preventDefault(),at(DismissReason.esc))};var privateMethods={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const setAriaHidden=()=>{const ot=getContainer();Array.from(document.body.children).forEach(at=>{at.contains(ot)||(at.hasAttribute("aria-hidden")&&at.setAttribute("data-previous-aria-hidden",at.getAttribute("aria-hidden")||""),at.setAttribute("aria-hidden","true"))})},unsetAriaHidden=()=>{Array.from(document.body.children).forEach(rt=>{rt.hasAttribute("data-previous-aria-hidden")?(rt.setAttribute("aria-hidden",rt.getAttribute("data-previous-aria-hidden")||""),rt.removeAttribute("data-previous-aria-hidden")):rt.removeAttribute("aria-hidden")})},isSafariOrIOS=typeof window<"u"&&!!window.GestureEvent,iOSfix=()=>{if(isSafariOrIOS&&!hasClass(document.body,swalClasses.iosfix)){const ot=document.body.scrollTop;document.body.style.top=`${ot*-1}px`,addClass(document.body,swalClasses.iosfix),lockBodyScroll()}},lockBodyScroll=()=>{const ot=getContainer();if(!ot)return;let rt;ot.ontouchstart=at=>{rt=shouldPreventTouchMove(at)},ot.ontouchmove=at=>{rt&&(at.preventDefault(),at.stopPropagation())}},shouldPreventTouchMove=ot=>{const rt=ot.target,at=getContainer(),lt=getHtmlContainer();return!at||!lt||isStylus(ot)||isZoom(ot)?!1:rt===at||!isScrollable(at)&&rt instanceof HTMLElement&&rt.tagName!=="INPUT"&&rt.tagName!=="TEXTAREA"&&!(isScrollable(lt)&&lt.contains(rt))},isStylus=ot=>ot.touches&&ot.touches.length&&ot.touches[0].touchType==="stylus",isZoom=ot=>ot.touches&&ot.touches.length>1,undoIOSfix=()=>{if(hasClass(document.body,swalClasses.iosfix)){const ot=parseInt(document.body.style.top,10);removeClass(document.body,swalClasses.iosfix),document.body.style.top="",document.body.scrollTop=ot*-1}},measureScrollbar=()=>{const ot=document.createElement("div");ot.className=swalClasses["scrollbar-measure"],document.body.appendChild(ot);const rt=ot.getBoundingClientRect().width-ot.clientWidth;return document.body.removeChild(ot),rt};let previousBodyPadding=null;const replaceScrollbarWithPadding=ot=>{previousBodyPadding===null&&(document.body.scrollHeight>window.innerHeight||ot==="scroll")&&(previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${previousBodyPadding+measureScrollbar()}px`)},undoReplaceScrollbarWithPadding=()=>{previousBodyPadding!==null&&(document.body.style.paddingRight=`${previousBodyPadding}px`,previousBodyPadding=null)};function removePopupAndResetState(ot,rt,at,lt){isToast()?triggerDidCloseAndDispose(ot,lt):(restoreActiveElement(at).then(()=>triggerDidCloseAndDispose(ot,lt)),removeKeydownHandler(globalState)),isSafariOrIOS?(rt.setAttribute("style","display:none !important"),rt.removeAttribute("class"),rt.innerHTML=""):rt.remove(),isModal()&&(undoReplaceScrollbarWithPadding(),undoIOSfix(),unsetAriaHidden()),removeBodyClasses()}function removeBodyClasses(){removeClass([document.documentElement,document.body],[swalClasses.shown,swalClasses["height-auto"],swalClasses["no-backdrop"],swalClasses["toast-shown"]])}function close(ot){ot=prepareResolveValue(ot);const rt=privateMethods.swalPromiseResolve.get(this),at=triggerClosePopup(this);this.isAwaitingPromise?ot.isDismissed||(handleAwaitingPromise(this),rt(ot)):at&&rt(ot)}const triggerClosePopup=ot=>{const rt=getPopup();if(!rt)return!1;const at=privateProps.innerParams.get(ot);if(!at||hasClass(rt,at.hideClass.popup))return!1;removeClass(rt,at.showClass.popup),addClass(rt,at.hideClass.popup);const lt=getContainer();return removeClass(lt,at.showClass.backdrop),addClass(lt,at.hideClass.backdrop),handlePopupAnimation(ot,rt,at),!0};function rejectPromise(ot){const rt=privateMethods.swalPromiseReject.get(this);handleAwaitingPromise(this),rt&&rt(ot)}const handleAwaitingPromise=ot=>{ot.isAwaitingPromise&&(delete ot.isAwaitingPromise,privateProps.innerParams.get(ot)||ot._destroy())},prepareResolveValue=ot=>typeof ot>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},ot),handlePopupAnimation=(ot,rt,at)=>{const lt=getContainer(),ct=animationEndEvent&&hasCssAnimation(rt);typeof at.willClose=="function"&&at.willClose(rt),globalState.eventEmitter.emit("willClose",rt),ct?animatePopup(ot,rt,lt,at.returnFocus,at.didClose):removePopupAndResetState(ot,lt,at.returnFocus,at.didClose)},animatePopup=(ot,rt,at,lt,ct)=>{animationEndEvent&&(globalState.swalCloseEventFinishedCallback=removePopupAndResetState.bind(null,ot,at,lt,ct),rt.addEventListener(animationEndEvent,function(ut){ut.target===rt&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback)}))},triggerDidCloseAndDispose=(ot,rt)=>{setTimeout(()=>{typeof rt=="function"&&rt.bind(ot.params)(),globalState.eventEmitter.emit("didClose"),ot._destroy&&ot._destroy()})},showLoading=ot=>{let rt=getPopup();if(rt||new Swal,rt=getPopup(),!rt)return;const at=getLoader();isToast()?hide(getIcon()):replaceButton(rt,ot),show(at),rt.setAttribute("data-loading","true"),rt.setAttribute("aria-busy","true"),rt.focus()},replaceButton=(ot,rt)=>{const at=getActions(),lt=getLoader();!at||!lt||(!rt&&isVisible$1(getConfirmButton())&&(rt=getConfirmButton()),show(at),rt&&(hide(rt),lt.setAttribute("data-button-to-replace",rt.className),at.insertBefore(lt,rt)),addClass([ot,at],swalClasses.loading))},handleInputOptionsAndValue=(ot,rt)=>{rt.input==="select"||rt.input==="radio"?handleInputOptions(ot,rt):["text","email","number","tel","textarea"].some(at=>at===rt.input)&&(hasToPromiseFn(rt.inputValue)||isPromise(rt.inputValue))&&(showLoading(getConfirmButton()),handleInputValue(ot,rt))},getInputValue=(ot,rt)=>{const at=ot.getInput();if(!at)return null;switch(rt.input){case"checkbox":return getCheckboxValue(at);case"radio":return getRadioValue(at);case"file":return getFileValue(at);default:return rt.inputAutoTrim?at.value.trim():at.value}},getCheckboxValue=ot=>ot.checked?1:0,getRadioValue=ot=>ot.checked?ot.value:null,getFileValue=ot=>ot.files&&ot.files.length?ot.getAttribute("multiple")!==null?ot.files:ot.files[0]:null,handleInputOptions=(ot,rt)=>{const at=getPopup();if(!at)return;const lt=ct=>{rt.input==="select"?populateSelectOptions(at,formatInputOptions(ct),rt):rt.input==="radio"&&populateRadioOptions(at,formatInputOptions(ct),rt)};hasToPromiseFn(rt.inputOptions)||isPromise(rt.inputOptions)?(showLoading(getConfirmButton()),asPromise(rt.inputOptions).then(ct=>{ot.hideLoading(),lt(ct)})):typeof rt.inputOptions=="object"?lt(rt.inputOptions):error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof rt.inputOptions}`)},handleInputValue=(ot,rt)=>{const at=ot.getInput();at&&(hide(at),asPromise(rt.inputValue).then(lt=>{at.value=rt.input==="number"?`${parseFloat(lt)||0}`:`${lt}`,show(at),at.focus(),ot.hideLoading()}).catch(lt=>{error(`Error in inputValue promise: ${lt}`),at.value="",show(at),at.focus(),ot.hideLoading()}))};function populateSelectOptions(ot,rt,at){const lt=getDirectChildByClass(ot,swalClasses.select);if(!lt)return;const ct=(ut,dt,ht)=>{const ft=document.createElement("option");ft.value=ht,setInnerHtml(ft,dt),ft.selected=isSelected(ht,at.inputValue),ut.appendChild(ft)};rt.forEach(ut=>{const dt=ut[0],ht=ut[1];if(Array.isArray(ht)){const ft=document.createElement("optgroup");ft.label=dt,ft.disabled=!1,lt.appendChild(ft),ht.forEach(pt=>ct(ft,pt[1],pt[0]))}else ct(lt,ht,dt)}),lt.focus()}function populateRadioOptions(ot,rt,at){const lt=getDirectChildByClass(ot,swalClasses.radio);if(!lt)return;rt.forEach(ut=>{const dt=ut[0],ht=ut[1],ft=document.createElement("input"),pt=document.createElement("label");ft.type="radio",ft.name=swalClasses.radio,ft.value=dt,isSelected(dt,at.inputValue)&&(ft.checked=!0);const mt=document.createElement("span");setInnerHtml(mt,ht),mt.className=swalClasses.label,pt.appendChild(ft),pt.appendChild(mt),lt.appendChild(pt)});const ct=lt.querySelectorAll("input");ct.length&&ct[0].focus()}const formatInputOptions=ot=>{const rt=[];return ot instanceof Map?ot.forEach((at,lt)=>{let ct=at;typeof ct=="object"&&(ct=formatInputOptions(ct)),rt.push([lt,ct])}):Object.keys(ot).forEach(at=>{let lt=ot[at];typeof lt=="object"&&(lt=formatInputOptions(lt)),rt.push([at,lt])}),rt},isSelected=(ot,rt)=>!!rt&&rt.toString()===ot.toString(),handleConfirmButtonClick=ot=>{const rt=privateProps.innerParams.get(ot);ot.disableButtons(),rt.input?handleConfirmOrDenyWithInput(ot,"confirm"):confirm(ot,!0)},handleDenyButtonClick=ot=>{const rt=privateProps.innerParams.get(ot);ot.disableButtons(),rt.returnInputValueOnDeny?handleConfirmOrDenyWithInput(ot,"deny"):deny(ot,!1)},handleCancelButtonClick=(ot,rt)=>{ot.disableButtons(),rt(DismissReason.cancel)},handleConfirmOrDenyWithInput=(ot,rt)=>{const at=privateProps.innerParams.get(ot);if(!at.input){error(`The "input" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(rt)}`);return}const lt=ot.getInput(),ct=getInputValue(ot,at);at.inputValidator?handleInputValidator(ot,ct,rt):lt&&!lt.checkValidity()?(ot.enableButtons(),ot.showValidationMessage(at.validationMessage||lt.validationMessage)):rt==="deny"?deny(ot,ct):confirm(ot,ct)},handleInputValidator=(ot,rt,at)=>{const lt=privateProps.innerParams.get(ot);ot.disableInput(),Promise.resolve().then(()=>asPromise(lt.inputValidator(rt,lt.validationMessage))).then(ut=>{ot.enableButtons(),ot.enableInput(),ut?ot.showValidationMessage(ut):at==="deny"?deny(ot,rt):confirm(ot,rt)})},deny=(ot,rt)=>{const at=privateProps.innerParams.get(ot||void 0);at.showLoaderOnDeny&&showLoading(getDenyButton()),at.preDeny?(ot.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(at.preDeny(rt,at.validationMessage))).then(ct=>{ct===!1?(ot.hideLoading(),handleAwaitingPromise(ot)):ot.close({isDenied:!0,value:typeof ct>"u"?rt:ct})}).catch(ct=>rejectWith(ot||void 0,ct))):ot.close({isDenied:!0,value:rt})},succeedWith=(ot,rt)=>{ot.close({isConfirmed:!0,value:rt})},rejectWith=(ot,rt)=>{ot.rejectPromise(rt)},confirm=(ot,rt)=>{const at=privateProps.innerParams.get(ot||void 0);at.showLoaderOnConfirm&&showLoading(),at.preConfirm?(ot.resetValidationMessage(),ot.isAwaitingPromise=!0,Promise.resolve().then(()=>asPromise(at.preConfirm(rt,at.validationMessage))).then(ct=>{isVisible$1(getValidationMessage())||ct===!1?(ot.hideLoading(),handleAwaitingPromise(ot)):succeedWith(ot,typeof ct>"u"?rt:ct)}).catch(ct=>rejectWith(ot||void 0,ct))):succeedWith(ot,rt)};function hideLoading(){const ot=privateProps.innerParams.get(this);if(!ot)return;const rt=privateProps.domCache.get(this);hide(rt.loader),isToast()?ot.icon&&show(getIcon()):showRelatedButton(rt),removeClass([rt.popup,rt.actions],swalClasses.loading),rt.popup.removeAttribute("aria-busy"),rt.popup.removeAttribute("data-loading"),rt.confirmButton.disabled=!1,rt.denyButton.disabled=!1,rt.cancelButton.disabled=!1}const showRelatedButton=ot=>{const rt=ot.popup.getElementsByClassName(ot.loader.getAttribute("data-button-to-replace"));rt.length?show(rt[0],"inline-block"):allButtonsAreHidden()&&hide(ot.actions)};function getInput(){const ot=privateProps.innerParams.get(this),rt=privateProps.domCache.get(this);return rt?getInput$1(rt.popup,ot.input):null}function setButtonsDisabled(ot,rt,at){const lt=privateProps.domCache.get(ot);rt.forEach(ct=>{lt[ct].disabled=at})}function setInputDisabled(ot,rt){const at=getPopup();if(!(!at||!ot))if(ot.type==="radio"){const lt=at.querySelectorAll(`[name="${swalClasses.radio}"]`);for(let ct=0;ct<lt.length;ct++)lt[ct].disabled=rt}else ot.disabled=rt}function enableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!1)}function disableButtons(){setButtonsDisabled(this,["confirmButton","denyButton","cancelButton"],!0)}function enableInput(){setInputDisabled(this.getInput(),!1)}function disableInput(){setInputDisabled(this.getInput(),!0)}function showValidationMessage(ot){const rt=privateProps.domCache.get(this),at=privateProps.innerParams.get(this);setInnerHtml(rt.validationMessage,ot),rt.validationMessage.className=swalClasses["validation-message"],at.customClass&&at.customClass.validationMessage&&addClass(rt.validationMessage,at.customClass.validationMessage),show(rt.validationMessage);const lt=this.getInput();lt&&(lt.setAttribute("aria-invalid","true"),lt.setAttribute("aria-describedby",swalClasses["validation-message"]),focusInput(lt),addClass(lt,swalClasses.inputerror))}function resetValidationMessage(){const ot=privateProps.domCache.get(this);ot.validationMessage&&hide(ot.validationMessage);const rt=this.getInput();rt&&(rt.removeAttribute("aria-invalid"),rt.removeAttribute("aria-describedby"),removeClass(rt,swalClasses.inputerror))}const defaultParams={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},updatableParams=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],deprecatedParams={allowEnterKey:void 0},toastIncompatibleParams=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],isValidParameter=ot=>Object.prototype.hasOwnProperty.call(defaultParams,ot),isUpdatableParameter=ot=>updatableParams.indexOf(ot)!==-1,isDeprecatedParameter=ot=>deprecatedParams[ot],checkIfParamIsValid=ot=>{isValidParameter(ot)||warn(`Unknown parameter "${ot}"`)},checkIfToastParamIsValid=ot=>{toastIncompatibleParams.includes(ot)&&warn(`The parameter "${ot}" is incompatible with toasts`)},checkIfParamIsDeprecated=ot=>{const rt=isDeprecatedParameter(ot);rt&&warnAboutDeprecation(ot,rt)},showWarningsForParams=ot=>{ot.backdrop===!1&&ot.allowOutsideClick&&warn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const rt in ot)checkIfParamIsValid(rt),ot.toast&&checkIfToastParamIsValid(rt),checkIfParamIsDeprecated(rt)};function update(ot){const rt=getPopup(),at=privateProps.innerParams.get(this);if(!rt||hasClass(rt,at.hideClass.popup)){warn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const lt=filterValidParams(ot),ct=Object.assign({},at,lt);render(this,ct),privateProps.innerParams.set(this,ct),Object.defineProperties(this,{params:{value:Object.assign({},this.params,ot),writable:!1,enumerable:!0}})}const filterValidParams=ot=>{const rt={};return Object.keys(ot).forEach(at=>{isUpdatableParameter(at)?rt[at]=ot[at]:warn(`Invalid parameter to update: ${at}`)}),rt};function _destroy(){const ot=privateProps.domCache.get(this),rt=privateProps.innerParams.get(this);if(!rt){disposeWeakMaps(this);return}ot.popup&&globalState.swalCloseEventFinishedCallback&&(globalState.swalCloseEventFinishedCallback(),delete globalState.swalCloseEventFinishedCallback),typeof rt.didDestroy=="function"&&rt.didDestroy(),globalState.eventEmitter.emit("didDestroy"),disposeSwal(this)}const disposeSwal=ot=>{disposeWeakMaps(ot),delete ot.params,delete globalState.keydownHandler,delete globalState.keydownTarget,delete globalState.currentInstance},disposeWeakMaps=ot=>{ot.isAwaitingPromise?(unsetWeakMaps(privateProps,ot),ot.isAwaitingPromise=!0):(unsetWeakMaps(privateMethods,ot),unsetWeakMaps(privateProps,ot),delete ot.isAwaitingPromise,delete ot.disableButtons,delete ot.enableButtons,delete ot.getInput,delete ot.disableInput,delete ot.enableInput,delete ot.hideLoading,delete ot.disableLoading,delete ot.showValidationMessage,delete ot.resetValidationMessage,delete ot.close,delete ot.closePopup,delete ot.closeModal,delete ot.closeToast,delete ot.rejectPromise,delete ot.update,delete ot._destroy)},unsetWeakMaps=(ot,rt)=>{for(const at in ot)ot[at].delete(rt)};var instanceMethods=Object.freeze({__proto__:null,_destroy,close,closeModal:close,closePopup:close,closeToast:close,disableButtons,disableInput,disableLoading:hideLoading,enableButtons,enableInput,getInput,handleAwaitingPromise,hideLoading,rejectPromise,resetValidationMessage,showValidationMessage,update});const handlePopupClick=(ot,rt,at)=>{ot.toast?handleToastClick(ot,rt,at):(handleModalMousedown(rt),handleContainerMousedown(rt),handleModalClick(ot,rt,at))},handleToastClick=(ot,rt,at)=>{rt.popup.onclick=()=>{ot&&(isAnyButtonShown(ot)||ot.timer||ot.input)||at(DismissReason.close)}},isAnyButtonShown=ot=>!!(ot.showConfirmButton||ot.showDenyButton||ot.showCancelButton||ot.showCloseButton);let ignoreOutsideClick=!1;const handleModalMousedown=ot=>{ot.popup.onmousedown=()=>{ot.container.onmouseup=function(rt){ot.container.onmouseup=()=>{},rt.target===ot.container&&(ignoreOutsideClick=!0)}}},handleContainerMousedown=ot=>{ot.container.onmousedown=rt=>{rt.target===ot.container&&rt.preventDefault(),ot.popup.onmouseup=function(at){ot.popup.onmouseup=()=>{},(at.target===ot.popup||at.target instanceof HTMLElement&&ot.popup.contains(at.target))&&(ignoreOutsideClick=!0)}}},handleModalClick=(ot,rt,at)=>{rt.container.onclick=lt=>{if(ignoreOutsideClick){ignoreOutsideClick=!1;return}lt.target===rt.container&&callIfFunction(ot.allowOutsideClick)&&at(DismissReason.backdrop)}},isJqueryElement=ot=>typeof ot=="object"&&ot.jquery,isElement=ot=>ot instanceof Element||isJqueryElement(ot),argsToParams=ot=>{const rt={};return typeof ot[0]=="object"&&!isElement(ot[0])?Object.assign(rt,ot[0]):["title","html","icon"].forEach((at,lt)=>{const ct=ot[lt];typeof ct=="string"||isElement(ct)?rt[at]=ct:ct!==void 0&&error(`Unexpected type of ${at}! Expected "string" or "Element", got ${typeof ct}`)}),rt};function fire(){for(var ot=arguments.length,rt=new Array(ot),at=0;at<ot;at++)rt[at]=arguments[at];return new this(...rt)}function mixin(ot){class rt extends this{_main(lt,ct){return super._main(lt,Object.assign({},ot,ct))}}return rt}const getTimerLeft=()=>globalState.timeout&&globalState.timeout.getTimerLeft(),stopTimer=()=>{if(globalState.timeout)return stopTimerProgressBar(),globalState.timeout.stop()},resumeTimer=()=>{if(globalState.timeout){const ot=globalState.timeout.start();return animateTimerProgressBar(ot),ot}},toggleTimer=()=>{const ot=globalState.timeout;return ot&&(ot.running?stopTimer():resumeTimer())},increaseTimer=ot=>{if(globalState.timeout){const rt=globalState.timeout.increase(ot);return animateTimerProgressBar(rt,!0),rt}},isTimerRunning=()=>!!(globalState.timeout&&globalState.timeout.isRunning());let bodyClickListenerAdded=!1;const clickHandlers={};function bindClickHandler(){let ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";clickHandlers[ot]=this,bodyClickListenerAdded||(document.body.addEventListener("click",bodyClickListener),bodyClickListenerAdded=!0)}const bodyClickListener=ot=>{for(let rt=ot.target;rt&&rt!==document;rt=rt.parentNode)for(const at in clickHandlers){const lt=rt.getAttribute(at);if(lt){clickHandlers[at].fire({template:lt});return}}};class EventEmitter{constructor(){this.events={}}_getHandlersByEventName(rt){return typeof this.events[rt]>"u"&&(this.events[rt]=[]),this.events[rt]}on(rt,at){const lt=this._getHandlersByEventName(rt);lt.includes(at)||lt.push(at)}once(rt,at){var lt=this;const ct=function(){lt.removeListener(rt,ct);for(var ut=arguments.length,dt=new Array(ut),ht=0;ht<ut;ht++)dt[ht]=arguments[ht];at.apply(lt,dt)};this.on(rt,ct)}emit(rt){for(var at=arguments.length,lt=new Array(at>1?at-1:0),ct=1;ct<at;ct++)lt[ct-1]=arguments[ct];this._getHandlersByEventName(rt).forEach(ut=>{try{ut.apply(this,lt)}catch(dt){console.error(dt)}})}removeListener(rt,at){const lt=this._getHandlersByEventName(rt),ct=lt.indexOf(at);ct>-1&&lt.splice(ct,1)}removeAllListeners(rt){this.events[rt]!==void 0&&(this.events[rt].length=0)}reset(){this.events={}}}globalState.eventEmitter=new EventEmitter;const on=(ot,rt)=>{globalState.eventEmitter.on(ot,rt)},once=(ot,rt)=>{globalState.eventEmitter.once(ot,rt)},off=(ot,rt)=>{if(!ot){globalState.eventEmitter.reset();return}rt?globalState.eventEmitter.removeListener(ot,rt):globalState.eventEmitter.removeAllListeners(ot)};var staticMethods=Object.freeze({__proto__:null,argsToParams,bindClickHandler,clickCancel,clickConfirm,clickDeny,enableLoading:showLoading,fire,getActions,getCancelButton,getCloseButton,getConfirmButton,getContainer,getDenyButton,getFocusableElements,getFooter,getHtmlContainer,getIcon,getIconContent,getImage,getInputLabel,getLoader,getPopup,getProgressSteps,getTimerLeft,getTimerProgressBar,getTitle,getValidationMessage,increaseTimer,isDeprecatedParameter,isLoading,isTimerRunning,isUpdatableParameter,isValidParameter,isVisible,mixin,off,on,once,resumeTimer,showLoading,stopTimer,toggleTimer});class Timer{constructor(rt,at){this.callback=rt,this.remaining=at,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(rt){const at=this.running;return at&&this.stop(),this.remaining+=rt,at&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const swalStringParams=["swal-title","swal-html","swal-footer"],getTemplateParams=ot=>{const rt=typeof ot.template=="string"?document.querySelector(ot.template):ot.template;if(!rt)return{};const at=rt.content;return showWarningsForElements(at),Object.assign(getSwalParams(at),getSwalFunctionParams(at),getSwalButtons(at),getSwalImage(at),getSwalIcon(at),getSwalInput(at),getSwalStringParams(at,swalStringParams))},getSwalParams=ot=>{const rt={};return Array.from(ot.querySelectorAll("swal-param")).forEach(lt=>{showWarningsForAttributes(lt,["name","value"]);const ct=lt.getAttribute("name"),ut=lt.getAttribute("value");!ct||!ut||(typeof defaultParams[ct]=="boolean"?rt[ct]=ut!=="false":typeof defaultParams[ct]=="object"?rt[ct]=JSON.parse(ut):rt[ct]=ut)}),rt},getSwalFunctionParams=ot=>{const rt={};return Array.from(ot.querySelectorAll("swal-function-param")).forEach(lt=>{const ct=lt.getAttribute("name"),ut=lt.getAttribute("value");!ct||!ut||(rt[ct]=new Function(`return ${ut}`)())}),rt},getSwalButtons=ot=>{const rt={};return Array.from(ot.querySelectorAll("swal-button")).forEach(lt=>{showWarningsForAttributes(lt,["type","color","aria-label"]);const ct=lt.getAttribute("type");!ct||!["confirm","cancel","deny"].includes(ct)||(rt[`${ct}ButtonText`]=lt.innerHTML,rt[`show${capitalizeFirstLetter(ct)}Button`]=!0,lt.hasAttribute("color")&&(rt[`${ct}ButtonColor`]=lt.getAttribute("color")),lt.hasAttribute("aria-label")&&(rt[`${ct}ButtonAriaLabel`]=lt.getAttribute("aria-label")))}),rt},getSwalImage=ot=>{const rt={},at=ot.querySelector("swal-image");return at&&(showWarningsForAttributes(at,["src","width","height","alt"]),at.hasAttribute("src")&&(rt.imageUrl=at.getAttribute("src")||void 0),at.hasAttribute("width")&&(rt.imageWidth=at.getAttribute("width")||void 0),at.hasAttribute("height")&&(rt.imageHeight=at.getAttribute("height")||void 0),at.hasAttribute("alt")&&(rt.imageAlt=at.getAttribute("alt")||void 0)),rt},getSwalIcon=ot=>{const rt={},at=ot.querySelector("swal-icon");return at&&(showWarningsForAttributes(at,["type","color"]),at.hasAttribute("type")&&(rt.icon=at.getAttribute("type")),at.hasAttribute("color")&&(rt.iconColor=at.getAttribute("color")),rt.iconHtml=at.innerHTML),rt},getSwalInput=ot=>{const rt={},at=ot.querySelector("swal-input");at&&(showWarningsForAttributes(at,["type","label","placeholder","value"]),rt.input=at.getAttribute("type")||"text",at.hasAttribute("label")&&(rt.inputLabel=at.getAttribute("label")),at.hasAttribute("placeholder")&&(rt.inputPlaceholder=at.getAttribute("placeholder")),at.hasAttribute("value")&&(rt.inputValue=at.getAttribute("value")));const lt=Array.from(ot.querySelectorAll("swal-input-option"));return lt.length&&(rt.inputOptions={},lt.forEach(ct=>{showWarningsForAttributes(ct,["value"]);const ut=ct.getAttribute("value");if(!ut)return;const dt=ct.innerHTML;rt.inputOptions[ut]=dt})),rt},getSwalStringParams=(ot,rt)=>{const at={};for(const lt in rt){const ct=rt[lt],ut=ot.querySelector(ct);ut&&(showWarningsForAttributes(ut,[]),at[ct.replace(/^swal-/,"")]=ut.innerHTML.trim())}return at},showWarningsForElements=ot=>{const rt=swalStringParams.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(ot.children).forEach(at=>{const lt=at.tagName.toLowerCase();rt.includes(lt)||warn(`Unrecognized element <${lt}>`)})},showWarningsForAttributes=(ot,rt)=>{Array.from(ot.attributes).forEach(at=>{rt.indexOf(at.name)===-1&&warn([`Unrecognized attribute "${at.name}" on <${ot.tagName.toLowerCase()}>.`,`${rt.length?`Allowed attributes are: ${rt.join(", ")}`:"To set the value, use HTML within the element."}`])})},SHOW_CLASS_TIMEOUT=10,openPopup=ot=>{const rt=getContainer(),at=getPopup();typeof ot.willOpen=="function"&&ot.willOpen(at),globalState.eventEmitter.emit("willOpen",at);const ct=window.getComputedStyle(document.body).overflowY;addClasses(rt,at,ot),setTimeout(()=>{setScrollingVisibility(rt,at)},SHOW_CLASS_TIMEOUT),isModal()&&(fixScrollContainer(rt,ot.scrollbarPadding,ct),setAriaHidden()),!isToast()&&!globalState.previousActiveElement&&(globalState.previousActiveElement=document.activeElement),typeof ot.didOpen=="function"&&setTimeout(()=>ot.didOpen(at)),globalState.eventEmitter.emit("didOpen",at),removeClass(rt,swalClasses["no-transition"])},swalOpenAnimationFinished=ot=>{const rt=getPopup();if(ot.target!==rt||!animationEndEvent)return;const at=getContainer();rt.removeEventListener(animationEndEvent,swalOpenAnimationFinished),at.style.overflowY="auto"},setScrollingVisibility=(ot,rt)=>{animationEndEvent&&hasCssAnimation(rt)?(ot.style.overflowY="hidden",rt.addEventListener(animationEndEvent,swalOpenAnimationFinished)):ot.style.overflowY="auto"},fixScrollContainer=(ot,rt,at)=>{iOSfix(),rt&&at!=="hidden"&&replaceScrollbarWithPadding(at),setTimeout(()=>{ot.scrollTop=0})},addClasses=(ot,rt,at)=>{addClass(ot,at.showClass.backdrop),at.animation?(rt.style.setProperty("opacity","0","important"),show(rt,"grid"),setTimeout(()=>{addClass(rt,at.showClass.popup),rt.style.removeProperty("opacity")},SHOW_CLASS_TIMEOUT)):show(rt,"grid"),addClass([document.documentElement,document.body],swalClasses.shown),at.heightAuto&&at.backdrop&&!at.toast&&addClass([document.documentElement,document.body],swalClasses["height-auto"])};var defaultInputValidators={email:(ot,rt)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(ot)?Promise.resolve():Promise.resolve(rt||"Invalid email address"),url:(ot,rt)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(ot)?Promise.resolve():Promise.resolve(rt||"Invalid URL")};function setDefaultInputValidators(ot){ot.inputValidator||(ot.input==="email"&&(ot.inputValidator=defaultInputValidators.email),ot.input==="url"&&(ot.inputValidator=defaultInputValidators.url))}function validateCustomTargetElement(ot){(!ot.target||typeof ot.target=="string"&&!document.querySelector(ot.target)||typeof ot.target!="string"&&!ot.target.appendChild)&&(warn('Target parameter is not valid, defaulting to "body"'),ot.target="body")}function setParameters(ot){setDefaultInputValidators(ot),ot.showLoaderOnConfirm&&!ot.preConfirm&&warn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),validateCustomTargetElement(ot),typeof ot.title=="string"&&(ot.title=ot.title.split(`
`).join("<br />")),init(ot)}let currentInstance;var _promise=new WeakMap;class SweetAlert{constructor(){if(_classPrivateFieldInitSpec(this,_promise,void 0),typeof window>"u")return;currentInstance=this;for(var rt=arguments.length,at=new Array(rt),lt=0;lt<rt;lt++)at[lt]=arguments[lt];const ct=Object.freeze(this.constructor.argsToParams(at));this.params=ct,this.isAwaitingPromise=!1,_classPrivateFieldSet2(_promise,this,this._main(currentInstance.params))}_main(rt){let at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(showWarningsForParams(Object.assign({},at,rt)),globalState.currentInstance){const ut=privateMethods.swalPromiseResolve.get(globalState.currentInstance),{isAwaitingPromise:dt}=globalState.currentInstance;globalState.currentInstance._destroy(),dt||ut({isDismissed:!0}),isModal()&&unsetAriaHidden()}globalState.currentInstance=currentInstance;const lt=prepareParams(rt,at);setParameters(lt),Object.freeze(lt),globalState.timeout&&(globalState.timeout.stop(),delete globalState.timeout),clearTimeout(globalState.restoreFocusTimeout);const ct=populateDomCache(currentInstance);return render(currentInstance,lt),privateProps.innerParams.set(currentInstance,lt),swalPromise(currentInstance,ct,lt)}then(rt){return _classPrivateFieldGet2(_promise,this).then(rt)}finally(rt){return _classPrivateFieldGet2(_promise,this).finally(rt)}}const swalPromise=(ot,rt,at)=>new Promise((lt,ct)=>{const ut=dt=>{ot.close({isDismissed:!0,dismiss:dt})};privateMethods.swalPromiseResolve.set(ot,lt),privateMethods.swalPromiseReject.set(ot,ct),rt.confirmButton.onclick=()=>{handleConfirmButtonClick(ot)},rt.denyButton.onclick=()=>{handleDenyButtonClick(ot)},rt.cancelButton.onclick=()=>{handleCancelButtonClick(ot,ut)},rt.closeButton.onclick=()=>{ut(DismissReason.close)},handlePopupClick(at,rt,ut),addKeydownHandler(globalState,at,ut),handleInputOptionsAndValue(ot,at),openPopup(at),setupTimer(globalState,at,ut),initFocus(rt,at),setTimeout(()=>{rt.container.scrollTop=0})}),prepareParams=(ot,rt)=>{const at=getTemplateParams(ot),lt=Object.assign({},defaultParams,rt,at,ot);return lt.showClass=Object.assign({},defaultParams.showClass,lt.showClass),lt.hideClass=Object.assign({},defaultParams.hideClass,lt.hideClass),lt.animation===!1&&(lt.showClass={backdrop:"swal2-noanimation"},lt.hideClass={}),lt},populateDomCache=ot=>{const rt={popup:getPopup(),container:getContainer(),actions:getActions(),confirmButton:getConfirmButton(),denyButton:getDenyButton(),cancelButton:getCancelButton(),loader:getLoader(),closeButton:getCloseButton(),validationMessage:getValidationMessage(),progressSteps:getProgressSteps()};return privateProps.domCache.set(ot,rt),rt},setupTimer=(ot,rt,at)=>{const lt=getTimerProgressBar();hide(lt),rt.timer&&(ot.timeout=new Timer(()=>{at("timer"),delete ot.timeout},rt.timer),rt.timerProgressBar&&(show(lt),applyCustomClass(lt,rt,"timerProgressBar"),setTimeout(()=>{ot.timeout&&ot.timeout.running&&animateTimerProgressBar(rt.timer)})))},initFocus=(ot,rt)=>{if(!rt.toast){if(!callIfFunction(rt.allowEnterKey)){warnAboutDeprecation("allowEnterKey"),blurActiveElement();return}focusAutofocus(ot)||focusButton(ot,rt)||setFocus(-1,1)}},focusAutofocus=ot=>{const rt=ot.popup.querySelectorAll("[autofocus]");for(const at of rt)if(at instanceof HTMLElement&&isVisible$1(at))return at.focus(),!0;return!1},focusButton=(ot,rt)=>rt.focusDeny&&isVisible$1(ot.denyButton)?(ot.denyButton.focus(),!0):rt.focusCancel&&isVisible$1(ot.cancelButton)?(ot.cancelButton.focus(),!0):rt.focusConfirm&&isVisible$1(ot.confirmButton)?(ot.confirmButton.focus(),!0):!1,blurActiveElement=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const ot=new Date,rt=localStorage.getItem("swal-initiation");rt?(ot.getTime()-Date.parse(rt))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const at=document.createElement("audio");at.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",at.loop=!0,document.body.appendChild(at),setTimeout(()=>{at.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${ot}`)}SweetAlert.prototype.disableButtons=disableButtons;SweetAlert.prototype.enableButtons=enableButtons;SweetAlert.prototype.getInput=getInput;SweetAlert.prototype.disableInput=disableInput;SweetAlert.prototype.enableInput=enableInput;SweetAlert.prototype.hideLoading=hideLoading;SweetAlert.prototype.disableLoading=hideLoading;SweetAlert.prototype.showValidationMessage=showValidationMessage;SweetAlert.prototype.resetValidationMessage=resetValidationMessage;SweetAlert.prototype.close=close;SweetAlert.prototype.closePopup=close;SweetAlert.prototype.closeModal=close;SweetAlert.prototype.closeToast=close;SweetAlert.prototype.rejectPromise=rejectPromise;SweetAlert.prototype.update=update;SweetAlert.prototype._destroy=_destroy;Object.assign(SweetAlert,staticMethods);Object.keys(instanceMethods).forEach(ot=>{SweetAlert[ot]=function(){return currentInstance&&currentInstance[ot]?currentInstance[ot](...arguments):null}});SweetAlert.DismissReason=DismissReason;SweetAlert.version="11.14.1";const Swal=SweetAlert;Swal.default=Swal;typeof document<"u"&&function(ot,rt){var at=ot.createElement("style");if(ot.getElementsByTagName("head")[0].appendChild(at),at.styleSheet)at.styleSheet.disabled||(at.styleSheet.cssText=rt);else try{at.innerHTML=rt}catch{at.innerText=rt}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const Calendar=()=>{const{CurrentUser:ot,UserData:rt,Loading:at,UserRole:lt}=useAuth(),[ct,ut]=reactExports.useState(null);reactExports.useState(null);const[dt,ht]=reactExports.useState([]),[ft,pt]=reactExports.useState({title:"",start:"",end:"",color:""}),[mt,gt]=reactExports.useState([]),[yt,xt]=reactExports.useState(null);reactExports.useEffect(()=>{const kt=auth.onAuthStateChanged(async It=>{if(It){const Nt=It.email.substring(0,9);ut(Nt),(await getDoc(doc(db$2,"Supervisor",Nt))).exists()?(xt("Supervisor"),await Rt()):(await getDoc(doc(db$2,"Student",Nt))).exists()&&xt("Student")}else ut(null),xt(null),ht([])});return()=>kt()},[]),reactExports.useEffect(()=>{!at&&rt&&(ut(rt.ID),xt(lt==="Student"?rt.StudentType:lt),ht([]))},[at,rt,lt]);const bt=async kt=>{console.log(`Fetching meetings for userId: ${kt}`);try{const It=doc(db$2,"Events",kt),Nt=await getDoc(It);if(Nt.exists()){const Pt=Nt.data(),Tt={title:Pt.subject,start:`${Pt.date}T${Pt.time}:00`,end:`${Pt.date}T${Pt.time}:00`,backgroundColor:Pt.backgroundColor,borderColor:Pt.borderColor};ht([Tt]),console.log("Fetched meetings:",[Tt])}else console.warn("No meetings found for the given userId:",kt),ht([])}catch(It){console.error("Error fetching meeting:",It)}},Et=async kt=>{try{const It=doc(db$2,"Events",kt),Nt=await getDoc(It);if(Nt.exists()){const Tt=(Nt.data().events||[]).map(Ct=>({title:Ct.title,start:Ct.start,end:Ct.end,backgroundColor:Ct.backgroundColor,borderColor:Ct.borderColor}));ht(Tt)}else console.warn("No events found for the given userId:",kt),ht([])}catch(It){console.error("Error fetching events:",It)}};reactExports.useEffect(()=>{ct&&(Et(ct),bt(ct))},[ct]);const Rt=async()=>{try{if(!ct){console.warn("SupervisorID is undefined");return}const kt=doc(db$2,"Module",ct.toString()),It=await getDoc(kt);if(It.exists()){const Pt=It.data().ModuleTitle||[];gt(Pt),console.log("Modules fetched:",Pt)}else console.warn(`No module document found for SupervisorID: ${ct}`)}catch(kt){console.error("Error fetching modules:",kt)}};reactExports.useEffect(()=>{ct&&Rt()},[ct]);const wt=kt=>{pt({...ft,start:kt.dateStr,end:kt.dateStr})},_t=async()=>{const kt=mt.length>0?mt.map(Nt=>`<option value="${Nt}">${Nt}</option>`).join(""):'<option value="" disabled>No modules available</option>',{value:It}=await Swal.fire({title:"Add Event",html:`
                <input id="swal-input1" class="swal2-input custom-swal-input" placeholder="Event Title">
                <input id="swal-input2" class="swal2-input custom-swal-input" type="date" value="${ft.start}">
                <input id="swal-input3" class="swal2-input custom-swal-input" type="date" value="${ft.end}">
                <select id="swal-input4" class="swal2-input">
                    <option value="" disabled selected>Select a color</option>
                    <option value="#378006" style="background-color: #378006; color: #378006;">● Green</option>
                    <option value="#ff9f89" style="background-color: #ff9f89; color: #ff9f89;">● Pink</option>
                    <option value="#1e90ff" style="background-color: #1e90ff; color: #1e90ff;">● Blue</option>
                    <option value="#ff6347" style="background-color: #ff6347; color: #ff6347;">● Red</option>
                    <option value="#ffa500" style="background-color: #ffa500; color: #ffa500;">● Orange</option>
                </select>
                <select id="swal-input5" class="swal2-input">
                    <option value="" disabled selected>Select a module</option>
                    ${kt}
                </select>
            `,focusConfirm:!1,confirmButtonColor:"#343a40",preConfirm:()=>[document.getElementById("swal-input1").value,document.getElementById("swal-input2").value,document.getElementById("swal-input3").value,document.getElementById("swal-input4").value,document.getElementById("swal-input5").value]});if(It){const[Nt,Pt,Tt,Ct,Ot]=It,Dt=new Date().setHours(0,0,0);if(new Date(Pt).setHours(0,0,0,0)<Dt){Swal.fire("The start date cannot be in the past","error");return}const Mt={title:Nt,start:Pt,end:Tt,module:Ot,backgroundColor:Ct,borderColor:Ct,SupervisorID:ct};try{const zt=doc(db$2,"Events",ct);await updateDoc(zt,{events:arrayUnion(Mt)}),ht(Qt=>[...Qt,Mt]),Swal.fire("Event Added",JSON.stringify(It))}catch(zt){console.error("Error adding event:",zt),Swal.fire("Error","Failed to add event. Please try again","error")}}},At=ot!=null&&ot.email.startsWith("7")?"Supervisor":"";return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[At==="Supervisor"&&jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsx("button",{className:"btn btn-primary py-2 px-4 rounded shadow-md hover:bg-blue-700 transition-colors",onClick:_t,children:"Add Event"})}),jsxRuntimeExports.jsx(FullCalendar,{plugins:[index$2,index,index$1],initialView:"dayGridMonth",weekends:!1,headerToolbar:{start:"today prev,next",center:"title",end:"dayGridMonth,timeGridWeek,timeGridDay"},height:"90vh",dateClick:wt,events:dt})]})},UpcomingMilestones=()=>{const ot={"Software Development":"bg-[#00ad43]","Software Project":"bg-[#00bfff]","Software Testing":"bg-[#590098]","Business Analysis":"bg-[#FF8503]"},rt=[{title:"Research Proposal Due",date:"Due Date: August 15th, 2024",description:"Submit your research proposal outlining your planned study and methodology.",module:"Software Development",linkText:null,linkHref:null,latest:!0},{title:"Methodology Presentation",date:"Presentation Date: September 10th, 2024",description:"Prepare and present your research methodology to the committee.",module:"Software Development"},{title:"Data Collection Completion",date:"Completion Date: October 5th, 2024",description:"Finish collecting all necessary data for your research.",module:"Software Project"},{title:"Chapter 1 Thesis Due",date:"Due Date: November 1st, 2024",description:"Submit the first chapter of your thesis for review.",module:"Software Testing"},{title:"Business Analysis Test",date:"Test Date: December 1st, 2024",description:"Prepare for and complete the Business Analysis test.",module:"Business Analysis"}];return jsxRuntimeExports.jsx("section",{className:"relative border-l ml-8 border-gray-200 dark:border-gray-700",children:rt.map((at,lt)=>jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("span",{className:`absolute flex items-center justify-center w-6 h-6 ${ot[at.module]||"bg-blue-100"} rounded-full -left-3 ring-8 ring-white dark:ring-gray-900`,children:jsxRuntimeExports.jsx("svg",{className:"w-2.5 h-2.5 text-white dark:text-blue-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),jsxRuntimeExports.jsxs("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:[at.title,at.latest&&jsxRuntimeExports.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mx-3 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300",children:"Latest"})]}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:at.date}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:at.description}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm font-medium text-gray-600 dark:text-gray-400",children:at.module}),at.linkText&&jsxRuntimeExports.jsxs("a",{href:at.linkHref,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:[jsxRuntimeExports.jsxs("svg",{className:"w-3.5 h-3.5 mr-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[jsxRuntimeExports.jsx("path",{d:"M14.707 7.793a1 1 0 0 0-1.414 0L11 10.086V1.5a1 1 0 0 0-2 0v8.586L6.707 7.793a1 1 0 1 0-1.414 1.414l4 4a1 1 0 0 0 1.416 0l4-4a1 1 0 0 0-.002-1.414Z"}),jsxRuntimeExports.jsx("path",{d:"M18 12h-2.55l-2.975 2.975a3.5 3.5 0 0 1-4.95 0L4.55 12H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Zm-3 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"})]}),at.linkText]})]},lt))})},Footer$1=()=>jsxRuntimeExports.jsx("footer",{className:"mt-32 bottom-0",style:{display:"none"},children:jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400",children:["© 2024 All Rights Reserved. ",jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"PostGrade Portal"})," is a product of University Of Johannesburg."]})}),BannerImage$1="/PostGradePortal/assets/research_banner-DKl7mg4v.jpg",BannerImage="/PostGradePortal/assets/banner-BPwYkrES.jpg",FinalSubmissionModal=({isOpen:ot,onClose:rt,onSave:at,ResearchID:lt,UserID:ct})=>{const[ut,dt]=reactExports.useState(Array(5).fill(null)),[ht,ft]=reactExports.useState(!1);if(!ot)return null;const pt=(yt,xt)=>{const bt=[...ut];bt[yt]=xt.target.files[0],dt(bt)},mt=()=>{ft(!ht)},gt=async()=>{try{const yt=ut.map((xt,bt)=>{if(!xt)return Promise.resolve();const Et=ref(storage,`Final Submission/${lt}/${ct}/${xt.name}`);return uploadBytes(Et,xt)});await Promise.all(yt),B$3.success("Files uploaded successfully!"),at(ut)}catch(yt){console.error("Error uploading files:",yt)}finally{rt()}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700",children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-6 h-6"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4",children:"Final Submission"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"affidavit",className:"text-sm text-gray-700 font-medium",children:"A copy of your Affidavit (Stamped by a Commissioner of Oaths)"}),jsxRuntimeExports.jsx("input",{type:"file",id:"affidavit",accept:"application/pdf",onChange:yt=>pt(0,yt),className:"file:border file:border-gray-300 file:rounded file:py-2 file:px-4 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"declaration",className:"text-sm text-gray-700 font-medium",children:"Your Declaration of Authenticity (Signed and Dated)"}),jsxRuntimeExports.jsx("input",{type:"file",id:"declaration",accept:"application/pdf",onChange:yt=>pt(1,yt),className:"file:border file:border-gray-300 file:rounded file:py-2 file:px-4 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"turnitinReport",className:"text-sm text-gray-700 font-medium",children:["Your Final Turnitin Report (PDF)",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Ensure that the Similarity Index is below 20%)"})]}),jsxRuntimeExports.jsx("input",{type:"file",id:"turnitinReport",accept:"application/pdf",onChange:yt=>pt(2,yt),className:"file:border file:border-gray-300 file:rounded file:py-2 file:px-4 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsx("label",{htmlFor:"languageEditingLetter",className:"text-sm text-gray-700 font-medium",children:"Signed Letter as Proof of Language Editing by a Language Editor"}),jsxRuntimeExports.jsx("input",{type:"file",id:"languageEditingLetter",accept:"application/pdf",onChange:yt=>pt(3,yt),className:"file:border file:border-gray-300 file:rounded file:py-2 file:px-4 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-200 mb-2"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-2",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"softCopy",className:"text-sm text-gray-700 font-medium",children:["A soft Copy of the Research Project / Minor Dissertation / Dissertation/Thesis",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Word/PDF format)"})]}),jsxRuntimeExports.jsx("input",{type:"file",id:"softCopy",accept:"application/pdf",onChange:yt=>pt(4,yt),className:"file:border file:border-gray-300 file:rounded file:py-2 file:px-4 file:bg-gray-50 file:text-gray-700 hover:file:bg-gray-200 mb-2"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-4",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",id:"declarationCheckbox",checked:ht,onChange:mt,className:"form-checkbox h-5 w-5 rounded-full text-blue-500 ring-0 focus:ring-0"}),jsxRuntimeExports.jsx("label",{htmlFor:"declarationCheckbox",className:"text-sm text-gray-700 font-medium",children:"I hereby declare that the information provided is accurate and true."})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end mt-4 gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded ml-2",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:gt,disabled:!ht,className:`bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded ${ht?"":"opacity-50 cursor-not-allowed"}`,children:"Submit"})]})]})})};var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(ot,rt){var at=withMimeType(ot);if(typeof at.path!="string"){var lt=ot.webkitRelativePath;Object.defineProperty(at,"path",{value:typeof rt=="string"?rt:typeof lt=="string"&&lt.length>0?lt:ot.name,writable:!1,configurable:!1,enumerable:!0})}return at}function withMimeType(ot){var rt=ot.name,at=rt&&rt.lastIndexOf(".")!==-1;if(at&&!ot.type){var lt=rt.split(".").pop().toLowerCase(),ct=COMMON_MIME_TYPES.get(lt);ct&&Object.defineProperty(ot,"type",{value:ct,writable:!1,configurable:!1,enumerable:!0})}return ot}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(ot){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){return isObject(ot)&&isDataTransfer(ot.dataTransfer)?[2,getDataTransferFiles(ot.dataTransfer,ot.type)]:isChangeEvt(ot)?[2,getInputFiles(ot)]:Array.isArray(ot)&&ot.every(function(at){return"getFile"in at&&typeof at.getFile=="function"})?[2,getFsHandleFiles(ot)]:[2,[]]})})}function isDataTransfer(ot){return isObject(ot)}function isChangeEvt(ot){return isObject(ot)&&isObject(ot.target)}function isObject(ot){return typeof ot=="object"&&ot!==null}function getInputFiles(ot){return fromList(ot.target.files).map(function(rt){return toFileWithPath(rt)})}function getFsHandleFiles(ot){return __awaiter(this,void 0,void 0,function(){var rt;return __generator(this,function(at){switch(at.label){case 0:return[4,Promise.all(ot.map(function(lt){return lt.getFile()}))];case 1:return rt=at.sent(),[2,rt.map(function(lt){return toFileWithPath(lt)})]}})})}function getDataTransferFiles(ot,rt){return __awaiter(this,void 0,void 0,function(){var at,lt;return __generator(this,function(ct){switch(ct.label){case 0:return ot.items?(at=fromList(ot.items).filter(function(ut){return ut.kind==="file"}),rt!=="drop"?[2,at]:[4,Promise.all(at.map(toFilePromises))]):[3,2];case 1:return lt=ct.sent(),[2,noIgnoredFiles(flatten(lt))];case 2:return[2,noIgnoredFiles(fromList(ot.files).map(function(ut){return toFileWithPath(ut)}))]}})})}function noIgnoredFiles(ot){return ot.filter(function(rt){return FILES_TO_IGNORE.indexOf(rt.name)===-1})}function fromList(ot){if(ot===null)return[];for(var rt=[],at=0;at<ot.length;at++){var lt=ot[at];rt.push(lt)}return rt}function toFilePromises(ot){if(typeof ot.webkitGetAsEntry!="function")return fromDataTransferItem(ot);var rt=ot.webkitGetAsEntry();return rt&&rt.isDirectory?fromDirEntry(rt):fromDataTransferItem(ot)}function flatten(ot){return ot.reduce(function(rt,at){return __spreadArray(__spreadArray([],__read(rt),!1),__read(Array.isArray(at)?flatten(at):[at]),!1)},[])}function fromDataTransferItem(ot){var rt=ot.getAsFile();if(!rt)return Promise.reject("".concat(ot," is not a File"));var at=toFileWithPath(rt);return Promise.resolve(at)}function fromEntry(ot){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){return[2,ot.isDirectory?fromDirEntry(ot):fromFileEntry(ot)]})})}function fromDirEntry(ot){var rt=ot.createReader();return new Promise(function(at,lt){var ct=[];function ut(){var dt=this;rt.readEntries(function(ht){return __awaiter(dt,void 0,void 0,function(){var ft,pt,mt;return __generator(this,function(gt){switch(gt.label){case 0:if(ht.length)return[3,5];gt.label=1;case 1:return gt.trys.push([1,3,,4]),[4,Promise.all(ct)];case 2:return ft=gt.sent(),at(ft),[3,4];case 3:return pt=gt.sent(),lt(pt),[3,4];case 4:return[3,6];case 5:mt=Promise.all(ht.map(fromEntry)),ct.push(mt),ut(),gt.label=6;case 6:return[2]}})})},function(ht){lt(ht)})}ut()})}function fromFileEntry(ot){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(rt){return[2,new Promise(function(at,lt){ot.file(function(ct){var ut=toFileWithPath(ct,ot.fullPath);at(ut)},function(ct){lt(ct)})})]})})}var _default$1=function(ot,rt){if(ot&&rt){var at=Array.isArray(rt)?rt:rt.split(","),lt=ot.name||"",ct=(ot.type||"").toLowerCase(),ut=ct.replace(/\/.*$/,"");return at.some(function(dt){var ht=dt.trim().toLowerCase();return ht.charAt(0)==="."?lt.toLowerCase().endsWith(ht):ht.endsWith("/*")?ut===ht.replace(/\/.*$/,""):ct===ht})}return!0};function _toConsumableArray$1(ot){return _arrayWithoutHoles$1(ot)||_iterableToArray$1(ot)||_unsupportedIterableToArray$1(ot)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(ot){if(typeof Symbol<"u"&&ot[Symbol.iterator]!=null||ot["@@iterator"]!=null)return Array.from(ot)}function _arrayWithoutHoles$1(ot){if(Array.isArray(ot))return _arrayLikeToArray$1(ot)}function ownKeys$1(ot,rt){var at=Object.keys(ot);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ot);rt&&(lt=lt.filter(function(ct){return Object.getOwnPropertyDescriptor(ot,ct).enumerable})),at.push.apply(at,lt)}return at}function _objectSpread$1(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt]!=null?arguments[rt]:{};rt%2?ownKeys$1(Object(at),!0).forEach(function(lt){_defineProperty$2(ot,lt,at[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(at)):ownKeys$1(Object(at)).forEach(function(lt){Object.defineProperty(ot,lt,Object.getOwnPropertyDescriptor(at,lt))})}return ot}function _defineProperty$2(ot,rt,at){return rt in ot?Object.defineProperty(ot,rt,{value:at,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=at,ot}function _slicedToArray$1(ot,rt){return _arrayWithHoles$1(ot)||_iterableToArrayLimit$1(ot,rt)||_unsupportedIterableToArray$1(ot,rt)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(ot,rt){if(ot){if(typeof ot=="string")return _arrayLikeToArray$1(ot,rt);var at=Object.prototype.toString.call(ot).slice(8,-1);if(at==="Object"&&ot.constructor&&(at=ot.constructor.name),at==="Map"||at==="Set")return Array.from(ot);if(at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at))return _arrayLikeToArray$1(ot,rt)}}function _arrayLikeToArray$1(ot,rt){(rt==null||rt>ot.length)&&(rt=ot.length);for(var at=0,lt=new Array(rt);at<rt;at++)lt[at]=ot[at];return lt}function _iterableToArrayLimit$1(ot,rt){var at=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(at!=null){var lt=[],ct=!0,ut=!1,dt,ht;try{for(at=at.call(ot);!(ct=(dt=at.next()).done)&&(lt.push(dt.value),!(rt&&lt.length===rt));ct=!0);}catch(ft){ut=!0,ht=ft}finally{try{!ct&&at.return!=null&&at.return()}finally{if(ut)throw ht}}return lt}}function _arrayWithHoles$1(ot){if(Array.isArray(ot))return ot}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function ot(rt){rt=Array.isArray(rt)&&rt.length===1?rt[0]:rt;var at=Array.isArray(rt)?"one of ".concat(rt.join(", ")):rt;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(at)}},getTooLargeRejectionErr=function ot(rt){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(rt," ").concat(rt===1?"byte":"bytes")}},getTooSmallRejectionErr=function ot(rt){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(rt," ").concat(rt===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(ot,rt){var at=ot.type==="application/x-moz-file"||_default$1(ot,rt);return[at,at?null:getInvalidTypeRejectionErr(rt)]}function fileMatchSize(ot,rt,at){if(isDefined(ot.size))if(isDefined(rt)&&isDefined(at)){if(ot.size>at)return[!1,getTooLargeRejectionErr(at)];if(ot.size<rt)return[!1,getTooSmallRejectionErr(rt)]}else{if(isDefined(rt)&&ot.size<rt)return[!1,getTooSmallRejectionErr(rt)];if(isDefined(at)&&ot.size>at)return[!1,getTooLargeRejectionErr(at)]}return[!0,null]}function isDefined(ot){return ot!=null}function allFilesAccepted(ot){var rt=ot.files,at=ot.accept,lt=ot.minSize,ct=ot.maxSize,ut=ot.multiple,dt=ot.maxFiles,ht=ot.validator;return!ut&&rt.length>1||ut&&dt>=1&&rt.length>dt?!1:rt.every(function(ft){var pt=fileAccepted(ft,at),mt=_slicedToArray$1(pt,1),gt=mt[0],yt=fileMatchSize(ft,lt,ct),xt=_slicedToArray$1(yt,1),bt=xt[0],Et=ht?ht(ft):null;return gt&&bt&&!Et})}function isPropagationStopped(ot){return typeof ot.isPropagationStopped=="function"?ot.isPropagationStopped():typeof ot.cancelBubble<"u"?ot.cancelBubble:!1}function isEvtWithFiles(ot){return ot.dataTransfer?Array.prototype.some.call(ot.dataTransfer.types,function(rt){return rt==="Files"||rt==="application/x-moz-file"}):!!ot.target&&!!ot.target.files}function onDocumentDragOver(ot){ot.preventDefault()}function isIe(ot){return ot.indexOf("MSIE")!==-1||ot.indexOf("Trident/")!==-1}function isEdge(ot){return ot.indexOf("Edge/")!==-1}function isIeOrEdge(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(ot)||isEdge(ot)}function composeEventHandlers(){for(var ot=arguments.length,rt=new Array(ot),at=0;at<ot;at++)rt[at]=arguments[at];return function(lt){for(var ct=arguments.length,ut=new Array(ct>1?ct-1:0),dt=1;dt<ct;dt++)ut[dt-1]=arguments[dt];return rt.some(function(ht){return!isPropagationStopped(lt)&&ht&&ht.apply(void 0,[lt].concat(ut)),isPropagationStopped(lt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(ot){if(isDefined(ot)){var rt=Object.entries(ot).filter(function(at){var lt=_slicedToArray$1(at,2),ct=lt[0],ut=lt[1],dt=!0;return isMIMEType(ct)||(console.warn('Skipped "'.concat(ct,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),dt=!1),(!Array.isArray(ut)||!ut.every(isExt))&&(console.warn('Skipped "'.concat(ct,'" because an invalid file extension was provided.')),dt=!1),dt}).reduce(function(at,lt){var ct=_slicedToArray$1(lt,2),ut=ct[0],dt=ct[1];return _objectSpread$1(_objectSpread$1({},at),{},_defineProperty$2({},ut,dt))},{});return[{description:"Files",accept:rt}]}return ot}function acceptPropAsAcceptAttr(ot){if(isDefined(ot))return Object.entries(ot).reduce(function(rt,at){var lt=_slicedToArray$1(at,2),ct=lt[0],ut=lt[1];return[].concat(_toConsumableArray$1(rt),[ct],_toConsumableArray$1(ut))},[]).filter(function(rt){return isMIMEType(rt)||isExt(rt)}).join(",")}function isAbort(ot){return ot instanceof DOMException&&(ot.name==="AbortError"||ot.code===ot.ABORT_ERR)}function isSecurityError(ot){return ot instanceof DOMException&&(ot.name==="SecurityError"||ot.code===ot.SECURITY_ERR)}function isMIMEType(ot){return ot==="audio/*"||ot==="video/*"||ot==="image/*"||ot==="text/*"||/\w+\/[-+.\w]+/g.test(ot)}function isExt(ot){return/^.*\.[\w]+$/.test(ot)}var _excluded=["children"],_excluded2=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(ot){return _arrayWithoutHoles(ot)||_iterableToArray(ot)||_unsupportedIterableToArray(ot)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(ot){if(typeof Symbol<"u"&&ot[Symbol.iterator]!=null||ot["@@iterator"]!=null)return Array.from(ot)}function _arrayWithoutHoles(ot){if(Array.isArray(ot))return _arrayLikeToArray(ot)}function _slicedToArray(ot,rt){return _arrayWithHoles(ot)||_iterableToArrayLimit(ot,rt)||_unsupportedIterableToArray(ot,rt)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(ot,rt){if(ot){if(typeof ot=="string")return _arrayLikeToArray(ot,rt);var at=Object.prototype.toString.call(ot).slice(8,-1);if(at==="Object"&&ot.constructor&&(at=ot.constructor.name),at==="Map"||at==="Set")return Array.from(ot);if(at==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(at))return _arrayLikeToArray(ot,rt)}}function _arrayLikeToArray(ot,rt){(rt==null||rt>ot.length)&&(rt=ot.length);for(var at=0,lt=new Array(rt);at<rt;at++)lt[at]=ot[at];return lt}function _iterableToArrayLimit(ot,rt){var at=ot==null?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(at!=null){var lt=[],ct=!0,ut=!1,dt,ht;try{for(at=at.call(ot);!(ct=(dt=at.next()).done)&&(lt.push(dt.value),!(rt&&lt.length===rt));ct=!0);}catch(ft){ut=!0,ht=ft}finally{try{!ct&&at.return!=null&&at.return()}finally{if(ut)throw ht}}return lt}}function _arrayWithHoles(ot){if(Array.isArray(ot))return ot}function ownKeys(ot,rt){var at=Object.keys(ot);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(ot);rt&&(lt=lt.filter(function(ct){return Object.getOwnPropertyDescriptor(ot,ct).enumerable})),at.push.apply(at,lt)}return at}function _objectSpread(ot){for(var rt=1;rt<arguments.length;rt++){var at=arguments[rt]!=null?arguments[rt]:{};rt%2?ownKeys(Object(at),!0).forEach(function(lt){_defineProperty$1(ot,lt,at[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(at)):ownKeys(Object(at)).forEach(function(lt){Object.defineProperty(ot,lt,Object.getOwnPropertyDescriptor(at,lt))})}return ot}function _defineProperty$1(ot,rt,at){return rt in ot?Object.defineProperty(ot,rt,{value:at,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=at,ot}function _objectWithoutProperties$1(ot,rt){if(ot==null)return{};var at=_objectWithoutPropertiesLoose(ot,rt),lt,ct;if(Object.getOwnPropertySymbols){var ut=Object.getOwnPropertySymbols(ot);for(ct=0;ct<ut.length;ct++)lt=ut[ct],!(rt.indexOf(lt)>=0)&&Object.prototype.propertyIsEnumerable.call(ot,lt)&&(at[lt]=ot[lt])}return at}function _objectWithoutPropertiesLoose(ot,rt){if(ot==null)return{};var at={},lt=Object.keys(ot),ct,ut;for(ut=0;ut<lt.length;ut++)ct=lt[ut],!(rt.indexOf(ct)>=0)&&(at[ct]=ot[ct]);return at}var Dropzone$2=reactExports.forwardRef(function(ot,rt){var at=ot.children,lt=_objectWithoutProperties$1(ot,_excluded),ct=useDropzone(lt),ut=ct.open,dt=_objectWithoutProperties$1(ct,_excluded2);return reactExports.useImperativeHandle(rt,function(){return{open:ut}},[ut]),React.createElement(reactExports.Fragment,null,at(_objectSpread(_objectSpread({},dt),{},{open:ut})))});Dropzone$2.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone$2.defaultProps=defaultProps;Dropzone$2.propTypes={children:PropTypes.func,accept:PropTypes.objectOf(PropTypes.arrayOf(PropTypes.string)),multiple:PropTypes.bool,preventDropOnDocument:PropTypes.bool,noClick:PropTypes.bool,noKeyboard:PropTypes.bool,noDrag:PropTypes.bool,noDragEventsBubbling:PropTypes.bool,minSize:PropTypes.number,maxSize:PropTypes.number,maxFiles:PropTypes.number,disabled:PropTypes.bool,getFilesFromEvent:PropTypes.func,onFileDialogCancel:PropTypes.func,onFileDialogOpen:PropTypes.func,useFsAccessApi:PropTypes.bool,autoFocus:PropTypes.bool,onDragEnter:PropTypes.func,onDragLeave:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onDropAccepted:PropTypes.func,onDropRejected:PropTypes.func,onError:PropTypes.func,validator:PropTypes.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=_objectSpread(_objectSpread({},defaultProps),ot),at=rt.accept,lt=rt.disabled,ct=rt.getFilesFromEvent,ut=rt.maxSize,dt=rt.minSize,ht=rt.multiple,ft=rt.maxFiles,pt=rt.onDragEnter,mt=rt.onDragLeave,gt=rt.onDragOver,yt=rt.onDrop,xt=rt.onDropAccepted,bt=rt.onDropRejected,Et=rt.onFileDialogCancel,Rt=rt.onFileDialogOpen,wt=rt.useFsAccessApi,_t=rt.autoFocus,At=rt.preventDropOnDocument,kt=rt.noClick,It=rt.noKeyboard,Nt=rt.noDrag,Pt=rt.noDragEventsBubbling,Tt=rt.onError,Ct=rt.validator,Ot=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(at)},[at]),Dt=reactExports.useMemo(function(){return pickerOptionsFromAccept(at)},[at]),jt=reactExports.useMemo(function(){return typeof Rt=="function"?Rt:noop},[Rt]),Mt=reactExports.useMemo(function(){return typeof Et=="function"?Et:noop},[Et]),zt=reactExports.useRef(null),Qt=reactExports.useRef(null),qt=reactExports.useReducer(reducer,initialState),Kt=_slicedToArray(qt,2),sn=Kt[0],Gt=Kt[1],Wt=sn.isFocused,pn=sn.isFileDialogActive,rn=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&wt&&canUseFileSystemAccessAPI()),Vt=function(){!rn.current&&pn&&setTimeout(function(){if(Qt.current){var xn=Qt.current.files;xn.length||(Gt({type:"closeDialog"}),Mt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Vt,!1),function(){window.removeEventListener("focus",Vt,!1)}},[Qt,pn,Mt,rn]);var $t=reactExports.useRef([]),Xt=function(xn){zt.current&&zt.current.contains(xn.target)||(xn.preventDefault(),$t.current=[])};reactExports.useEffect(function(){return At&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",Xt,!1)),function(){At&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",Xt))}},[zt,At]),reactExports.useEffect(function(){return!lt&&_t&&zt.current&&zt.current.focus(),function(){}},[zt,_t,lt]);var Zt=reactExports.useCallback(function(An){Tt?Tt(An):console.error(An)},[Tt]),Jt=reactExports.useCallback(function(An){An.preventDefault(),An.persist(),wn(An),$t.current=[].concat(_toConsumableArray($t.current),[An.target]),isEvtWithFiles(An)&&Promise.resolve(ct(An)).then(function(xn){if(!(isPropagationStopped(An)&&!Pt)){var er=xn.length,Qn=er>0&&allFilesAccepted({files:xn,accept:Ot,minSize:dt,maxSize:ut,multiple:ht,maxFiles:ft,validator:Ct}),gr=er>0&&!Qn;Gt({isDragAccept:Qn,isDragReject:gr,isDragActive:!0,type:"setDraggedFiles"}),pt&&pt(An)}}).catch(function(xn){return Zt(xn)})},[ct,pt,Zt,Pt,Ot,dt,ut,ht,ft,Ct]),Yt=reactExports.useCallback(function(An){An.preventDefault(),An.persist(),wn(An);var xn=isEvtWithFiles(An);if(xn&&An.dataTransfer)try{An.dataTransfer.dropEffect="copy"}catch{}return xn&&gt&&gt(An),!1},[gt,Pt]),gn=reactExports.useCallback(function(An){An.preventDefault(),An.persist(),wn(An);var xn=$t.current.filter(function(Qn){return zt.current&&zt.current.contains(Qn)}),er=xn.indexOf(An.target);er!==-1&&xn.splice(er,1),$t.current=xn,!(xn.length>0)&&(Gt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(An)&&mt&&mt(An))},[zt,mt,Pt]),_n=reactExports.useCallback(function(An,xn){var er=[],Qn=[];An.forEach(function(gr){var yr=fileAccepted(gr,Ot),Fr=_slicedToArray(yr,2),br=Fr[0],Er=Fr[1],Yr=fileMatchSize(gr,dt,ut),ss=_slicedToArray(Yr,2),nr=ss[0],Ln=ss[1],Vn=Ct?Ct(gr):null;if(br&&nr&&!Vn)er.push(gr);else{var vr=[Er,Ln];Vn&&(vr=vr.concat(Vn)),Qn.push({file:gr,errors:vr.filter(function(Tr){return Tr})})}}),(!ht&&er.length>1||ht&&ft>=1&&er.length>ft)&&(er.forEach(function(gr){Qn.push({file:gr,errors:[TOO_MANY_FILES_REJECTION]})}),er.splice(0)),Gt({acceptedFiles:er,fileRejections:Qn,type:"setFiles"}),yt&&yt(er,Qn,xn),Qn.length>0&&bt&&bt(Qn,xn),er.length>0&&xt&&xt(er,xn)},[Gt,ht,Ot,dt,ut,ft,yt,xt,bt,Ct]),Sn=reactExports.useCallback(function(An){An.preventDefault(),An.persist(),wn(An),$t.current=[],isEvtWithFiles(An)&&Promise.resolve(ct(An)).then(function(xn){isPropagationStopped(An)&&!Pt||_n(xn,An)}).catch(function(xn){return Zt(xn)}),Gt({type:"reset"})},[ct,_n,Zt,Pt]),jn=reactExports.useCallback(function(){if(rn.current){Gt({type:"openDialog"}),jt();var An={multiple:ht,types:Dt};window.showOpenFilePicker(An).then(function(xn){return ct(xn)}).then(function(xn){_n(xn,null),Gt({type:"closeDialog"})}).catch(function(xn){isAbort(xn)?(Mt(xn),Gt({type:"closeDialog"})):isSecurityError(xn)?(rn.current=!1,Qt.current?(Qt.current.value=null,Qt.current.click()):Zt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Zt(xn)});return}Qt.current&&(Gt({type:"openDialog"}),jt(),Qt.current.value=null,Qt.current.click())},[Gt,jt,Mt,wt,_n,Zt,Dt,ht]),Dn=reactExports.useCallback(function(An){!zt.current||!zt.current.isEqualNode(An.target)||(An.key===" "||An.key==="Enter"||An.keyCode===32||An.keyCode===13)&&(An.preventDefault(),jn())},[zt,jn]),Gn=reactExports.useCallback(function(){Gt({type:"focus"})},[]),Kn=reactExports.useCallback(function(){Gt({type:"blur"})},[]),hn=reactExports.useCallback(function(){kt||(isIeOrEdge()?setTimeout(jn,0):jn())},[kt,jn]),En=function(xn){return lt?null:xn},cn=function(xn){return It?null:En(xn)},dn=function(xn){return Nt?null:En(xn)},wn=function(xn){Pt&&xn.stopPropagation()},kn=reactExports.useMemo(function(){return function(){var An=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xn=An.refKey,er=xn===void 0?"ref":xn,Qn=An.role,gr=An.onKeyDown,yr=An.onFocus,Fr=An.onBlur,br=An.onClick,Er=An.onDragEnter,Yr=An.onDragOver,ss=An.onDragLeave,nr=An.onDrop,Ln=_objectWithoutProperties$1(An,_excluded3);return _objectSpread(_objectSpread(_defineProperty$1({onKeyDown:cn(composeEventHandlers(gr,Dn)),onFocus:cn(composeEventHandlers(yr,Gn)),onBlur:cn(composeEventHandlers(Fr,Kn)),onClick:En(composeEventHandlers(br,hn)),onDragEnter:dn(composeEventHandlers(Er,Jt)),onDragOver:dn(composeEventHandlers(Yr,Yt)),onDragLeave:dn(composeEventHandlers(ss,gn)),onDrop:dn(composeEventHandlers(nr,Sn)),role:typeof Qn=="string"&&Qn!==""?Qn:"presentation"},er,zt),!lt&&!It?{tabIndex:0}:{}),Ln)}},[zt,Dn,Gn,Kn,hn,Jt,Yt,gn,Sn,It,Nt,lt]),Un=reactExports.useCallback(function(An){An.stopPropagation()},[]),Jn=reactExports.useMemo(function(){return function(){var An=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},xn=An.refKey,er=xn===void 0?"ref":xn,Qn=An.onChange,gr=An.onClick,yr=_objectWithoutProperties$1(An,_excluded4),Fr=_defineProperty$1({accept:Ot,multiple:ht,type:"file",style:{display:"none"},onChange:En(composeEventHandlers(Qn,Sn)),onClick:En(composeEventHandlers(gr,Un)),tabIndex:-1},er,Qt);return _objectSpread(_objectSpread({},Fr),yr)}},[Qt,at,ht,Sn,lt]);return _objectSpread(_objectSpread({},sn),{},{isFocused:Wt&&!lt,getRootProps:kn,getInputProps:Jn,rootRef:zt,inputRef:Qt,open:En(jn)})}function reducer(ot,rt){switch(rt.type){case"focus":return _objectSpread(_objectSpread({},ot),{},{isFocused:!0});case"blur":return _objectSpread(_objectSpread({},ot),{},{isFocused:!1});case"openDialog":return _objectSpread(_objectSpread({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread(_objectSpread({},ot),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread(_objectSpread({},ot),{},{isDragActive:rt.isDragActive,isDragAccept:rt.isDragAccept,isDragReject:rt.isDragReject});case"setFiles":return _objectSpread(_objectSpread({},ot),{},{acceptedFiles:rt.acceptedFiles,fileRejections:rt.fileRejections});case"reset":return _objectSpread({},initialState);default:return ot}}function noop(){}const ResearchCourse=()=>{const ot=useNavigate(),{UserData:rt}=useAuth(),{researchId:at}=useParams(),[lt,ct]=reactExports.useState(null),[ut,dt]=reactExports.useState([]),[ht,ft]=reactExports.useState(null),[pt,mt]=reactExports.useState([]),[gt,yt]=reactExports.useState(null),[xt,bt]=reactExports.useState({}),[Et,Rt]=reactExports.useState({}),[wt,_t]=reactExports.useState(!1),[At,kt]=reactExports.useState(!1),[It,Nt]=reactExports.useState(null),[Pt,Tt]=reactExports.useState({SubmissionPermission:!1,SubmissionStatus:!1,files:[]}),[Ct,Ot]=reactExports.useState({}),[Dt,jt]=reactExports.useState(!1);reactExports.useState(null);const[Mt,zt]=reactExports.useState(null),[Qt,qt]=reactExports.useState(!1),[Kt,sn]=reactExports.useState(BannerImage$1),Gt=()=>{jt(!0)},Wt=(Jt,Yt)=>{Nt(Jt),Ot(Yt),kt(!0)},pn=()=>{kt(!1),Nt(null),Ot({})};reactExports.useEffect(()=>{const Jt=async()=>{try{if(!at)throw new Error("Course ID is undefined or null");const gn=doc(db$2,"Module",at),_n=await getDoc(gn),Sn=doc(db$2,`Module/${at}/Final Submission/${rt.ID}`),jn=await getDoc(Sn);if(_n.exists()){const Dn=_n.data();if(ct({id:at,name:Dn.ModuleTitle||"Sample Course",instructor:"Dr. Placeholder",description:Dn.ModuleDescription||"Description not available"}),sn(Dn.bannerImageUrl||Zt[Math.floor(Math.random()*Zt.length)]),jn.exists()){const En=jn.data();Tt({SubmissionPermission:En.SubmissionPermission??!1,SubmissionStatus:En.submitted??!1,files:En.files??[]})}else Tt({SubmissionPermission:!1,SubmissionStatus:!1,files:[]});const Gn=collection(db$2,"Module",at,"Assignments"),hn=(await getDocs(Gn)).docs.map(En=>({...En.data(),AssignmentID:En.id}));dt(hn);for(let En of hn){const cn=doc(db$2,`Module/${at}/Assignments/${En.AssignmentID}/StudentID/${rt.ID}`),dn=await getDoc(cn);if(dn.exists()){const wn=dn.data();bt(kn=>({...kn,[En.AssignmentID]:wn})),Rt(kn=>({...kn,[En.AssignmentID]:wn.submitted||!1}))}}}else console.error("No such module!")}catch(gn){console.error("Error fetching course details:",gn)}},Yt=async()=>{try{const gn=ref(storage,"r_topics/topics.json"),_n=await getDownloadURL(gn),Dn=(await(await fetch(_n)).json()).filter(Kn=>Kn.courseId===at);mt(Dn);const Gn=Dn.find(Kn=>Kn.selectedBy===rt.ID);Gn&&(yt(Gn),_t(!0))}catch(gn){console.error("Error fetching topics:",gn)}};Jt(),Yt()},[at,rt.ID]);const rn=async Jt=>{const Yt=[];let gn=!0;for(const _n of Jt)try{const Sn="your_assignment_id",jn=ref(storage,`Submissions/${at}/Assignments/${Sn}/StudentID/${rt.ID}/${_n.name}`),Dn=await uploadBytes(jn,_n),Gn=await getDownloadURL(Dn.ref);Yt.push({downloadURL:Gn,submittedAt:new Date,fileName:_n.name,submitted:!0}),Rt(Kn=>({...Kn,[Sn]:!0})),B$3.success(`File ${_n.name} uploaded successfully!`)}catch(Sn){console.error(`Error uploading file ${_n.name}:`,Sn),B$3.error(`Error uploading file ${_n.name}. Please try again later.`),gn=!1}if(gn){const _n=doc(db$2,`Module/${at}/Final Submission/${rt.ID}`);await setDoc(_n,{files:Yt,submittedAt:new Date,submitted:!0,SubmissionPermission:!1}),B$3.success("All files uploaded. Submission locked.")}},Vt=Jt=>{ft(Jt.target.files[0])},$t=async Jt=>{if(!ht){alert("Please select a file to upload");return}try{const Yt=ref(storage,`Submissions/${at}/Assignments/${Jt}/StudentID/${rt.ID}/${ht.name}`),gn=await uploadBytes(Yt,ht),_n=await getDownloadURL(gn.ref),Sn=doc(db$2,`Module/${at}/Assignments/${Jt}/StudentID/${rt.ID}`);await setDoc(Sn,{downloadURL:_n,submittedAt:new Date,fileName:ht.name,submitted:!0}),Rt(jn=>({...jn,[Jt]:!0})),B$3.success("Success!","File uploaded successfully and submission saved!","success")}catch(Yt){console.error("Error uploading file and saving submission:",Yt),B$3.error("Error!","Error uploading file or saving submission. Please try again later.","error")}},Xt=async()=>{if(!gt){B$3.error("Error!","Please select a topic first.","error");return}if(gt.isSelected){B$3.error("Error!","This topic has already been selected by another student.","error");return}if(wt){B$3.error("Error!","You have already confirmed a topic selection.","error");return}try{const Jt=pt.map(_n=>_n.topicName===gt.topicName?{..._n,isSelected:!0,selectedBy:rt.ID}:_n),Yt=new Blob([JSON.stringify(Jt)],{type:"application/json"}),gn=ref(storage,"r_topics/topics.json");await uploadBytes(gn,Yt),mt(Jt),_t(!0),B$3.success("Success!",`You have successfully selected the topic: ${gt.topicName}`,"success")}catch(Jt){console.error("Error selecting topic:",Jt),B$3.error("Error!","Error selecting topic. Please try again later.","error")}},Zt=[BannerImage$1,BannerImage];return lt?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("section",{className:"max-h-80 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:Kt,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("h1",{className:"absolute text-4xl font-bold tracking-wider text-white dark:text-gray-200",children:lt.name}),jsxRuntimeExports.jsxs("button",{className:"absolute top-3 left-3 flex items-center px-4 py-2 bg-[#FF8503] text-white rounded-lg",onClick:()=>ot(-1),children:[jsxRuntimeExports.jsx(HiChevronLeft,{className:"mr-2"}),"Back"]})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6 border-2 border-[#FF8503] rounded-lg p-4",children:[jsxRuntimeExports.jsxs("h2",{className:"text-3xl font-extrabold text-gray-800 dark:text-gray-200",children:["Welcome to ",jsxRuntimeExports.jsx("span",{className:"text-[#FF8503] dark:text-[#FF8503]",children:lt.name})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-semibold text-gray-700 dark:text-gray-400",children:lt.description}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",style:{display:"none"},children:["Instructor: ",lt.instructor]}),jsxRuntimeExports.jsxs("div",{className:"mt-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200",children:"Course Overview"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",children:"This research course aims to equip students with the necessary skills to conduct independent research. The course covers various methodologies, research ethics, and techniques for effective data analysis. Students will be required to select a relevant topic, engage with their supervisors, and submit regular drafts for feedback."}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",style:{display:"none"},children:"Key components include:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside",style:{display:"none"},children:[jsxRuntimeExports.jsx("li",{className:"mt-1",children:"Understanding research methodologies"}),jsxRuntimeExports.jsx("li",{className:"mt-1",children:"Data collection and analysis techniques"}),jsxRuntimeExports.jsx("li",{className:"mt-1",children:"Research ethics and compliance"}),jsxRuntimeExports.jsx("li",{className:"mt-1",children:"Thesis writing and presentation skills"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6",style:{display:"none"},children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200",children:"Select a Thesis Topic"}),!wt&&jsxRuntimeExports.jsxs("select",{className:"mt-4 p-2 rounded w-full",onChange:Jt=>{const Yt=pt.find(gn=>gn.topicName===Jt.target.value);Yt&&yt(Yt)},value:gt?gt.topicName:"",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a topic"}),pt.map((Jt,Yt)=>jsxRuntimeExports.jsxs("option",{value:Jt.topicName,disabled:Jt.isSelected,style:{color:Jt.isSelected?"red":"green"},className:"font-medium text-sm",children:[Jt.topicName," - ",Jt.isSelected?"Unavailable":"Available"]},Yt))]}),gt&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("input",{type:"text",value:gt.topicName,readOnly:!0,className:"border p-2 rounded w-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400"}),jsxRuntimeExports.jsxs("p",{className:`mt-2 ${gt.isSelected?"text-red-600":"text-green-600"}`,children:["Status: ",gt.isSelected?"Unavailable":"Available"]})]}),!wt&&jsxRuntimeExports.jsx("button",{onClick:Xt,className:`mt-4 px-4 py-2 font-semibold rounded ${gt?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"} text-white`,disabled:!gt,children:"Submit Topic Choice"})]}),jsxRuntimeExports.jsx("section",{className:"mt-4 border-2 border-[#590098] rounded-lg p-4",children:wt&&gt?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200",children:"Your topic"}),jsxRuntimeExports.jsx("input",{type:"text",value:gt.topicName,readOnly:!0,className:"mt-3 border p-2 rounded w-full bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400"}),jsxRuntimeExports.jsxs("p",{className:`mt-2 font-bold text-sm ${gt.isSelected?"text-red-600":"text-green-600"}`,children:["Status: ",gt.isSelected?"Unavailable":"Available"]})]}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200",children:"Select a Thesis Topic"}),jsxRuntimeExports.jsxs("select",{className:"mt-4 p-2 rounded w-full",onChange:Jt=>{const Yt=pt.find(gn=>gn.topicName===Jt.target.value);Yt&&yt(Yt)},value:gt?gt.topicName:"",children:[jsxRuntimeExports.jsx("option",{value:"",disabled:!0,children:"Select a topic"}),pt.map((Jt,Yt)=>jsxRuntimeExports.jsxs("option",{value:Jt.topicName,disabled:Jt.isSelected,style:{color:Jt.isSelected?"red":"green"},className:"font-medium text-sm",children:[Jt.topicName," - ",Jt.isSelected?"Unavailable":"Available"]},Yt))]}),jsxRuntimeExports.jsx("button",{onClick:Xt,className:`mt-4 px-4 py-2 font-semibold rounded ${gt?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"} text-white`,disabled:!gt,children:"Submit Topic Choice"})]})}),wt&&jsxRuntimeExports.jsxs("section",{className:"border-2 mt-4 border-[#FF8503] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200",children:"Deadlines & Milestones"}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:ut.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Object.keys(Et).length===0?jsxRuntimeExports.jsx("p",{className:"mt-4 mb-4 text-green-600 dark:text-green-400",children:"This is your first milestone. Please review the deadlines carefully and submit on time."}):null,jsxRuntimeExports.jsx(Timeline,{tasks:ut.map(Jt=>{var Sn;const Yt=((Sn=Jt.AssignmentDueDate)==null?void 0:Sn.seconds)*1e3,gn=new Date(Yt),_n=!isNaN(gn)&&gn<new Date;return{title:Jt.AssignmentTitle,dueDate:gn,description:Jt.AssignmentDescription,module:lt.name,submissionOpen:!_n&&!Et[Jt.AssignmentID],submitted:!!Et[Jt.AssignmentID],assignmentID:Jt.AssignmentID}}),onViewDetails:Jt=>{console.log("Milestone:",Jt);const Yt=xt[Jt.assignmentID];console.log("Feedback for Milestone:",Yt),Yt||console.error(`No feedback found for assignmentID: ${Jt.assignmentID}`),Wt(Jt,Yt),zt(Jt.assignmentID)},handleOpenModal:Gt}),jsxRuntimeExports.jsxs("div",{className:"p-6 mx-auto border rounded-lg shadow-md dark:bg-gray-900 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-extrabold text-gray-900 dark:text-white mb-4",children:"Final Submission"}),jsxRuntimeExports.jsxs(Badge,{color:Pt.SubmissionStatus?"green":"yellow",className:"mb-4 text-md",children:["Status: ",Pt.SubmissionStatus?"Submitted":"Not Submitted"]}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 dark:text-gray-400 mb-2",children:"After a long year of research and drafts, this is where you submit your final work for external moderation. Please keep in mind that the following will be needed from you:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-gray-700 dark:text-gray-400 space-y-1 mb-4",children:[jsxRuntimeExports.jsx("li",{children:"A copy of your Affidavit (Stamped by a Commissioner of Oaths)"}),jsxRuntimeExports.jsx("li",{children:"Your Declaration"}),jsxRuntimeExports.jsx("li",{children:"Your Final Turnitin Report"}),jsxRuntimeExports.jsx("li",{children:"Signed Letter as Proof of Language Editing by a Language Editor"}),jsxRuntimeExports.jsx("li",{children:"A soft Copy of the Research Project/Minor Dissertation/Dissertation/Thesis (Word/PDF only)"})]}),Pt.SubmissionPermission&&!Pt.SubmissionStatus?jsxRuntimeExports.jsx("button",{className:"w-full text-center py-3 px-4 text-sm font-medium text-white bg-[#FF8503] rounded-lg hover:bg-[#FF8503]",onClick:()=>qt(!0),children:"Begin Submission Process"}):jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-500 dark:text-gray-400",children:Pt.SubmissionStatus?"Your submission has been completed. You cannot submit again.":"It seems you are not allowed to make your final submission, please contact your supervisor."})]}),ut.every(Jt=>Et[Jt.AssignmentID])&&jsxRuntimeExports.jsx("p",{className:"mt-4 text-blue-600 dark:text-blue-400",children:"More milestones coming soon."})]}):jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"No deadlines or submissions available."})})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6",style:{display:"none"},children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Assignments"}),jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4",children:ut.length>0?ut.map((Jt,Yt)=>{const gn=new Date(Jt.AssignmentDueDate.seconds*1e3),_n=gn<new Date,Sn=xt[Jt.AssignmentID];return jsxRuntimeExports.jsxs("li",{className:"border p-4 rounded-lg shadow dark:bg-gray-900 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:Jt.AssignmentTitle}),jsxRuntimeExports.jsx("p",{children:Jt.AssignmentDescription}),jsxRuntimeExports.jsxs("p",{children:["Due Date: ",gn.toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:["Created On: ",new Date(Jt.AssignmentCreation.seconds*1e3).toLocaleString()]}),!_n&&!Et[Jt.AssignmentID]?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:Vt}),jsxRuntimeExports.jsx("button",{className:"mt-2 px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:()=>$t(Jt.AssignmentID),children:"Submit"})]}):_n?jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Submission Closed"}):jsxRuntimeExports.jsx("p",{className:"text-green-600",children:"Submitted"}),Sn&&Sn.marks&&jsxRuntimeExports.jsxs("div",{className:"mt-4 bg-green-100 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold",children:"Feedback:"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Marks:"})," ",Sn.marks]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Comments:"})," ",Sn.comments]}),Sn.downloadURL&&jsxRuntimeExports.jsx("a",{href:Sn.downloadURL,className:"mt-2 inline-block text-blue-600",target:"_blank",rel:"noopener noreferrer",children:"Download Feedback"})]})]},Yt)}):jsxRuntimeExports.jsx("p",{children:"No assignments available."})})]})]}),jsxRuntimeExports.jsx(ViewMilestoneModal$1,{isOpen:At,onClose:pn,milestone:It,feedback:Ct}),jsxRuntimeExports.jsx(SubmissionModal$1,{isOpen:Dt,onClose:()=>jt(!1),assignmentID:Mt,researchId:at,UserData:rt,storage,db:db$2}),jsxRuntimeExports.jsx(FinalSubmissionModal,{isOpen:Qt,onClose:()=>qt(!1),onSave:rn,ResearchID:at,UserID:rt.ID}),jsxRuntimeExports.jsx(Footer$1,{})]}):jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-screen",children:jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"warning"})})},SubmissionModal$1=({isOpen:ot,onClose:rt,assignmentID:at,researchId:lt,UserData:ct,storage:ut,db:dt})=>{const[ht,ft]=reactExports.useState([]),[pt,mt]=reactExports.useState(!1),gt=bt=>{const Et=bt.target.files[0];Et&&ft([Et])},yt=async()=>{if(ht.length===0){B$3.error("Error","Please select a file to upload","error");return}const bt=ht[0];try{const Et=ref(ut,`Submissions/${lt}/Assignments/${at}/StudentID/${ct.ID}/${bt.name}`),Rt=await uploadBytes(Et,bt),wt=await getDownloadURL(Rt.ref),_t=doc(dt,`Module/${lt}/Assignments/${at}/StudentID/${ct.ID}`);await setDoc(_t,{downloadURL:wt,submittedAt:new Date,fileName:bt.name,submitted:!0}),B$3.success("File uploaded successfully and submission saved!"),rt()}catch(Et){console.error("Error uploading file and saving submission:",Et),B$3.error("Error uploading file or saving submission. Please try again later.")}},xt=bt=>{mt(bt.target.checked)};return ot?jsxRuntimeExports.jsx("div",{id:"static-modal",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-3xl max-h-full bg-white rounded-lg shadow-lg dark:bg-gray-700 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Submit Assignment"}),jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx(Dropzone$1,{onDrop:bt=>ft(bt)}),jsxRuntimeExports.jsx("input",{id:"fileInput",type:"file",className:"hidden focus:outline-none",onChange:gt}),ht.length>0&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:ht.map((bt,Et)=>jsxRuntimeExports.jsx("span",{children:bt.name},Et))}),jsxRuntimeExports.jsx("button",{type:"button",className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none",onClick:()=>document.getElementById("fileInput").click(),children:"Upload File"})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("label",{className:"block text-gray-700 dark:text-gray-200",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:pt,onChange:xt,className:"mr-2 rounded-full"}),"By submitting, I acknowledge that this is my own work and I have not plagiarized."]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none",onClick:rt,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",className:"ml-2 px-4 py-2 bg-[#FF8503] text-white rounded-lg focus:outline-none",onClick:yt,disabled:!pt,children:"Submit"})]})]})]})}):null},Dropzone$1=({onDrop:ot})=>{const{getRootProps:rt,getInputProps:at,isDragActive:lt}=useDropzone({onDrop:ot});return jsxRuntimeExports.jsxs("div",{...rt({className:"dropzone flex items-center justify-center p-6 border-2 border-gray-400 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:border-gray-600 dark:text-gray-300 dark:bg-gray-700"}),children:[jsxRuntimeExports.jsx("input",{...at()}),lt?jsxRuntimeExports.jsx("p",{className:"text-blue-500 dark:text-blue-400",children:"Drop the files here..."}):jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Drag & drop some files here, or click to select files"})]})},ViewMilestoneModal$1=({isOpen:ot,onClose:rt,milestone:at,feedback:lt})=>{if(!ot||!at)return null;const ut={"Database Structuring":"#00bfff","Software Testing":"#590098","Game Development":"#FF8503","Development Software":"#00ad43"}[at.module]||"bg-gray-200";return jsxRuntimeExports.jsx(AnimatePresence,{children:ot&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 overflow-y-auto bg-gray-800 bg-opacity-50 flex justify-center items-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white dark:bg-gray-800 w-11/12 md:max-w-lg mx-auto rounded-xl shadow-lg z-50 overflow-y-auto p-6",style:{border:`4px solid ${ut}`},children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Milestone Details"}),jsxRuntimeExports.jsx("button",{onClick:rt,className:"text-gray-500 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-200",children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"h-5 w-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(HiOutlineClipboardList,{className:"h-5 w-5 text-blue-500"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg",children:"Milestone Title:"})]}),jsxRuntimeExports.jsx("p",{className:"font-normal text-md mt-1 text-gray-800 dark:text-gray-200",children:at.title})]}),jsxRuntimeExports.jsxs("div",{className:"text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(HiOutlineCalendar,{className:"h-5 w-5 text-green-500"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg",children:"Due Date:"})]}),jsxRuntimeExports.jsx("p",{className:"font-normal text-md mt-1",children:new Date(at.dueDate).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(HiOutlineDocumentText,{className:"h-5 w-5 text-yellow-500"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg",children:"Description:"})]}),jsxRuntimeExports.jsx("p",{className:"font-normal text-md mt-1",children:at.description})]}),lt&&lt.marks?jsxRuntimeExports.jsxs("div",{className:"mt-4 bg-green-100 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2",children:jsxRuntimeExports.jsx("h4",{className:"font-extrabold text-lg mb-2",children:"Feedback"})}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium mt-1",children:[jsxRuntimeExports.jsx("strong",{children:"Marks:"})," ",lt.marks!==void 0?lt.marks:"Not Available"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium mt-1",children:[jsxRuntimeExports.jsx("strong",{children:"Comments:"})," ",lt.comments||"Not Available"]}),lt.downloadURL&&jsxRuntimeExports.jsx("a",{href:lt.downloadURL,className:"mt-2 inline-block text-blue-600",target:"_blank",rel:"noopener noreferrer",children:"Download Feedback"})]}):jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-500",children:"No feedback available."})]})]})})})},Timeline=({tasks:ot,onViewDetails:rt,handleOpenModal:at})=>{const lt=[...ot].sort((pt,mt)=>new Date(mt.dueDate)-new Date(pt.dueDate)),ct=lt[0],[ut,dt]=reactExports.useState(!1),ht={"Development Software":"bg-[#00ad43]","Game Development":"bg-[#FF8503]"},ft=()=>{dt(pt=>!pt)};return jsxRuntimeExports.jsxs("section",{className:"relative border-l ml-8 border-gray-200 dark:border-gray-700",children:[lt.slice(0,ut?lt.length:3).map((pt,mt)=>{const gt=pt===ct;return jsxRuntimeExports.jsxs("div",{className:"mb-8 pl-5 relative",children:[jsxRuntimeExports.jsx("span",{className:`absolute flex items-center justify-center w-6 h-6 ${ht[pt.module]||"bg-blue-100"} rounded-full -left-3 ring-8 ring-white dark:ring-gray-900`,children:jsxRuntimeExports.jsx("svg",{className:"w-2.5 h-2.5 text-white dark:text-blue-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),jsxRuntimeExports.jsxs("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:[pt.title,gt&&jsxRuntimeExports.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mx-3 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300",children:"Latest"})]}),jsxRuntimeExports.jsxs("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:["Due Date: ",new Date(pt.dueDate).toLocaleString()]}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:pt.description}),jsxRuntimeExports.jsx("p",{className:"mb-3 text-sm font-medium text-gray-600 dark:text-gray-400",children:pt.module}),jsxRuntimeExports.jsxs("p",{className:`mb-2 text-sm font-medium ${pt.submissionOpen?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:["Submission Status: ",pt.submissionOpen?"Open":"Closed"]}),pt.submitted?jsxRuntimeExports.jsx("p",{onClick:at,className:"text-green-600 text-sm font-medium dark:text-green-400 mb-2",children:"Submitted"}):jsxRuntimeExports.jsx("p",{className:"text-red-600 text-sm font-medium dark:text-red-400 mb-2",children:"Not Submitted"}),jsxRuntimeExports.jsx("button",{onClick:()=>rt(pt),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded",children:"View Details"}),pt.submissionOpen?jsxRuntimeExports.jsx("button",{onClick:()=>at(),className:"mt-2 ml-2 px-4 py-2 bg-[#FF8503] text-white rounded",children:"Submit"}):jsxRuntimeExports.jsx("button",{disabled:!0,className:"mt-2 ml-2 px-4 py-2 bg-gray-400 text-white rounded cursor-not-allowed",children:"Submission Closed"})]},mt)}),lt.length>3&&jsxRuntimeExports.jsx("button",{onClick:ft,className:"mt-2 px-3 py-3 bg-blue-600 text-white rounded-full absolute bottom-0 right-0",children:ut?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(HiChevronUp,{})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(HiChevronDown,{})})})]})},Footer=()=>jsxRuntimeExports.jsx("footer",{className:"mt-10",children:jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal text-center text-gray-700 dark:text-gray-400",children:["© 2024 All Rights Reserved. ",jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"PostGrade Dashboard"})," is a product of University Of Johannesburg."]})}),t=ot=>Object.prototype.toString.call(ot)==="[object Object]",s=(ot,rt)=>{const at=document.createElement(ot);if(rt&&typeof rt=="object")for(const lt in rt)lt==="html"?at.innerHTML=rt[lt]:at.setAttribute(lt,rt[lt]);return at},i$1=ot=>["#text","#comment"].includes(ot.nodeName)?ot.data:ot.childNodes?ot.childNodes.map(rt=>i$1(rt)).join(""):"",n=ot=>{if(ot==null)return"";if(ot.hasOwnProperty("text")||ot.hasOwnProperty("data")){const rt=ot;return rt.text??n(rt.data)}return ot.hasOwnProperty("nodeName")?i$1(ot):String(ot)},o=function(ot,rt){let at=0,lt=0;for(;at<ot+1;)rt[lt].hidden||(at+=1),lt+=1;return lt-1},r=function(ot){const rt={};if(ot)for(const at of ot)rt[at.name]=at.value;return rt},l=ot=>ot?ot.trim().split(" ").map(rt=>`.${rt}`).join(""):null,d=(ot,rt)=>!(rt==null?void 0:rt.split(" ").some(lt=>!ot.classList.contains(lt))),c=(ot,rt)=>ot?rt?`${ot} ${rt}`:ot:rt||"";var h=function(){return h=Object.assign||function(ot){for(var rt,at=arguments,lt=1,ct=arguments.length;lt<ct;lt++)for(var ut in rt=at[lt])Object.prototype.hasOwnProperty.call(rt,ut)&&(ot[ut]=rt[ut]);return ot},h.apply(this,arguments)};function u(ot,rt,at){for(var lt,ct=0,ut=rt.length;ct<ut;ct++)!lt&&ct in rt||(lt||(lt=Array.prototype.slice.call(rt,0,ct)),lt[ct]=rt[ct]);return ot.concat(lt||Array.prototype.slice.call(rt))}var p=function(){function ot(rt){rt===void 0&&(rt={});var at=this;Object.entries(rt).forEach(function(lt){var ct=lt[0],ut=lt[1];return at[ct]=ut})}return ot.prototype.toString=function(){return JSON.stringify(this)},ot.prototype.setValue=function(rt,at){return this[rt]=at,this},ot}();function f(ot){for(var rt=arguments,at=[],lt=1;lt<arguments.length;lt++)at[lt-1]=rt[lt];return ot!=null&&at.some(function(ct){var ut,dt;return typeof((dt=(ut=ot==null?void 0:ot.ownerDocument)===null||ut===void 0?void 0:ut.defaultView)===null||dt===void 0?void 0:dt[ct])=="function"&&ot instanceof ot.ownerDocument.defaultView[ct]})}function m(ot,rt,at){var lt;return ot.nodeName==="#text"?lt=at.document.createTextNode(ot.data):ot.nodeName==="#comment"?lt=at.document.createComment(ot.data):(rt?(lt=at.document.createElementNS("http://www.w3.org/2000/svg",ot.nodeName),ot.nodeName==="foreignObject"&&(rt=!1)):ot.nodeName.toLowerCase()==="svg"?(lt=at.document.createElementNS("http://www.w3.org/2000/svg","svg"),rt=!0):lt=at.document.createElement(ot.nodeName),ot.attributes&&Object.entries(ot.attributes).forEach(function(ct){var ut=ct[0],dt=ct[1];return lt.setAttribute(ut,dt)}),ot.childNodes&&ot.childNodes.forEach(function(ct){return lt.appendChild(m(ct,rt,at))}),at.valueDiffing&&(ot.value&&f(lt,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(lt.value=ot.value),ot.checked&&f(lt,"HTMLInputElement")&&(lt.checked=ot.checked),ot.selected&&f(lt,"HTMLOptionElement")&&(lt.selected=ot.selected))),lt}var g=function(ot,rt){for(rt=rt.slice();rt.length>0;){var at=rt.splice(0,1)[0];ot=ot.childNodes[at]}return ot};function b(ot,rt,at){var lt,ct,ut,dt=rt[at._const.action],ht=rt[at._const.route];[at._const.addElement,at._const.addTextElement].includes(dt)||(lt=g(ot,ht));var ft={diff:rt,node:lt};if(at.preDiffApply(ft))return!0;switch(dt){case at._const.addAttribute:if(!lt||!f(lt,"Element"))return!1;lt.setAttribute(rt[at._const.name],rt[at._const.value]);break;case at._const.modifyAttribute:if(!lt||!f(lt,"Element"))return!1;lt.setAttribute(rt[at._const.name],rt[at._const.newValue]),f(lt,"HTMLInputElement")&&rt[at._const.name]==="value"&&(lt.value=rt[at._const.newValue]);break;case at._const.removeAttribute:if(!lt||!f(lt,"Element"))return!1;lt.removeAttribute(rt[at._const.name]);break;case at._const.modifyTextElement:if(!lt||!f(lt,"Text"))return!1;at.textDiff(lt,lt.data,rt[at._const.oldValue],rt[at._const.newValue]),f(lt.parentNode,"HTMLTextAreaElement")&&(lt.parentNode.value=rt[at._const.newValue]);break;case at._const.modifyValue:if(!lt||lt.value===void 0)return!1;lt.value=rt[at._const.newValue];break;case at._const.modifyComment:if(!lt||!f(lt,"Comment"))return!1;at.textDiff(lt,lt.data,rt[at._const.oldValue],rt[at._const.newValue]);break;case at._const.modifyChecked:if(!lt||lt.checked===void 0)return!1;lt.checked=rt[at._const.newValue];break;case at._const.modifySelected:if(!lt||lt.selected===void 0)return!1;lt.selected=rt[at._const.newValue];break;case at._const.replaceElement:var pt=rt[at._const.newValue].nodeName.toLowerCase()==="svg"||lt.parentNode.namespaceURI==="http://www.w3.org/2000/svg";lt.parentNode.replaceChild(m(rt[at._const.newValue],pt,at),lt);break;case at._const.relocateGroup:u([],new Array(rt[at._const.groupLength])).map(function(){return lt.removeChild(lt.childNodes[rt[at._const.from]])}).forEach(function(xt,bt){bt===0&&(ut=lt.childNodes[rt[at._const.to]]),lt.insertBefore(xt,ut||null)});break;case at._const.removeElement:lt.parentNode.removeChild(lt);break;case at._const.addElement:var mt=(yt=ht.slice()).splice(yt.length-1,1)[0];if(!f(lt=g(ot,yt),"Element"))return!1;lt.insertBefore(m(rt[at._const.element],lt.namespaceURI==="http://www.w3.org/2000/svg",at),lt.childNodes[mt]||null);break;case at._const.removeTextElement:if(!lt||lt.nodeType!==3)return!1;var gt=lt.parentNode;gt.removeChild(lt),f(gt,"HTMLTextAreaElement")&&(gt.value="");break;case at._const.addTextElement:var yt;if(mt=(yt=ht.slice()).splice(yt.length-1,1)[0],ct=at.document.createTextNode(rt[at._const.value]),!(lt=g(ot,yt)).childNodes)return!1;lt.insertBefore(ct,lt.childNodes[mt]||null),f(lt.parentNode,"HTMLTextAreaElement")&&(lt.parentNode.value=rt[at._const.value]);break;default:console.log("unknown action")}return at.postDiffApply({diff:ft.diff,node:ft.node,newNode:ct}),!0}function v(ot,rt,at){var lt=ot[rt];ot[rt]=ot[at],ot[at]=lt}function _(ot,rt,at){(rt=rt.slice()).reverse(),rt.forEach(function(lt){(function(ct,ut,dt){switch(ut[dt._const.action]){case dt._const.addAttribute:ut[dt._const.action]=dt._const.removeAttribute,b(ct,ut,dt);break;case dt._const.modifyAttribute:v(ut,dt._const.oldValue,dt._const.newValue),b(ct,ut,dt);break;case dt._const.removeAttribute:ut[dt._const.action]=dt._const.addAttribute,b(ct,ut,dt);break;case dt._const.modifyTextElement:case dt._const.modifyValue:case dt._const.modifyComment:case dt._const.modifyChecked:case dt._const.modifySelected:case dt._const.replaceElement:v(ut,dt._const.oldValue,dt._const.newValue),b(ct,ut,dt);break;case dt._const.relocateGroup:v(ut,dt._const.from,dt._const.to),b(ct,ut,dt);break;case dt._const.removeElement:ut[dt._const.action]=dt._const.addElement,b(ct,ut,dt);break;case dt._const.addElement:ut[dt._const.action]=dt._const.removeElement,b(ct,ut,dt);break;case dt._const.removeTextElement:ut[dt._const.action]=dt._const.addTextElement,b(ct,ut,dt);break;case dt._const.addTextElement:ut[dt._const.action]=dt._const.removeTextElement,b(ct,ut,dt);break;default:console.log("unknown action")}})(ot,lt,at)})}var w=function(ot){var rt=[];return rt.push(ot.nodeName),ot.nodeName!=="#text"&&ot.nodeName!=="#comment"&&ot.attributes&&(ot.attributes.class&&rt.push("".concat(ot.nodeName,".").concat(ot.attributes.class.replace(/ /g,"."))),ot.attributes.id&&rt.push("".concat(ot.nodeName,"#").concat(ot.attributes.id))),rt},y=function(ot){var rt={},at={};return ot.forEach(function(lt){w(lt).forEach(function(ct){var ut=ct in rt;ut||ct in at?ut&&(delete rt[ct],at[ct]=!0):rt[ct]=!0})}),rt},D=function(ot,rt){var at=y(ot),lt=y(rt),ct={};return Object.keys(at).forEach(function(ut){lt[ut]&&(ct[ut]=!0)}),ct},M=function(ot){return delete ot.outerDone,delete ot.innerDone,delete ot.valueDone,!ot.childNodes||ot.childNodes.every(M)},N=function(ot){if(Object.prototype.hasOwnProperty.call(ot,"data"))return{nodeName:ot.nodeName==="#text"?"#text":"#comment",data:ot.data};var rt={nodeName:ot.nodeName};return Object.prototype.hasOwnProperty.call(ot,"attributes")&&(rt.attributes=h({},ot.attributes)),Object.prototype.hasOwnProperty.call(ot,"checked")&&(rt.checked=ot.checked),Object.prototype.hasOwnProperty.call(ot,"value")&&(rt.value=ot.value),Object.prototype.hasOwnProperty.call(ot,"selected")&&(rt.selected=ot.selected),Object.prototype.hasOwnProperty.call(ot,"childNodes")&&(rt.childNodes=ot.childNodes.map(function(at){return N(at)})),rt},x=function(ot,rt){if(!["nodeName","value","checked","selected","data"].every(function(ct){return ot[ct]===rt[ct]}))return!1;if(Object.prototype.hasOwnProperty.call(ot,"data"))return!0;if(!!ot.attributes!=!!rt.attributes||!!ot.childNodes!=!!rt.childNodes)return!1;if(ot.attributes){var at=Object.keys(ot.attributes),lt=Object.keys(rt.attributes);if(at.length!==lt.length||!at.every(function(ct){return ot.attributes[ct]===rt.attributes[ct]}))return!1}return!(ot.childNodes&&(ot.childNodes.length!==rt.childNodes.length||!ot.childNodes.every(function(ct,ut){return x(ct,rt.childNodes[ut])})))},O=function(ot,rt,at,lt,ct){if(ct===void 0&&(ct=!1),!ot||!rt||ot.nodeName!==rt.nodeName)return!1;if(["#text","#comment"].includes(ot.nodeName))return!!ct||ot.data===rt.data;if(ot.nodeName in at)return!0;if(ot.attributes&&rt.attributes){if(ot.attributes.id){if(ot.attributes.id!==rt.attributes.id)return!1;if("".concat(ot.nodeName,"#").concat(ot.attributes.id)in at)return!0}if(ot.attributes.class&&ot.attributes.class===rt.attributes.class&&"".concat(ot.nodeName,".").concat(ot.attributes.class.replace(/ /g,"."))in at)return!0}if(lt)return!0;var ut=ot.childNodes?ot.childNodes.slice().reverse():[],dt=rt.childNodes?rt.childNodes.slice().reverse():[];if(ut.length!==dt.length)return!1;if(ct)return ut.every(function(ft,pt){return ft.nodeName===dt[pt].nodeName});var ht=D(ut,dt);return ut.every(function(ft,pt){return O(ft,dt[pt],ht,!0,!0)})},E=function(ot,rt){return u([],new Array(ot)).map(function(){return rt})},V=function(ot,rt){for(var at=ot.childNodes?ot.childNodes:[],lt=rt.childNodes?rt.childNodes:[],ct=E(at.length,!1),ut=E(lt.length,!1),dt=[],ht=function(){return arguments[1]},ft=!1,pt=function(){var mt=function(gt,yt,xt,bt){var Et=0,Rt=[],wt=gt.length,_t=yt.length,At=u([],new Array(wt+1)).map(function(){return[]}),kt=D(gt,yt),It=wt===_t;It&&gt.some(function(Ot,Dt){var jt=w(Ot),Mt=w(yt[Dt]);return jt.length!==Mt.length?(It=!1,!0):(jt.some(function(zt,Qt){if(zt!==Mt[Qt])return It=!1,!0}),!It||void 0)});for(var Nt=0;Nt<wt;Nt++)for(var Pt=gt[Nt],Tt=0;Tt<_t;Tt++){var Ct=yt[Tt];xt[Nt]||bt[Tt]||!O(Pt,Ct,kt,It)?At[Nt+1][Tt+1]=0:(At[Nt+1][Tt+1]=At[Nt][Tt]?At[Nt][Tt]+1:1,At[Nt+1][Tt+1]>=Et&&(Et=At[Nt+1][Tt+1],Rt=[Nt+1,Tt+1]))}return Et!==0&&{oldValue:Rt[0]-Et,newValue:Rt[1]-Et,length:Et}}(at,lt,ct,ut);mt?(dt.push(mt),u([],new Array(mt.length)).map(ht).forEach(function(gt){return function(yt,xt,bt,Et){yt[bt.oldValue+Et]=!0,xt[bt.newValue+Et]=!0}(ct,ut,mt,gt)})):ft=!0};!ft;)pt();return ot.subsets=dt,ot.subsetsAge=100,dt},$=function(){function ot(){this.list=[]}return ot.prototype.add=function(rt){var at;(at=this.list).push.apply(at,rt)},ot.prototype.forEach=function(rt){this.list.forEach(function(at){return rt(at)})},ot}();function C(ot,rt){var at,lt,ct=ot;for(rt=rt.slice();rt.length>0;)lt=rt.splice(0,1)[0],at=ct,ct=ct.childNodes?ct.childNodes[lt]:void 0;return{node:ct,parentNode:at,nodeIndex:lt}}function k(ot,rt,at){return rt.forEach(function(lt){(function(ct,ut,dt){var ht,ft,pt,mt;if(![dt._const.addElement,dt._const.addTextElement].includes(ut[dt._const.action])){var gt=C(ct,ut[dt._const.route]);ft=gt.node,pt=gt.parentNode,mt=gt.nodeIndex}var yt,xt,bt=[],Et={diff:ut,node:ft};if(dt.preVirtualDiffApply(Et))return!0;switch(ut[dt._const.action]){case dt._const.addAttribute:ft.attributes||(ft.attributes={}),ft.attributes[ut[dt._const.name]]=ut[dt._const.value],ut[dt._const.name]==="checked"?ft.checked=!0:ut[dt._const.name]==="selected"?ft.selected=!0:ft.nodeName==="INPUT"&&ut[dt._const.name]==="value"&&(ft.value=ut[dt._const.value]);break;case dt._const.modifyAttribute:ft.attributes[ut[dt._const.name]]=ut[dt._const.newValue];break;case dt._const.removeAttribute:delete ft.attributes[ut[dt._const.name]],Object.keys(ft.attributes).length===0&&delete ft.attributes,ut[dt._const.name]==="checked"?ft.checked=!1:ut[dt._const.name]==="selected"?delete ft.selected:ft.nodeName==="INPUT"&&ut[dt._const.name]==="value"&&delete ft.value;break;case dt._const.modifyTextElement:ft.data=ut[dt._const.newValue],pt.nodeName==="TEXTAREA"&&(pt.value=ut[dt._const.newValue]);break;case dt._const.modifyValue:ft.value=ut[dt._const.newValue];break;case dt._const.modifyComment:ft.data=ut[dt._const.newValue];break;case dt._const.modifyChecked:ft.checked=ut[dt._const.newValue];break;case dt._const.modifySelected:ft.selected=ut[dt._const.newValue];break;case dt._const.replaceElement:yt=N(ut[dt._const.newValue]),pt.childNodes[mt]=yt;break;case dt._const.relocateGroup:ft.childNodes.splice(ut[dt._const.from],ut[dt._const.groupLength]).reverse().forEach(function(_t){return ft.childNodes.splice(ut[dt._const.to],0,_t)}),ft.subsets&&ft.subsets.forEach(function(_t){if(ut[dt._const.from]<ut[dt._const.to]&&_t.oldValue<=ut[dt._const.to]&&_t.oldValue>ut[dt._const.from])_t.oldValue-=ut[dt._const.groupLength],(At=_t.oldValue+_t.length-ut[dt._const.to])>0&&(bt.push({oldValue:ut[dt._const.to]+ut[dt._const.groupLength],newValue:_t.newValue+_t.length-At,length:At}),_t.length-=At);else if(ut[dt._const.from]>ut[dt._const.to]&&_t.oldValue>ut[dt._const.to]&&_t.oldValue<ut[dt._const.from]){var At;_t.oldValue+=ut[dt._const.groupLength],(At=_t.oldValue+_t.length-ut[dt._const.to])>0&&(bt.push({oldValue:ut[dt._const.to]+ut[dt._const.groupLength],newValue:_t.newValue+_t.length-At,length:At}),_t.length-=At)}else _t.oldValue===ut[dt._const.from]&&(_t.oldValue=ut[dt._const.to])});break;case dt._const.removeElement:pt.childNodes.splice(mt,1),pt.subsets&&pt.subsets.forEach(function(_t){_t.oldValue>mt?_t.oldValue-=1:_t.oldValue===mt?_t.delete=!0:_t.oldValue<mt&&_t.oldValue+_t.length>mt&&(_t.oldValue+_t.length-1===mt?_t.length--:(bt.push({newValue:_t.newValue+mt-_t.oldValue,oldValue:mt,length:_t.length-mt+_t.oldValue-1}),_t.length=mt-_t.oldValue))}),ft=pt;break;case dt._const.addElement:var Rt=(xt=ut[dt._const.route].slice()).splice(xt.length-1,1)[0];ft=(ht=C(ct,xt))===null||ht===void 0?void 0:ht.node,yt=N(ut[dt._const.element]),ft.childNodes||(ft.childNodes=[]),Rt>=ft.childNodes.length?ft.childNodes.push(yt):ft.childNodes.splice(Rt,0,yt),ft.subsets&&ft.subsets.forEach(function(_t){if(_t.oldValue>=Rt)_t.oldValue+=1;else if(_t.oldValue<Rt&&_t.oldValue+_t.length>Rt){var At=_t.oldValue+_t.length-Rt;bt.push({newValue:_t.newValue+_t.length-At,oldValue:Rt+1,length:At}),_t.length-=At}});break;case dt._const.removeTextElement:pt.childNodes.splice(mt,1),pt.nodeName==="TEXTAREA"&&delete pt.value,pt.subsets&&pt.subsets.forEach(function(_t){_t.oldValue>mt?_t.oldValue-=1:_t.oldValue===mt?_t.delete=!0:_t.oldValue<mt&&_t.oldValue+_t.length>mt&&(_t.oldValue+_t.length-1===mt?_t.length--:(bt.push({newValue:_t.newValue+mt-_t.oldValue,oldValue:mt,length:_t.length-mt+_t.oldValue-1}),_t.length=mt-_t.oldValue))}),ft=pt;break;case dt._const.addTextElement:var wt=(xt=ut[dt._const.route].slice()).splice(xt.length-1,1)[0];yt={nodeName:"#text",data:ut[dt._const.value]},(ft=C(ct,xt).node).childNodes||(ft.childNodes=[]),wt>=ft.childNodes.length?ft.childNodes.push(yt):ft.childNodes.splice(wt,0,yt),ft.nodeName==="TEXTAREA"&&(ft.value=ut[dt._const.newValue]),ft.subsets&&ft.subsets.forEach(function(_t){if(_t.oldValue>=wt&&(_t.oldValue+=1),_t.oldValue<wt&&_t.oldValue+_t.length>wt){var At=_t.oldValue+_t.length-wt;bt.push({newValue:_t.newValue+_t.length-At,oldValue:wt+1,length:At}),_t.length-=At}});break;default:console.log("unknown action")}ft.subsets&&(ft.subsets=ft.subsets.filter(function(_t){return!_t.delete&&_t.oldValue!==_t.newValue}),bt.length&&(ft.subsets=ft.subsets.concat(bt))),dt.postVirtualDiffApply({node:Et.node,diff:Et.diff,newNode:yt})})(ot,lt,at)}),!0}function S(ot,rt){rt===void 0&&(rt={valueDiffing:!0});var at={nodeName:ot.nodeName};return f(ot,"Text","Comment")?at.data=ot.data:(ot.attributes&&ot.attributes.length>0&&(at.attributes={},Array.prototype.slice.call(ot.attributes).forEach(function(lt){return at.attributes[lt.name]=lt.value})),ot.childNodes&&ot.childNodes.length>0&&(at.childNodes=[],Array.prototype.slice.call(ot.childNodes).forEach(function(lt){return at.childNodes.push(S(lt,rt))})),rt.valueDiffing&&(f(ot,"HTMLTextAreaElement")&&(at.value=ot.value),f(ot,"HTMLInputElement")&&["radio","checkbox"].includes(ot.type.toLowerCase())&&ot.checked!==void 0?at.checked=ot.checked:f(ot,"HTMLButtonElement","HTMLDataElement","HTMLInputElement","HTMLLIElement","HTMLMeterElement","HTMLOptionElement","HTMLProgressElement","HTMLParamElement")&&(at.value=ot.value),f(ot,"HTMLOptionElement")&&(at.selected=ot.selected))),at}var T=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,A=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function L(ot){return ot.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var P={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},R=function(ot,rt){var at={nodeName:"",attributes:{}},lt=!1,ct=ot.match(/<\/?([^\s]+?)[/\s>]/);if(ct&&(at.nodeName=rt||ct[1]==="svg"?ct[1]:ct[1].toUpperCase(),(P[ct[1]]||ot.charAt(ot.length-2)==="/")&&(lt=!0),at.nodeName.startsWith("!--"))){var ut=ot.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:ut!==-1?ot.slice(4,ut):""},voidElement:lt}}for(var dt=new RegExp(A),ht=null,ft=!1;!ft;)if((ht=dt.exec(ot))===null)ft=!0;else if(ht[0].trim())if(ht[1]){var pt=ht[1].trim(),mt=[pt,""];pt.indexOf("=")>-1&&(mt=pt.split("=")),at.attributes[mt[0]]=mt[1],dt.lastIndex--}else ht[2]&&(at.attributes[ht[2]]=ht[3].trim().substring(1,ht[3].length-1));return{type:"tag",node:at,voidElement:lt}},H=function(ot,rt){rt===void 0&&(rt={valueDiffing:!0,caseSensitive:!1});var at,lt=[],ct=-1,ut=[],dt=!1;if(ot.indexOf("<")!==0){var ht=ot.indexOf("<");lt.push({nodeName:"#text",data:ht===-1?ot:ot.substring(0,ht)})}return ot.replace(T,function(ft,pt){var mt=ft.charAt(1)!=="/",gt=ft.startsWith("<!--"),yt=pt+ft.length,xt=ot.charAt(yt);if(gt){var bt=R(ft,rt.caseSensitive).node;if(ct<0)return lt.push(bt),"";var Et=ut[ct];return Et&&bt.nodeName&&(Et.node.childNodes||(Et.node.childNodes=[]),Et.node.childNodes.push(bt)),""}if(mt){if((at=R(ft,rt.caseSensitive||dt)).node.nodeName==="svg"&&(dt=!0),ct++,!at.voidElement&&xt&&xt!=="<"){at.node.childNodes||(at.node.childNodes=[]);var Rt=L(ot.slice(yt,ot.indexOf("<",yt)));at.node.childNodes.push({nodeName:"#text",data:Rt}),rt.valueDiffing&&at.node.nodeName==="TEXTAREA"&&(at.node.value=Rt)}ct===0&&at.node.nodeName&&lt.push(at.node);var wt=ut[ct-1];wt&&at.node.nodeName&&(wt.node.childNodes||(wt.node.childNodes=[]),wt.node.childNodes.push(at.node)),ut[ct]=at}if((!mt||at.voidElement)&&(ct>-1&&(at.voidElement||rt.caseSensitive&&at.node.nodeName===ft.slice(2,-1)||!rt.caseSensitive&&at.node.nodeName.toUpperCase()===ft.slice(2,-1).toUpperCase())&&--ct>-1&&(at.node.nodeName==="svg"&&(dt=!1),at=ut[ct]),xt!=="<"&&xt)){var _t=ct===-1?lt:ut[ct].node.childNodes||[],At=ot.indexOf("<",yt);Rt=L(ot.slice(yt,At===-1?void 0:At)),_t.push({nodeName:"#text",data:Rt})}return""}),lt[0]},I=function(){function ot(rt,at,lt){this.options=lt,this.t1=typeof Element<"u"&&f(rt,"Element")?S(rt,this.options):typeof rt=="string"?H(rt,this.options):JSON.parse(JSON.stringify(rt)),this.t2=typeof Element<"u"&&f(at,"Element")?S(at,this.options):typeof at=="string"?H(at,this.options):JSON.parse(JSON.stringify(at)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&f(rt,"Element")?S(rt,this.options):typeof rt=="string"?H(rt,this.options):JSON.parse(JSON.stringify(rt)),this.t2Orig=typeof Element<"u"&&f(at,"Element")?S(at,this.options):typeof at=="string"?H(at,this.options):JSON.parse(JSON.stringify(at))),this.tracker=new $}return ot.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},ot.prototype.findDiffs=function(rt,at){var lt;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(lt=this.findNextDiff(rt,at,[])).length===0&&(x(rt,at)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,M(rt),lt=this.findNextDiff(rt,at,[])))),lt.length>0&&(this.foundAll=!1,this.tracker.add(lt),k(rt,lt,this.options))}while(lt.length>0);return this.tracker.list},ot.prototype.findNextDiff=function(rt,at,lt){var ct,ut;if(this.options.maxDepth&&lt.length>this.options.maxDepth)return[];if(!rt.outerDone){if(ct=this.findOuterDiff(rt,at,lt),this.options.filterOuterDiff&&(ut=this.options.filterOuterDiff(rt,at,ct))&&(ct=ut),ct.length>0)return rt.outerDone=!0,ct;rt.outerDone=!0}if(Object.prototype.hasOwnProperty.call(rt,"data"))return[];if(!rt.innerDone){if((ct=this.findInnerDiff(rt,at,lt)).length>0)return ct;rt.innerDone=!0}if(this.options.valueDiffing&&!rt.valueDone){if((ct=this.findValueDiff(rt,at,lt)).length>0)return rt.valueDone=!0,ct;rt.valueDone=!0}return[]},ot.prototype.findOuterDiff=function(rt,at,lt){var ct,ut,dt,ht,ft,pt,mt=[];if(rt.nodeName!==at.nodeName){if(!lt.length)throw new Error("Top level nodes have to be of the same kind.");return[new p().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,N(rt)).setValue(this.options._const.newValue,N(at)).setValue(this.options._const.route,lt)]}if(lt.length&&this.options.diffcap<Math.abs((rt.childNodes||[]).length-(at.childNodes||[]).length))return[new p().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,N(rt)).setValue(this.options._const.newValue,N(at)).setValue(this.options._const.route,lt)];if(Object.prototype.hasOwnProperty.call(rt,"data")&&rt.data!==at.data)return rt.nodeName==="#text"?[new p().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,lt).setValue(this.options._const.oldValue,rt.data).setValue(this.options._const.newValue,at.data)]:[new p().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,lt).setValue(this.options._const.oldValue,rt.data).setValue(this.options._const.newValue,at.data)];for(ut=rt.attributes?Object.keys(rt.attributes).sort():[],dt=at.attributes?Object.keys(at.attributes).sort():[],ht=ut.length,pt=0;pt<ht;pt++)ct=ut[pt],(ft=dt.indexOf(ct))===-1?mt.push(new p().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,lt).setValue(this.options._const.name,ct).setValue(this.options._const.value,rt.attributes[ct])):(dt.splice(ft,1),rt.attributes[ct]!==at.attributes[ct]&&mt.push(new p().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,lt).setValue(this.options._const.name,ct).setValue(this.options._const.oldValue,rt.attributes[ct]).setValue(this.options._const.newValue,at.attributes[ct])));for(ht=dt.length,pt=0;pt<ht;pt++)ct=dt[pt],mt.push(new p().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,lt).setValue(this.options._const.name,ct).setValue(this.options._const.value,at.attributes[ct]));return mt},ot.prototype.findInnerDiff=function(rt,at,lt){var ct=rt.childNodes?rt.childNodes.slice():[],ut=at.childNodes?at.childNodes.slice():[],dt=Math.max(ct.length,ut.length),ht=Math.abs(ct.length-ut.length),ft=[],pt=0;if(!this.options.maxChildCount||dt<this.options.maxChildCount){var mt=!!(rt.subsets&&rt.subsetsAge--),gt=mt?rt.subsets:rt.childNodes&&at.childNodes?V(rt,at):[];if(gt.length>0&&(ft=this.attemptGroupRelocation(rt,at,gt,lt,mt)).length>0)return ft}for(var yt=0;yt<dt;yt+=1){var xt=ct[yt],bt=ut[yt];ht&&(xt&&!bt?xt.nodeName==="#text"?(ft.push(new p().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,lt.concat(pt)).setValue(this.options._const.value,xt.data)),pt-=1):(ft.push(new p().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,lt.concat(pt)).setValue(this.options._const.element,N(xt))),pt-=1):bt&&!xt&&(bt.nodeName==="#text"?ft.push(new p().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,lt.concat(pt)).setValue(this.options._const.value,bt.data)):ft.push(new p().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,lt.concat(pt)).setValue(this.options._const.element,N(bt))))),xt&&bt&&(!this.options.maxChildCount||dt<this.options.maxChildCount?ft=ft.concat(this.findNextDiff(xt,bt,lt.concat(pt))):x(xt,bt)||(ct.length>ut.length?(xt.nodeName==="#text"?ft.push(new p().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,lt.concat(pt)).setValue(this.options._const.value,xt.data)):ft.push(new p().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,N(xt)).setValue(this.options._const.route,lt.concat(pt))),ct.splice(yt,1),yt-=1,pt-=1,ht-=1):ct.length<ut.length?(ft=ft.concat([new p().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,N(bt)).setValue(this.options._const.route,lt.concat(pt))]),ct.splice(yt,0,N(bt)),ht-=1):ft=ft.concat([new p().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,N(xt)).setValue(this.options._const.newValue,N(bt)).setValue(this.options._const.route,lt.concat(pt))]))),pt+=1}return rt.innerDone=!0,ft},ot.prototype.attemptGroupRelocation=function(rt,at,lt,ct,ut){for(var dt,ht,ft,pt,mt,gt=function(Nt,Pt,Tt){var Ct=Nt.childNodes?E(Nt.childNodes.length,!0):[],Ot=Pt.childNodes?E(Pt.childNodes.length,!0):[],Dt=0;return Tt.forEach(function(jt){for(var Mt=jt.oldValue+jt.length,zt=jt.newValue+jt.length,Qt=jt.oldValue;Qt<Mt;Qt+=1)Ct[Qt]=Dt;for(Qt=jt.newValue;Qt<zt;Qt+=1)Ot[Qt]=Dt;Dt+=1}),{gaps1:Ct,gaps2:Ot}}(rt,at,lt),yt=gt.gaps1,xt=gt.gaps2,bt=rt.childNodes.slice(),Et=at.childNodes.slice(),Rt=Math.min(yt.length,xt.length),wt=[],_t=0,At=0;_t<Rt;At+=1,_t+=1)if(!ut||yt[_t]!==!0&&xt[_t]!==!0){if(yt[At]===!0)if((pt=bt[At]).nodeName==="#text")if(Et[_t].nodeName==="#text"){if(pt.data!==Et[_t].data){for(var kt=At;bt.length>kt+1&&bt[kt+1].nodeName==="#text";)if(kt+=1,Et[_t].data===bt[kt].data){mt=!0;break}mt||wt.push(new p().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,ct.concat(At)).setValue(this.options._const.oldValue,pt.data).setValue(this.options._const.newValue,Et[_t].data))}}else wt.push(new p().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,ct.concat(At)).setValue(this.options._const.value,pt.data)),yt.splice(At,1),bt.splice(At,1),Rt=Math.min(yt.length,xt.length),At-=1,_t-=1;else xt[_t]===!0?wt.push(new p().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,N(pt)).setValue(this.options._const.newValue,N(Et[_t])).setValue(this.options._const.route,ct.concat(At))):(wt.push(new p().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,ct.concat(At)).setValue(this.options._const.element,N(pt))),yt.splice(At,1),bt.splice(At,1),Rt=Math.min(yt.length,xt.length),At-=1,_t-=1);else if(xt[_t]===!0)(pt=Et[_t]).nodeName==="#text"?(wt.push(new p().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,ct.concat(At)).setValue(this.options._const.value,pt.data)),yt.splice(At,0,!0),bt.splice(At,0,{nodeName:"#text",data:pt.data}),Rt=Math.min(yt.length,xt.length)):(wt.push(new p().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,ct.concat(At)).setValue(this.options._const.element,N(pt))),yt.splice(At,0,!0),bt.splice(At,0,N(pt)),Rt=Math.min(yt.length,xt.length));else if(yt[At]!==xt[_t]){if(wt.length>0)return wt;if(ft=lt[yt[At]],(ht=Math.min(ft.newValue,bt.length-ft.length))!==ft.oldValue){dt=!1;for(var It=0;It<ft.length;It+=1)O(bt[ht+It],bt[ft.oldValue+It],{},!1,!0)||(dt=!0);if(dt)return[new p().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,ft.length).setValue(this.options._const.from,ft.oldValue).setValue(this.options._const.to,ht).setValue(this.options._const.route,ct)]}}}return wt},ot.prototype.findValueDiff=function(rt,at,lt){var ct=[];return rt.selected!==at.selected&&ct.push(new p().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,rt.selected).setValue(this.options._const.newValue,at.selected).setValue(this.options._const.route,lt)),(rt.value||at.value)&&rt.value!==at.value&&rt.nodeName!=="OPTION"&&ct.push(new p().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,rt.value||"").setValue(this.options._const.newValue,at.value||"").setValue(this.options._const.route,lt)),rt.checked!==at.checked&&ct.push(new p().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,rt.checked).setValue(this.options._const.newValue,at.checked).setValue(this.options._const.route,lt)),ct},ot}(),Y={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(ot,rt,at,lt){ot.data=lt},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},j=function(){function ot(rt){if(rt===void 0&&(rt={}),Object.entries(Y).forEach(function(ct){var ut=ct[0],dt=ct[1];Object.prototype.hasOwnProperty.call(rt,ut)||(rt[ut]=dt)}),!rt._const){var at=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],lt={};rt.compress?at.forEach(function(ct,ut){return lt[ct]=ut}):at.forEach(function(ct){return lt[ct]=ct}),rt._const=lt}this.options=rt}return ot.prototype.apply=function(rt,at){return function(lt,ct,ut){return ct.every(function(dt){return b(lt,dt,ut)})}(rt,at,this.options)},ot.prototype.undo=function(rt,at){return _(rt,at,this.options)},ot.prototype.diff=function(rt,at){return new I(rt,at,this.options).init()},ot}();const q=(ot,rt,at,{classes:lt,format:ct,hiddenHeader:ut,sortable:dt,scrollY:ht,type:ft},{noColumnWidths:pt,unhideHeader:mt})=>({nodeName:"TR",childNodes:ot.map((gt,yt)=>{const xt=rt[yt]||{type:ft,format:ct,sortable:!0,searchable:!0};if(xt.hidden)return;const bt=gt.attributes?{...gt.attributes}:{};if(xt.sortable&&dt&&(!ht.length||mt)&&(xt.filter?bt["data-filterable"]="true":bt["data-sortable"]="true"),xt.headerClass&&(bt.class=c(bt.class,xt.headerClass)),at.sort&&at.sort.column===yt){const Rt=at.sort.dir==="asc"?lt.ascending:lt.descending;bt.class=c(bt.class,Rt),bt["aria-sort"]=at.sort.dir==="asc"?"ascending":"descending"}else at.filters[yt]&&(bt.class=c(bt.class,lt.filterActive));if(at.widths[yt]&&!pt){const Rt=`width: ${at.widths[yt]}%;`;bt.style=c(bt.style,Rt)}if(ht.length&&!mt){const Rt="padding-bottom: 0;padding-top: 0;border: 0;";bt.style=c(bt.style,Rt)}const Et=gt.type==="html"?gt.data:[{nodeName:"#text",data:gt.text??String(gt.data)}];return{nodeName:"TH",attributes:bt,childNodes:!ut&&!ht.length||mt?xt.sortable&&dt?[{nodeName:"BUTTON",attributes:{class:xt.filter?lt.filter:lt.sorter},childNodes:Et}]:Et:[{nodeName:"#text",data:""}]}}).filter(gt=>gt)}),F=(ot,rt,at,lt,ct,ut,{classes:dt,hiddenHeader:ht,header:ft,footer:pt,format:mt,sortable:gt,scrollY:yt,type:xt,rowRender:bt,tabIndex:Et},{noColumnWidths:Rt,unhideHeader:wt,renderHeader:_t},At,kt)=>{const It={nodeName:"TABLE",attributes:{...ot},childNodes:[{nodeName:"TBODY",childNodes:at.map(({row:Nt,index:Pt})=>{const Tt={nodeName:"TR",attributes:{...Nt.attributes,"data-index":String(Pt)},childNodes:Nt.cells.map((Ct,Ot)=>{const Dt=lt[Ot]||{type:xt,format:mt,sortable:!0,searchable:!0};if(Dt.hidden)return;const jt={nodeName:"TD",attributes:Ct.attributes?{...Ct.attributes}:{},childNodes:Dt.type==="html"?Ct.data:[{nodeName:"#text",data:n(Ct)}]};if(ft||pt||!ct.widths[Ot]||Rt||(jt.attributes.style=c(jt.attributes.style,`width: ${ct.widths[Ot]}%;`)),Dt.cellClass&&(jt.attributes.class=c(jt.attributes.class,Dt.cellClass)),Dt.render){const Mt=Dt.render(Ct.data,jt,Pt,Ot);if(Mt){if(typeof Mt!="string")return Mt;{const zt=H(`<td>${Mt}</td>`);zt.childNodes.length===1&&["#text","#comment"].includes(zt.childNodes[0].nodeName)?jt.childNodes[0].data=Mt:jt.childNodes=zt.childNodes}}}return jt}).filter(Ct=>Ct)};if(Pt===ut&&(Tt.attributes.class=c(Tt.attributes.class,dt.cursor)),bt){const Ct=bt(Nt,Tt,Pt);if(Ct){if(typeof Ct!="string")return Ct;{const Ot=H(`<tr>${Ct}</tr>`);!Ot.childNodes||Ot.childNodes.length===1&&["#text","#comment"].includes(Ot.childNodes[0].nodeName)?Tt.childNodes[0].data=Ct:Tt.childNodes=Ot.childNodes}}}return Tt})}]};if(It.attributes.class=c(It.attributes.class,dt.table),ft||pt||_t){const Nt=q(rt,lt,ct,{classes:dt,hiddenHeader:ht,sortable:gt,scrollY:yt},{noColumnWidths:Rt,unhideHeader:wt});if(ft||_t){const Pt={nodeName:"THEAD",childNodes:[Nt]};!yt.length&&!ht||wt||(Pt.attributes={style:"height: 0px;"}),It.childNodes.unshift(Pt)}if(pt){const Pt={nodeName:"TFOOT",childNodes:[ft?structuredClone(Nt):Nt]};!yt.length&&!ht||wt||(Pt.attributes={style:"height: 0px;"}),It.childNodes.push(Pt)}}return At.forEach(Nt=>It.childNodes.push(Nt)),kt.forEach(Nt=>It.childNodes.push(Nt)),Et!==!1&&(It.attributes.tabindex=String(Et)),It};function B(ot){return ot&&ot.__esModule&&Object.prototype.hasOwnProperty.call(ot,"default")?ot.default:ot}var U=B(function(){var ot=1e3,rt=6e4,at=36e5,lt="millisecond",ct="second",ut="minute",dt="hour",ht="day",ft="week",pt="month",mt="quarter",gt="year",yt="date",xt="Invalid Date",bt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Et=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Rt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(jt){var Mt=["th","st","nd","rd"],zt=jt%100;return"["+jt+(Mt[(zt-20)%10]||Mt[zt]||Mt[0])+"]"}},wt=function(jt,Mt,zt){var Qt=String(jt);return!Qt||Qt.length>=Mt?jt:""+Array(Mt+1-Qt.length).join(zt)+jt},_t={s:wt,z:function(jt){var Mt=-jt.utcOffset(),zt=Math.abs(Mt),Qt=Math.floor(zt/60),qt=zt%60;return(Mt<=0?"+":"-")+wt(Qt,2,"0")+":"+wt(qt,2,"0")},m:function jt(Mt,zt){if(Mt.date()<zt.date())return-jt(zt,Mt);var Qt=12*(zt.year()-Mt.year())+(zt.month()-Mt.month()),qt=Mt.clone().add(Qt,pt),Kt=zt-qt<0,sn=Mt.clone().add(Qt+(Kt?-1:1),pt);return+(-(Qt+(zt-qt)/(Kt?qt-sn:sn-qt))||0)},a:function(jt){return jt<0?Math.ceil(jt)||0:Math.floor(jt)},p:function(jt){return{M:pt,y:gt,w:ft,d:ht,D:yt,h:dt,m:ut,s:ct,ms:lt,Q:mt}[jt]||String(jt||"").toLowerCase().replace(/s$/,"")},u:function(jt){return jt===void 0}},At="en",kt={};kt[At]=Rt;var It="$isDayjsObject",Nt=function(jt){return jt instanceof Ot||!(!jt||!jt[It])},Pt=function jt(Mt,zt,Qt){var qt;if(!Mt)return At;if(typeof Mt=="string"){var Kt=Mt.toLowerCase();kt[Kt]&&(qt=Kt),zt&&(kt[Kt]=zt,qt=Kt);var sn=Mt.split("-");if(!qt&&sn.length>1)return jt(sn[0])}else{var Gt=Mt.name;kt[Gt]=Mt,qt=Gt}return!Qt&&qt&&(At=qt),qt||!Qt&&At},Tt=function(jt,Mt){if(Nt(jt))return jt.clone();var zt=typeof Mt=="object"?Mt:{};return zt.date=jt,zt.args=arguments,new Ot(zt)},Ct=_t;Ct.l=Pt,Ct.i=Nt,Ct.w=function(jt,Mt){return Tt(jt,{locale:Mt.$L,utc:Mt.$u,x:Mt.$x,$offset:Mt.$offset})};var Ot=function(){function jt(zt){this.$L=Pt(zt.locale,null,!0),this.parse(zt),this.$x=this.$x||zt.x||{},this[It]=!0}var Mt=jt.prototype;return Mt.parse=function(zt){this.$d=function(Qt){var qt=Qt.date,Kt=Qt.utc;if(qt===null)return new Date(NaN);if(Ct.u(qt))return new Date;if(qt instanceof Date)return new Date(qt);if(typeof qt=="string"&&!/Z$/i.test(qt)){var sn=qt.match(bt);if(sn){var Gt=sn[2]-1||0,Wt=(sn[7]||"0").substring(0,3);return Kt?new Date(Date.UTC(sn[1],Gt,sn[3]||1,sn[4]||0,sn[5]||0,sn[6]||0,Wt)):new Date(sn[1],Gt,sn[3]||1,sn[4]||0,sn[5]||0,sn[6]||0,Wt)}}return new Date(qt)}(zt),this.init()},Mt.init=function(){var zt=this.$d;this.$y=zt.getFullYear(),this.$M=zt.getMonth(),this.$D=zt.getDate(),this.$W=zt.getDay(),this.$H=zt.getHours(),this.$m=zt.getMinutes(),this.$s=zt.getSeconds(),this.$ms=zt.getMilliseconds()},Mt.$utils=function(){return Ct},Mt.isValid=function(){return this.$d.toString()!==xt},Mt.isSame=function(zt,Qt){var qt=Tt(zt);return this.startOf(Qt)<=qt&&qt<=this.endOf(Qt)},Mt.isAfter=function(zt,Qt){return Tt(zt)<this.startOf(Qt)},Mt.isBefore=function(zt,Qt){return this.endOf(Qt)<Tt(zt)},Mt.$g=function(zt,Qt,qt){return Ct.u(zt)?this[Qt]:this.set(qt,zt)},Mt.unix=function(){return Math.floor(this.valueOf()/1e3)},Mt.valueOf=function(){return this.$d.getTime()},Mt.startOf=function(zt,Qt){var qt=this,Kt=!!Ct.u(Qt)||Qt,sn=Ct.p(zt),Gt=function(Jt,Yt){var gn=Ct.w(qt.$u?Date.UTC(qt.$y,Yt,Jt):new Date(qt.$y,Yt,Jt),qt);return Kt?gn:gn.endOf(ht)},Wt=function(Jt,Yt){return Ct.w(qt.toDate()[Jt].apply(qt.toDate("s"),(Kt?[0,0,0,0]:[23,59,59,999]).slice(Yt)),qt)},pn=this.$W,rn=this.$M,Vt=this.$D,$t="set"+(this.$u?"UTC":"");switch(sn){case gt:return Kt?Gt(1,0):Gt(31,11);case pt:return Kt?Gt(1,rn):Gt(0,rn+1);case ft:var Xt=this.$locale().weekStart||0,Zt=(pn<Xt?pn+7:pn)-Xt;return Gt(Kt?Vt-Zt:Vt+(6-Zt),rn);case ht:case yt:return Wt($t+"Hours",0);case dt:return Wt($t+"Minutes",1);case ut:return Wt($t+"Seconds",2);case ct:return Wt($t+"Milliseconds",3);default:return this.clone()}},Mt.endOf=function(zt){return this.startOf(zt,!1)},Mt.$set=function(zt,Qt){var qt,Kt=Ct.p(zt),sn="set"+(this.$u?"UTC":""),Gt=(qt={},qt[ht]=sn+"Date",qt[yt]=sn+"Date",qt[pt]=sn+"Month",qt[gt]=sn+"FullYear",qt[dt]=sn+"Hours",qt[ut]=sn+"Minutes",qt[ct]=sn+"Seconds",qt[lt]=sn+"Milliseconds",qt)[Kt],Wt=Kt===ht?this.$D+(Qt-this.$W):Qt;if(Kt===pt||Kt===gt){var pn=this.clone().set(yt,1);pn.$d[Gt](Wt),pn.init(),this.$d=pn.set(yt,Math.min(this.$D,pn.daysInMonth())).$d}else Gt&&this.$d[Gt](Wt);return this.init(),this},Mt.set=function(zt,Qt){return this.clone().$set(zt,Qt)},Mt.get=function(zt){return this[Ct.p(zt)]()},Mt.add=function(zt,Qt){var qt,Kt=this;zt=Number(zt);var sn=Ct.p(Qt),Gt=function(rn){var Vt=Tt(Kt);return Ct.w(Vt.date(Vt.date()+Math.round(rn*zt)),Kt)};if(sn===pt)return this.set(pt,this.$M+zt);if(sn===gt)return this.set(gt,this.$y+zt);if(sn===ht)return Gt(1);if(sn===ft)return Gt(7);var Wt=(qt={},qt[ut]=rt,qt[dt]=at,qt[ct]=ot,qt)[sn]||1,pn=this.$d.getTime()+zt*Wt;return Ct.w(pn,this)},Mt.subtract=function(zt,Qt){return this.add(-1*zt,Qt)},Mt.format=function(zt){var Qt=this,qt=this.$locale();if(!this.isValid())return qt.invalidDate||xt;var Kt=zt||"YYYY-MM-DDTHH:mm:ssZ",sn=Ct.z(this),Gt=this.$H,Wt=this.$m,pn=this.$M,rn=qt.weekdays,Vt=qt.months,$t=qt.meridiem,Xt=function(Yt,gn,_n,Sn){return Yt&&(Yt[gn]||Yt(Qt,Kt))||_n[gn].slice(0,Sn)},Zt=function(Yt){return Ct.s(Gt%12||12,Yt,"0")},Jt=$t||function(Yt,gn,_n){var Sn=Yt<12?"AM":"PM";return _n?Sn.toLowerCase():Sn};return Kt.replace(Et,function(Yt,gn){return gn||function(_n){switch(_n){case"YY":return String(Qt.$y).slice(-2);case"YYYY":return Ct.s(Qt.$y,4,"0");case"M":return pn+1;case"MM":return Ct.s(pn+1,2,"0");case"MMM":return Xt(qt.monthsShort,pn,Vt,3);case"MMMM":return Xt(Vt,pn);case"D":return Qt.$D;case"DD":return Ct.s(Qt.$D,2,"0");case"d":return String(Qt.$W);case"dd":return Xt(qt.weekdaysMin,Qt.$W,rn,2);case"ddd":return Xt(qt.weekdaysShort,Qt.$W,rn,3);case"dddd":return rn[Qt.$W];case"H":return String(Gt);case"HH":return Ct.s(Gt,2,"0");case"h":return Zt(1);case"hh":return Zt(2);case"a":return Jt(Gt,Wt,!0);case"A":return Jt(Gt,Wt,!1);case"m":return String(Wt);case"mm":return Ct.s(Wt,2,"0");case"s":return String(Qt.$s);case"ss":return Ct.s(Qt.$s,2,"0");case"SSS":return Ct.s(Qt.$ms,3,"0");case"Z":return sn}return null}(Yt)||sn.replace(":","")})},Mt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Mt.diff=function(zt,Qt,qt){var Kt,sn=this,Gt=Ct.p(Qt),Wt=Tt(zt),pn=(Wt.utcOffset()-this.utcOffset())*rt,rn=this-Wt,Vt=function(){return Ct.m(sn,Wt)};switch(Gt){case gt:Kt=Vt()/12;break;case pt:Kt=Vt();break;case mt:Kt=Vt()/3;break;case ft:Kt=(rn-pn)/6048e5;break;case ht:Kt=(rn-pn)/864e5;break;case dt:Kt=rn/at;break;case ut:Kt=rn/rt;break;case ct:Kt=rn/ot;break;default:Kt=rn}return qt?Kt:Ct.a(Kt)},Mt.daysInMonth=function(){return this.endOf(pt).$D},Mt.$locale=function(){return kt[this.$L]},Mt.locale=function(zt,Qt){if(!zt)return this.$L;var qt=this.clone(),Kt=Pt(zt,Qt,!0);return Kt&&(qt.$L=Kt),qt},Mt.clone=function(){return Ct.w(this.$d,this)},Mt.toDate=function(){return new Date(this.valueOf())},Mt.toJSON=function(){return this.isValid()?this.toISOString():null},Mt.toISOString=function(){return this.$d.toISOString()},Mt.toString=function(){return this.$d.toUTCString()},jt}(),Dt=Ot.prototype;return Tt.prototype=Dt,[["$ms",lt],["$s",ct],["$m",ut],["$H",dt],["$W",ht],["$M",pt],["$y",gt],["$D",yt]].forEach(function(jt){Dt[jt[1]]=function(Mt){return this.$g(Mt,jt[0],jt[1])}}),Tt.extend=function(jt,Mt){return jt.$i||(jt(Mt,Ot,Tt),jt.$i=!0),Tt},Tt.locale=Pt,Tt.isDayjs=Nt,Tt.unix=function(jt){return Tt(1e3*jt)},Tt.en=kt[At],Tt.Ls=kt,Tt.p={},Tt}()),J=B(function(){var ot={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},rt=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,at=/\d\d/,lt=/\d\d?/,ct=/\d*[^-_:/,()\s\d]+/,ut={},dt=function(xt){return(xt=+xt)+(xt>68?1900:2e3)},ht=function(xt){return function(bt){this[xt]=+bt}},ft=[/[+-]\d\d:?(\d\d)?|Z/,function(xt){(this.zone||(this.zone={})).offset=function(bt){if(!bt||bt==="Z")return 0;var Et=bt.match(/([+-]|\d\d)/g),Rt=60*Et[1]+(+Et[2]||0);return Rt===0?0:Et[0]==="+"?-Rt:Rt}(xt)}],pt=function(xt){var bt=ut[xt];return bt&&(bt.indexOf?bt:bt.s.concat(bt.f))},mt=function(xt,bt){var Et,Rt=ut.meridiem;if(Rt){for(var wt=1;wt<=24;wt+=1)if(xt.indexOf(Rt(wt,0,bt))>-1){Et=wt>12;break}}else Et=xt===(bt?"pm":"PM");return Et},gt={A:[ct,function(xt){this.afternoon=mt(xt,!1)}],a:[ct,function(xt){this.afternoon=mt(xt,!0)}],S:[/\d/,function(xt){this.milliseconds=100*+xt}],SS:[at,function(xt){this.milliseconds=10*+xt}],SSS:[/\d{3}/,function(xt){this.milliseconds=+xt}],s:[lt,ht("seconds")],ss:[lt,ht("seconds")],m:[lt,ht("minutes")],mm:[lt,ht("minutes")],H:[lt,ht("hours")],h:[lt,ht("hours")],HH:[lt,ht("hours")],hh:[lt,ht("hours")],D:[lt,ht("day")],DD:[at,ht("day")],Do:[ct,function(xt){var bt=ut.ordinal,Et=xt.match(/\d+/);if(this.day=Et[0],bt)for(var Rt=1;Rt<=31;Rt+=1)bt(Rt).replace(/\[|\]/g,"")===xt&&(this.day=Rt)}],M:[lt,ht("month")],MM:[at,ht("month")],MMM:[ct,function(xt){var bt=pt("months"),Et=(pt("monthsShort")||bt.map(function(Rt){return Rt.slice(0,3)})).indexOf(xt)+1;if(Et<1)throw new Error;this.month=Et%12||Et}],MMMM:[ct,function(xt){var bt=pt("months").indexOf(xt)+1;if(bt<1)throw new Error;this.month=bt%12||bt}],Y:[/[+-]?\d+/,ht("year")],YY:[at,function(xt){this.year=dt(xt)}],YYYY:[/\d{4}/,ht("year")],Z:ft,ZZ:ft};function yt(xt){var bt,Et;bt=xt,Et=ut&&ut.formats;for(var Rt=(xt=bt.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Pt,Tt,Ct){var Ot=Ct&&Ct.toUpperCase();return Tt||Et[Ct]||ot[Ct]||Et[Ot].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Dt,jt,Mt){return jt||Mt.slice(1)})})).match(rt),wt=Rt.length,_t=0;_t<wt;_t+=1){var At=Rt[_t],kt=gt[At],It=kt&&kt[0],Nt=kt&&kt[1];Rt[_t]=Nt?{regex:It,parser:Nt}:At.replace(/^\[|\]$/g,"")}return function(Pt){for(var Tt={},Ct=0,Ot=0;Ct<wt;Ct+=1){var Dt=Rt[Ct];if(typeof Dt=="string")Ot+=Dt.length;else{var jt=Dt.regex,Mt=Dt.parser,zt=Pt.slice(Ot),Qt=jt.exec(zt)[0];Mt.call(Tt,Qt),Pt=Pt.replace(Qt,"")}}return function(qt){var Kt=qt.afternoon;if(Kt!==void 0){var sn=qt.hours;Kt?sn<12&&(qt.hours+=12):sn===12&&(qt.hours=0),delete qt.afternoon}}(Tt),Tt}}return function(xt,bt,Et){Et.p.customParseFormat=!0,xt&&xt.parseTwoDigitYear&&(dt=xt.parseTwoDigitYear);var Rt=bt.prototype,wt=Rt.parse;Rt.parse=function(_t){var At=_t.date,kt=_t.utc,It=_t.args;this.$u=kt;var Nt=It[1];if(typeof Nt=="string"){var Pt=It[2]===!0,Tt=It[3]===!0,Ct=Pt||Tt,Ot=It[2];Tt&&(Ot=It[2]),ut=this.$locale(),!Pt&&Ot&&(ut=Et.Ls[Ot]),this.$d=function(zt,Qt,qt){try{if(["x","X"].indexOf(Qt)>-1)return new Date((Qt==="X"?1e3:1)*zt);var Kt=yt(Qt)(zt),sn=Kt.year,Gt=Kt.month,Wt=Kt.day,pn=Kt.hours,rn=Kt.minutes,Vt=Kt.seconds,$t=Kt.milliseconds,Xt=Kt.zone,Zt=new Date,Jt=Wt||(sn||Gt?1:Zt.getDate()),Yt=sn||Zt.getFullYear(),gn=0;sn&&!Gt||(gn=Gt>0?Gt-1:Zt.getMonth());var _n=pn||0,Sn=rn||0,jn=Vt||0,Dn=$t||0;return Xt?new Date(Date.UTC(Yt,gn,Jt,_n,Sn,jn,Dn+60*Xt.offset*1e3)):qt?new Date(Date.UTC(Yt,gn,Jt,_n,Sn,jn,Dn)):new Date(Yt,gn,Jt,_n,Sn,jn,Dn)}catch{return new Date("")}}(At,Nt,kt),this.init(),Ot&&Ot!==!0&&(this.$L=this.locale(Ot).$L),Ct&&At!=this.format(Nt)&&(this.$d=new Date("")),ut={}}else if(Nt instanceof Array)for(var Dt=Nt.length,jt=1;jt<=Dt;jt+=1){It[1]=Nt[jt-1];var Mt=Et.apply(this,It);if(Mt.isValid()){this.$d=Mt.$d,this.$L=Mt.$L,this.init();break}jt===Dt&&(this.$d=new Date(""))}else wt.call(this,_t)}}}());U.extend(J);const Q=(ot,rt)=>{let at;if(rt)switch(rt){case"ISO_8601":at=ot;break;case"RFC_2822":at=U(ot.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":at=U(ot,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":at=U(ot).unix();break;default:at=U(ot,rt,!0).valueOf()}return at},X=(ot,rt)=>{if((ot==null?void 0:ot.constructor)===Object&&Object.prototype.hasOwnProperty.call(ot,"data")&&!Object.keys(ot).find(lt=>!["text","order","data","attributes"].includes(lt)))return ot;const at={data:ot};switch(rt.type){case"string":typeof ot!="string"&&(at.text=String(at.data),at.order=at.text);break;case"date":rt.format&&(at.order=Q(String(at.data),rt.format));break;case"number":at.text=String(at.data),at.data=parseFloat(at.data),at.order=at.data;break;case"html":{const lt=Array.isArray(at.data)?{nodeName:"TD",childNodes:at.data}:H(`<td>${String(at.data)}</td>`);at.data=lt.childNodes||[];const ct=i$1(lt);at.text=ct,at.order=ct;break}case"boolean":typeof at.data=="string"&&(at.data=at.data.toLowerCase().trim()),at.data=!["false",!1,null,void 0,0].includes(at.data),at.order=at.data?1:0,at.text=String(at.data);break;case"other":at.text="",at.order=0;break;default:at.text=JSON.stringify(at.data)}return at},Z=ot=>{if(ot instanceof Object&&ot.constructor===Object&&ot.hasOwnProperty("data")&&(typeof ot.text=="string"||typeof ot.data=="string"))return ot;const rt={data:ot};if(typeof ot=="string"){if(ot.length){const at=H(`<th>${ot}</th>`);if(at.childNodes&&(at.childNodes.length!==1||at.childNodes[0].nodeName!=="#text")){rt.data=at.childNodes,rt.type="html";const lt=i$1(at);rt.text=lt}}}else[null,void 0].includes(ot)?rt.text="":rt.text=JSON.stringify(ot);return rt},G=(ot,rt=void 0,at,lt,ct)=>{var dt,ht;const ut={data:[],headings:[]};if(ot.headings)ut.headings=ot.headings.map(ft=>Z(ft));else if(rt!=null&&rt.tHead)ut.headings=Array.from(rt.tHead.querySelectorAll("th")).map((ft,pt)=>{var yt,xt,bt,Et,Rt;const mt=(wt=>{const _t=S(wt,{valueDiffing:!1});let At;return At=!_t.childNodes||_t.childNodes.length===1&&_t.childNodes[0].nodeName==="#text"?{data:wt.innerText,type:"string"}:{data:_t.childNodes,type:"html",text:i$1(_t)},At.attributes=_t.attributes,At})(ft);at[pt]||(at[pt]={type:lt,format:ct,searchable:!0,sortable:!0});const gt=at[pt];return((yt=ft.dataset.sortable)==null?void 0:yt.trim().toLowerCase())!=="false"&&((xt=ft.dataset.sort)==null?void 0:xt.trim().toLowerCase())!=="false"||(gt.sortable=!1),((bt=ft.dataset.searchable)==null?void 0:bt.trim().toLowerCase())==="false"&&(gt.searchable=!1),((Et=ft.dataset.hidden)==null?void 0:Et.trim().toLowerCase())!=="true"&&((Rt=ft.getAttribute("hidden"))==null?void 0:Rt.trim().toLowerCase())!=="true"||(gt.hidden=!0),["number","string","html","date","boolean","other"].includes(ft.dataset.type)&&(gt.type=ft.dataset.type,gt.type==="date"&&ft.dataset.format&&(gt.format=ft.dataset.format)),mt});else if((dt=ot.data)!=null&&dt.length){const ft=ot.data[0],pt=Array.isArray(ft)?ft:ft.cells;ut.headings=pt.map(mt=>Z(""))}else rt!=null&&rt.tBodies.length&&(ut.headings=Array.from(rt.tBodies[0].rows[0].cells).map(ft=>Z("")));for(let ft=0;ft<ut.headings.length;ft++)at[ft]||(at[ft]={type:lt,format:ct,sortable:!0,searchable:!0});if(ot.data){const ft=ut.headings.map(pt=>pt.data?String(pt.data):pt.text);ut.data=ot.data.map(pt=>{let mt,gt;return Array.isArray(pt)?(mt={},gt=pt):pt.hasOwnProperty("cells")&&Object.keys(pt).every(yt=>["cells","attributes"].includes(yt))?(mt=pt.attributes,gt=pt.cells):(mt={},gt=[],Object.entries(pt).forEach(([yt,xt])=>{const bt=ft.indexOf(yt);bt>-1&&(gt[bt]=xt)})),{attributes:mt,cells:gt.map((yt,xt)=>X(yt,at[xt]))}})}else(ht=rt==null?void 0:rt.tBodies)!=null&&ht.length&&(ut.data=Array.from(rt.tBodies[0].rows).map(ft=>({attributes:r(ft.attributes),cells:Array.from(ft.cells).map((pt,mt)=>{const gt=pt.dataset.content?X(pt.dataset.content,at[mt]):((yt,xt)=>{let bt;switch(xt.type){case"string":bt={data:yt.innerText};break;case"date":{const Et=yt.innerText;bt={data:Et,order:Q(Et,xt.format)};break}case"number":{const Et=parseFloat(yt.innerText);bt={data:Et,order:Et,text:yt.innerText};break}case"boolean":{const Et=!["false","0","null","undefined"].includes(yt.innerText.toLowerCase().trim());bt={data:Et,text:Et?"1":"0",order:Et?1:0};break}default:bt={data:S(yt,{valueDiffing:!1}).childNodes||[],text:yt.innerText,order:yt.innerText}}return bt.attributes=r(yt.attributes),bt})(pt,at[mt]);return pt.dataset.order&&(gt.order=isNaN(parseFloat(pt.dataset.order))?pt.dataset.order:parseFloat(pt.dataset.order)),gt})})));if(ut.data.length&&ut.data[0].cells.length!==ut.headings.length)throw new Error("Data heading length mismatch.");return ut};class K{constructor(rt){zr(this,"cursor");zr(this,"dt");this.dt=rt,this.cursor=!1}setCursor(rt=!1){if(rt===this.cursor)return;const at=this.cursor;if(this.cursor=rt,this.dt._renderTable(),rt!==!1&&this.dt.options.scrollY){const lt=l(this.dt.options.classes.cursor),ct=this.dt.dom.querySelector(`tr${lt}`);ct&&ct.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,at)}add(rt){if(!Array.isArray(rt)||rt.length<1)return;const at={cells:rt.map((lt,ct)=>{const ut=this.dt.columns.settings[ct];return X(lt,ut)})};this.dt.data.data.push(at),this.dt.hasRows=!0,this.dt.update(!0)}remove(rt){if(!Array.isArray(rt))return this.remove([rt]);this.dt.data.data=this.dt.data.data.filter((at,lt)=>!rt.includes(lt)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(rt,at){return this.dt.data.data.findIndex(lt=>{const ct=lt.cells[rt];return n(ct).toLowerCase().includes(String(at).toLowerCase())})}findRow(rt,at){const lt=this.findRowIndex(rt,at);if(lt<0)return{index:-1,row:null,cols:[]};const ct=this.dt.data.data[lt],ut=ct.cells.map(dt=>dt.data);return{index:lt,row:ct,cols:ut}}updateRow(rt,at){const lt={cells:at.map((ct,ut)=>{const dt=this.dt.columns.settings[ut];return X(ct,dt)})};this.dt.data.data.splice(rt,1,lt),this.dt.update(!0)}}class tt{constructor(rt){zr(this,"dt");zr(this,"settings");zr(this,"_state");this.dt=rt,this.init()}init(){[this.settings,this._state]=((rt=[],at,lt)=>{let ct=[],ut=!1;const dt=[];return rt.forEach(ht=>{(Array.isArray(ht.select)?ht.select:[ht.select]).forEach(ft=>{ct[ft]?ht.type&&(ct[ft].type=ht.type):ct[ft]={type:ht.type||at,sortable:!0,searchable:!0};const pt=ct[ft];ht.render&&(pt.render=ht.render),ht.format?pt.format=ht.format:ht.type==="date"&&(pt.format=lt),ht.cellClass&&(pt.cellClass=ht.cellClass),ht.headerClass&&(pt.headerClass=ht.headerClass),ht.locale&&(pt.locale=ht.locale),ht.sortable===!1?pt.sortable=!1:(ht.numeric&&(pt.numeric=ht.numeric),ht.caseFirst&&(pt.caseFirst=ht.caseFirst)),ht.searchable===!1?pt.searchable=!1:ht.sensitivity&&(pt.sensitivity=ht.sensitivity),(pt.searchable||pt.sortable)&&ht.ignorePunctuation!==void 0&&(pt.ignorePunctuation=ht.ignorePunctuation),ht.hidden&&(pt.hidden=!0),ht.filter&&(pt.filter=ht.filter),ht.sortSequence&&(pt.sortSequence=ht.sortSequence),ht.sort&&(ht.filter?dt[ft]=ht.sort:ut={column:ft,dir:ht.sort}),ht.searchItemSeparator!==void 0&&(pt.searchItemSeparator=ht.searchItemSeparator)})}),ct=ct.map(ht=>ht||{type:at,format:at==="date"?lt:void 0,sortable:!0,searchable:!0}),[ct,{filters:dt,sort:ut,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}get(rt){return rt<0||rt>=this.size()?null:{...this.settings[rt]}}size(){return this.settings.length}swap(rt){if(rt.length===2){const at=this.dt.data.headings.map((dt,ht)=>ht),lt=rt[0],ct=rt[1],ut=at[ct];return at[ct]=at[lt],at[lt]=ut,this.order(at)}}order(rt){this.dt.data.headings=rt.map(at=>this.dt.data.headings[at]),this.dt.data.data.forEach(at=>at.cells=rt.map(lt=>at.cells[lt])),this.settings=rt.map(at=>this.settings[at]),this.dt.update()}hide(rt){Array.isArray(rt)||(rt=[rt]),rt.length&&(rt.forEach(at=>{this.settings[at]||(this.settings[at]={type:"string"}),this.settings[at].hidden=!0}),this.dt.update())}show(rt){Array.isArray(rt)||(rt=[rt]),rt.length&&(rt.forEach(at=>{this.settings[at]||(this.settings[at]={type:"string",sortable:!0}),delete this.settings[at].hidden}),this.dt.update())}visible(rt){var at;return rt===void 0&&(rt=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(rt)?rt.map(lt=>{var ct;return!((ct=this.settings[lt])!=null&&ct.hidden)}):!((at=this.settings[rt])!=null&&at.hidden)}add(rt){const at=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([Z(rt.heading)]),this.dt.data.data.forEach((lt,ct)=>{lt.cells=lt.cells.concat([X(rt.data[ct],rt)])}),this.settings[at]={type:rt.type||"string",sortable:!0,searchable:!0},rt.type||rt.format||rt.sortable||rt.render||rt.filter){const lt=this.settings[at];rt.render&&(lt.render=rt.render),rt.format&&(lt.format=rt.format),rt.cellClass&&(lt.cellClass=rt.cellClass),rt.headerClass&&(lt.headerClass=rt.headerClass),rt.locale&&(lt.locale=rt.locale),rt.sortable===!1?lt.sortable=!1:(rt.numeric&&(lt.numeric=rt.numeric),rt.caseFirst&&(lt.caseFirst=rt.caseFirst)),rt.searchable===!1?lt.searchable=!1:rt.sensitivity&&(lt.sensitivity=rt.sensitivity),(lt.searchable||lt.sortable)&&rt.ignorePunctuation&&(lt.ignorePunctuation=rt.ignorePunctuation),rt.hidden&&(lt.hidden=!0),rt.filter&&(lt.filter=rt.filter),rt.sortSequence&&(lt.sortSequence=rt.sortSequence)}this.dt.update(!0)}remove(rt){Array.isArray(rt)||(rt=[rt]),this.dt.data.headings=this.dt.data.headings.filter((at,lt)=>!rt.includes(lt)),this.dt.data.data.forEach(at=>at.cells=at.cells.filter((lt,ct)=>!rt.includes(ct))),this.dt.update(!0)}filter(rt,at=!1){var ut,dt;if(!((dt=(ut=this.settings[rt])==null?void 0:ut.filter)!=null&&dt.length))return;const lt=this._state.filters[rt];let ct;if(lt){let ht=!1;ct=this.settings[rt].filter.find(ft=>!!ht||(ft===lt&&(ht=!0),!1))}else{const ht=this.settings[rt].filter;ct=ht?ht[0]:void 0}ct?this._state.filters[rt]=ct:lt&&(this._state.filters[rt]=void 0),this.dt._currentPage=1,this.dt.update(),at||this.dt.emit("datatable.filter",rt,ct)}sort(rt,at=void 0,lt=!1){var dt;const ct=this.settings[rt];if(lt||this.dt.emit("datatable.sorting",rt,at),!at){const ht=!(!this._state.sort||this._state.sort.column!==rt)&&((dt=this._state.sort)==null?void 0:dt.dir),ft=(ct==null?void 0:ct.sortSequence)||["asc","desc"];if(ht){const pt=ft.indexOf(ht);at=pt===-1?ft[0]||"asc":pt===ft.length-1?ft[0]:ft[pt+1]}else at=ft.length?ft[0]:"asc"}const ut=!!["string","html"].includes(ct.type)&&new Intl.Collator(ct.locale||this.dt.options.locale,{usage:"sort",numeric:ct.numeric||this.dt.options.numeric,caseFirst:ct.caseFirst||this.dt.options.caseFirst,ignorePunctuation:ct.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((ht,ft)=>{const pt=ht.cells[rt],mt=ft.cells[rt];let gt=pt.order??n(pt),yt=mt.order??n(mt);if(at==="desc"){const xt=gt;gt=yt,yt=xt}return ut&&typeof gt!="number"&&typeof yt!="number"?ut.compare(String(gt),String(yt)):gt<yt?-1:gt>yt?1:0}),this._state.sort={column:rt,dir:at},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",rt,at)):lt||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",rt,at))}_measureWidths(){var at,lt,ct,ut;const rt=this.dt.data.headings.filter((dt,ht)=>{var ft;return!((ft=this.settings[ht])!=null&&ft.hidden)});if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&(rt!=null&&rt.length)){this._state.widths=[];const dt={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(dt.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),dt.noColumnWidths=!0,this.dt._renderTable(dt);const ht=Array.from(((lt=(at=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:at.firstElementChild)==null?void 0:lt.querySelectorAll("th"))||[]);let ft=0;const pt=this.dt.data.headings.map((gt,yt)=>{var bt;if((bt=this.settings[yt])!=null&&bt.hidden)return 0;const xt=ht[ft].offsetWidth;return ft+=1,xt}),mt=pt.reduce((gt,yt)=>gt+yt,0);this._state.widths=pt.map(gt=>gt/mt*100)}else{dt.renderHeader=!0,this.dt._renderTable(dt);const ht=Array.from(((ut=(ct=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:ct.firstElementChild)==null?void 0:ut.querySelectorAll("th"))||[]);let ft=0;const pt=this.dt.data.headings.map((gt,yt)=>{var bt;if((bt=this.settings[yt])!=null&&bt.hidden)return 0;const xt=ht[ft].offsetWidth;return ft+=1,xt}),mt=pt.reduce((gt,yt)=>gt+yt,0);this._state.widths=pt.map(gt=>gt/mt*100)}this.dt._renderTable()}}}const et={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,searchItemSeparator:"",searchQuerySeparator:" ",searchAnd:!1,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"‹",nextText:"›",firstText:"«",lastText:"»",ellipsisText:"…",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,caption:void 0,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",pageTitle:"Page {page}",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(ot,rt)=>`<div class='${ot.classes.top}'>
    ${ot.paging&&ot.perPageSelect?`<div class='${ot.classes.dropdown}'>
            <label>
                <select class='${ot.classes.selector}' name="per-page"></select> ${ot.labels.perPage}
            </label>
        </div>`:""}
    ${ot.searchable?`<div class='${ot.classes.search}'>
            <input class='${ot.classes.input}' placeholder='${ot.labels.placeholder}' type='search' name="search" title='${ot.labels.searchTitle}'${rt.id?` aria-controls="${rt.id}"`:""}>
        </div>`:""}
</div>
<div class='${ot.classes.container}'${ot.scrollY.length?` style='height: ${ot.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${ot.classes.bottom}'>
    ${ot.paging?`<div class='${ot.classes.info}'></div>`:""}
    <nav class='${ot.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},st=(ot,rt,at,lt={})=>({nodeName:"LI",attributes:{class:lt.active&&!lt.hidden?`${at.classes.paginationListItem} ${at.classes.active}`:lt.hidden?`${at.classes.paginationListItem} ${at.classes.hidden} ${at.classes.disabled}`:at.classes.paginationListItem},childNodes:[{nodeName:"BUTTON",attributes:{"data-page":String(ot),class:at.classes.paginationListItemLink,"aria-label":at.labels.pageTitle.replace("{page}",String(ot))},childNodes:[{nodeName:"#text",data:rt}]}]}),it=(ot,rt,at,lt,ct)=>{let ut=[];if(ct.firstLast&&ut.push(st(1,ct.firstText,ct)),ct.nextPrev){const ht=ot?1:at-1;ut.push(st(ht,ct.prevText,ct,{hidden:ot}))}let dt=[...Array(lt).keys()].map(ht=>st(ht+1,String(ht+1),ct,{active:ht===at-1}));if(ct.truncatePager&&(dt=((ht,ft,pt,mt)=>{const gt=mt.pagerDelta,yt=mt.classes,xt=mt.ellipsisText,bt=2*gt;let Et=ft-gt,Rt=ft+gt;ft<4-gt+bt?Rt=3+bt:ft>pt-(3-gt+bt)&&(Et=pt-(2+bt));const wt=[];for(let kt=1;kt<=pt;kt++)if(kt==1||kt==pt||kt>=Et&&kt<=Rt){const It=ht[kt-1];wt.push(It)}let _t;const At=[];return wt.forEach(kt=>{const It=parseInt(kt.childNodes[0].attributes["data-page"],10);if(_t){const Nt=parseInt(_t.childNodes[0].attributes["data-page"],10);if(It-Nt==2)At.push(ht[Nt]);else if(It-Nt!=1){const Pt={nodeName:"LI",attributes:{class:`${yt.paginationListItem} ${yt.ellipsis} ${yt.disabled}`},childNodes:[{nodeName:"BUTTON",attributes:{class:yt.paginationListItemLink},childNodes:[{nodeName:"#text",data:xt}]}]};At.push(Pt)}}At.push(kt),_t=kt}),At})(dt,at,lt,ct)),ut=ut.concat(dt),ct.nextPrev){const ht=rt?lt:at+1;ut.push(st(ht,ct.nextText,ct,{hidden:rt}))}return ct.firstLast&&ut.push(st(lt,ct.lastText,ct)),{nodeName:"UL",attributes:{class:ct.classes.paginationList},childNodes:dt.length>1?ut:[]}};class nt{constructor(rt,at={}){zr(this,"columns");zr(this,"containerDOM");zr(this,"_currentPage");zr(this,"data");zr(this,"_dd");zr(this,"dom");zr(this,"_events");zr(this,"hasHeadings");zr(this,"hasRows");zr(this,"headerDOM");zr(this,"_initialHTML");zr(this,"initialized");zr(this,"_label");zr(this,"lastPage");zr(this,"_listeners");zr(this,"onFirstPage");zr(this,"onLastPage");zr(this,"options");zr(this,"_pagerDOMs");zr(this,"_virtualPagerDOM");zr(this,"pages");zr(this,"_rect");zr(this,"rows");zr(this,"_searchData");zr(this,"_searchQueries");zr(this,"_tableAttributes");zr(this,"_tableFooters");zr(this,"_tableCaptions");zr(this,"totalPages");zr(this,"_virtualDOM");zr(this,"_virtualHeaderDOM");zr(this,"wrapperDOM");const lt=typeof rt=="string"?document.querySelector(rt):rt;lt instanceof HTMLTableElement?this.dom=lt:(this.dom=document.createElement("table"),lt.appendChild(this.dom));const ct={...et.diffDomOptions,...at.diffDomOptions},ut={...et.labels,...at.labels},dt={...et.classes,...at.classes};this.options={...et,...at,diffDomOptions:ct,labels:ut,classes:dt},this._initialHTML=this.options.destroyable?lt.outerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new j(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){var rt,at;if(this.initialized||d(this.dom,this.options.classes.table))return!1;this._virtualDOM=S(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this._tableFooters=((rt=this._virtualDOM.childNodes)==null?void 0:rt.filter(lt=>lt.nodeName==="TFOOT"))??[],this._tableCaptions=((at=this._virtualDOM.childNodes)==null?void 0:at.filter(lt=>lt.nodeName==="CAPTION"))??[],this.options.caption!==void 0&&this._tableCaptions.push({nodeName:"CAPTION",childNodes:[{nodeName:"#text",data:this.options.caption}]}),this.rows=new K(this),this.columns=new tt(this),this.data=G(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=s("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const rt=l(this.options.classes.selector),at=this.wrapperDOM.querySelector(`select${rt}`);at&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(dt=>{const[ht,ft]=Array.isArray(dt)?[dt[0],dt[1]]:[String(dt),dt],pt=ft===this.options.perPage,mt=new Option(ht,String(ft),pt,pt);at.appendChild(mt)}):at&&at.parentElement.removeChild(at);const lt=l(this.options.classes.container);this.containerDOM=this.wrapperDOM.querySelector(lt),this._pagerDOMs=[];const ct=l(this.options.classes.pagination);Array.from(this.wrapperDOM.querySelectorAll(ct)).forEach(dt=>{dt instanceof HTMLElement&&(dt.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(dt.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}};const ut=l(this.options.classes.info);this._label=this.wrapperDOM.querySelector(ut),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(rt={}){let at;at=(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!rt.noPaging?this.pages[this._currentPage-1]:this.data.data.map((ut,dt)=>({row:ut,index:dt}));let lt=F(this._tableAttributes,this.data.headings,at,this.columns.settings,this.columns._state,this.rows.cursor,this.options,rt,this._tableFooters,this._tableCaptions);if(this.options.tableRender){const ut=this.options.tableRender(this.data,lt,"main");ut&&(lt=ut)}const ct=this._dd.diff(this._virtualDOM,lt);this._dd.apply(this.dom,ct),this._virtualDOM=lt}_renderPage(rt=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let at,lt=0,ct=0,ut=0;if(this.totalPages&&(lt=this._currentPage-1,ct=lt*this.options.perPage,ut=ct+this.pages[lt].length,ct+=1,at=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const dt=this.options.labels.info.replace("{start}",String(ct)).replace("{end}",String(ut)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(at));this._label.innerHTML=at?dt:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(dt=>dt.index===this.rows.cursor))){const dt=this.pages[this._currentPage-1];dt.length&&(rt?this.rows.setCursor(dt[dt.length-1].index):this.rows.setCursor(dt[0].index))}}_renderPagers(){if(!this.options.paging)return;let rt=it(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const lt=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],rt);lt&&(rt=lt)}const at=this._dd.diff(this._virtualPagerDOM,rt);this._pagerDOMs.forEach(lt=>{this._dd.apply(lt,at)}),this._virtualPagerDOM=rt}_renderSeparateHeader(){const rt=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),rt.parentElement.insertBefore(this.headerDOM,rt);let at={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[q(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(at.attributes.class=c(at.attributes.class,this.options.classes.table),this.options.tableRender){const dt=this.options.tableRender(this.data,at,"header");dt&&(at=dt)}const lt={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[at]},ct=this._dd.diff(this._virtualHeaderDOM,lt);this._dd.apply(this.headerDOM,ct),this._virtualHeaderDOM=lt;const ut=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(ut){const dt=structuredClone(this._virtualHeaderDOM);dt.attributes.style=`padding-right: ${ut}px;`;const ht=this._dd.diff(this._virtualHeaderDOM,dt);this._dd.apply(this.headerDOM,ht),this._virtualHeaderDOM=dt}rt.scrollHeight>rt.clientHeight&&(rt.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const rt=l(this.options.classes.selector),at=this.wrapperDOM.querySelector(rt);at&&at instanceof HTMLSelectElement&&at.addEventListener("change",()=>{this.emit("datatable.perpage:before",this.options.perPage),this.options.perPage=parseInt(at.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",rt=>{const at=l(this.options.classes.input),lt=rt.target;if(!(lt instanceof HTMLInputElement&&lt.matches(at)))return;rt.preventDefault();const ct=[];if(Array.from(this.wrapperDOM.querySelectorAll(at)).filter(ut=>ut.value.length).forEach(ut=>{const dt=ut.dataset.and||this.options.searchAnd,ht=ut.dataset.querySeparator||this.options.searchQuerySeparator?ut.value.split(this.options.searchQuerySeparator):[ut.value];dt?ht.forEach(ft=>{ut.dataset.columns?ct.push({terms:[ft],columns:JSON.parse(ut.dataset.columns)}):ct.push({terms:[ft],columns:void 0})}):ut.dataset.columns?ct.push({terms:ht,columns:JSON.parse(ut.dataset.columns)}):ct.push({terms:ht,columns:void 0})}),ct.length===1&&ct[0].terms.length===1){const ut=ct[0];this.search(ut.terms[0],ut.columns)}else this.multiSearch(ct)}),this.wrapperDOM.addEventListener("click",rt=>{const at=rt.target.closest("a, button");if(at){if(at.hasAttribute("data-page"))this.page(parseInt(at.getAttribute("data-page"),10)),rt.preventDefault();else if(d(at,this.options.classes.sorter)){const lt=Array.from(at.parentElement.parentElement.children).indexOf(at.parentElement),ct=o(lt,this.columns.settings);this.columns.sort(ct),rt.preventDefault()}else if(d(at,this.options.classes.filter)){const lt=Array.from(at.parentElement.parentElement.children).indexOf(at.parentElement),ct=o(lt,this.columns.settings);this.columns.filter(ct),rt.preventDefault()}}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",rt=>{if(rt.key==="ArrowUp"){let at;rt.preventDefault(),rt.stopPropagation(),this.pages[this._currentPage-1].find(lt=>lt.index===this.rows.cursor||(at=lt,!1)),at?this.rows.setCursor(at.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(rt.key==="ArrowDown"){let at;rt.preventDefault(),rt.stopPropagation();const lt=this.pages[this._currentPage-1].find(ct=>!!at||(ct.index===this.rows.cursor&&(at=!0),!1));lt?this.rows.setCursor(lt.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(rt.key)&&this.emit("datatable.selectrow",this.rows.cursor,rt)}),this.dom.addEventListener("mousedown",rt=>{const at=rt.target;if(at instanceof Element&&this.dom.matches(":focus")){const lt=Array.from(this.dom.querySelectorAll("tbody > tr")).find(ct=>ct.contains(at));lt&&lt instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(lt.dataset.index,10),rt)}})):this.dom.addEventListener("mousedown",rt=>{const at=rt.target;if(!(at instanceof Element))return;const lt=Array.from(this.dom.querySelectorAll("tbody > tr")).find(ct=>ct.contains(at));lt&&lt instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(lt.dataset.index,10),rt)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){var rt;if(this.options.destroyable){if(this.wrapperDOM){const at=this.wrapperDOM.parentElement;if(at){const lt=s("div");lt.innerHTML=this._initialHTML;const ct=lt.firstElementChild;at.replaceChild(ct,this.wrapperDOM),this.dom=ct}else(rt=this.options.classes.table)==null||rt.split(" ").forEach(lt=>this.wrapperDOM.classList.remove(lt))}window.removeEventListener("resize",this._listeners.onResize),this.initialized=!1}}update(rt=!1){var at;this.emit("datatable.update:before"),rt&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),(at=this.options.classes.empty)==null||at.split(" ").forEach(lt=>this.wrapperDOM.classList.remove(lt)),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let rt=this.data.data.map((at,lt)=>({row:at,index:lt}));return this._searchQueries.length&&(rt=[],this._searchData.forEach(at=>rt.push({index:at,row:this.data.data[at]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((at,lt)=>{at&&(rt=rt.filter(ct=>{const ut=ct.row.cells[lt];return typeof at=="function"?at(ut.data):n(ut)===at}))}),this.options.paging&&this.options.perPage>0?this.pages=rt.map((at,lt)=>lt%this.options.perPage==0?rt.slice(lt,lt+this.options.perPage):null).filter(at=>at):this.pages=[rt],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(rt,at=void 0){if(this.emit("datatable.search:before",rt,this._searchData),!rt.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{terms:[rt],columns:at||void 0}]),this.emit("datatable.search",rt,this._searchData)}multiSearch(rt){if(!this.hasRows)return!1;this._currentPage=1,this._searchData=[];const at=rt.map(ct=>({columns:ct.columns,terms:ct.terms.map(ut=>ut.trim()).filter(ut=>ut)})).filter(ct=>ct.terms.length);if(this.emit("datatable.multisearch:before",at,this._searchData),this._searchQueries=at,!at.length)return this.update(),this.emit("datatable.multisearch",at,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const lt=at.map(ct=>this.columns.settings.map((ut,dt)=>{if(ut.hidden||!ut.searchable||ct.columns&&!ct.columns.includes(dt))return!1;let ht=ct.terms;const ft=ut.sensitivity||this.options.sensitivity;return["base","accent"].includes(ft)&&(ht=ht.map(pt=>pt.toLowerCase())),["base","case"].includes(ft)&&(ht=ht.map(pt=>pt.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),""))),(ut.ignorePunctuation??this.options.ignorePunctuation)&&(ht=ht.map(pt=>pt.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))),ht}));this.data.data.forEach((ct,ut)=>{const dt=ct.cells.map((ht,ft)=>{let pt=n(ht).trim();const mt=this.columns.settings[ft];if(pt.length){const yt=mt.sensitivity||this.options.sensitivity;["base","accent"].includes(yt)&&(pt=pt.toLowerCase()),["base","case"].includes(yt)&&(pt=pt.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(mt.ignorePunctuation??this.options.ignorePunctuation)&&(pt=pt.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}const gt=mt.searchItemSeparator||this.options.searchItemSeparator;return gt?pt.split(gt):[pt]});lt.every(ht=>ht.find((ft,pt)=>!!ft&&ft.find(mt=>dt[pt].find(gt=>gt.includes(mt)))))&&this._searchData.push(ut)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",at,this._searchData)}page(rt,at=!1){return this.emit("datatable.page:before",rt),rt!==this._currentPage&&(isNaN(rt)||(this._currentPage=rt),!(rt>this.pages.length||rt<0)&&(this._renderPage(at),this._renderPagers(),void this.emit("datatable.page",rt)))}insert(rt){let at=[];if(Array.isArray(rt)){const lt=this.data.headings.map(ct=>ct.data?String(ct.data):ct.text);rt.forEach((ct,ut)=>{const dt=[];Object.entries(ct).forEach(([ht,ft])=>{const pt=lt.indexOf(ht);pt>-1?dt[pt]=X(ft,this.columns.settings[pt]):this.hasHeadings||this.hasRows||ut!==0||(dt[lt.length]=X(ft,this.columns.settings[lt.length]),lt.push(ht),this.data.headings.push(Z(ht)))}),at.push({cells:dt})})}else t(rt)&&(!rt.headings||this.hasHeadings||this.hasRows?rt.data&&Array.isArray(rt.data)&&(at=rt.data.map(lt=>{let ct,ut;return Array.isArray(lt)?(ct={},ut=lt):(ct=lt.attributes,ut=lt.cells),{attributes:ct,cells:ut.map((dt,ht)=>X(dt,this.columns.settings[ht]))}})):this.data=G(rt,void 0,this.columns.settings,this.options.type,this.options.format));at.length&&at.forEach(lt=>this.data.data.push(lt)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){if(this.emit("datatable.refresh:before"),this.options.searchable){const rt=l(this.options.classes.input);Array.from(this.wrapperDOM.querySelectorAll(rt)).forEach(at=>at.value=""),this._searchQueries=[]}this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const rt=s("table");let at=F(this._tableAttributes,this.data.headings,this.data.data.map((ut,dt)=>({row:ut,index:dt})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0},this._tableFooters,this._tableCaptions);if(this.options.tableRender){const ut=this.options.tableRender(this.data,at,"print");ut&&(at=ut)}const lt=this._dd.diff({nodeName:"TABLE"},at);this._dd.apply(rt,lt);const ct=window.open();ct.document.body.appendChild(rt),ct.print()}setMessage(rt){var ut;const at=this.data.headings.filter((dt,ht)=>{var ft;return!((ft=this.columns.settings[ht])!=null&&ft.hidden)}).length||1;(ut=this.options.classes.empty)==null||ut.split(" ").forEach(dt=>this.wrapperDOM.classList.add(dt)),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let lt={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[q(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(at)},childNodes:[{nodeName:"#text",data:rt}]}]}]}]};if(this._tableFooters.forEach(dt=>lt.childNodes.push(dt)),this._tableCaptions.forEach(dt=>lt.childNodes.push(dt)),lt.attributes.class=c(lt.attributes.class,this.options.classes.table),this.options.tableRender){const dt=this.options.tableRender(this.data,lt,"message");dt&&(lt=dt)}const ct=this._dd.diff(this._virtualDOM,lt);this._dd.apply(this.dom,ct),this._virtualDOM=lt}on(rt,at){this._events[rt]=this._events[rt]||[],this._events[rt].push(at)}off(rt,at){rt in this._events&&this._events[rt].splice(this._events[rt].indexOf(at),1)}emit(rt,...at){if(rt in this._events)for(let lt=0;lt<this._events[rt].length;lt++)this._events[rt][lt](...at)}}const db$1=getFirestore(),SupervisorCount=()=>{const[ot,rt]=reactExports.useState("Honours"),[at,lt]=reactExports.useState({headings:[],data:[]}),[ct,ut]=reactExports.useState(!0);reactExports.useRef(null);let dt=reactExports.useRef(null);return reactExports.useEffect(()=>{(async()=>{try{ut(!0);const ft=await getDocs(collection(db$1,"Supervisor")),pt={};ft.forEach(Et=>{const{Title:Rt,Name:wt,Surname:_t}=Et.data();pt[Et.id]=`${Rt} ${wt} ${_t}`});const mt=await getDocs(collection(db$1,"Student")),gt={},yt={Honours:{},Masters:{},PhD:{}};mt.forEach(Et=>{const{SupervisorID:Rt,StudentType:wt}=Et.data();Rt&&wt in yt&&Rt.forEach(_t=>{yt[wt][_t]=(yt[wt][_t]||0)+1,gt[_t]=(gt[_t]||0)+1})});const xt=["Supervisors Name","Overall Students","Degree Types",`Number of students in ${ot}`],bt=Object.entries(pt).map(([Et,Rt])=>[Rt,gt[Et]||0,ot,yt[ot][Et]||0]);lt({headings:xt,data:bt}),ut(!1)}catch(ft){console.error("Error fetching or processing data: ",ft),ut(!1)}})()},[ot]),reactExports.useEffect(()=>{at.headings.length&&at.data.length&&(dt.current&&dt.current.destroy(),dt.current=new nt("#supervisor-table",{data:at}))},[at]),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"degreeFilter",className:"block text-gray-700 dark:text-gray-200",children:"Select Degree Type:"}),jsxRuntimeExports.jsxs("select",{id:"degreeFilter",className:"border border-gray-300 rounded-md p-2 dark:bg-gray-700 dark:text-gray-200",value:ot,onChange:ht=>rt(ht.target.value),children:[jsxRuntimeExports.jsx("option",{value:"Honours",children:"Honours"}),jsxRuntimeExports.jsx("option",{value:"Masters",children:"Masters"}),jsxRuntimeExports.jsx("option",{value:"PhD",children:"PhD"})]})]}),jsxRuntimeExports.jsxs("table",{id:"supervisor-table",className:"table-auto w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{children:at.headings.map((ht,ft)=>jsxRuntimeExports.jsx("th",{className:"px-4 py-2",children:ht},ft))})}),jsxRuntimeExports.jsx("tbody",{children:at.data.map((ht,ft)=>jsxRuntimeExports.jsx("tr",{children:ht.map((pt,mt)=>jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:pt},mt))},ft))})]})]})},db=getFirestore(),Totals=({Type:ot})=>{const[rt,at]=reactExports.useState(0);async function lt(){try{const ct=await getDocs(collection(db,ot));at(ct.size)}catch(ct){console.error("Error counting documents: ",ct)}}return reactExports.useEffect(()=>{lt()},[ot]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h3",{children:rt})})};var reactApexcharts_min={},_default;Object.defineProperty(reactApexcharts_min,"__esModule",{value:!0});var _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},_extends=Object.assign||function(ot){for(var rt=1;rt<arguments.length;rt++){var at,lt=arguments[rt];for(at in lt)Object.prototype.hasOwnProperty.call(lt,at)&&(ot[at]=lt[at])}return ot},_createClass=function(){function ot(rt,at){for(var lt=0;lt<at.length;lt++){var ct=at[lt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(rt,ct.key,ct)}}return function(rt,at,lt){return at&&ot(rt.prototype,at),lt&&ot(rt,lt),rt}}(),_apexcharts=require$$0,_apexcharts2=_interopRequireDefault(_apexcharts),_react=reactExports,_react2=_interopRequireDefault(_react),_propTypes=propTypesExports,_propTypes2=_interopRequireDefault(_propTypes);function _interopRequireDefault(ot){return ot&&ot.__esModule?ot:{default:ot}}function _defineProperty(ot,rt,at){return rt in ot?Object.defineProperty(ot,rt,{value:at,enumerable:!0,configurable:!0,writable:!0}):ot[rt]=at,ot}function _objectWithoutProperties(ot,rt){var at,lt={};for(at in ot)0<=rt.indexOf(at)||Object.prototype.hasOwnProperty.call(ot,at)&&(lt[at]=ot[at]);return lt}function _classCallCheck(ot,rt){if(!(ot instanceof rt))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(ot,rt){if(ot)return!rt||typeof rt!="object"&&typeof rt!="function"?ot:rt;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}function _inherits(ot,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof rt);ot.prototype=Object.create(rt&&rt.prototype,{constructor:{value:ot,enumerable:!1,writable:!0,configurable:!0}}),rt&&(Object.setPrototypeOf?Object.setPrototypeOf(ot,rt):ot.__proto__=rt)}window.ApexCharts=_apexcharts2.default;var Charts=function(){function ot(rt){_classCallCheck(this,ot);var at=_possibleConstructorReturn(this,(ot.__proto__||Object.getPrototypeOf(ot)).call(this,rt));return _react2.default.createRef?at.chartRef=_react2.default.createRef():at.setRef=function(lt){return at.chartRef=lt},at.chart=null,at}return _inherits(ot,_react.Component),_createClass(ot,[{key:"render",value:function(){var rt=_objectWithoutProperties(this.props,[]);return _react2.default.createElement("div",_extends({ref:_react2.default.createRef?this.chartRef:this.setRef},rt))}},{key:"componentDidMount",value:function(){var rt=_react2.default.createRef?this.chartRef.current:this.chartRef;this.chart=new _apexcharts2.default(rt,this.getConfig()),this.chart.render()}},{key:"getConfig",value:function(){var ut=this.props,rt=ut.type,at=ut.height,lt=ut.width,ct=ut.series,ut=ut.options;return this.extend(ut,{chart:{type:rt,height:at,width:lt},series:ct})}},{key:"isObject",value:function(rt){return rt&&(rt===void 0?"undefined":_typeof(rt))==="object"&&!Array.isArray(rt)&&rt!=null}},{key:"extend",value:function(rt,at){var lt=this,ct=(typeof Object.assign!="function"&&(Object.assign=function(ut){if(ut==null)throw new TypeError("Cannot convert undefined or null to object");for(var dt=Object(ut),ht=1;ht<arguments.length;ht++){var ft=arguments[ht];if(ft!=null)for(var pt in ft)ft.hasOwnProperty(pt)&&(dt[pt]=ft[pt])}return dt}),Object.assign({},rt));return this.isObject(rt)&&this.isObject(at)&&Object.keys(at).forEach(function(ut){lt.isObject(at[ut])&&ut in rt?ct[ut]=lt.extend(rt[ut],at[ut]):Object.assign(ct,_defineProperty({},ut,at[ut]))}),ct}},{key:"componentDidUpdate",value:function(rt){if(!this.chart)return null;var ct=this.props,ht=ct.options,at=ct.series,lt=ct.height,ct=ct.width,ut=JSON.stringify(rt.options),dt=JSON.stringify(rt.series),ht=JSON.stringify(ht),ft=JSON.stringify(at);ut===ht&&dt===ft&&lt===rt.height&&ct===rt.width||(dt!==ft&&ut===ht&&lt===rt.height&&ct===rt.width?this.chart.updateSeries(at):this.chart.updateOptions(this.getConfig()))}},{key:"componentWillUnmount",value:function(){this.chart&&typeof this.chart.destroy=="function"&&this.chart.destroy()}}]),ot}();(_default=reactApexcharts_min.default=Charts).propTypes={type:_propTypes2.default.string.isRequired,width:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),height:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),series:_propTypes2.default.array.isRequired,options:_propTypes2.default.object.isRequired},Charts.defaultProps={type:"line",width:"100%",height:"auto"};const LineChart=()=>{const[ot,rt]=reactExports.useState(new Array(12).fill(0)),[at,lt]=reactExports.useState(new Array(12).fill(0)),ct=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];reactExports.useEffect(()=>{(async()=>{try{let ft=new Array(12).fill(0),pt=new Array(12).fill(0);const mt=new Array(12).fill().map(()=>new Set);(await getDocs(collection(db$2,"Student"))).forEach(yt=>{const xt=yt.data();if(console.log(xt),xt.StartDate&&xt.StartDate.seconds){const bt=new Date(xt.StartDate.seconds*1e3),Et=xt.EndDate?new Date(xt.EndDate.seconds*1e3):new Date;for(let Rt=0;Rt<12;Rt++){const wt=new Date(2024,Rt,1),_t=new Date(2024,Rt+1,0);bt<=_t&&Et>=wt&&(ft[Rt]+=1,xt.SupervisorID.forEach(At=>{mt[Rt].add(At)}))}}else console.log("Missing or invalid StartDate for student:",xt)});for(let yt=0;yt<12;yt++)pt[yt]=mt[yt].size;rt(ft),lt(pt)}catch(ft){console.error("Error fetching data from Firebase:",ft)}})()},[]);const ut={chart:{id:"basic-line",toolbar:{show:!1}},xaxis:{categories:ct,labels:{style:{fontWeight:"bold"}}},yaxis:{labels:{style:{fontWeight:"bold"}}},dataLabels:{enabled:!1},grid:{show:!0},colors:["#FF8503","#00E396"]},dt=[{name:"Students",data:ot},{name:"Supervisors",data:at}];return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-1000 p-10 p-6 rounded-lg shadow",children:ot.some(ht=>ht>0)||at.some(ht=>ht>0)?jsxRuntimeExports.jsx(_default,{options:ut,series:dt,type:"line",height:"300",width:1200}):jsxRuntimeExports.jsx("p",{children:"Loading data..."})})},BarChart=()=>{const[ot,rt]=reactExports.useState(new Array(12).fill(0)),[at,lt]=reactExports.useState(new Array(12).fill(0)),[ct,ut]=reactExports.useState(new Array(12).fill(0)),[dt,ht]=reactExports.useState(new Array(12).fill(0)),[ft,pt]=reactExports.useState(new Array(12).fill(0)),mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];reactExports.useEffect(()=>{(async()=>{try{let bt=new Array(12).fill(0),Et=new Array(12).fill(0),Rt=new Array(12).fill(0),wt=new Array(12).fill(0),_t=new Array(12).fill(0);const At=new Array(12).fill().map(()=>new Set);(await getDocs(collection(db$2,"Student"))).forEach(It=>{const Nt=It.data();if(console.log(Nt),Nt.StartDate&&Nt.StartDate.seconds){const Pt=new Date(Nt.StartDate.seconds*1e3),Tt=Nt.EndDate?new Date(Nt.EndDate.seconds*1e3):new Date;for(let Ct=0;Ct<12;Ct++){const Ot=new Date(2024,Ct,1),Dt=new Date(2024,Ct+1,0);Pt<=Dt&&Tt>=Ot&&(bt[Ct]+=1,Nt.StudentType=="Honours"?Et[Ct]+=1:Nt.StudentType=="Masters"?Rt[Ct]+=1:Nt.StudentType=="PhD"&&(wt[Ct]+=1),Nt.SupervisorID.forEach(jt=>{At[Ct].add(jt)}))}}else console.log("Missing or invalid StartDate for student:",Nt)});for(let It=0;It<12;It++)_t[It]=At[It].size;lt(Et),ut(Rt),ht(wt),pt(_t)}catch(bt){console.error("Error fetching data from Firebase:",bt)}})()},[]);const gt={chart:{id:"basic-bar",toolbar:{show:!1}},xaxis:{categories:mt,labels:{style:{fontWeight:"bold"}}},yaxis:{labels:{style:{fontWeight:"bold"}}},dataLabels:{enabled:!1},grid:{show:!0},colors:["#FF8503","#00E396","#5C1082","#F60002"]},yt=[{name:"Supervisors",data:ft},{name:"Honours",data:at},{name:"Master",data:ct},{name:"PhD",data:dt}];return jsxRuntimeExports.jsx("div",{className:"bg-white dark:bg-gray-1000 p-6 rounded-lg shadow",children:ot.some(xt=>xt>0)||ft.some(xt=>xt>0)?jsxRuntimeExports.jsx(_default,{options:gt,series:yt,type:"bar",height:"500",width:1e3}):jsxRuntimeExports.jsx("p",{children:"Loading data..."})})},AdminDashboard=()=>{reactExports.useState(!1),reactExports.useState(null),reactExports.useState(null),reactExports.useState(!0);const[ot,rt]=reactExports.useState("");return reactExports.useEffect(()=>{(async()=>{try{(await getDocs(collection(db$2,"Admin"))).forEach(ct=>{const ut=ct.data();ut.Department?(rt(ut.Department),console.log("Running")):(console.log("not running "),console.log(ut))})}catch(lt){console.error("Error fetching data from Firebase:",lt)}})()},[]),jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-64 pt-16",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-between mb-4",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-200",children:["Welcome Back ",jsxRuntimeExports.jsxs("span",{className:"text-[#FF8503] dark:text-[#FF8503]",children:[" ",ot]})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-md text-gray-500 dark:text-gray-400",children:"Here's what's happening with your deparments projects this year:"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-xl bg-white dark:bg-gray-800 p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full",children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-extrabold text-gray-800 dark:text-gray-200",children:"Total Students:"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center rounded-xl h-14 p-5 bg-[#00ad43] dark:bg-[#00ad43] mt-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold font-thick text-white",children:jsxRuntimeExports.jsx(Totals,{Type:"Student"})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-xl bg-white dark:bg-gray-800 p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full",children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-extrabold text-gray-800 dark:text-gray-200",children:"Total Supervisors:"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center rounded-xl h-14 p-5 bg-[#590098] dark:bg-[#590098] mt-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold font-thick text-white",children:jsxRuntimeExports.jsx(Totals,{Type:"Supervisor"})})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-xl bg-white dark:bg-gray-800 p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full",children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-extrabold text-gray-800 dark:text-gray-200",children:"Total Projects:"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center rounded-xl h-14 p-5 bg-[#FF8503] dark:bg-[#FF8503] mt-4",children:jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold font-thick text-white",children:jsxRuntimeExports.jsx(Totals,{Type:"Student"})})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col rounded-xl bg-white dark:bg-gray-800 p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between w-full",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-gray-200",children:["Students and Supervisors Data ",jsxRuntimeExports.jsx("span",{className:"text-[#FF8503] dark:text-[#FF8503]",children:"2024"})]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("div",{className:"relative inline-block text-left",children:jsxRuntimeExports.jsxs("button",{type:"button",className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-[#FF8503]",children:["Last 30 days",jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 ml-2 -mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-xl bg-white dark:bg-gray-800",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full px-4 py-2",children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-extrabold text-gray-800 dark:text-gray-200",children:"Students Vs. Supervisors overall 2024"})}),jsxRuntimeExports.jsx("div",{className:"p-2",style:{height:"500px"},children:jsxRuntimeExports.jsx(LineChart,{width:1e3,height:500})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-xl bg-white dark:bg-gray-800",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between w-full px-4 py-2",children:jsxRuntimeExports.jsx("h1",{className:"text-xl font-extrabold text-gray-800 dark:text-gray-200",children:"Students Vs. Supervisors in Degrees 2024"})}),jsxRuntimeExports.jsx("div",{className:"p-2",style:{height:"500px"},children:jsxRuntimeExports.jsx(BarChart,{width:1e5,height:1e4})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col rounded-xl bg-white dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between w-full px-6 py-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200",children:"Supervisors"}),jsxRuntimeExports.jsx("a",{href:"#",className:"text-[#FF8503] dark:text-blue-500",children:"View All"})]}),jsxRuntimeExports.jsx(SupervisorCount,{})]}),jsxRuntimeExports.jsx(Footer,{})]})})},Dashboard=()=>{const[ot,rt]=reactExports.useState(""),[at,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(""),[dt,ht]=reactExports.useState(""),[ft,pt]=reactExports.useState(""),[mt,gt]=reactExports.useState(""),[yt,xt]=reactExports.useState([]),{UserData:bt,UserRole:Et,Loading:Rt}=useAuth(),[wt,_t]=reactExports.useState([]),[At,kt]=reactExports.useState(Date.now());reactExports.useEffect(()=>{const Dt=localStorage.getItem("userData");if(Dt){const Mt=JSON.parse(Dt);It(Mt),Nt(Mt.CourseID),console.log("cache data is working ")}else!Rt&&bt&&(localStorage.setItem("userData",JSON.stringify(bt)),It(bt),Nt(bt.CourseID),console.log("cache data is not working "));const jt=setInterval(()=>{Date.now()-At>30*60*1e3&&bt&&Nt(bt.CourseID)},30*60*1e3);return()=>clearInterval(jt)},[Rt,bt,Et,At]);const It=Dt=>{rt(Dt.Name),lt(Dt.Surname),ut(Dt.Title),ht(Dt.ID),xt(Dt.CourseID),pt(Dt.ProfilePicture||UserLogo),gt(Et==="Student"?Dt.StudentType:Et)},Nt=async Dt=>{try{const jt=[];for(const Mt of Dt){const zt=collection(db$2,"Module"),Qt=query(zt,where("__name__","==",Mt));(await getDocs(Qt)).forEach(Kt=>{const sn=Kt.data();jt.push({id:Kt.id,...sn})})}_t(jt),localStorage.setItem("modules",JSON.stringify(jt)),kt(Date.now())}catch(jt){console.error("Error fetching modules:",jt)}},Pt=[{id:"1",title:"Review of Thesis Proposal",description:"Detailed review of the thesis proposal submitted by student A."},{id:"2",title:"Final Project Report",description:"Evaluation of the final project report from student B."},{id:"3",title:"Research Paper Draft",description:"Initial draft of research paper for student C."},{id:"4",title:"Project Presentation",description:"Review of the project presentation slides from student D."},{id:"5",title:"Dissertation Chapter",description:"Review of the dissertation chapter submitted by student E."}],Tt=[{id:"1",title:"Thesis Review",date:"2024-09-30"},{id:"2",title:"Project Proposal",date:"2024-10-15"},{id:"3",title:"Final Submission",date:"2024-10-25"}],Ct=[RegImage1,BannerImg$2,RegImage3,BannerImage$2],Ot=["border-[#00ad43]","border-[#00bfff]","border-[#590098]","border-[#FF8503]"];return jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 min-h-screen border-2 border-gray-200 rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[Et==="Student"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:["Welcome Back ",jsxRuntimeExports.jsxs("span",{className:"text-[#FF8503] dark:text-[#FF8503]",children:[ot," ",at]})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",children:"Here's what's happening with your studies today"})]}),jsxRuntimeExports.jsxs("section",{className:"mt-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200 tracking-wide",children:"Your Courses"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:wt.map((Dt,jt)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{delay:jt*.1},children:jsxRuntimeExports.jsx(CourseCard,{name:Dt.ModuleTitle,image:Ct[jt%Ct.length],description:Dt.ModuleDescription,borderColor:Ot[jt%Ot.length]})},jt))})]}),jsxRuntimeExports.jsxs("section",{className:"mt-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200 tracking-wide",children:"Your Schedule"}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Calendar,{})})]}),jsxRuntimeExports.jsxs("section",{className:"mt-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200 tracking-wide",children:"Current Milestones"}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(UpcomingMilestones,{})})]})]}):Et==="Supervisor"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:["Welcome Back ",jsxRuntimeExports.jsxs("span",{className:"text-[#FF8503] dark:text-[#FF8503]",children:[ct," ",ot," ",at]})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",children:"Here's your overview for today"})]}),jsxRuntimeExports.jsxs("section",{className:"mt-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200 tracking-wide",children:"Supervised Courses"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:wt.map((Dt,jt)=>jsxRuntimeExports.jsx(CourseCard,{name:Dt.ModuleTitle,image:Ct[jt%Ct.length],description:Dt.ModuleDescription,borderColor:Ot[jt%Ot.length]},jt))})]}),jsxRuntimeExports.jsxs("section",{className:"mt-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200 tracking-wide",children:"Upcoming Meetings"}),jsxRuntimeExports.jsx("div",{className:"mt-6",children:jsxRuntimeExports.jsx(Calendar,{})})]})]}):Et==="Examiner"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:["Welcome Back ",jsxRuntimeExports.jsxs("span",{className:"text-[#FF8503] dark:text-[#FF8503]",children:[ot," ",at]})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",children:"Here’s your overview for today"})]}),jsxRuntimeExports.jsxs("section",{className:"mt-8",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200 tracking-wide",children:"Pending Reviews"}),jsxRuntimeExports.jsx("ul",{className:"mt-4",children:Pt.map(Dt=>jsxRuntimeExports.jsxs("li",{className:"border-b py-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:Dt.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:Dt.description})]},Dt.id))})]}),jsxRuntimeExports.jsxs("section",{className:"mt-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-extrabold text-gray-800 dark:text-gray-200 tracking-wide",children:"Upcoming Deadlines"}),jsxRuntimeExports.jsx("ul",{className:"mt-4",children:Tt.map(Dt=>jsxRuntimeExports.jsxs("li",{className:"border-b py-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:Dt.title}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600",children:["Due by: ",Dt.date]})]},Dt.id))})]})]}):Et==="Admin"?jsxRuntimeExports.jsx(AdminDashboard,{}):jsxRuntimeExports.jsx("h1",{children:"Something is wrong "}),jsxRuntimeExports.jsx(Footer$1,{})]})})},Card=({name:ot,image:rt,description:at,Supervisor:lt,borderColor:ct})=>jsxRuntimeExports.jsxs("div",{className:`max-w-sm max-h-svh bg-white border-2 rounded-lg shadow dark:bg-gray-800 ${ct} border-2 dark:border-gray-700`,children:[jsxRuntimeExports.jsx("img",{className:"rounded-t-lg",src:rt,alt:ot}),jsxRuntimeExports.jsxs("div",{className:"p-5",children:[jsxRuntimeExports.jsx("h5",{className:"mb-2 text-xl font-bold tracking-wider text-gray-900 dark:text-white",children:ot}),jsxRuntimeExports.jsx("p",{className:"mb-3 font-normal text-gray-700 dark:text-gray-400",children:lt}),jsxRuntimeExports.jsx("p",{className:"mb-3 font-normal text-gray-700 dark:text-gray-400",children:at})]})]}),Courses=()=>{const[ot,rt]=reactExports.useState("lecturer"),at=[{routeId:"courses/course/Business Analysis",name:"Business Analysis",image:RegImage1,description:"Learn the basics of Business Analysis",lecturer:"Dr. John Doe"},{routeId:"courses/course/Software Development",name:"Software Dev",image:BannerImg$2,description:"Learn the basics of Software Development",lecturer:"Dr. Jane Doe"},{routeId:"courses/course/Software Project",name:"Software Project",image:RegImage3,description:"Learn the basics of Software Project",lecturer:"Dr. John Doe"},{routeId:"courses/course/Software Testing",name:"Software Testing",image:BannerImage$2,description:"Learn the basics of Software Testing",lecturer:"Dr. Jane Doe"},{routeId:"courses/course/Software Testing",name:"Software Testing",image:BannerImage$2,description:"Learn the basics of Software Testing",lecturer:"Dr. Jane Doe"},{routeId:"courses/course/Software Testing",name:"Computer Interaction",image:BannerImage$2,description:"Learn the basics of Human Computer Interaction",lecturer:"Dr. John Doe"},{routeId:"courses/course/Software Engineering",name:"Software Engineering",image:BannerImage$2,description:"Learn the basics of Software Engineering",lecturer:"Dr. John Doe"}],lt=["border-[#00ad43]","border-[#00bfff]","border-[#590098]","border-[#FF8503]"];return jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsx("section",{className:"mb-6",children:ot==="lecturer"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"My Courses"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-5 text-gray-700 dark:text-gray-400",children:"Here are your current courses"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Courses You Manage"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-5 text-gray-700 dark:text-gray-400",children:"Here are the courses you manage"})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-7 sm:grid-cols-2 lg:grid-cols-3",children:at.filter(ct=>ot==="lecturer"||ct.lecturer.includes("Dr. John Doe")).map((ct,ut)=>jsxRuntimeExports.jsx(Link,{to:`/${ct.routeId}`,className:"block",children:jsxRuntimeExports.jsx(motion.div,{className:`border-2 rounded-lg overflow-hidden shadow-md ${lt[ut%lt.length]}`,whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"},transition:{type:"spring",stiffness:300},children:jsxRuntimeExports.jsx(Card,{name:ct.name,image:ct.image,description:ct.description,lecturer:ct.lecturer,borderColor:lt[ut%lt.length]})})},ut))}),jsxRuntimeExports.jsx(Footer$1,{})]})})},Masters=()=>{const{UserData:ot,Loading:rt}=useAuth(),[at,lt]=reactExports.useState([]),ct=[BannerImg$2,RegImage1,RegImage3,BannerImage$2],ut=["border-[#00bfff]","border-[#00ad43]","border-[#590098]","border-[#FF8503]"];reactExports.useEffect(()=>{!rt&&ot&&dt(ot.CourseID)},[rt,ot]);const dt=async ht=>{const ft=`modules-${ht.join(",")}`,pt=localStorage.getItem(ft);if(pt){lt(JSON.parse(pt));return}try{const mt=[];for(const gt of ht){const yt=collection(db$2,"Module"),xt=query(yt,where("__name__","in",[gt]));(await getDocs(xt)).forEach(Et=>{const Rt=Et.data();mt.push({id:Et.id,...Rt})})}localStorage.setItem(ft,JSON.stringify(mt)),lt(mt)}catch(mt){console.error("Error fetching modules:",mt)}};return jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 h-screen border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Masters Research"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-2 text-gray-700 dark:text-gray-400",children:"Here are all the courses you are supervising."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:at.filter(ht=>ht.ModuleType==="Masters").map((ht,ft)=>jsxRuntimeExports.jsx(Link,{to:`/masters/${ht.id}`,className:"block",children:jsxRuntimeExports.jsx(motion.div,{className:`border-2 rounded-lg overflow-hidden shadow-md ${ut[ft%ut.length]}`,whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"},transition:{type:"spring",stiffness:300},children:jsxRuntimeExports.jsx(CourseCard,{name:ht.ModuleTitle,image:ct[ft%ct.length],description:ht.ModuleDescription,borderColor:ut[ft%ut.length]},ft)})},ht.id))}),jsxRuntimeExports.jsx(Footer$1,{})]})})},PhD=()=>{const{UserData:ot,Loading:rt}=useAuth(),[at,lt]=reactExports.useState([]),ct=[BannerImg$2,RegImage1,RegImage3,BannerImage$2],ut=["border-[#00bfff]","border-[#00ad43]","border-[#590098]","border-[#FF8503]"];reactExports.useEffect(()=>{!rt&&ot&&dt(ot.CourseID)},[rt,ot]);const dt=async ht=>{const ft=`modules-${ht.join(",")}`,pt=localStorage.getItem(ft);if(pt){lt(JSON.parse(pt));return}try{const mt=[];for(const gt of ht){const yt=collection(db$2,"Module"),xt=query(yt,where("__name__","in",[gt]));(await getDocs(xt)).forEach(Et=>{const Rt=Et.data();mt.push({id:Et.id,...Rt})})}localStorage.setItem(ft,JSON.stringify(mt)),lt(mt)}catch(mt){console.error("Error fetching modules:",mt)}};return jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 h-screen border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"PhD Research"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-2 text-gray-700 dark:text-gray-400",children:"Here are all the courses you are supervising."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:at.filter(ht=>ht.ModuleType==="PhD").map((ht,ft)=>jsxRuntimeExports.jsx(Link,{to:`/phd/${ht.id}`,className:"block",children:jsxRuntimeExports.jsx(motion.div,{className:`border-2 rounded-lg overflow-hidden shadow-md ${ut[ft%ut.length]}`,whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"},transition:{type:"spring",stiffness:300},children:jsxRuntimeExports.jsx(CourseCard,{name:ht.ModuleTitle,image:ct[ft%ct.length],description:ht.ModuleDescription,borderColor:ut[ft%ut.length]},ft)})},ht.id))}),jsxRuntimeExports.jsx(Footer$1,{})]})})},Honours=()=>{const{UserData:ot,Loading:rt}=useAuth(),[at,lt]=reactExports.useState([]),ct=[RegImage1,BannerImg$2,RegImage3,BannerImage$2],ut=["border-[#00ad43]","border-[#00bfff]","border-[#590098]","border-[#FF8503]"];reactExports.useEffect(()=>{!rt&&ot&&(dt(ot.CourseID),console.log(ot.CourseID))},[rt,ot]);const dt=async ht=>{const ft=`modules-${ht.join(",")}`,pt=localStorage.getItem(ft);if(pt){lt(JSON.parse(pt));return}try{const mt=[];for(const gt of ht){const yt=collection(db$2,"Module"),xt=query(yt,where("__name__","in",[gt]));(await getDocs(xt)).forEach(Et=>{const Rt=Et.data();mt.push({id:Et.id,...Rt})})}localStorage.setItem(ft,JSON.stringify(mt)),lt(mt)}catch(mt){console.error("Error fetching modules:",mt)}};return console.log("Modules",at),jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 h-screen border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Honours Courses"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-2 text-gray-700 dark:text-gray-400",children:"Here are all the courses you are supervising."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:at.filter(ht=>ht.ModuleType==="Honours").map((ht,ft)=>jsxRuntimeExports.jsx(Link,{to:`/honours/${ht.id}`,className:"block",children:jsxRuntimeExports.jsx(motion.div,{className:`border-2 rounded-lg overflow-hidden shadow-md ${ut[ft%ut.length]}`,whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"},transition:{type:"spring",stiffness:300},children:jsxRuntimeExports.jsx(CourseCard,{name:ht.ModuleTitle,image:ct[ft%ct.length],description:ht.ModuleDescription,borderColor:ut[ft%ut.length]},ft)})},ht.id))}),jsxRuntimeExports.jsx(Footer$1,{})]})})},Research=()=>{const{UserData:ot,Loading:rt}=useAuth(),[at,lt]=reactExports.useState([]),ct=[RegImage1,BannerImg$2,RegImage3,BannerImage$2],ut=["border-[#00ad43]","border-[#00bfff]","border-[#590098]","border-[#FF8503]"];reactExports.useEffect(()=>{!rt&&ot&&(dt(ot.CourseID),console.log(ot))},[rt,ot]);const dt=async ht=>{const ft=`modules-${ht.join(",")}`,pt=localStorage.getItem(ft);if(pt){lt(JSON.parse(pt));return}try{const mt=[];for(const gt of ht){const yt=collection(db$2,"Module"),xt=query(yt,where("__name__","in",[gt]));(await getDocs(xt)).forEach(Et=>{const Rt=Et.data();mt.push({id:Et.id,...Rt})})}localStorage.setItem(ft,JSON.stringify(mt)),lt(mt)}catch(mt){console.error("Error fetching modules:",mt)}};return jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 h-screen border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Research"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-2 text-gray-700 dark:text-gray-400",children:"Here are your current research courses"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mt-4",children:at.map((ht,ft)=>jsxRuntimeExports.jsx(Link,{to:`/research/${ht.id}`,className:"block",children:jsxRuntimeExports.jsx(motion.div,{className:`border-2 rounded-lg overflow-hidden shadow-md ${ut[ft%ut.length]}`,whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"},transition:{type:"spring",stiffness:300},children:jsxRuntimeExports.jsx(CourseCard,{name:ht.ModuleTitle,image:ct[ft%ct.length],description:ht.ModuleDescription,borderColor:ut[ft%ut.length]},ft)})},ht.id))}),jsxRuntimeExports.jsx(Footer$1,{})]})})},pulseVariants={pulse:{scale:[1,1.1,1],opacity:[1,.9,1],transition:{duration:2,repeat:1/0,repeatType:"loop",ease:"easeInOut"}}},LogoLoader=()=>jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center h-screen w-screen bg-transparent fixed top-0 left-0 z-50",children:jsxRuntimeExports.jsx(motion.img,{src:Logo$1,alt:"Logo Loader",className:"w-32 h-32",variants:pulseVariants,animate:"pulse"})}),userRole="lecturer",Course=()=>{const{courseId:ot}=useParams(),[rt,at]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{at({id:ot,name:"Sample Course",instructor:"Dr. John Doe",description:"This course covers various aspects of software engineering...",syllabus:[{routeId:"chapter-1",topic:"Introduction to Software Engineering",subtopics:["Software Development Life Cycle","Agile Methodology","Waterfall Model"]},{routeId:"chapter-2",topic:"Software Requirements",subtopics:["Requirements Elicitation","Requirements Analysis","Requirements Specification"]},{routeId:"chapter-3",topic:"Software Design",subtopics:["Design Principles","Design Patterns","UML Diagrams"]}]})})()},[ot]),rt?jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"max-h-80 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:BannerImage,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("h1",{className:"absolute text-4xl font-bold tracking-wider text-white dark:text-gray-200",children:rt.name})]}),userRole==="student",jsxRuntimeExports.jsxs("section",{className:"mt-6",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:["Course Overview for ",rt.name]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",children:"Course description and objectives"}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",children:["Instructor: ",rt.instructor]})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Syllabus"}),jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4",children:rt.syllabus.map((lt,ct)=>jsxRuntimeExports.jsxs("li",{className:"border p-4 rounded-lg shadow dark:bg-gray-900 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:lt.topic}),jsxRuntimeExports.jsx("ul",{className:"mt-2 list-disc list-inside text-gray-700 dark:text-gray-400",children:lt.subtopics.map((ut,dt)=>jsxRuntimeExports.jsx("li",{className:"ml-4",children:ut},dt))}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:"Edit Topic"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",children:"Hide Topic"})]})]},ct))}),jsxRuntimeExports.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:"Add Topic"})]}),userRole==="student",jsxRuntimeExports.jsx(Footer$1,{})]})}):jsxRuntimeExports.jsx(LogoLoader,{})},BannerImg$1="/PostGradePortal/assets/BannerImg-BVr7aLWK.jpg",Assignments=()=>{const ot=useNavigate(),{courseId:rt,assignmentId:at}=useParams(),[lt,ct]=reactExports.useState(null),[ut,dt]=reactExports.useState([]),[ht,ft]=reactExports.useState([]),[pt,mt]=reactExports.useState(null),[gt,yt]=reactExports.useState(null),[xt,bt]=reactExports.useState(""),[Et,Rt]=reactExports.useState(""),[wt,_t]=reactExports.useState(!1),[At,kt]=reactExports.useState(!1);reactExports.useState(!1),reactExports.useEffect(()=>{console.log("Fetching data for courseId:",rt,"and assignmentId:",at),(async()=>{if(!rt||!at){console.error("CourseID or AssignmentID is missing");return}try{const Ot=doc(db$2,"Module",rt),Dt=await getDoc(Ot);Dt.exists()?ct(Dt.data()):console.log("No course data found");const jt=collection(db$2,`Module/${rt}/Assignments`),Mt=await getDocs(jt);if(Mt.empty)console.log("No assignments available");else{const Kt=Mt.docs.map(sn=>({...sn.data(),id:sn.id})).filter(sn=>sn.id===at);dt(Kt)}const zt=collection(db$2,`Module/${rt}/Assignments/${at}/StudentID`),Qt=await getDocs(zt);if(Qt.empty)console.log("No submissions available");else{const qt=Qt.docs.map(Kt=>({...Kt.data(),studentID:Kt.id}));ft(qt)}}catch(Ot){console.error("Error fetching data:",Ot)}})()},[rt,at]);const It=async Ct=>{if(!xt||!Et||!gt){alert("Please provide marks, comments, and a PDF feedback file.");return}_t(!0);try{const Ot=ref(storage,`feedback/${Ct.studentID}/${at}.pdf`);await uploadBytes(Ot,gt);const Dt=await getDownloadURL(Ot),jt=doc(db$2,`Module/${rt}/Assignments/${at}/StudentID/${Ct.studentID}`);await setDoc(jt,{marks:xt,comments:Et,feedbackURL:Dt,feedbackAvailable:!0},{merge:!0}),bt(""),Rt(""),yt(null),Tt(),B$3.success("Feedback uploaded successfully")}catch(Ot){console.error("Error submitting feedback:",Ot)}finally{_t(!1)}},Nt=Ct=>{yt(Ct.target.files[0])},Pt=()=>{kt(!0)},Tt=()=>{kt(!1)};return lt?jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 min-h-screen border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"max-h-80 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:BannerImg$1,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("h1",{className:"absolute text-4xl font-bold tracking-wider text-white dark:text-gray-200",children:lt.ModuleTitle}),jsxRuntimeExports.jsxs("button",{className:"absolute top-3 left-3 flex items-center px-4 py-2 bg-[#FF8503] text-white rounded-lg",onClick:()=>ot(-1),children:[jsxRuntimeExports.jsx(HiChevronLeft,{className:"mr-2"}),"Back"]})]}),jsxRuntimeExports.jsxs("section",{className:"mt-4",style:{display:"none"},children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Submissions"}),jsxRuntimeExports.jsx("ul",{className:"mt-4 space-y-4",children:ut.length>0?ut.map((Ct,Ot)=>{const Dt=new Date(Ct.AssignmentDueDate.seconds*1e3);return jsxRuntimeExports.jsxs("li",{className:"border p-4 rounded-lg shadow dark:bg-gray-900 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:Ct.AssignmentTitle}),jsxRuntimeExports.jsx("p",{children:Ct.AssignmentDescription}),jsxRuntimeExports.jsxs("p",{children:["Due Date: ",Dt.toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:["Created On: ",new Date(Ct.AssignmentCreation.seconds*1e3).toLocaleString()]}),jsxRuntimeExports.jsxs("section",{className:"mt-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-bold",children:"Submissions"}),ht.length>0?jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:ht.map((jt,Mt)=>jsxRuntimeExports.jsxs("li",{className:"p-2 border rounded bg-gray-100 dark:bg-gray-800 dark:border-gray-700",children:[jsxRuntimeExports.jsxs("p",{children:["Student ID: ",jt.studentID]}),jsxRuntimeExports.jsxs("p",{children:["File Name: ",jt.fileName]}),jsxRuntimeExports.jsxs("p",{children:["Submitted At: ",new Date(jt.submittedAt.seconds*1e3).toLocaleString()]}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("a",{href:jt.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"Download Submission"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("button",{onClick:Pt,className:"text-blue-500 underline",children:"Provide Feedback"}),(pt==null?void 0:pt.studentID)===jt.studentID&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsxs("label",{className:"block text-gray-800 dark:text-gray-200",children:["Marks:",jsxRuntimeExports.jsx("input",{type:"number",className:"block w-full mt-2 p-2 border rounded",value:xt,onChange:zt=>bt(zt.target.value)})]}),jsxRuntimeExports.jsxs("label",{className:"block text-gray-800 dark:text-gray-200 mt-4",children:["Comments:",jsxRuntimeExports.jsx("textarea",{className:"block w-full mt-2 p-2 border rounded",value:Et,onChange:zt=>Rt(zt.target.value)})]}),jsxRuntimeExports.jsxs("label",{className:"block text-gray-800 dark:text-gray-200 mt-4",children:["Upload Feedback (PDF):",jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",className:"block w-full mt-2",onChange:Nt})]}),jsxRuntimeExports.jsx("button",{onClick:()=>It(jt),className:"bg-blue-600 text-white px-4 py-2 rounded mt-4",disabled:wt,children:wt?"Submitting...":"Submit Feedback"})]})]},Mt))}):jsxRuntimeExports.jsx("p",{children:"No submissions available."})]})]},Ot)}):jsxRuntimeExports.jsx("p",{children:"No assignments available."})})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6 border-2 border-[#FF8503] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-[#FF8503] dark:text-[#FF8503]",children:"Current Milestone"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-800 dark:text-gray-200",children:"This is the current milestone. You can view the submissions and provide feedback to the students."}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:ut.length>0?ut.map((Ct,Ot)=>jsxRuntimeExports.jsx("div",{className:" dark:bg-gray-800 dark:shadow-lg",children:jsxRuntimeExports.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-600 pt-4",children:[jsxRuntimeExports.jsx("h4",{className:"mb-2 font-bold text-xl text-gray-800 dark:text-gray-200",children:"Submissions"}),ht.length>0?ht.map((Dt,jt)=>jsxRuntimeExports.jsxs("div",{className:"mb-4 p-2 border rounded-lg flex justify-between items-center bg-gray-50 dark:bg-gray-900 dark:border-gray-700 hover:shadow hover:bg-gray-100 dark:hover:bg-gray-800 transition duration-200",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"text-sm mt-1 text-gray-800 dark:text-gray-200",children:["Student ID: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Dt.studentID})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mt-1 text-gray-800 dark:text-gray-200",children:["Submitted At: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:new Date(Dt.submittedAt.seconds*1e3).toLocaleString()})]}),Dt.feedbackAvailable?jsxRuntimeExports.jsx(Badge,{color:"success",className:"mt-2",children:"Reviewed"}):jsxRuntimeExports.jsx(Badge,{color:"warning",className:"mt-2",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Button,{gradientDuoTone:"blueToIndigo",onClick:()=>window.open(Dt.downloadURL,"_blank"),children:"Download"}),jsxRuntimeExports.jsx(Button,{gradientDuoTone:"blueToIndigo",onClick:()=>{mt(Dt),Pt()},children:"Provide Feedback"})]})]},jt)):jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No submissions available."})]})},Ot)):jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No assignments available."})})]}),jsxRuntimeExports.jsx(ProvideFeedbackModal,{isOpen:At,onClose:Tt,onSubmit:()=>It(pt),marks:xt,setMarks:bt,comments:Et,setComments:Rt,feedbackFile:gt,setFeedbackFile:yt,isSubmittingFeedback:wt}),jsxRuntimeExports.jsx(Footer$1,{})]})}):jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-screen",children:jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"warning"})})},ProvideFeedbackModal=({isOpen:ot,onClose:rt,onSubmit:at,marks:lt,setMarks:ct,comments:ut,setComments:dt,isSubmittingFeedback:ht,setFeedbackFile:ft})=>{if(!ot)return null;const pt=mt=>{ft(mt.target.files[0])};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-xl p-6 bg-white rounded-lg shadow-lg dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between border-b border-gray-200 pb-4 dark:border-gray-600",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:"Provide Feedback"}),jsxRuntimeExports.jsxs("button",{onClick:rt,type:"button",className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 space-y-6",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Marks:"}),jsxRuntimeExports.jsx("input",{type:"number",className:"block w-full mt-2 p-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white",value:lt,onChange:mt=>ct(mt.target.value),placeholder:"Enter marks"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Comments:"}),jsxRuntimeExports.jsx("textarea",{className:"block w-full mt-2 p-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white",value:ut,onChange:mt=>dt(mt.target.value),placeholder:"Enter comments",rows:"4"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"Upload Feedback (PDF):"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf",className:"block w-full mt-2 p-2 text-gray-800 border border-gray-300 rounded-lg cursor-pointer focus:outline-none focus:ring focus:ring-blue-200 dark:border-gray-600 dark:bg-gray-700 dark:text-gray-300 dark:focus:ring-blue-700",onChange:pt})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end mt-6",children:[jsxRuntimeExports.jsx("button",{onClick:rt,type:"button",className:"px-4 py-2 mr-3 text-sm font-medium text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:at,type:"button",disabled:ht,className:`px-5 py-2.5 text-sm font-medium text-white rounded-lg ${ht?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 dark:bg-blue-500 dark:hover:bg-blue-600 dark:focus:ring-blue-800"}`,children:ht?jsxRuntimeExports.jsxs("svg",{className:"w-5 h-5 text-white animate-spin",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h8a8 8 0 11-16 0z"})]}):"Submit Feedback"})]})]})})},SendMessage=({chatId:ot,scrollRef:rt})=>{const[at,lt]=reactExports.useState("");async function ct(ut){if(ut.preventDefault(),console.log("sendMessage invoked"),!ot){console.error("chatId is missing"),alert("Cannot send message: Chat session is not identified.");return}if(console.log("chatId is present:",ot),!auth.currentUser){console.error("No authenticated user found."),alert("You must be logged in to send messages.");return}const{uid:dt,photoURL:ht}=auth.currentUser;if(console.log("Current user:",dt,ht),at.trim()!==""){try{console.log("Attempting to send message:",at);const ft=collection(db$2,"chats",ot,"messages");await addDoc(ft,{text:at,sender:dt,photoURL:ht||"",uid:dt,createdAt:serverTimestamp()}),console.log("Message added to Firestore"),console.log("Clearing input field"),lt(""),console.log("Input field cleared"),rt&&rt.current?rt.current.scrollIntoView({behavior:"smooth"}):console.warn("scrollRef is not defined"),console.log("Message to be sent:",at),console.log("Message added successfully")}catch(ft){console.error("Error sending message:",ft),alert("Message failed to send. Try again.")}console.log("Message to be sent:",at),console.log("Message added successfully")}}return console.log("Fetched messages:",at),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("form",{onSubmit:ct,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center p-4 md:p-5 space-x-3 rtl:space-x-reverse border-t border-gray-200 rounded-b dark:border-gray-600",children:[jsxRuntimeExports.jsx("input",{type:"text",value:at,onChange:ut=>lt(ut.target.value),className:"flex-grow p-2 border rounded-lg dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Type a message",onKeyPress:ut=>{ut.key==="Enter"&&ct(ut)}}),jsxRuntimeExports.jsx("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",disabled:at.trim()==="",children:"Send"})]})})})},ChatBubble=({message:ot,isSent:rt})=>jsxRuntimeExports.jsxs("div",{className:`flex items-end gap-2.5 ${rt?"justify-end":""}`,children:[!rt&&jsxRuntimeExports.jsx("img",{className:"w-8 h-8 rounded-full self-end",src:ot.avatar,alt:"User image"}),jsxRuntimeExports.jsxs("div",{className:`flex flex-col w-full max-w-[250px] p-4 border rounded-xl ${rt?"bg-blue-100 dark:bg-blue-700 rounded-br-none":"bg-gray-100 dark:bg-gray-700 rounded-bl-none"}`,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:ot.time})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-normal py-2.5 text-gray-900 dark:text-white",children:ot.content}),ot.status&&jsxRuntimeExports.jsx("span",{className:"text-sm font-normal text-gray-500 dark:text-gray-400",children:ot.status})]}),rt&&jsxRuntimeExports.jsx("img",{className:"w-8 h-8 rounded-full self-end",src:ot.avatar,alt:"User image"})]}),Modal$1=({chatId:ot,isOpen:rt,onClose:at,data:lt,role:ct})=>{if(!rt)return null;const ut=UserLogo,[dt,ht]=reactExports.useState([]),ft=reactExports.useRef(null);return reactExports.useEffect(()=>{if(ot&&rt){const pt=doc(db$2,"chats",ot),mt=query(collection(pt,"messages"),orderBy("createdAt","asc")),gt=onSnapshot(mt,yt=>{const xt=yt.docs.map(bt=>({id:bt.id,...bt.data()}));ht(xt),console.log("Fetched messages:",xt)});return()=>gt()}},[ot,rt]),reactExports.useEffect(()=>{ft.current&&ft.current.scrollIntoView({behavior:"smooth"})},[dt]),jsxRuntimeExports.jsx(AnimatePresence,{children:rt&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5}}),jsxRuntimeExports.jsx(motion.div,{className:"fixed inset-0 z-50 flex items-center justify-center w-full p-4 overflow-x-hidden overflow-y-auto",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.3},children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-lg p-6 w-full max-w-3xl h-[80vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("img",{src:(lt==null?void 0:lt.ProfilePicture)||ut,alt:"Profile",className:"w-10 h-10 rounded-full mr-4"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold",children:ct==="Student"?`${lt==null?void 0:lt.Title} ${lt==null?void 0:lt.SupervisorSurname}`:`${lt==null?void 0:lt.StudentName} ${lt==null?void 0:lt.StudentSurname}`}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:ct==="Student"?lt==null?void 0:lt.courseName:lt==null?void 0:lt.StudentType}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:lt==null?void 0:lt.courseName})]})]}),jsxRuntimeExports.jsx("button",{onClick:at,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-6 h-6"})})]}),jsxRuntimeExports.jsxs("div",{className:"msgs overflow-y-auto flex-grow scrollbar-hide",children:[ct==="Student"?jsxRuntimeExports.jsxs("div",{className:"mb-4 mt-2 flex justify-center items-center",children:[" ",jsxRuntimeExports.jsxs(Badge,{color:"info",className:"text-center font-xs",children:[" ",jsxRuntimeExports.jsx("strong",{children:"Disclaimer"}),jsxRuntimeExports.jsx("p",{children:"Please be aware that this chat is for educational purposes only. Any topics discussed outside of this context are not permitted."})]})]}):jsxRuntimeExports.jsxs("div",{className:"mb-4 mt-2 flex justify-center items-center",children:[" ",jsxRuntimeExports.jsxs(Badge,{color:"info",className:"text-center font-xs",children:[" ",jsxRuntimeExports.jsx("strong",{children:"Notice"}),jsxRuntimeExports.jsxs("p",{children:["You have started a chat with a ",ct==="Supervisor"?"student":"supervisor",". Please keep the conversation professional and relevant to the course."]})]})]}),dt.map(pt=>{var mt;return jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx(ChatBubble,{message:{avatar:pt.photoURL||ut,sender:pt.sender,time:new Date((mt=pt.createdAt)==null?void 0:mt.toDate()).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),content:pt.text,status:pt.status},isSent:pt.sender===auth.currentUser.uid})},pt.id)}),jsxRuntimeExports.jsx("div",{ref:ft})," "]}),jsxRuntimeExports.jsx(SendMessage,{chatId:ot,scrollRef:ft})]})})]})})},Inbox=()=>{const{CurrentUser:ot,UserData:rt}=useAuth(),[at,lt]=reactExports.useState([]),[ct,ut]=reactExports.useState(null),[dt,ht]=reactExports.useState([]),[ft,pt]=reactExports.useState(null),[mt,gt]=reactExports.useState(null),[yt,xt]=reactExports.useState(null),[bt,Et]=reactExports.useState(!1),[Rt,wt]=reactExports.useState([]),[_t,At]=reactExports.useState(null);reactExports.useState(null);const[kt,It]=reactExports.useState(null),[Nt,Pt]=reactExports.useState(null),[Tt,Ct]=reactExports.useState(null),[Ot,Dt]=reactExports.useState(null),[jt,Mt]=reactExports.useState(null),[zt,Qt]=reactExports.useState(null),[qt,Kt]=reactExports.useState(null),[sn,Gt]=reactExports.useState(null);reactExports.useEffect(()=>{rt&&(Dt(rt.ExaminerName),Mt(rt.ExaminerSurname),Qt(rt.ExaminerID),Kt(rt.Title),Gt(rt.ProfilePicture))},[rt]),reactExports.useEffect(()=>{const Zt=auth.onAuthStateChanged(async Jt=>{if(Jt){const Yt=Jt.email.substring(0,9);console.log("Here is the userId",Yt);try{if(!(await getDocs(query(collection(db$2,"Supervisor"),where("ID","==",Math.floor(Yt))))).empty)At("Supervisor"),pt(Yt);else if(!(await getDocs(query(collection(db$2,"Student"),where("ID","==",Math.floor(Yt))))).empty)At("Student"),gt(Yt);else{const Sn=await getDocs(query(collection(db$2,"Examiner"),where("ExaminerID","==",Yt)));if(Sn.empty)console.log("No matching records found in Supervisor, Student, or Examiner collections");else{At("Examiner");const jn=Sn.docs[0].data();Ct({ExaminerID:jn.ExaminerID,ExaminerName:jn.ExaminerName,ExaminerSurname:jn.ExaminerSurname,Title:jn.Title})}}}catch(gn){console.error("Error querying Firestore:",gn)}}else pt(null),gt(null),Ct(null),At(null),console.log("No user is logged in")});return()=>Zt()},[]),reactExports.useEffect(()=>{(async()=>{const Jt=[],Yt=[],gn=[];try{let _n;if(_t==="Supervisor")_n=query(collection(db$2,"Student"),where("SupervisorID","array-contains",Math.floor(ft))),(await getDocs(_n)).forEach(jn=>{const Dn=jn.data();Jt.push({ProfilePicture:Dn.ProfilePicture||UserLogo,StudentID:Dn.ID,StudentName:Dn.Name,StudentSurname:Dn.Surname,lastInteraction:"Just now",StudentType:Dn.StudentType}),gn.push({CourseID:Dn.StudentType,CourseName:Dn.CourseName})});else if(_t==="Student"&&mt){const Sn=await getDocs(query(collection(db$2,"Student"),where("ID","==",Math.floor(mt))));if(!Sn.empty){const Dn=Sn.docs[0].data().SupervisorID;(await getDocs(query(collection(db$2,"Supervisor"),where("ID","in",Dn)))).forEach(Kn=>{const hn=Kn.data();Yt.push({SupervisorID:hn.ID,SupervisorName:hn.Name,SupervisorSurname:hn.Surname,SupervisorCourseName:hn.CourseName,ProfilePicture:hn.ProfilePicture||UserLogo,Title:hn.Title})})}}else _t==="Examiner"&&Tt&&(await getDocs(query(collection(db$2,"Student"),where("ExaminerID","==",Tt.ExaminerID)))).forEach(jn=>{const Dn=jn.data();Jt.push({ProfilePicture:Dn.ProfilePicture||UserLogo,StudentID:Dn.ID,StudentName:Dn.Name,StudentSurname:Dn.Surname,lastInteraction:"Just now",StudentType:Dn.StudentType})});lt(Jt),ht(Yt),wt(gn)}catch(_n){console.error("Error fetching details:",_n)}})()},[mt,ft,_t,Tt]);const Wt=async(Zt,Jt)=>{const Yt=Zt<Jt?`${Zt}_${Jt}`:`${Jt}_${Zt}`,gn=doc(db$2,"chats",Yt);return(await getDoc(gn)).exists()?console.log("Chat document already exists with ID:",Yt):(await setDoc(gn,{users:[Zt,Jt],createdAt:serverTimestamp()}),console.log("New chat document created with ID:",Yt)),Yt},pn=async Zt=>{ut(Zt);const Yt=await Wt(_t==="Supervisor"?ft:mt,Zt.SupervisorID);Pt(Yt),Et(!0)},rn=async Zt=>{xt(Zt);const Yt=await Wt(_t==="Supervisor"?ft:mt,Zt.StudentID);Pt(Yt),Et(!0)},Vt=()=>{Et(!1),Pt(null)},$t=at.filter(Zt=>kt?Zt.StudentType==kt:!0),Xt=["border-[#00ad43]","border-[#00bfff]","border-[#590098]","border-[#FF8503]"];return jsxRuntimeExports.jsxs("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border min-h-screen border-gray-200 border-dashed rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("section",{className:"mb-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:_t==="Student"?"Your Inbox":_t==="Supervisor"?"Supervisor Inbox":"Examiner Inbox"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mt-2 mb-6",children:_t==="Student"?"Here you can view all your messages and supervisors.":_t==="Supervisor"?"Here you can view all your messages and students.":"Here you can view all your messages and communicate with supervisors."})]}),_t==="Student"?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 max-w-full",children:dt&&dt.map((Zt,Jt)=>jsxRuntimeExports.jsxs(motion.div,{className:`flex items-center p-4 mb-4 bg-white dark:bg-gray-900 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-lg shadow-md ${Xt[Jt%Xt.length]} border-2`,onClick:()=>pn(Zt),initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},whileHover:{scale:1.05},children:[jsxRuntimeExports.jsx("img",{src:Zt.ProfilePicture,alt:Zt.SupervisorName,className:"w-12 h-12 mr-4 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row flex-1 justify-items-center justify-between",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:[Zt.Title," ",Zt.SupervisorName," ",Zt.SupervisorSurname]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Office Hours: 8:00 - 16:00"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Supervisor ID: ",Zt.SupervisorID]})]})]},Zt.SupervisorID))}):_t==="Supervisor"?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 max-w-full",children:$t.map((Zt,Jt)=>jsxRuntimeExports.jsxs(motion.div,{className:`flex items-center p-4 mb-4 bg-white dark:bg-gray-900 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-lg shadow-md ${Xt[Jt%Xt.length]} border-2`,onClick:()=>rn(Zt),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Jt*.1},children:[jsxRuntimeExports.jsx("img",{src:Zt.ProfilePicture,alt:Zt.StudentName,className:"w-12 h-12 mr-4 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row flex-1 justify-items-center justify-between",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:[Zt.StudentName," ",Zt.StudentSurname]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Student Type: ",Zt.StudentType]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Stu No.: ",Zt.StudentID]})]})]},Zt.StudentID))}):_t==="Examiner"?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 max-w-full",children:supervisorsArray.map((Zt,Jt)=>jsxRuntimeExports.jsxs(motion.div,{className:`flex items-center p-4 mb-4 bg-white dark:bg-gray-900 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800 w-full rounded-lg shadow-md ${Xt[Jt%Xt.length]} border-2`,onClick:()=>pn(Zt),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Jt*.1},children:[jsxRuntimeExports.jsx("img",{src:Zt.ProfilePicture,alt:Zt.SupervisorName,className:"w-12 h-12 mr-4 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-row flex-1 justify-items-center justify-between",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:[Zt.Title," ",Zt.SupervisorName," ",Zt.SupervisorSurname]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Office Hours: 8:00 - 16:00"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Supervisor ID: ",Zt.SupervisorID]})]})]},Zt.SupervisorID))}):console.log("There is nothing"),jsxRuntimeExports.jsx(Footer$1,{})]}),jsxRuntimeExports.jsx(Modal$1,{isOpen:bt,onClose:Vt,data:_t==="Student"?ct:_t==="Supervisor"?yt:Tt,role:_t,chatId:Nt})]})},AllMilestones=({milestones:ot,moduleColors:rt,onViewMilestone:at})=>jsxRuntimeExports.jsx("section",{className:"relative border-l ml-8 border-gray-200 dark:border-gray-700",children:ot.map((lt,ct)=>jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("span",{className:`absolute flex items-center justify-center w-6 h-6 ${rt[lt.module]||"bg-blue-100"} rounded-full -left-3 ring-8 ring-white dark:ring-gray-900`,children:jsxRuntimeExports.jsx("svg",{className:"w-2.5 h-2.5 text-white dark:text-blue-300","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:jsxRuntimeExports.jsx("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),jsxRuntimeExports.jsxs("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:[lt.title,lt.latest&&jsxRuntimeExports.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium mx-3 px-2.5 py-0.5 rounded dark:bg-blue-900 dark:text-blue-300",children:"Latest"})]}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:lt.date}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:lt.description}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm font-medium text-gray-600 dark:text-gray-400",children:lt.module}),lt.linkText&&jsxRuntimeExports.jsxs("a",{href:lt.linkHref,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:[jsxRuntimeExports.jsxs("svg",{className:"w-3.5 h-3.5 mr-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:[jsxRuntimeExports.jsx("path",{d:"M14.707 7.793a1 1 0 0 0-1.414 0L11 10.086V1.5a1 1 0 0 0-2 0v8.586L6.707 7.793a1 1 0 1 0-1.414 1.414l4 4a1 1 0 0 0 1.416 0l4-4a1 1 0 0 0-.002-1.414Z"}),jsxRuntimeExports.jsx("path",{d:"M18 12h-2.55l-2.975 2.975a3.5 3.5 0 0 1-4.95 0L4.55 12H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2Zm-3 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"})]}),lt.linkText]}),jsxRuntimeExports.jsx("button",{onClick:()=>at(lt),className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:"View Details"})]},ct))}),ViewMilestoneModal=({isOpen:ot,onClose:rt,milestone:at,feedback:lt})=>{if(!ot||!at)return null;const ut={"Software Project":"#00bfff","Software Testing":"#590098","Business Analysis":"#FF8503","Research Methodology":"#00ad43"}[at.module]||"bg-gray-200",dt=lt[at.assignmentID];return jsxRuntimeExports.jsx(AnimatePresence,{children:ot&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 z-50 overflow-y-auto bg-gray-800 bg-opacity-50 flex justify-center items-center",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"bg-white dark:bg-gray-800 w-11/12 md:max-w-lg mx-auto rounded-lg shadow-lg z-50 overflow-y-auto p-6",style:{border:`4px solid ${ut}`},children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Assignment Details"}),jsxRuntimeExports.jsx("button",{onClick:rt,className:"text-gray-500 dark:text-gray-300",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Milestone Title:"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-200",children:at.title})]}),jsxRuntimeExports.jsxs("div",{className:"text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Due Date:"}),jsxRuntimeExports.jsx("p",{children:new Date(at.dueDate).toLocaleString()})," "]}),jsxRuntimeExports.jsxs("div",{className:"text-gray-800 dark:text-gray-200",children:[jsxRuntimeExports.jsx("p",{className:"font-bold",children:"Description:"}),jsxRuntimeExports.jsx("p",{children:at.description})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 bg-green-100 p-4 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-extrabold text-lg mb-2",children:"Feedback"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium mt-1",children:[jsxRuntimeExports.jsx("strong",{children:"Marks:"})," ",dt?dt.marks:"Not Available"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium mt-1",children:[jsxRuntimeExports.jsx("strong",{children:"Comments:"})," ",dt?dt.comments:"Not Available"]}),dt&&dt.downloadURL&&jsxRuntimeExports.jsx("a",{href:dt.downloadURL,className:"mt-2 inline-block text-blue-600",target:"_blank",rel:"noopener noreferrer",children:"Download Feedback"})]})]})]})})})},Milestones=()=>{const[ot,rt]=reactExports.useState(null),{isDarkMode:at}=useTheme(),lt={"Software Development":"bg-[#00ad43]","Software Project":"bg-[#00bfff]","Software Testing":"bg-[#590098]","Business Analysis":"bg-[#FF8503]"},ct=[{title:"Research Proposal Due",date:"Due Date: August 15th, 2024",description:"Submit your research proposal outlining your planned study and methodology.",module:"Software Development",objectives:`1. Define research objectives
2. Identify research questions
3. Justify research methodology
4. Define research scope`,latest:!0},{title:"Methodology Presentation",date:"Presentation Date: September 10th, 2024",description:"Prepare and present your research methodology to the committee.",module:"Software Development",resources:"Research Methodology Textbook"},{title:"Data Collection Completion",date:"Completion Date: October 5th, 2024",description:"Finish collecting all necessary data for your research.",module:"Software Project",objectives:`1. Collect primary data
2. Collect secondary data
3. Organize data
4. Analyze data`,resources:`Data Collection Template
Data Analysis Textbook`},{title:"Chapter 1 Thesis Due",date:"Due Date: November 1st, 2024",description:"Submit the first chapter of your thesis for review.",module:"Software Testing",objectives:`1. Introduction
2. Background
3. Problem Statement
4. Research Objectives`,resources:`Thesis Template
Thesis Guidelines`},{title:"Business Analysis Test",date:"Test Date: December 1st, 2024",description:"Prepare for and complete the Business Analysis test.",module:"Business Analysis"},{title:"Final Thesis Submission",date:"Due Date: December 15th, 2024",description:"Submit your completed thesis for final review and grading.",module:"Software Development",linkText:"Submit Thesis",linkHref:"/submit-thesis"},{title:"Software Testing Exam",date:"Exam Date: January 5th, 2025",description:"Prepare for and complete the Software Testing final exam.",module:"Software Testing"},{title:"Research Presentation",date:"Presentation Date: January 15th, 2025",description:"Prepare and present your research findings to the committee.",module:"Software Project"},{title:"Business Analysis Project",date:"Due Date: February 1st, 2025",description:"Complete the Business Analysis project and submit for grading.",module:"Business Analysis"},{title:"Software Development Final Exam",date:"Exam Date: February 15th, 2025",description:"Prepare for and complete the Software Development final exam.",module:"Software Development"}],ut=dt=>{rt(dt)};return jsxRuntimeExports.jsx("div",{className:`p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72 ${at?"bg-gray-900":""}`,children:jsxRuntimeExports.jsxs("div",{className:`p-4 border-2 min-h-screen border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800 ${at?"border-gray-700 dark:bg-gray-800":""}`,children:[jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Milestones"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-6",children:"Track your progress and stay on top of your studies"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:jsxRuntimeExports.jsx(AllMilestones,{milestones:ct,moduleColors:lt,onViewMilestone:ut})}),jsxRuntimeExports.jsx(ViewMilestoneModal,{isOpen:!!ot,onClose:()=>rt(null),milestone:ot}),jsxRuntimeExports.jsx(Footer$1,{})]})})},Settings=()=>{const{UserData:ot}=useAuth(),{isDarkMode:rt,toggleTheme:at}=useTheme(),[lt,ct]=reactExports.useState(!1),[ut,dt]=reactExports.useState(""),[ht,ft]=reactExports.useState(null),[pt,mt]=reactExports.useState(!1),gt=()=>{mt(!0)},yt=()=>{mt(!1)},xt=()=>ct(!lt),bt=Rt=>{ft(Rt.target.files[0])},Et=async()=>{var Rt;try{const wt=String(ot.ID);if(!ot||!ot.ID)throw new Error("User ID not available");const _t=doc(db$2,"Student",wt),kt=(Rt=(await getDoc(_t)).data())==null?void 0:Rt.ProfilePicture;console.log(kt);let It=ut;if(ht){const Nt=ref(storage,`ProfilePictures/${wt}`),Pt=await uploadBytes(Nt,ht);It=await getDownloadURL(Pt.ref)}if(!It)throw new Error("No valid URL for profile picture");console.log(`Updating profile picture for user ${ot.ID} with URL ${It}`),await updateDoc(_t,{ProfilePicture:It}),alert("Profile picture updated successfully!"),xt()}catch(wt){console.error("Error updating profile picture:",wt.message),alert("Error updating profile picture. Please try again.")}};return jsxRuntimeExports.jsxs("div",{className:`p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72 ${rt?"bg-gray-900":""}`,children:[jsxRuntimeExports.jsxs("div",{className:`p-4 border-2 h-screen border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800 ${rt?"border-gray-700 dark:bg-gray-800":""}`,children:[jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Settings"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-6",children:"Customize your account settings"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Change User Image"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Update your profile picture"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Update your account profile picture"}),jsxRuntimeExports.jsx("button",{onClick:xt,className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:"Update Profile"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Manage your notifications"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Manage your dashboard notification settings"}),jsxRuntimeExports.jsx("button",{onClick:gt,className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:"Manage Notifications"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Theme"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Change your theme"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Change your dashboard theme to dark or light"}),jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:"Change Theme"})]}),lt&&jsxRuntimeExports.jsx(Modal,{title:"Update Profile Picture",onClose:xt,onSave:Et,profilePictureURL:ut,setProfilePictureURL:dt,handleFileChange:bt})]}),jsxRuntimeExports.jsx(Footer$1,{})]}),pt&&jsxRuntimeExports.jsx(ManageNotificationsModal$1,{isOpen:pt,onClose:yt})]})},Modal=({title:ot,onClose:rt,onSave:at,profilePictureURL:lt,setProfilePictureURL:ct,handleFileChange:ut})=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-md bg-white p-6 rounded-lg shadow-lg dark:bg-gray-800",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4 dark:text-gray-200",children:ot}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"profilePictureURL",children:"Enter URL for profile picture"}),jsxRuntimeExports.jsx("input",{type:"text",id:"profilePictureURL",className:"p-2 w-full border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter URL for profile picture",value:lt,onChange:dt=>ct(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"fileUpload",children:"Upload Profile Picture"}),jsxRuntimeExports.jsx("input",{type:"file",id:"fileUpload",className:"border w-full rounded-lg dark:bg-gray-700 dark:border-gray-600",onChange:ut})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"px-3 py-2 text-sm font-medium text-gray-800 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:at,className:"px-3 py-2 text-sm font-medium text-white bg-blue-500 rounded-lg ml-2 hover:bg-blue-600 focus:outline-none",children:"Save"})]})]})}),ManageNotificationsModal$1=({isOpen:ot,onClose:rt})=>jsxRuntimeExports.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50 ${ot?"block":"hidden"}`,children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-md p-6 bg-white rounded-xl shadow-xl dark:bg-gray-800",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"absolute top-4 right-4 text-gray-400 dark:text-gray-300",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Manage Notifications"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Receive email notifications",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Important updates and reminders via email"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Receive push notifications",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Important updates and reminders via push notifications"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:"Activity"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2 mb-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tasks and assignment deadlines",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"When a task or assignment is assigned to you and upcoming deadlines"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["New messages",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"When you receive a new message"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end mt-10",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"px-3 py-2 text-sm font-medium text-gray-800 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none",children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"px-3 py-2 text-sm font-medium text-white bg-blue-500 rounded-lg ml-2 hover:bg-blue-600 focus:outline-none",children:"Save"})]})]})}),Tasks=()=>{const[ot,rt]=reactExports.useState([]),[at,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(""),[dt,ht]=reactExports.useState(""),[ft,pt]=reactExports.useState(""),[mt,gt]=reactExports.useState([]),{id:yt}=useParams(),xt=yt?parseInt(yt):null,bt=auth.currentUser.email.substring(0,9),Et=xt?ot.filter(Nt=>Nt.courseId===xt):ot;reactExports.useEffect(()=>{if(bt){let Tt="";bt.startsWith("7")?Tt="Supervisor":bt.startsWith("2")?Tt="Student":alert("IDK something is tweaking"),pt(Tt)}const Nt=async()=>{try{const Tt=doc(db$2,ft,bt),Ct=await getDoc(Tt);if(Ct.exists()){const Ot=Ct.data().Kanban;let Dt=[];for(const[jt,Mt]of Object.entries(Ot))Dt.push({id:jt,courseId:Mt.ModuleName,name:Mt.ModuleName,description:Mt.TaskDescription,dueDate:Mt.TaskCreation.seconds,status:Mt.TaskStatus});rt(Dt),localStorage.setItem(`tasks_${bt}`,JSON.stringify(Dt))}else console.log("No such document!");if(xt){const Ot=collection(db$2,"Module",xt.toString(),"Assignments"),jt=(await getDocs(Ot)).docs.map(Mt=>({...Mt.data(),AssignmentID:Mt.id}));gt(jt)}}catch(Tt){console.error("Error fetching tasks and assignments: ",Tt)}},Pt=localStorage.getItem(`tasks_${bt}`);Pt?rt(JSON.parse(Pt)):ft&&bt&&Nt()},[ft,bt]);const Rt=async Nt=>{try{const Pt=ot.findIndex(Dt=>Dt.id===Nt);if(Pt===-1)return;let Tt=ot[Pt].status==="Pending"?"In Progress":ot[Pt].status==="In Progress"?"Complete":"Pending";const Ct=doc(db$2,ft,bt),Ot=await getDoc(Ct);if(Ot.exists()){const Dt=Ot.data().Kanban;Dt[Nt].TaskStatus=Tt,await updateDoc(Ct,{Kanban:Dt}),rt(ot.map(jt=>jt.id===Nt?{...jt,status:Tt}:jt)),localStorage.setItem(`tasks_${bt}`,JSON.stringify(ot.map(jt=>jt.id===Nt?{...jt,status:Tt}:jt)))}else console.error("Task document does not exist");console.log("Status changed successfully")}catch(Pt){console.error("Error updating task status: ",Pt)}},wt=async()=>{try{const Nt={TaskStatus:"Not Started",TaskCreation:{seconds:new Date().getTime()/1e3,nanoseconds:0},ModuleName:ct,TaskDescription:dt},Pt=doc(db$2,ft,bt),Tt=await getDoc(Pt);if(!Tt.exists()){console.error("User document not found");return}const Ct=Tt.data().Kanban||{},Ot=doc(collection(db$2,ft,bt,"Kanban"));await setDoc(Ot,Nt),Ct[Ot.id]=Nt,await updateDoc(Pt,{Kanban:Ct});const Dt=[...ot,{id:Ot.id,courseId:Nt.ModuleName,name:Nt.ModuleName,description:Nt.TaskDescription,dueDate:Nt.TaskCreation.seconds,status:Nt.TaskStatus}];rt(Dt),localStorage.setItem(`tasks_${bt}`,JSON.stringify(Dt)),lt(!1),ut(""),ht("")}catch(Nt){console.error("Error adding task: ",Nt)}},_t=Et.filter(Nt=>Nt.status==="Pending"),At=Et.filter(Nt=>Nt.status==="In Progress"),kt=Et.filter(Nt=>Nt.status==="Complete"),It=Et.filter(Nt=>Nt.status==="Not Started");return jsxRuntimeExports.jsx("div",{className:"tasks-container p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 min-h-screen border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:ft==="student"?"My Tasks":"Tasks Assigned to You"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mt-2",children:ft==="student"?"Here are your current tasks and assignments.":"Here are the tasks assigned to you."})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6 mb-6 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-200",children:"All Tasks"}),jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg",onClick:()=>lt(!0),children:[jsxRuntimeExports.jsx(HiPlus,{className:"mr-2"}),"Add New Task"]})})]}),jsxRuntimeExports.jsx("hr",{className:"border-t-2 border-gray-200 dark:border-gray-700 mb-6"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[jsxRuntimeExports.jsxs("div",{className:"task-column",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-center mb-4",children:"Not Started"}),It.length===0?jsxRuntimeExports.jsx("p",{className:"text-center",children:"No tasks found."}):It.map(Nt=>jsxRuntimeExports.jsx(KanbanCard,{...Nt,onTaskCompletion:Rt},Nt.id))]}),jsxRuntimeExports.jsxs("div",{className:"task-column",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-center mb-4",children:"Pending"}),_t.length===0?jsxRuntimeExports.jsx("p",{className:"text-center",children:"No tasks found."}):_t.map(Nt=>jsxRuntimeExports.jsx(KanbanCard,{...Nt,onTaskCompletion:Rt},Nt.id))]}),jsxRuntimeExports.jsxs("div",{className:"task-column",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-center mb-4",children:"In Progress"}),At.length===0?jsxRuntimeExports.jsx("p",{className:"text-center",children:"No tasks found."}):At.map(Nt=>jsxRuntimeExports.jsx(KanbanCard,{...Nt,onTaskCompletion:Rt},Nt.id))]}),jsxRuntimeExports.jsxs("div",{className:"task-column",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-center mb-4",children:"Complete"}),kt.length===0?jsxRuntimeExports.jsx("p",{className:"text-center",children:"No tasks found."}):kt.map(Nt=>jsxRuntimeExports.jsx(KanbanCard,{...Nt,onTaskCompletion:Rt},Nt.id))]})]}),jsxRuntimeExports.jsx(TaskModal$3,{isOpen:at,onClose:()=>lt(!1),onSave:wt,setNewTaskName:ut,setNewTaskDescription:ht}),jsxRuntimeExports.jsx(Footer$1,{})]})})},TaskModal$3=({isOpen:ot,onClose:rt,onSave:at,setNewTaskName:lt,setNewTaskDescription:ct,setNewTaskDueDate:ut})=>{if(!ot)return null;const dt=()=>{at(),lt(""),ct(""),ut("")};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:rt,children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlineExclamation,{className:"w-8 h-8 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Task"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter task name",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>lt(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Description"}),jsxRuntimeExports.jsx("textarea",{placeholder:"Enter task description",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ct(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ut(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"mr-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg focus:ring focus:ring-gray-200",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:ring focus:ring-blue-200",children:"Save"})]})]})})},KanbanCard=({id:ot,name:rt,description:at,dueDate:lt,status:ct,onTaskCompletion:ut})=>{const dt=["border-[#00bfff]","border-[#590098]","border-[#FF8503]","border-[#00ad43]"],ht=pt=>{switch(pt){case"Pending":return"orange";case"In Progress":return"blue";case"Complete":return"green";case"Not Started":return"gray";default:return"black"}},ft=dt[rt]||"border-gray-200";return jsxRuntimeExports.jsxs("div",{className:`max-w-sm h-72 mb-4 p-6 bg-white ${ft} dark:${ft} border-2 rounded-lg shadow hover:bg-gray-100 dark:bg-gray-600  dark:hover:bg-gray-700 flex flex-col justify-between`,children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"mb-2 text-lg font-bold tracking-tight text-gray-900 dark:text-white",children:rt}),jsxRuntimeExports.jsx("p",{className:"font-normal text-sm mt-2 text-gray-700 dark:text-gray-400",children:at}),jsxRuntimeExports.jsxs("p",{className:"font-normal text-sm mt-2 text-gray-700 dark:text-gray-400",style:{color:ht(ct)},children:["Due Date: ",new Date(lt*1e3).toLocaleDateString()]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[jsxRuntimeExports.jsxs("p",{className:"font-normal text-sm text-gray-700 dark:text-gray-400",children:["Status: ",ct]}),jsxRuntimeExports.jsx("button",{className:"mt-2 px-2 py-2 bg-blue-500 text-white rounded-lg",onClick:()=>ut(ot),children:ct==="Pending"?"Start Task":ct==="In Progress"?"Complete Task":"Revert to Pending"})]})]})},SubmissionModal=({isOpen:ot,onClose:rt,setPreviewUrl:at})=>{const[lt,ct]=reactExports.useState([]),[ut,dt]=reactExports.useState(!1),ht=reactExports.useCallback(bt=>{pt(bt)},[onSave,at]),ft=bt=>{const Et=Array.from(bt.target.files);pt(Et)},pt=bt=>{const Et=bt.map(Rt=>{const wt=URL.createObjectURL(Rt);return at(wt),mt(Rt),Rt});ct(Rt=>[...Rt,...Et])},mt=bt=>{const Et=new FileReader;Et.onload=Rt=>{onSave(bt,Rt.target.result)},Et.onerror=()=>{console.error("Error reading file")},Et.readAsText(bt)},gt=()=>{document.getElementById("fileInput").click()},yt=bt=>{dt(bt.target.checked)},xt=()=>{lt.length>0&&(onSave(lt[0]),rt())};return ot?jsxRuntimeExports.jsx("div",{id:"static-modal",className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-3xl max-h-full bg-white rounded-lg shadow-lg dark:bg-gray-700 p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Submit Assignment"}),jsxRuntimeExports.jsxs("form",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-gray-700 dark:text-gray-200",children:"Submission"}),jsxRuntimeExports.jsx(Dropzone,{onDrop:ht}),jsxRuntimeExports.jsx("input",{id:"fileInput",type:"file",className:"hidden focus:outline-none",onChange:ft}),lt.length>0&&jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-300",children:lt.map((bt,Et)=>jsxRuntimeExports.jsx("span",{children:bt.name},Et))}),jsxRuntimeExports.jsx("button",{type:"button",className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none",onClick:gt,children:"Upload File"})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsxs("label",{className:"block text-gray-700 dark:text-gray-200",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:ut,onChange:yt,className:"mr-2 rounded-full focus:ring-2 focus:ring-blue-500"}),"By submitting, I acknowledge that this is my own work and I have not plagiarized."]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{type:"button",className:"px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none",onClick:rt,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",className:"ml-2 px-4 py-2 bg-green-500 text-white rounded-lg focus:outline-none",onClick:xt,disabled:!ut,children:"Submit"})]})]})]})}):null},Dropzone=({onDrop:ot})=>{const{getRootProps:rt,getInputProps:at,isDragActive:lt}=useDropzone({onDrop:ot});return jsxRuntimeExports.jsxs("div",{...rt({className:"dropzone flex items-center justify-center p-6 border-2 border-gray-400 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:border-gray-600 dark:text-gray-300 dark:bg-gray-700"}),children:[jsxRuntimeExports.jsx("input",{...at()}),lt?jsxRuntimeExports.jsx("p",{className:"text-blue-500 dark:text-blue-400",children:"Drop the files here..."}):jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Drag & drop some files here, or click to select files"})]})},TopicContent=()=>{const{courseId:ot,topicId:rt}=useParams(),[at,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(null),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState(!1),[mt,gt]=reactExports.useState(!1),[yt,xt]=reactExports.useState(!1),[bt,Et]=reactExports.useState(""),[Rt,wt]=reactExports.useState(""),[_t,At]=reactExports.useState(""),[kt,It]=reactExports.useState(""),[Nt,Pt]=reactExports.useState(""),[Tt,Ct]=reactExports.useState(""),[Ot,Dt]=reactExports.useState(""),[jt,Mt]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const pn={id:ot,name:"Sample Course",instructor:"Dr. John Doe",description:"This course covers various aspects of software engineering...",syllabus:[{routeId:"chapter-1",topic:"Introduction to Software Engineering",content:"This is the content for Introduction to Software Engineering",subtopics:["Software Development Life Cycle","Agile Methodology","Waterfall Model"],subdate:["10/10/2021","10/20/2021","10/30/2021"],assignmentDesc:"This is the Milestone Description for Introduction to Software Engineering"},{routeId:"chapter-2",topic:"Software Requirements",content:"This is the content for Software Requirements",subtopics:["Requirements Elicitation","Requirements Analysis","Requirements Specification"],subdate:["11/01/2021","11/15/2021","11/30/2021"]},{routeId:"chapter-3",topic:"Software Design",content:"This is the content for Software Design",subtopics:["Design Principles","Design Patterns","UML Diagrams"],subdate:["12/01/2021","12/10/2021","12/20/2021"]}]};lt(pn);const rn=pn.syllabus.find($t=>$t.routeId===rt);ut(rn),(async()=>{wt("Text Document Text. This should be fetched from the server."),At("This is the new document text. It should be fetched from the server.")})()})()},[ot,rt]);const zt=()=>pt(!1),Qt=()=>gt(!1),qt=()=>xt(!0),Kt=()=>xt(!1),sn=(Wt,pn)=>{It(pn),ht(!0),Et(URL.createObjectURL(Wt)),console.log("File saved:",Wt)},Gt=()=>{console.log("Submission Date:",Nt),console.log("Submission Time:",Tt),console.log("Submission Content:",Ot),console.log("Assignment Files:",jt)};return!at||!ct?jsxRuntimeExports.jsx(LogoLoader,{}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"max-h-80 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:BannerImage,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("h1",{className:"absolute text-4xl font-bold tracking-wider text-white dark:text-gray-200",children:ct.topic})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:ct.topic}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-lg font-normal text-gray-700 dark:text-gray-400",children:ct.content})]}),jsxRuntimeExports.jsx("hr",{className:"my-4 border-gray-200 dark:border-gray-600"}),jsxRuntimeExports.jsxs("section",{className:"mt-6",children:[jsxRuntimeExports.jsx("p",{className:"mt-2 mb-4 text-base font-normal text-gray-700 dark:text-gray-400",children:"As the instructor for this course, you can manage the submissions and assignments."}),jsxRuntimeExports.jsx("div",{className:"flex flex-col items-start justify-start mt-4",children:ct.subtopics.map((Wt,pn)=>jsxRuntimeExports.jsxs("div",{className:"w-full mb-4 p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200",children:Wt}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-base font-normal text-gray-700 dark:text-gray-400",children:["Due Date: ",ct.subdate[pn]]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-base font-normal text-gray-700 dark:text-gray-400",children:ct.assignmentDesc}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center justify-start space-x-4",children:[jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",onClick:qt,children:"Open Submissions"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600",children:"Close Submissions"})]})]},pn))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[jsxRuntimeExports.jsx(Link,{to:`/courses/course/${ot}`,className:"px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:"Back to Course"}),jsxRuntimeExports.jsx(Link,{to:`/courses/course/${ot}`,className:"px-4 py-2 bg-blue-500 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:"Next Topic"})]}),jsxRuntimeExports.jsx(Footer$1,{})]}),jsxRuntimeExports.jsx(SubmissionModal,{isOpen:ft,onClose:zt,onSave:sn,setPreviewUrl:Et}),jsxRuntimeExports.jsx(ReviewSubmission,{isOpen:mt,onClose:Qt,previewUrl:bt,oldText:Rt,newText:kt}),jsxRuntimeExports.jsx(CreateSubmission,{isOpen:yt,onClose:Kt,onSave:Gt})]})};var lib={exports:{}},core_min={};function commonjsRequire(ot){throw new Error('Could not dynamically require "'+ot+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(rt,at){module.exports=rt.pdfjsLib=at()})(globalThis,()=>(()=>{var __webpack_modules__=[,(ot,rt)=>{var ss;Object.defineProperty(rt,"__esModule",{value:!0}),rt.VerbosityLevel=rt.Util=rt.UnknownErrorException=rt.UnexpectedResponseException=rt.TextRenderingMode=rt.RenderingIntentFlag=rt.PromiseCapability=rt.PermissionFlag=rt.PasswordResponses=rt.PasswordException=rt.PageActionEventType=rt.OPS=rt.MissingPDFException=rt.MAX_IMAGE_SIZE_TO_CACHE=rt.LINE_FACTOR=rt.LINE_DESCENT_FACTOR=rt.InvalidPDFException=rt.ImageKind=rt.IDENTITY_MATRIX=rt.FormatError=rt.FeatureTest=rt.FONT_IDENTITY_MATRIX=rt.DocumentActionEventType=rt.CMapCompressionType=rt.BaseException=rt.BASELINE_FACTOR=rt.AnnotationType=rt.AnnotationReplyType=rt.AnnotationPrefix=rt.AnnotationMode=rt.AnnotationFlag=rt.AnnotationFieldFlag=rt.AnnotationEditorType=rt.AnnotationEditorPrefix=rt.AnnotationEditorParamsType=rt.AnnotationBorderStyleType=rt.AnnotationActionEventType=rt.AbortException=void 0,rt.assert=Gt,rt.bytesToString=Sn,rt.createValidAbsoluteUrl=pn,rt.getModificationDate=Qn,rt.getUuid=Er,rt.getVerbosityLevel=Qt,rt.info=qt,rt.isArrayBuffer=xn,rt.isArrayEqual=er,rt.isNodeJS=void 0,rt.normalizeUnicode=br,rt.objectFromMap=Kn,rt.objectSize=Gn,rt.setVerbosityLevel=zt,rt.shadow=rn,rt.string32=Dn,rt.stringToBytes=jn,rt.stringToPDFString=Un,rt.stringToUTF8String=Jn,rt.unreachable=sn,rt.utf8StringToString=An,rt.warn=Kt;const at=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");rt.isNodeJS=at;const lt=[1,0,0,1,0,0];rt.IDENTITY_MATRIX=lt;const ct=[.001,0,0,.001,0,0];rt.FONT_IDENTITY_MATRIX=ct;const ut=1e7;rt.MAX_IMAGE_SIZE_TO_CACHE=ut;const dt=1.35;rt.LINE_FACTOR=dt;const ht=.35;rt.LINE_DESCENT_FACTOR=ht;const ft=ht/dt;rt.BASELINE_FACTOR=ft;const pt={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};rt.RenderingIntentFlag=pt;const mt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};rt.AnnotationMode=mt;const gt="pdfjs_internal_editor_";rt.AnnotationEditorPrefix=gt;const yt={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};rt.AnnotationEditorType=yt;const xt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};rt.AnnotationEditorParamsType=xt;const bt={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};rt.PermissionFlag=bt;const Et={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};rt.TextRenderingMode=Et;const Rt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};rt.ImageKind=Rt;const wt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};rt.AnnotationType=wt;const _t={GROUP:"Group",REPLY:"R"};rt.AnnotationReplyType=_t;const At={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};rt.AnnotationFlag=At;const kt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};rt.AnnotationFieldFlag=kt;const It={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};rt.AnnotationBorderStyleType=It;const Nt={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};rt.AnnotationActionEventType=Nt;const Pt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};rt.DocumentActionEventType=Pt;const Tt={O:"PageOpen",C:"PageClose"};rt.PageActionEventType=Tt;const Ct={ERRORS:0,WARNINGS:1,INFOS:5};rt.VerbosityLevel=Ct;const Ot={NONE:0,BINARY:1};rt.CMapCompressionType=Ot;const Dt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};rt.OPS=Dt;const jt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};rt.PasswordResponses=jt;let Mt=Ct.WARNINGS;function zt(nr){Number.isInteger(nr)&&(Mt=nr)}function Qt(){return Mt}function qt(nr){Mt>=Ct.INFOS&&console.log(`Info: ${nr}`)}function Kt(nr){Mt>=Ct.WARNINGS&&console.log(`Warning: ${nr}`)}function sn(nr){throw new Error(nr)}function Gt(nr,Ln){nr||sn(Ln)}function Wt(nr){switch(nr==null?void 0:nr.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function pn(nr,Ln=null,Vn=null){if(!nr)return null;try{if(Vn&&typeof nr=="string"){if(Vn.addDefaultProtocol&&nr.startsWith("www.")){const Tr=nr.match(/\./g);(Tr==null?void 0:Tr.length)>=2&&(nr=`http://${nr}`)}if(Vn.tryConvertEncoding)try{nr=Jn(nr)}catch{}}const vr=Ln?new URL(nr,Ln):new URL(nr);if(Wt(vr))return vr}catch{}return null}function rn(nr,Ln,Vn,vr=!1){return Object.defineProperty(nr,Ln,{value:Vn,enumerable:!vr,configurable:!0,writable:!1}),Vn}const Vt=function(){function Ln(Vn,vr){this.constructor===Ln&&sn("Cannot initialize BaseException."),this.message=Vn,this.name=vr}return Ln.prototype=new Error,Ln.constructor=Ln,Ln}();rt.BaseException=Vt;class $t extends Vt{constructor(Ln,Vn){super(Ln,"PasswordException"),this.code=Vn}}rt.PasswordException=$t;class Xt extends Vt{constructor(Ln,Vn){super(Ln,"UnknownErrorException"),this.details=Vn}}rt.UnknownErrorException=Xt;class Zt extends Vt{constructor(Ln){super(Ln,"InvalidPDFException")}}rt.InvalidPDFException=Zt;class Jt extends Vt{constructor(Ln){super(Ln,"MissingPDFException")}}rt.MissingPDFException=Jt;class Yt extends Vt{constructor(Ln,Vn){super(Ln,"UnexpectedResponseException"),this.status=Vn}}rt.UnexpectedResponseException=Yt;class gn extends Vt{constructor(Ln){super(Ln,"FormatError")}}rt.FormatError=gn;class _n extends Vt{constructor(Ln){super(Ln,"AbortException")}}rt.AbortException=_n;function Sn(nr){(typeof nr!="object"||(nr==null?void 0:nr.length)===void 0)&&sn("Invalid argument for bytesToString");const Ln=nr.length,Vn=8192;if(Ln<Vn)return String.fromCharCode.apply(null,nr);const vr=[];for(let Tr=0;Tr<Ln;Tr+=Vn){const Or=Math.min(Tr+Vn,Ln),vn=nr.subarray(Tr,Or);vr.push(String.fromCharCode.apply(null,vn))}return vr.join("")}function jn(nr){typeof nr!="string"&&sn("Invalid argument for stringToBytes");const Ln=nr.length,Vn=new Uint8Array(Ln);for(let vr=0;vr<Ln;++vr)Vn[vr]=nr.charCodeAt(vr)&255;return Vn}function Dn(nr){return String.fromCharCode(nr>>24&255,nr>>16&255,nr>>8&255,nr&255)}function Gn(nr){return Object.keys(nr).length}function Kn(nr){const Ln=Object.create(null);for(const[Vn,vr]of nr)Ln[Vn]=vr;return Ln}function hn(){const nr=new Uint8Array(4);return nr[0]=1,new Uint32Array(nr.buffer,0,1)[0]===1}function En(){try{return new Function(""),!0}catch{return!1}}class cn{static get isLittleEndian(){return rn(this,"isLittleEndian",hn())}static get isEvalSupported(){return rn(this,"isEvalSupported",En())}static get isOffscreenCanvasSupported(){return rn(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rn(this,"platform",{isWin:!1,isMac:!1}):rn(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Ln,Vn;return rn(this,"isCSSRoundSupported",(Vn=(Ln=globalThis.CSS)==null?void 0:Ln.supports)==null?void 0:Vn.call(Ln,"width: round(1.5px, 1px)"))}}rt.FeatureTest=cn;const dn=[...Array(256).keys()].map(nr=>nr.toString(16).padStart(2,"0"));class wn{static makeHexColor(Ln,Vn,vr){return`#${dn[Ln]}${dn[Vn]}${dn[vr]}`}static scaleMinMax(Ln,Vn){let vr;Ln[0]?(Ln[0]<0&&(vr=Vn[0],Vn[0]=Vn[1],Vn[1]=vr),Vn[0]*=Ln[0],Vn[1]*=Ln[0],Ln[3]<0&&(vr=Vn[2],Vn[2]=Vn[3],Vn[3]=vr),Vn[2]*=Ln[3],Vn[3]*=Ln[3]):(vr=Vn[0],Vn[0]=Vn[2],Vn[2]=vr,vr=Vn[1],Vn[1]=Vn[3],Vn[3]=vr,Ln[1]<0&&(vr=Vn[2],Vn[2]=Vn[3],Vn[3]=vr),Vn[2]*=Ln[1],Vn[3]*=Ln[1],Ln[2]<0&&(vr=Vn[0],Vn[0]=Vn[1],Vn[1]=vr),Vn[0]*=Ln[2],Vn[1]*=Ln[2]),Vn[0]+=Ln[4],Vn[1]+=Ln[4],Vn[2]+=Ln[5],Vn[3]+=Ln[5]}static transform(Ln,Vn){return[Ln[0]*Vn[0]+Ln[2]*Vn[1],Ln[1]*Vn[0]+Ln[3]*Vn[1],Ln[0]*Vn[2]+Ln[2]*Vn[3],Ln[1]*Vn[2]+Ln[3]*Vn[3],Ln[0]*Vn[4]+Ln[2]*Vn[5]+Ln[4],Ln[1]*Vn[4]+Ln[3]*Vn[5]+Ln[5]]}static applyTransform(Ln,Vn){const vr=Ln[0]*Vn[0]+Ln[1]*Vn[2]+Vn[4],Tr=Ln[0]*Vn[1]+Ln[1]*Vn[3]+Vn[5];return[vr,Tr]}static applyInverseTransform(Ln,Vn){const vr=Vn[0]*Vn[3]-Vn[1]*Vn[2],Tr=(Ln[0]*Vn[3]-Ln[1]*Vn[2]+Vn[2]*Vn[5]-Vn[4]*Vn[3])/vr,Or=(-Ln[0]*Vn[1]+Ln[1]*Vn[0]+Vn[4]*Vn[1]-Vn[5]*Vn[0])/vr;return[Tr,Or]}static getAxialAlignedBoundingBox(Ln,Vn){const vr=this.applyTransform(Ln,Vn),Tr=this.applyTransform(Ln.slice(2,4),Vn),Or=this.applyTransform([Ln[0],Ln[3]],Vn),vn=this.applyTransform([Ln[2],Ln[1]],Vn);return[Math.min(vr[0],Tr[0],Or[0],vn[0]),Math.min(vr[1],Tr[1],Or[1],vn[1]),Math.max(vr[0],Tr[0],Or[0],vn[0]),Math.max(vr[1],Tr[1],Or[1],vn[1])]}static inverseTransform(Ln){const Vn=Ln[0]*Ln[3]-Ln[1]*Ln[2];return[Ln[3]/Vn,-Ln[1]/Vn,-Ln[2]/Vn,Ln[0]/Vn,(Ln[2]*Ln[5]-Ln[4]*Ln[3])/Vn,(Ln[4]*Ln[1]-Ln[5]*Ln[0])/Vn]}static singularValueDecompose2dScale(Ln){const Vn=[Ln[0],Ln[2],Ln[1],Ln[3]],vr=Ln[0]*Vn[0]+Ln[1]*Vn[2],Tr=Ln[0]*Vn[1]+Ln[1]*Vn[3],Or=Ln[2]*Vn[0]+Ln[3]*Vn[2],vn=Ln[2]*Vn[1]+Ln[3]*Vn[3],tr=(vr+vn)/2,dr=Math.sqrt((vr+vn)**2-4*(vr*vn-Or*Tr))/2,Rr=tr+dr||1,Ir=tr-dr||1;return[Math.sqrt(Rr),Math.sqrt(Ir)]}static normalizeRect(Ln){const Vn=Ln.slice(0);return Ln[0]>Ln[2]&&(Vn[0]=Ln[2],Vn[2]=Ln[0]),Ln[1]>Ln[3]&&(Vn[1]=Ln[3],Vn[3]=Ln[1]),Vn}static intersect(Ln,Vn){const vr=Math.max(Math.min(Ln[0],Ln[2]),Math.min(Vn[0],Vn[2])),Tr=Math.min(Math.max(Ln[0],Ln[2]),Math.max(Vn[0],Vn[2]));if(vr>Tr)return null;const Or=Math.max(Math.min(Ln[1],Ln[3]),Math.min(Vn[1],Vn[3])),vn=Math.min(Math.max(Ln[1],Ln[3]),Math.max(Vn[1],Vn[3]));return Or>vn?null:[vr,Or,Tr,vn]}static bezierBoundingBox(Ln,Vn,vr,Tr,Or,vn,tr,dr){const Rr=[],Ir=[[],[]];let _r,yn,fn,Pn,Hn,Zn,rr,lr;for(let Zr=0;Zr<2;++Zr){if(Zr===0?(yn=6*Ln-12*vr+6*Or,_r=-3*Ln+9*vr-9*Or+3*tr,fn=3*vr-3*Ln):(yn=6*Vn-12*Tr+6*vn,_r=-3*Vn+9*Tr-9*vn+3*dr,fn=3*Tr-3*Vn),Math.abs(_r)<1e-12){if(Math.abs(yn)<1e-12)continue;Pn=-fn/yn,0<Pn&&Pn<1&&Rr.push(Pn);continue}rr=yn*yn-4*fn*_r,lr=Math.sqrt(rr),!(rr<0)&&(Hn=(-yn+lr)/(2*_r),0<Hn&&Hn<1&&Rr.push(Hn),Zn=(-yn-lr)/(2*_r),0<Zn&&Zn<1&&Rr.push(Zn))}let Sr=Rr.length,wr;const pr=Sr;for(;Sr--;)Pn=Rr[Sr],wr=1-Pn,Ir[0][Sr]=wr*wr*wr*Ln+3*wr*wr*Pn*vr+3*wr*Pn*Pn*Or+Pn*Pn*Pn*tr,Ir[1][Sr]=wr*wr*wr*Vn+3*wr*wr*Pn*Tr+3*wr*Pn*Pn*vn+Pn*Pn*Pn*dr;return Ir[0][pr]=Ln,Ir[1][pr]=Vn,Ir[0][pr+1]=tr,Ir[1][pr+1]=dr,Ir[0].length=Ir[1].length=pr+2,[Math.min(...Ir[0]),Math.min(...Ir[1]),Math.max(...Ir[0]),Math.max(...Ir[1])]}}rt.Util=wn;const kn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Un(nr){if(nr[0]>="ï"){let Vn;if(nr[0]==="þ"&&nr[1]==="ÿ"?Vn="utf-16be":nr[0]==="ÿ"&&nr[1]==="þ"?Vn="utf-16le":nr[0]==="ï"&&nr[1]==="»"&&nr[2]==="¿"&&(Vn="utf-8"),Vn)try{const vr=new TextDecoder(Vn,{fatal:!0}),Tr=jn(nr);return vr.decode(Tr)}catch(vr){Kt(`stringToPDFString: "${vr}".`)}}const Ln=[];for(let Vn=0,vr=nr.length;Vn<vr;Vn++){const Tr=kn[nr.charCodeAt(Vn)];Ln.push(Tr?String.fromCharCode(Tr):nr.charAt(Vn))}return Ln.join("")}function Jn(nr){return decodeURIComponent(escape(nr))}function An(nr){return unescape(encodeURIComponent(nr))}function xn(nr){return typeof nr=="object"&&(nr==null?void 0:nr.byteLength)!==void 0}function er(nr,Ln){if(nr.length!==Ln.length)return!1;for(let Vn=0,vr=nr.length;Vn<vr;Vn++)if(nr[Vn]!==Ln[Vn])return!1;return!0}function Qn(nr=new Date){return[nr.getUTCFullYear().toString(),(nr.getUTCMonth()+1).toString().padStart(2,"0"),nr.getUTCDate().toString().padStart(2,"0"),nr.getUTCHours().toString().padStart(2,"0"),nr.getUTCMinutes().toString().padStart(2,"0"),nr.getUTCSeconds().toString().padStart(2,"0")].join("")}class gr{constructor(){Wn(this,ss,!1);this.promise=new Promise((Ln,Vn)=>{this.resolve=vr=>{qn(this,ss,!0),Ln(vr)},this.reject=vr=>{qn(this,ss,!0),Vn(vr)}})}get settled(){return Ft(this,ss)}}ss=new WeakMap,rt.PromiseCapability=gr;let yr=null,Fr=null;function br(nr){return yr||(yr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Fr=new Map([["ﬅ","ſt"]])),nr.replaceAll(yr,(Ln,Vn,vr)=>Vn?Vn.normalize("NFKC"):Fr.get(vr))}function Er(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const nr=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(nr);else for(let Ln=0;Ln<32;Ln++)nr[Ln]=Math.floor(Math.random()*255);return Sn(nr)}const Yr="pdfjs_internal_id_";rt.AnnotationPrefix=Yr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var ot,at,lt,ct,nu,Bu,ht,ft,pt,mt,gt,yt,xt,bt,Et,Uu,wt,_t,yp,kt,It;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(Pt){if(typeof Pt=="string"||Pt instanceof URL?Pt={url:Pt}:(0,_util.isArrayBuffer)(Pt)&&(Pt={data:Pt}),typeof Pt!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!Pt.url&&!Pt.data&&!Pt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Tt=new PDFDocumentLoadingTask,{docId:Ct}=Tt,Ot=Pt.url?getUrlProp(Pt.url):null,Dt=Pt.data?getDataProp(Pt.data):null,jt=Pt.httpHeaders||null,Mt=Pt.withCredentials===!0,zt=Pt.password??null,Qt=Pt.range instanceof PDFDataRangeTransport?Pt.range:null,qt=Number.isInteger(Pt.rangeChunkSize)&&Pt.rangeChunkSize>0?Pt.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Kt=Pt.worker instanceof PDFWorker?Pt.worker:null;const sn=Pt.verbosity,Gt=typeof Pt.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(Pt.docBaseUrl)?Pt.docBaseUrl:null,Wt=typeof Pt.cMapUrl=="string"?Pt.cMapUrl:null,pn=Pt.cMapPacked!==!1,rn=Pt.CMapReaderFactory||DefaultCMapReaderFactory,Vt=typeof Pt.standardFontDataUrl=="string"?Pt.standardFontDataUrl:null,$t=Pt.StandardFontDataFactory||DefaultStandardFontDataFactory,Xt=Pt.stopAtErrors!==!0,Zt=Number.isInteger(Pt.maxImageSize)&&Pt.maxImageSize>-1?Pt.maxImageSize:-1,Jt=Pt.isEvalSupported!==!1,Yt=typeof Pt.isOffscreenCanvasSupported=="boolean"?Pt.isOffscreenCanvasSupported:!_util.isNodeJS,gn=Number.isInteger(Pt.canvasMaxAreaInBytes)?Pt.canvasMaxAreaInBytes:-1,_n=typeof Pt.disableFontFace=="boolean"?Pt.disableFontFace:_util.isNodeJS,Sn=Pt.fontExtraProperties===!0,jn=Pt.enableXfa===!0,Dn=Pt.ownerDocument||globalThis.document,Gn=Pt.disableRange===!0,Kn=Pt.disableStream===!0,hn=Pt.disableAutoFetch===!0,En=Pt.pdfBug===!0,cn=Qt?Qt.length:Pt.length??NaN,dn=typeof Pt.useSystemFonts=="boolean"?Pt.useSystemFonts:!_util.isNodeJS&&!_n,wn=typeof Pt.useWorkerFetch=="boolean"?Pt.useWorkerFetch:rn===_display_utils.DOMCMapReaderFactory&&$t===_display_utils.DOMStandardFontDataFactory&&Wt&&Vt&&(0,_display_utils.isValidFetchUrl)(Wt,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(Vt,document.baseURI),kn=Pt.canvasFactory||new DefaultCanvasFactory({ownerDocument:Dn}),Un=Pt.filterFactory||new DefaultFilterFactory({docId:Ct,ownerDocument:Dn}),Jn=null;(0,_util.setVerbosityLevel)(sn);const An={canvasFactory:kn,filterFactory:Un};if(wn||(An.cMapReaderFactory=new rn({baseUrl:Wt,isCompressed:pn}),An.standardFontDataFactory=new $t({baseUrl:Vt})),!Kt){const Qn={verbosity:sn,port:_worker_options.GlobalWorkerOptions.workerPort};Kt=Qn.port?PDFWorker.fromPort(Qn):new PDFWorker(Qn),Tt._worker=Kt}const xn={docId:Ct,apiVersion:"3.11.174",data:Dt,password:zt,disableAutoFetch:hn,rangeChunkSize:qt,length:cn,docBaseUrl:Gt,enableXfa:jn,evaluatorOptions:{maxImageSize:Zt,disableFontFace:_n,ignoreErrors:Xt,isEvalSupported:Jt,isOffscreenCanvasSupported:Yt,canvasMaxAreaInBytes:gn,fontExtraProperties:Sn,useSystemFonts:dn,cMapUrl:wn?Wt:null,standardFontDataUrl:wn?Vt:null}},er={ignoreErrors:Xt,isEvalSupported:Jt,disableFontFace:_n,fontExtraProperties:Sn,enableXfa:jn,ownerDocument:Dn,disableAutoFetch:hn,pdfBug:En,styleElement:Jn};return Kt.promise.then(function(){if(Tt.destroyed)throw new Error("Loading aborted");const Qn=_fetchDocument(Kt,xn),gr=new Promise(function(yr){let Fr;Qt?Fr=new _transport_stream.PDFDataTransportStream({length:cn,initialData:Qt.initialData,progressiveDone:Qt.progressiveDone,contentDispositionFilename:Qt.contentDispositionFilename,disableRange:Gn,disableStream:Kn},Qt):Dt||(Fr=(Er=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(Er):(0,_display_utils.isValidFetchUrl)(Er.url)?new _displayFetch_stream.PDFFetchStream(Er):new _displayNetwork.PDFNetworkStream(Er))({url:Ot,length:cn,httpHeaders:jt,withCredentials:Mt,rangeChunkSize:qt,disableRange:Gn,disableStream:Kn})),yr(Fr)});return Promise.all([Qn,gr]).then(function([yr,Fr]){if(Tt.destroyed)throw new Error("Loading aborted");const br=new _message_handler.MessageHandler(Ct,yr,Kt.port),Er=new WorkerTransport(br,Tt,Fr,er,An);Tt._transport=Er,br.send("Ready",null)})}).catch(Tt._capability.reject),Tt}async function _fetchDocument(Pt,Tt){if(Pt.destroyed)throw new Error("Worker was destroyed");const Ct=await Pt.messageHandler.sendWithPromise("GetDocRequest",Tt,Tt.data?[Tt.data.buffer]:null);if(Pt.destroyed)throw new Error("Worker was destroyed");return Ct}function getUrlProp(Pt){if(Pt instanceof URL)return Pt.href;try{return new URL(Pt,window.location).href}catch{if(_util.isNodeJS&&typeof Pt=="string")return Pt}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Pt){if(_util.isNodeJS&&typeof Buffer<"u"&&Pt instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Pt instanceof Uint8Array&&Pt.byteLength===Pt.buffer.byteLength)return Pt;if(typeof Pt=="string")return(0,_util.stringToBytes)(Pt);if(typeof Pt=="object"&&!isNaN(Pt==null?void 0:Pt.length)||(0,_util.isArrayBuffer)(Pt))return new Uint8Array(Pt);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const rt=class rt{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${xu(rt,ot)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Tt,Ct,Ot;this.destroyed=!0;try{(Tt=this._worker)!=null&&Tt.port&&(this._worker._pendingDestroy=!0),await((Ct=this._transport)==null?void 0:Ct.destroy())}catch(Dt){throw(Ot=this._worker)!=null&&Ot.port&&delete this._worker._pendingDestroy,Dt}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};ot=new WeakMap,Wn(rt,ot,0);let PDFDocumentLoadingTask=rt;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Tt,Ct,Ot=!1,Dt=null){this.length=Tt,this.initialData=Ct,this.progressiveDone=Ot,this.contentDispositionFilename=Dt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Tt){this._rangeListeners.push(Tt)}addProgressListener(Tt){this._progressListeners.push(Tt)}addProgressiveReadListener(Tt){this._progressiveReadListeners.push(Tt)}addProgressiveDoneListener(Tt){this._progressiveDoneListeners.push(Tt)}onDataRange(Tt,Ct){for(const Ot of this._rangeListeners)Ot(Tt,Ct)}onDataProgress(Tt,Ct){this._readyCapability.promise.then(()=>{for(const Ot of this._progressListeners)Ot(Tt,Ct)})}onDataProgressiveRead(Tt){this._readyCapability.promise.then(()=>{for(const Ct of this._progressiveReadListeners)Ct(Tt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Tt of this._progressiveDoneListeners)Tt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Tt,Ct){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Tt,Ct){this._pdfInfo=Tt,this._transport=Ct,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Ot=>{if(!Ot)return Ot;const Dt=[];for(const jt in Ot)Dt.push(...Ot[jt]);return Dt}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Tt){return this._transport.getPage(Tt)}getPageIndex(Tt){return this._transport.getPageIndex(Tt)}getDestinations(){return this._transport.getDestinations()}getDestination(Tt){return this._transport.getDestination(Tt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(Tt=!1){return this._transport.startCleanup(Tt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Tt,Ct,Ot,Dt=!1){Wn(this,ct);Wn(this,at,null);Wn(this,lt,!1);this._pageIndex=Tt,this._pageInfo=Ct,this._transport=Ot,this._stats=Dt?new _display_utils.StatTimer:null,this._pdfBug=Dt,this.commonObjs=Ot.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:Tt,rotation:Ct=this.rotate,offsetX:Ot=0,offsetY:Dt=0,dontFlip:jt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:Tt,rotation:Ct,offsetX:Ot,offsetY:Dt,dontFlip:jt})}getAnnotations({intent:Tt="display"}={}){const Ct=this._transport.getRenderingIntent(Tt);return this._transport.getAnnotations(this._pageIndex,Ct.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Tt;return((Tt=this._transport._htmlForXfa)==null?void 0:Tt.children[this._pageIndex])||null}render({canvasContext:Tt,viewport:Ct,intent:Ot="display",annotationMode:Dt=_util.AnnotationMode.ENABLE,transform:jt=null,background:Mt=null,optionalContentConfigPromise:zt=null,annotationCanvasMap:Qt=null,pageColors:qt=null,printAnnotationStorage:Kt=null}){var $t,Xt;($t=this._stats)==null||$t.time("Overall");const sn=this._transport.getRenderingIntent(Ot,Dt,Kt);qn(this,lt,!1),On(this,ct,Bu).call(this),zt||(zt=this._transport.getOptionalContentConfig());let Gt=this._intentStates.get(sn.cacheKey);Gt||(Gt=Object.create(null),this._intentStates.set(sn.cacheKey,Gt)),Gt.streamReaderCancelTimeout&&(clearTimeout(Gt.streamReaderCancelTimeout),Gt.streamReaderCancelTimeout=null);const Wt=!!(sn.renderingIntent&_util.RenderingIntentFlag.PRINT);Gt.displayReadyCapability||(Gt.displayReadyCapability=new _util.PromiseCapability,Gt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Xt=this._stats)==null||Xt.time("Page Request"),this._pumpOperatorList(sn));const pn=Zt=>{var Jt,Yt;Gt.renderTasks.delete(rn),(this._maybeCleanupAfterRender||Wt)&&qn(this,lt,!0),On(this,ct,nu).call(this,!Wt),Zt?(rn.capability.reject(Zt),this._abortOperatorList({intentState:Gt,reason:Zt instanceof Error?Zt:new Error(Zt)})):rn.capability.resolve(),(Jt=this._stats)==null||Jt.timeEnd("Rendering"),(Yt=this._stats)==null||Yt.timeEnd("Overall")},rn=new InternalRenderTask({callback:pn,params:{canvasContext:Tt,viewport:Ct,transform:jt,background:Mt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Qt,operatorList:Gt.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Wt,pdfBug:this._pdfBug,pageColors:qt});(Gt.renderTasks||(Gt.renderTasks=new Set)).add(rn);const Vt=rn.task;return Promise.all([Gt.displayReadyCapability.promise,zt]).then(([Zt,Jt])=>{var Yt;if(this.destroyed){pn();return}(Yt=this._stats)==null||Yt.time("Rendering"),rn.initializeGraphics({transparency:Zt,optionalContentConfig:Jt}),rn.operatorListChanged()}).catch(pn),Vt}getOperatorList({intent:Tt="display",annotationMode:Ct=_util.AnnotationMode.ENABLE,printAnnotationStorage:Ot=null}={}){var Qt;function Dt(){Mt.operatorList.lastChunk&&(Mt.opListReadCapability.resolve(Mt.operatorList),Mt.renderTasks.delete(zt))}const jt=this._transport.getRenderingIntent(Tt,Ct,Ot,!0);let Mt=this._intentStates.get(jt.cacheKey);Mt||(Mt=Object.create(null),this._intentStates.set(jt.cacheKey,Mt));let zt;return Mt.opListReadCapability||(zt=Object.create(null),zt.operatorListChanged=Dt,Mt.opListReadCapability=new _util.PromiseCapability,(Mt.renderTasks||(Mt.renderTasks=new Set)).add(zt),Mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Qt=this._stats)==null||Qt.time("Page Request"),this._pumpOperatorList(jt)),Mt.opListReadCapability.promise}streamTextContent({includeMarkedContent:Tt=!1,disableNormalization:Ct=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Tt===!0,disableNormalization:Ct===!0},{highWaterMark:100,size(Dt){return Dt.items.length}})}getTextContent(Tt={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ot=>_xfa_text.XfaText.textContent(Ot));const Ct=this.streamTextContent(Tt);return new Promise(function(Ot,Dt){function jt(){Mt.read().then(function({value:Qt,done:qt}){if(qt){Ot(zt);return}Object.assign(zt.styles,Qt.styles),zt.items.push(...Qt.items),jt()},Dt)}const Mt=Ct.getReader(),zt={items:[],styles:Object.create(null)};jt()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Tt=[];for(const Ct of this._intentStates.values())if(this._abortOperatorList({intentState:Ct,reason:new Error("Page was destroyed."),force:!0}),!Ct.opListReadCapability)for(const Ot of Ct.renderTasks)Tt.push(Ot.completed),Ot.cancel();return this.objs.clear(),qn(this,lt,!1),On(this,ct,Bu).call(this),Promise.all(Tt)}cleanup(Tt=!1){qn(this,lt,!0);const Ct=On(this,ct,nu).call(this,!1);return Tt&&Ct&&this._stats&&(this._stats=new _display_utils.StatTimer),Ct}_startRenderPage(Tt,Ct){var Dt,jt;const Ot=this._intentStates.get(Ct);Ot&&((Dt=this._stats)==null||Dt.timeEnd("Page Request"),(jt=Ot.displayReadyCapability)==null||jt.resolve(Tt))}_renderPageChunk(Tt,Ct){for(let Ot=0,Dt=Tt.length;Ot<Dt;Ot++)Ct.operatorList.fnArray.push(Tt.fnArray[Ot]),Ct.operatorList.argsArray.push(Tt.argsArray[Ot]);Ct.operatorList.lastChunk=Tt.lastChunk,Ct.operatorList.separateAnnots=Tt.separateAnnots;for(const Ot of Ct.renderTasks)Ot.operatorListChanged();Tt.lastChunk&&On(this,ct,nu).call(this,!0)}_pumpOperatorList({renderingIntent:Tt,cacheKey:Ct,annotationStorageSerializable:Ot}){const{map:Dt,transfers:jt}=Ot,zt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Tt,cacheKey:Ct,annotationStorage:Dt},jt).getReader(),Qt=this._intentStates.get(Ct);Qt.streamReader=zt;const qt=()=>{zt.read().then(({value:Kt,done:sn})=>{if(sn){Qt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(Kt,Qt),qt())},Kt=>{if(Qt.streamReader=null,!this._transport.destroyed){if(Qt.operatorList){Qt.operatorList.lastChunk=!0;for(const sn of Qt.renderTasks)sn.operatorListChanged();On(this,ct,nu).call(this,!0)}if(Qt.displayReadyCapability)Qt.displayReadyCapability.reject(Kt);else if(Qt.opListReadCapability)Qt.opListReadCapability.reject(Kt);else throw Kt}})};qt()}_abortOperatorList({intentState:Tt,reason:Ct,force:Ot=!1}){if(Tt.streamReader){if(Tt.streamReaderCancelTimeout&&(clearTimeout(Tt.streamReaderCancelTimeout),Tt.streamReaderCancelTimeout=null),!Ot){if(Tt.renderTasks.size>0)return;if(Ct instanceof _display_utils.RenderingCancelledException){let Dt=RENDERING_CANCELLED_TIMEOUT;Ct.extraDelay>0&&Ct.extraDelay<1e3&&(Dt+=Ct.extraDelay),Tt.streamReaderCancelTimeout=setTimeout(()=>{Tt.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Tt,reason:Ct,force:!0})},Dt);return}}if(Tt.streamReader.cancel(new _util.AbortException(Ct.message)).catch(()=>{}),Tt.streamReader=null,!this._transport.destroyed){for(const[Dt,jt]of this._intentStates)if(jt===Tt){this._intentStates.delete(Dt);break}this.cleanup()}}}get stats(){return this._stats}}at=new WeakMap,lt=new WeakMap,ct=new WeakSet,nu=function(Tt=!1){if(On(this,ct,Bu).call(this),!Ft(this,lt)||this.destroyed)return!1;if(Tt)return qn(this,at,setTimeout(()=>{qn(this,at,null),On(this,ct,nu).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ct,operatorList:Ot}of this._intentStates.values())if(Ct.size>0||!Ot.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),qn(this,lt,!1),!0},Bu=function(){Ft(this,at)&&(clearTimeout(Ft(this,at)),qn(this,at,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){Wn(this,ht,new Set);Wn(this,ft,Promise.resolve())}postMessage(Tt,Ct){const Ot={data:structuredClone(Tt,Ct?{transfer:Ct}:null)};Ft(this,ft).then(()=>{for(const Dt of Ft(this,ht))Dt.call(this,Ot)})}addEventListener(Tt,Ct){Ft(this,ht).add(Ct)}removeEventListener(Tt,Ct){Ft(this,ht).delete(Ct)}terminate(){Ft(this,ht).clear()}}ht=new WeakMap,ft=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const Pt=(pt=document==null?void 0:document.currentScript)==null?void 0:pt.src;Pt&&(PDFWorkerUtil.fallbackWorkerSrc=Pt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Pt,Tt){let Ct;try{if(Ct=new URL(Pt),!Ct.origin||Ct.origin==="null")return!1}catch{return!1}const Ot=new URL(Tt,Ct);return Ct.origin===Ot.origin},PDFWorkerUtil.createCDNWrapper=function(Pt){const Tt=`importScripts("${Pt}");`;return URL.createObjectURL(new Blob([Tt]))}}const _PDFWorker=class _PDFWorker{constructor({name:Pt=null,port:Tt=null,verbosity:Ct=(0,_util.getVerbosityLevel)()}={}){var Ot;if(this.name=Pt,this.destroyed=!1,this.verbosity=Ct,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Tt){if((Ot=Ft(_PDFWorker,mt))!=null&&Ot.has(Tt))throw new Error("Cannot use more than one PDFWorker per port.");(Ft(_PDFWorker,mt)||qn(_PDFWorker,mt,new WeakMap)).set(Tt,this),this._initializeFromPort(Tt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Pt){this._port=Pt,this._messageHandler=new _message_handler.MessageHandler("main","worker",Pt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:Pt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,Pt)||(Pt=PDFWorkerUtil.createCDNWrapper(new URL(Pt,window.location).href));const Tt=new Worker(Pt),Ct=new _message_handler.MessageHandler("main","worker",Tt),Ot=()=>{Tt.removeEventListener("error",Dt),Ct.destroy(),Tt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Dt=()=>{this._webWorker||Ot()};Tt.addEventListener("error",Dt),Ct.on("test",Mt=>{if(Tt.removeEventListener("error",Dt),this.destroyed){Ot();return}Mt?(this._messageHandler=Ct,this._port=Tt,this._webWorker=Tt,this._readyCapability.resolve(),Ct.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ct.destroy(),Tt.terminate())}),Ct.on("ready",Mt=>{if(Tt.removeEventListener("error",Dt),this.destroyed){Ot();return}try{jt()}catch{this._setupFakeWorker()}});const jt=()=>{const Mt=new Uint8Array;Ct.send("test",Mt,[Mt.buffer])};jt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Pt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Tt=new LoopbackPort;this._port=Tt;const Ct=`fake${PDFWorkerUtil.fakeWorkerId++}`,Ot=new _message_handler.MessageHandler(Ct+"_worker",Ct,Tt);Pt.setup(Ot,Tt);const Dt=new _message_handler.MessageHandler(Ct,Ct+"_worker",Tt);this._messageHandler=Dt,this._readyCapability.resolve(),Dt.send("configure",{verbosity:this.verbosity})}).catch(Pt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Pt.message}".`))})}destroy(){var Pt;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(Pt=Ft(_PDFWorker,mt))==null||Pt.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Pt){var Ct;if(!(Pt!=null&&Pt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Tt=(Ct=Ft(this,mt))==null?void 0:Ct.get(Pt.port);if(Tt){if(Tt._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Tt}return new _PDFWorker(Pt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var Pt;try{return((Pt=globalThis.pdfjsWorker)==null?void 0:Pt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};mt=new WeakMap,Wn(_PDFWorker,mt);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Tt,Ct,Ot,Dt,jt){Wn(this,Et);Wn(this,gt,new Map);Wn(this,yt,new Map);Wn(this,xt,new Map);Wn(this,bt,null);this.messageHandler=Tt,this.loadingTask=Ct,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Dt.ownerDocument,styleElement:Dt.styleElement}),this._params=Dt,this.canvasFactory=jt.canvasFactory,this.filterFactory=jt.filterFactory,this.cMapReaderFactory=jt.cMapReaderFactory,this.standardFontDataFactory=jt.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ot,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Tt,Ct=_util.AnnotationMode.ENABLE,Ot=null,Dt=!1){let jt=_util.RenderingIntentFlag.DISPLAY,Mt=_annotation_storage.SerializableEmpty;switch(Tt){case"any":jt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":jt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Tt}`)}switch(Ct){case _util.AnnotationMode.DISABLE:jt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:jt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:jt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Mt=(jt&_util.RenderingIntentFlag.PRINT&&Ot instanceof _annotation_storage.PrintAnnotationStorage?Ot:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ct}`)}return Dt&&(jt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:jt,cacheKey:`${jt}_${Mt.hash}`,annotationStorageSerializable:Mt}}destroy(){var Ot;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Ot=Ft(this,bt))==null||Ot.reject(new Error("Worker was destroyed during onPassword callback"));const Tt=[];for(const Dt of Ft(this,yt).values())Tt.push(Dt._destroy());Ft(this,yt).clear(),Ft(this,xt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ct=this.messageHandler.sendWithPromise("Terminate",null);return Tt.push(Ct),Promise.all(Tt).then(()=>{var Dt;this.commonObjs.clear(),this.fontLoader.clear(),Ft(this,gt).clear(),this.filterFactory.destroy(),(Dt=this._networkStream)==null||Dt.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Tt,loadingTask:Ct}=this;Tt.on("GetReader",(Ot,Dt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=jt=>{this._lastProgress={loaded:jt.loaded,total:jt.total}},Dt.onPull=()=>{this._fullReader.read().then(function({value:jt,done:Mt}){if(Mt){Dt.close();return}(0,_util.assert)(jt instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(jt),1,[jt])}).catch(jt=>{Dt.error(jt)})},Dt.onCancel=jt=>{this._fullReader.cancel(jt),Dt.ready.catch(Mt=>{if(!this.destroyed)throw Mt})}}),Tt.on("ReaderHeadersReady",Ot=>{const Dt=new _util.PromiseCapability,jt=this._fullReader;return jt.headersReady.then(()=>{var Mt;(!jt.isStreamingSupported||!jt.isRangeSupported)&&(this._lastProgress&&((Mt=Ct.onProgress)==null||Mt.call(Ct,this._lastProgress)),jt.onProgress=zt=>{var Qt;(Qt=Ct.onProgress)==null||Qt.call(Ct,{loaded:zt.loaded,total:zt.total})}),Dt.resolve({isStreamingSupported:jt.isStreamingSupported,isRangeSupported:jt.isRangeSupported,contentLength:jt.contentLength})},Dt.reject),Dt.promise}),Tt.on("GetRangeReader",(Ot,Dt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const jt=this._networkStream.getRangeReader(Ot.begin,Ot.end);if(!jt){Dt.close();return}Dt.onPull=()=>{jt.read().then(function({value:Mt,done:zt}){if(zt){Dt.close();return}(0,_util.assert)(Mt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Dt.enqueue(new Uint8Array(Mt),1,[Mt])}).catch(Mt=>{Dt.error(Mt)})},Dt.onCancel=Mt=>{jt.cancel(Mt),Dt.ready.catch(zt=>{if(!this.destroyed)throw zt})}}),Tt.on("GetDoc",({pdfInfo:Ot})=>{this._numPages=Ot.numPages,this._htmlForXfa=Ot.htmlForXfa,delete Ot.htmlForXfa,Ct._capability.resolve(new PDFDocumentProxy(Ot,this))}),Tt.on("DocException",function(Ot){let Dt;switch(Ot.name){case"PasswordException":Dt=new _util.PasswordException(Ot.message,Ot.code);break;case"InvalidPDFException":Dt=new _util.InvalidPDFException(Ot.message);break;case"MissingPDFException":Dt=new _util.MissingPDFException(Ot.message);break;case"UnexpectedResponseException":Dt=new _util.UnexpectedResponseException(Ot.message,Ot.status);break;case"UnknownErrorException":Dt=new _util.UnknownErrorException(Ot.message,Ot.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ct._capability.reject(Dt)}),Tt.on("PasswordRequest",Ot=>{if(qn(this,bt,new _util.PromiseCapability),Ct.onPassword){const Dt=jt=>{jt instanceof Error?Ft(this,bt).reject(jt):Ft(this,bt).resolve({password:jt})};try{Ct.onPassword(Dt,Ot.code)}catch(jt){Ft(this,bt).reject(jt)}}else Ft(this,bt).reject(new _util.PasswordException(Ot.message,Ot.code));return Ft(this,bt).promise}),Tt.on("DataLoaded",Ot=>{var Dt;(Dt=Ct.onProgress)==null||Dt.call(Ct,{loaded:Ot.length,total:Ot.length}),this.downloadInfoCapability.resolve(Ot)}),Tt.on("StartRenderPage",Ot=>{if(this.destroyed)return;Ft(this,yt).get(Ot.pageIndex)._startRenderPage(Ot.transparency,Ot.cacheKey)}),Tt.on("commonobj",([Ot,Dt,jt])=>{var Mt;if(!this.destroyed&&!this.commonObjs.has(Ot))switch(Dt){case"Font":const zt=this._params;if("error"in jt){const Kt=jt.error;(0,_util.warn)(`Error during font loading: ${Kt}`),this.commonObjs.resolve(Ot,Kt);break}const Qt=zt.pdfBug&&((Mt=globalThis.FontInspector)!=null&&Mt.enabled)?(Kt,sn)=>globalThis.FontInspector.fontAdded(Kt,sn):null,qt=new _font_loader.FontFaceObject(jt,{isEvalSupported:zt.isEvalSupported,disableFontFace:zt.disableFontFace,ignoreErrors:zt.ignoreErrors,inspectFont:Qt});this.fontLoader.bind(qt).catch(Kt=>Tt.sendWithPromise("FontFallback",{id:Ot})).finally(()=>{!zt.fontExtraProperties&&qt.data&&(qt.data=null),this.commonObjs.resolve(Ot,qt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ot,jt);break;default:throw new Error(`Got unknown common object type ${Dt}`)}}),Tt.on("obj",([Ot,Dt,jt,Mt])=>{var Qt;if(this.destroyed)return;const zt=Ft(this,yt).get(Dt);if(!zt.objs.has(Ot))switch(jt){case"Image":if(zt.objs.resolve(Ot,Mt),Mt){let qt;if(Mt.bitmap){const{width:Kt,height:sn}=Mt;qt=Kt*sn*4}else qt=((Qt=Mt.data)==null?void 0:Qt.length)||0;qt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(zt._maybeCleanupAfterRender=!0)}break;case"Pattern":zt.objs.resolve(Ot,Mt);break;default:throw new Error(`Got unknown object type ${jt}`)}}),Tt.on("DocProgress",Ot=>{var Dt;this.destroyed||(Dt=Ct.onProgress)==null||Dt.call(Ct,{loaded:Ot.loaded,total:Ot.total})}),Tt.on("FetchBuiltInCMap",Ot=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Ot):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Tt.on("FetchStandardFontData",Ot=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Ot):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ot;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Tt,transfers:Ct}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Tt,filename:((Ot=this._fullReader)==null?void 0:Ot.filename)??null},Ct).finally(()=>{this.annotationStorage.resetModified()})}getPage(Tt){if(!Number.isInteger(Tt)||Tt<=0||Tt>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ct=Tt-1,Ot=Ft(this,xt).get(Ct);if(Ot)return Ot;const Dt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ct}).then(jt=>{if(this.destroyed)throw new Error("Transport destroyed");const Mt=new PDFPageProxy(Ct,jt,this,this._params.pdfBug);return Ft(this,yt).set(Ct,Mt),Mt});return Ft(this,xt).set(Ct,Dt),Dt}getPageIndex(Tt){return typeof Tt!="object"||Tt===null||!Number.isInteger(Tt.num)||Tt.num<0||!Number.isInteger(Tt.gen)||Tt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Tt.num,gen:Tt.gen})}getAnnotations(Tt,Ct){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Tt,intent:Ct})}getFieldObjects(){return On(this,Et,Uu).call(this,"GetFieldObjects")}hasJSActions(){return On(this,Et,Uu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Tt){return typeof Tt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Tt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return On(this,Et,Uu).call(this,"GetDocJSActions")}getPageJSActions(Tt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Tt})}getStructTree(Tt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Tt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Tt=>new _optional_content_config.OptionalContentConfig(Tt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Tt="GetMetadata",Ct=Ft(this,gt).get(Tt);if(Ct)return Ct;const Ot=this.messageHandler.sendWithPromise(Tt,null).then(Dt=>{var jt,Mt;return{info:Dt[0],metadata:Dt[1]?new _metadata.Metadata(Dt[1]):null,contentDispositionFilename:((jt=this._fullReader)==null?void 0:jt.filename)??null,contentLength:((Mt=this._fullReader)==null?void 0:Mt.contentLength)??null}});return Ft(this,gt).set(Tt,Ot),Ot}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(Tt=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ct of Ft(this,yt).values())if(!Ct.cleanup())throw new Error(`startCleanup: Page ${Ct.pageNumber} is currently rendering.`);this.commonObjs.clear(),Tt||this.fontLoader.clear(),Ft(this,gt).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Tt,enableXfa:Ct}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Tt,enableXfa:Ct})}}gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakSet,Uu=function(Tt,Ct=null){const Ot=Ft(this,gt).get(Tt);if(Ot)return Ot;const Dt=this.messageHandler.sendWithPromise(Tt,Ct);return Ft(this,gt).set(Tt,Dt),Dt};class PDFObjects{constructor(){Wn(this,_t);Wn(this,wt,Object.create(null))}get(Tt,Ct=null){if(Ct){const Dt=On(this,_t,yp).call(this,Tt);return Dt.capability.promise.then(()=>Ct(Dt.data)),null}const Ot=Ft(this,wt)[Tt];if(!(Ot!=null&&Ot.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Tt}.`);return Ot.data}has(Tt){const Ct=Ft(this,wt)[Tt];return(Ct==null?void 0:Ct.capability.settled)||!1}resolve(Tt,Ct=null){const Ot=On(this,_t,yp).call(this,Tt);Ot.data=Ct,Ot.capability.resolve()}clear(){var Tt;for(const Ct in Ft(this,wt)){const{data:Ot}=Ft(this,wt)[Ct];(Tt=Ot==null?void 0:Ot.bitmap)==null||Tt.close()}qn(this,wt,Object.create(null))}}wt=new WeakMap,_t=new WeakSet,yp=function(Tt){var Ct;return(Ct=Ft(this,wt))[Tt]||(Ct[Tt]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Tt){Wn(this,kt,null);qn(this,kt,Tt),this.onContinue=null}get promise(){return Ft(this,kt).capability.promise}cancel(Tt=0){Ft(this,kt).cancel(null,Tt)}get separateAnnots(){const{separateAnnots:Tt}=Ft(this,kt).operatorList;if(!Tt)return!1;const{annotationCanvasMap:Ct}=Ft(this,kt);return Tt.form||Tt.canvas&&(Ct==null?void 0:Ct.size)>0}}kt=new WeakMap,exports.RenderTask=RenderTask;const Nt=class Nt{constructor({callback:Tt,params:Ct,objs:Ot,commonObjs:Dt,annotationCanvasMap:jt,operatorList:Mt,pageIndex:zt,canvasFactory:Qt,filterFactory:qt,useRequestAnimationFrame:Kt=!1,pdfBug:sn=!1,pageColors:Gt=null}){this.callback=Tt,this.params=Ct,this.objs=Ot,this.commonObjs=Dt,this.annotationCanvasMap=jt,this.operatorListIdx=null,this.operatorList=Mt,this._pageIndex=zt,this.canvasFactory=Qt,this.filterFactory=qt,this._pdfBug=sn,this.pageColors=Gt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Kt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ct.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:Tt=!1,optionalContentConfig:Ct}){var zt,Qt;if(this.cancelled)return;if(this._canvas){if(Ft(Nt,It).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ft(Nt,It).add(this._canvas)}this._pdfBug&&((zt=globalThis.StepperManager)!=null&&zt.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ot,viewport:Dt,transform:jt,background:Mt}=this.params;this.gfx=new _canvas.CanvasGraphics(Ot,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ct},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:jt,viewport:Dt,transparency:Tt,background:Mt}),this.operatorListIdx=0,this.graphicsReady=!0,(Qt=this.graphicsReadyCallback)==null||Qt.call(this)}cancel(Tt=null,Ct=0){var Ot;this.running=!1,this.cancelled=!0,(Ot=this.gfx)==null||Ot.endDrawing(),Ft(Nt,It).delete(this._canvas),this.callback(Tt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ct))}operatorListChanged(){var Tt;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Tt=this.stepper)==null||Tt.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ft(Nt,It).delete(this._canvas),this.callback())))}};It=new WeakMap,Wn(Nt,It,new WeakSet);let InternalRenderTask=Nt;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(ot,rt,at)=>{var pt,mt,gt,_m,xt;Object.defineProperty(rt,"__esModule",{value:!0}),rt.SerializableEmpty=rt.PrintAnnotationStorage=rt.AnnotationStorage=void 0;var lt=at(1),ct=at(4),ut=at(8);const dt=Object.freeze({map:null,hash:"",transfers:void 0});rt.SerializableEmpty=dt;class ht{constructor(){Wn(this,gt);Wn(this,pt,!1);Wn(this,mt,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Et,Rt){const wt=Ft(this,mt).get(Et);return wt===void 0?Rt:Object.assign(Rt,wt)}getRawValue(Et){return Ft(this,mt).get(Et)}remove(Et){if(Ft(this,mt).delete(Et),Ft(this,mt).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const Rt of Ft(this,mt).values())if(Rt instanceof ct.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Et,Rt){const wt=Ft(this,mt).get(Et);let _t=!1;if(wt!==void 0)for(const[At,kt]of Object.entries(Rt))wt[At]!==kt&&(_t=!0,wt[At]=kt);else _t=!0,Ft(this,mt).set(Et,Rt);_t&&On(this,gt,_m).call(this),Rt instanceof ct.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Rt.constructor._type)}has(Et){return Ft(this,mt).has(Et)}getAll(){return Ft(this,mt).size>0?(0,lt.objectFromMap)(Ft(this,mt)):null}setAll(Et){for(const[Rt,wt]of Object.entries(Et))this.setValue(Rt,wt)}get size(){return Ft(this,mt).size}resetModified(){Ft(this,pt)&&(qn(this,pt,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new ft(this)}get serializable(){if(Ft(this,mt).size===0)return dt;const Et=new Map,Rt=new ut.MurmurHash3_64,wt=[],_t=Object.create(null);let At=!1;for(const[kt,It]of Ft(this,mt)){const Nt=It instanceof ct.AnnotationEditor?It.serialize(!1,_t):It;Nt&&(Et.set(kt,Nt),Rt.update(`${kt}:${JSON.stringify(Nt)}`),At||(At=!!Nt.bitmap))}if(At)for(const kt of Et.values())kt.bitmap&&wt.push(kt.bitmap);return Et.size>0?{map:Et,hash:Rt.hexdigest(),transfers:wt}:dt}}pt=new WeakMap,mt=new WeakMap,gt=new WeakSet,_m=function(){Ft(this,pt)||(qn(this,pt,!0),typeof this.onSetModified=="function"&&this.onSetModified())},rt.AnnotationStorage=ht;class ft extends ht{constructor(Rt){super();Wn(this,xt);const{map:wt,hash:_t,transfers:At}=Rt.serializable,kt=structuredClone(wt,At?{transfer:At}:null);qn(this,xt,{map:kt,hash:_t,transfers:At})}get print(){(0,lt.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ft(this,xt)}}xt=new WeakMap,rt.PrintAnnotationStorage=ft},(ot,rt,at)=>{var ft,pt,mt,gt,yt,xt,bt,Et,Rt,wt,_t,At,kt,It,Nt,xp,bp,Ct,vp,_p,Em,wm,Rm,Ep,Tm;Object.defineProperty(rt,"__esModule",{value:!0}),rt.AnnotationEditor=void 0;var lt=at(5),ct=at(1),ut=at(6);const Kt=class Kt{constructor(Gt){Wn(this,Nt);Wn(this,ft,"");Wn(this,pt,!1);Wn(this,mt,null);Wn(this,gt,null);Wn(this,yt,null);Wn(this,xt,!1);Wn(this,bt,null);Wn(this,Et,this.focusin.bind(this));Wn(this,Rt,this.focusout.bind(this));Wn(this,wt,!1);Wn(this,_t,!1);Wn(this,At,!1);zr(this,"_initialOptions",Object.create(null));zr(this,"_uiManager",null);zr(this,"_focusEventsAllowed",!0);zr(this,"_l10nPromise",null);Wn(this,kt,!1);Wn(this,It,Kt._zIndex++);this.constructor===Kt&&(0,ct.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Gt.parent,this.id=Gt.id,this.width=this.height=null,this.pageIndex=Gt.parent.pageIndex,this.name=Gt.name,this.div=null,this._uiManager=Gt.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=Gt.isCentered,this._structTreeParentId=null;const{rotation:Wt,rawDims:{pageWidth:pn,pageHeight:rn,pageX:Vt,pageY:$t}}=this.parent.viewport;this.rotation=Wt,this.pageRotation=(360+Wt-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[pn,rn],this.pageTranslation=[Vt,$t];const[Xt,Zt]=this.parentDimensions;this.x=Gt.x/Xt,this.y=Gt.y/Zt,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,ct.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(Gt){const Wt=new ht({id:Gt.parent.getNextId(),parent:Gt.parent,uiManager:Gt._uiManager});Wt.annotationElementId=Gt.annotationElementId,Wt.deleted=!0,Wt._uiManager.addToAnnotationStorage(Wt)}static initialize(Gt,Wt=null){if(Kt._l10nPromise||(Kt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(rn=>[rn,Gt.get(rn)]))),Wt!=null&&Wt.strings)for(const rn of Wt.strings)Kt._l10nPromise.set(rn,Gt.get(rn));if(Kt._borderLineWidth!==-1)return;const pn=getComputedStyle(document.documentElement);Kt._borderLineWidth=parseFloat(pn.getPropertyValue("--outline-width"))||0}static updateDefaultParams(Gt,Wt){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(Gt){return!1}static paste(Gt,Wt){(0,ct.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ft(this,kt)}set _isDraggable(Gt){var Wt;qn(this,kt,Gt),(Wt=this.div)==null||Wt.classList.toggle("draggable",Gt)}center(){const[Gt,Wt]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Wt/(Gt*2),this.y+=this.width*Gt/(Wt*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Wt/(Gt*2),this.y-=this.width*Gt/(Wt*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(Gt){this._uiManager.addCommands(Gt)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ft(this,It)}setParent(Gt){Gt!==null&&(this.pageIndex=Gt.pageIndex,this.pageDimensions=Gt.pageDimensions),this.parent=Gt}focusin(Gt){this._focusEventsAllowed&&(Ft(this,wt)?qn(this,wt,!1):this.parent.setSelected(this))}focusout(Gt){var pn;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Wt=Gt.relatedTarget;Wt!=null&&Wt.closest(`#${this.id}`)||(Gt.preventDefault(),(pn=this.parent)!=null&&pn.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(Gt,Wt,pn,rn){const[Vt,$t]=this.parentDimensions;[pn,rn]=this.screenToPageTranslation(pn,rn),this.x=(Gt+pn)/Vt,this.y=(Wt+rn)/$t,this.fixAndSetPosition()}translate(Gt,Wt){On(this,Nt,xp).call(this,this.parentDimensions,Gt,Wt)}translateInPage(Gt,Wt){On(this,Nt,xp).call(this,this.pageDimensions,Gt,Wt),this.div.scrollIntoView({block:"nearest"})}drag(Gt,Wt){const[pn,rn]=this.parentDimensions;if(this.x+=Gt/pn,this.y+=Wt/rn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:Jt,y:Yt}=this.div.getBoundingClientRect();this.parent.findNewParent(this,Jt,Yt)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Vt,y:$t}=this;const[Xt,Zt]=On(this,Nt,bp).call(this);Vt+=Xt,$t+=Zt,this.div.style.left=`${(100*Vt).toFixed(2)}%`,this.div.style.top=`${(100*$t).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[Gt,Wt]=this.pageDimensions;let{x:pn,y:rn,width:Vt,height:$t}=this;switch(Vt*=Gt,$t*=Wt,pn*=Gt,rn*=Wt,this.rotation){case 0:pn=Math.max(0,Math.min(Gt-Vt,pn)),rn=Math.max(0,Math.min(Wt-$t,rn));break;case 90:pn=Math.max(0,Math.min(Gt-$t,pn)),rn=Math.min(Wt,Math.max(Vt,rn));break;case 180:pn=Math.min(Gt,Math.max(Vt,pn)),rn=Math.min(Wt,Math.max($t,rn));break;case 270:pn=Math.min(Gt,Math.max($t,pn)),rn=Math.max(0,Math.min(Wt-Vt,rn));break}this.x=pn/=Gt,this.y=rn/=Wt;const[Xt,Zt]=On(this,Nt,bp).call(this);pn+=Xt,rn+=Zt;const{style:Jt}=this.div;Jt.left=`${(100*pn).toFixed(2)}%`,Jt.top=`${(100*rn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(Gt,Wt){var pn;return On(pn=Kt,Ct,vp).call(pn,Gt,Wt,this.parentRotation)}pageTranslationToScreen(Gt,Wt){var pn;return On(pn=Kt,Ct,vp).call(pn,Gt,Wt,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:Gt,pageDimensions:[Wt,pn]}=this,rn=Wt*Gt,Vt=pn*Gt;return ct.FeatureTest.isCSSRoundSupported?[Math.round(rn),Math.round(Vt)]:[rn,Vt]}setDims(Gt,Wt){var Vt;const[pn,rn]=this.parentDimensions;this.div.style.width=`${(100*Gt/pn).toFixed(2)}%`,Ft(this,xt)||(this.div.style.height=`${(100*Wt/rn).toFixed(2)}%`),(Vt=Ft(this,mt))==null||Vt.classList.toggle("small",Gt<Kt.SMALL_EDITOR_SIZE||Wt<Kt.SMALL_EDITOR_SIZE)}fixDims(){const{style:Gt}=this.div,{height:Wt,width:pn}=Gt,rn=pn.endsWith("%"),Vt=!Ft(this,xt)&&Wt.endsWith("%");if(rn&&Vt)return;const[$t,Xt]=this.parentDimensions;rn||(Gt.width=`${(100*parseFloat(pn)/$t).toFixed(2)}%`),!Ft(this,xt)&&!Vt&&(Gt.height=`${(100*parseFloat(Wt)/Xt).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(Ft(this,mt))return;const Gt=qn(this,mt,document.createElement("button"));Gt.className="altText";const Wt=await Kt._l10nPromise.get("editor_alt_text_button_label");Gt.textContent=Wt,Gt.setAttribute("aria-label",Wt),Gt.tabIndex="0",Gt.addEventListener("contextmenu",ut.noContextMenu),Gt.addEventListener("pointerdown",pn=>pn.stopPropagation()),Gt.addEventListener("click",pn=>{pn.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),Gt.addEventListener("keydown",pn=>{pn.target===Gt&&pn.key==="Enter"&&(pn.preventDefault(),this._uiManager.editAltText(this))}),On(this,Nt,Ep).call(this),this.div.append(Gt),Kt.SMALL_EDITOR_SIZE||(Kt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(Gt.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:Ft(this,ft),decorative:Ft(this,pt)}}set altTextData({altText:Gt,decorative:Wt}){Ft(this,ft)===Gt&&Ft(this,pt)===Wt||(qn(this,ft,Gt),qn(this,pt,Wt),On(this,Nt,Ep).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ft(this,Et)),this.div.addEventListener("focusout",Ft(this,Rt));const[Gt,Wt]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*Wt/Gt).toFixed(2)}%`,this.div.style.maxHeight=`${(100*Gt/Wt).toFixed(2)}%`);const[pn,rn]=this.getInitialTranslation();return this.translate(pn,rn),(0,lt.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(Gt){const{isMac:Wt}=ct.FeatureTest.platform;if(Gt.button!==0||Gt.ctrlKey&&Wt){Gt.preventDefault();return}qn(this,wt,!0),On(this,Nt,Tm).call(this,Gt)}moveInDOM(){var Gt;(Gt=this.parent)==null||Gt.moveEditorInDOM(this)}_setParentAndPosition(Gt,Wt,pn){Gt.changeParent(this),this.x=Wt,this.y=pn,this.fixAndSetPosition()}getRect(Gt,Wt){const pn=this.parentScale,[rn,Vt]=this.pageDimensions,[$t,Xt]=this.pageTranslation,Zt=Gt/pn,Jt=Wt/pn,Yt=this.x*rn,gn=this.y*Vt,_n=this.width*rn,Sn=this.height*Vt;switch(this.rotation){case 0:return[Yt+Zt+$t,Vt-gn-Jt-Sn+Xt,Yt+Zt+_n+$t,Vt-gn-Jt+Xt];case 90:return[Yt+Jt+$t,Vt-gn+Zt+Xt,Yt+Jt+Sn+$t,Vt-gn+Zt+_n+Xt];case 180:return[Yt-Zt-_n+$t,Vt-gn+Jt+Xt,Yt-Zt+$t,Vt-gn+Jt+Sn+Xt];case 270:return[Yt-Jt-Sn+$t,Vt-gn-Zt-_n+Xt,Yt-Jt+$t,Vt-gn-Zt+Xt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Gt,Wt){const[pn,rn,Vt,$t]=Gt,Xt=Vt-pn,Zt=$t-rn;switch(this.rotation){case 0:return[pn,Wt-$t,Xt,Zt];case 90:return[pn,Wt-rn,Zt,Xt];case 180:return[Vt,Wt-rn,Xt,Zt];case 270:return[Vt,Wt-$t,Zt,Xt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){qn(this,At,!0)}disableEditMode(){qn(this,At,!1)}isInEditMode(){return Ft(this,At)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Gt,Wt;(Gt=this.div)==null||Gt.addEventListener("focusin",Ft(this,Et)),(Wt=this.div)==null||Wt.addEventListener("focusout",Ft(this,Rt))}serialize(Gt=!1,Wt=null){(0,ct.unreachable)("An editor must be serializable")}static deserialize(Gt,Wt,pn){const rn=new this.prototype.constructor({parent:Wt,id:Wt.getNextId(),uiManager:pn});rn.rotation=Gt.rotation;const[Vt,$t]=rn.pageDimensions,[Xt,Zt,Jt,Yt]=rn.getRectInCurrentCoords(Gt.rect,$t);return rn.x=Xt/Vt,rn.y=Zt/$t,rn.width=Jt/Vt,rn.height=Yt/$t,rn}remove(){var Gt;this.div.removeEventListener("focusin",Ft(this,Et)),this.div.removeEventListener("focusout",Ft(this,Rt)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(Gt=Ft(this,mt))==null||Gt.remove(),qn(this,mt,null),qn(this,gt,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(On(this,Nt,Em).call(this),Ft(this,bt).classList.remove("hidden"))}select(){var Gt;this.makeResizable(),(Gt=this.div)==null||Gt.classList.add("selectedEditor")}unselect(){var Gt,Wt,pn;(Gt=Ft(this,bt))==null||Gt.classList.add("hidden"),(Wt=this.div)==null||Wt.classList.remove("selectedEditor"),(pn=this.div)!=null&&pn.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(Gt,Wt){}disableEditing(){Ft(this,mt)&&(Ft(this,mt).hidden=!0)}enableEditing(){Ft(this,mt)&&(Ft(this,mt).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return Ft(this,_t)}set isEditing(Gt){qn(this,_t,Gt),this.parent&&(Gt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(Gt,Wt){qn(this,xt,!0);const pn=Gt/Wt,{style:rn}=this.div;rn.aspectRatio=pn,rn.height="auto"}static get MIN_SIZE(){return 16}};ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,wt=new WeakMap,_t=new WeakMap,At=new WeakMap,kt=new WeakMap,It=new WeakMap,Nt=new WeakSet,xp=function([Gt,Wt],pn,rn){[pn,rn]=this.screenToPageTranslation(pn,rn),this.x+=pn/Gt,this.y+=rn/Wt,this.fixAndSetPosition()},bp=function(){const[Gt,Wt]=this.parentDimensions,{_borderLineWidth:pn}=Kt,rn=pn/Gt,Vt=pn/Wt;switch(this.rotation){case 90:return[-rn,Vt];case 180:return[rn,Vt];case 270:return[rn,-Vt];default:return[-rn,-Vt]}},Ct=new WeakSet,vp=function(Gt,Wt,pn){switch(pn){case 90:return[Wt,-Gt];case 180:return[-Gt,-Wt];case 270:return[-Wt,Gt];default:return[Gt,Wt]}},_p=function(Gt){switch(Gt){case 90:{const[Wt,pn]=this.pageDimensions;return[0,-Wt/pn,pn/Wt,0]}case 180:return[-1,0,0,-1];case 270:{const[Wt,pn]=this.pageDimensions;return[0,Wt/pn,-pn/Wt,0]}default:return[1,0,0,1]}},Em=function(){if(Ft(this,bt))return;qn(this,bt,document.createElement("div")),Ft(this,bt).classList.add("resizers");const Gt=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||Gt.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const Wt of Gt){const pn=document.createElement("div");Ft(this,bt).append(pn),pn.classList.add("resizer",Wt),pn.addEventListener("pointerdown",On(this,Nt,wm).bind(this,Wt)),pn.addEventListener("contextmenu",ut.noContextMenu)}this.div.prepend(Ft(this,bt))},wm=function(Gt,Wt){Wt.preventDefault();const{isMac:pn}=ct.FeatureTest.platform;if(Wt.button!==0||Wt.ctrlKey&&pn)return;const rn=On(this,Nt,Rm).bind(this,Gt),Vt=this._isDraggable;this._isDraggable=!1;const $t={passive:!0,capture:!0};window.addEventListener("pointermove",rn,$t);const Xt=this.x,Zt=this.y,Jt=this.width,Yt=this.height,gn=this.parent.div.style.cursor,_n=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Wt.target).cursor;const Sn=()=>{this._isDraggable=Vt,window.removeEventListener("pointerup",Sn),window.removeEventListener("blur",Sn),window.removeEventListener("pointermove",rn,$t),this.parent.div.style.cursor=gn,this.div.style.cursor=_n;const jn=this.x,Dn=this.y,Gn=this.width,Kn=this.height;jn===Xt&&Dn===Zt&&Gn===Jt&&Kn===Yt||this.addCommands({cmd:()=>{this.width=Gn,this.height=Kn,this.x=jn,this.y=Dn;const[hn,En]=this.parentDimensions;this.setDims(hn*Gn,En*Kn),this.fixAndSetPosition()},undo:()=>{this.width=Jt,this.height=Yt,this.x=Xt,this.y=Zt;const[hn,En]=this.parentDimensions;this.setDims(hn*Jt,En*Yt),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Sn),window.addEventListener("blur",Sn)},Rm=function(Gt,Wt){const[pn,rn]=this.parentDimensions,Vt=this.x,$t=this.y,Xt=this.width,Zt=this.height,Jt=Kt.MIN_SIZE/pn,Yt=Kt.MIN_SIZE/rn,gn=br=>Math.round(br*1e4)/1e4,_n=On(this,Nt,_p).call(this,this.rotation),Sn=(br,Er)=>[_n[0]*br+_n[2]*Er,_n[1]*br+_n[3]*Er],jn=On(this,Nt,_p).call(this,360-this.rotation),Dn=(br,Er)=>[jn[0]*br+jn[2]*Er,jn[1]*br+jn[3]*Er];let Gn,Kn,hn=!1,En=!1;switch(Gt){case"topLeft":hn=!0,Gn=(br,Er)=>[0,0],Kn=(br,Er)=>[br,Er];break;case"topMiddle":Gn=(br,Er)=>[br/2,0],Kn=(br,Er)=>[br/2,Er];break;case"topRight":hn=!0,Gn=(br,Er)=>[br,0],Kn=(br,Er)=>[0,Er];break;case"middleRight":En=!0,Gn=(br,Er)=>[br,Er/2],Kn=(br,Er)=>[0,Er/2];break;case"bottomRight":hn=!0,Gn=(br,Er)=>[br,Er],Kn=(br,Er)=>[0,0];break;case"bottomMiddle":Gn=(br,Er)=>[br/2,Er],Kn=(br,Er)=>[br/2,0];break;case"bottomLeft":hn=!0,Gn=(br,Er)=>[0,Er],Kn=(br,Er)=>[br,0];break;case"middleLeft":En=!0,Gn=(br,Er)=>[0,Er/2],Kn=(br,Er)=>[br,Er/2];break}const cn=Gn(Xt,Zt),dn=Kn(Xt,Zt);let wn=Sn(...dn);const kn=gn(Vt+wn[0]),Un=gn($t+wn[1]);let Jn=1,An=1,[xn,er]=this.screenToPageTranslation(Wt.movementX,Wt.movementY);if([xn,er]=Dn(xn/pn,er/rn),hn){const br=Math.hypot(Xt,Zt);Jn=An=Math.max(Math.min(Math.hypot(dn[0]-cn[0]-xn,dn[1]-cn[1]-er)/br,1/Xt,1/Zt),Jt/Xt,Yt/Zt)}else En?Jn=Math.max(Jt,Math.min(1,Math.abs(dn[0]-cn[0]-xn)))/Xt:An=Math.max(Yt,Math.min(1,Math.abs(dn[1]-cn[1]-er)))/Zt;const Qn=gn(Xt*Jn),gr=gn(Zt*An);wn=Sn(...Kn(Qn,gr));const yr=kn-wn[0],Fr=Un-wn[1];this.width=Qn,this.height=gr,this.x=yr,this.y=Fr,this.setDims(pn*Qn,rn*gr),this.fixAndSetPosition()},Ep=async function(){var pn;const Gt=Ft(this,mt);if(!Gt)return;if(!Ft(this,ft)&&!Ft(this,pt)){Gt.classList.remove("done"),(pn=Ft(this,gt))==null||pn.remove();return}Kt._l10nPromise.get("editor_alt_text_edit_button_label").then(rn=>{Gt.setAttribute("aria-label",rn)});let Wt=Ft(this,gt);if(!Wt){qn(this,gt,Wt=document.createElement("span")),Wt.className="tooltip",Wt.setAttribute("role","tooltip");const rn=Wt.id=`alt-text-tooltip-${this.id}`;Gt.setAttribute("aria-describedby",rn);const Vt=100;Gt.addEventListener("mouseenter",()=>{qn(this,yt,setTimeout(()=>{qn(this,yt,null),Ft(this,gt).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},Vt))}),Gt.addEventListener("mouseleave",()=>{var $t;clearTimeout(Ft(this,yt)),qn(this,yt,null),($t=Ft(this,gt))==null||$t.classList.remove("show")})}Gt.classList.add("done"),Wt.innerText=Ft(this,pt)?await Kt._l10nPromise.get("editor_alt_text_decorative_tooltip"):Ft(this,ft),Wt.parentNode||Gt.append(Wt)},Tm=function(Gt){if(!this._isDraggable)return;const Wt=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let pn,rn;Wt&&(pn={passive:!0,capture:!0},rn=$t=>{const[Xt,Zt]=this.screenToPageTranslation($t.movementX,$t.movementY);this._uiManager.dragSelectedEditors(Xt,Zt)},window.addEventListener("pointermove",rn,pn));const Vt=()=>{if(window.removeEventListener("pointerup",Vt),window.removeEventListener("blur",Vt),Wt&&window.removeEventListener("pointermove",rn,pn),qn(this,wt,!1),!this._uiManager.endDragSession()){const{isMac:$t}=ct.FeatureTest.platform;Gt.ctrlKey&&!$t||Gt.shiftKey||Gt.metaKey&&$t?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Vt),window.addEventListener("blur",Vt)},Wn(Kt,Ct),zr(Kt,"_borderLineWidth",-1),zr(Kt,"_colorManager",new lt.ColorManager),zr(Kt,"_zIndex",1),zr(Kt,"SMALL_EDITOR_SIZE",0);let dt=Kt;rt.AnnotationEditor=dt;class ht extends dt{constructor(Gt){super(Gt),this.annotationElementId=Gt.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(ot,rt,at)=>{var xt,bt,Et,Rt,wt,wp,kt,It,Nt,Pt,Tt,Am,Dt,jt,Mt,zt,Qt,qt,Kt,sn,Gt,Wt,pn,rn,Vt,$t,Xt,Zt,Jt,Yt,gn,_n,Sn,jn,Dn,Gn,Kn,hn,En,cn,dn,wn,kn,Un,Jn,An,xn,Sm,Rp,Tp,Hu,Ap,Sp,jo,bu,Cm,Pm,Cp,vu,Pp;Object.defineProperty(rt,"__esModule",{value:!0}),rt.KeyboardManager=rt.CommandManager=rt.ColorManager=rt.AnnotationEditorUIManager=void 0,rt.bindEvents=ut,rt.opacityToHex=dt;var lt=at(1),ct=at(6);function ut(Or,vn,tr){for(const dr of tr)vn.addEventListener(dr,Or[dr].bind(Or))}function dt(Or){return Math.round(Math.min(255,Math.max(1,255*Or))).toString(16).padStart(2,"0")}class ht{constructor(){Wn(this,xt,0)}getId(){return`${lt.AnnotationEditorPrefix}${xu(this,xt)._++}`}}xt=new WeakMap;const At=class At{constructor(){Wn(this,wt);Wn(this,bt,(0,lt.getUuid)());Wn(this,Et,0);Wn(this,Rt,null)}static get _isSVGFittingCanvas(){const vn='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',dr=new OffscreenCanvas(1,3).getContext("2d"),Rr=new Image;Rr.src=vn;const Ir=Rr.decode().then(()=>(dr.drawImage(Rr,0,0,1,1,0,0,1,3),new Uint32Array(dr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,lt.shadow)(this,"_isSVGFittingCanvas",Ir)}async getFromFile(vn){const{lastModified:tr,name:dr,size:Rr,type:Ir}=vn;return On(this,wt,wp).call(this,`${tr}_${dr}_${Rr}_${Ir}`,vn)}async getFromUrl(vn){return On(this,wt,wp).call(this,vn,vn)}async getFromId(vn){Ft(this,Rt)||qn(this,Rt,new Map);const tr=Ft(this,Rt).get(vn);return tr?tr.bitmap?(tr.refCounter+=1,tr):tr.file?this.getFromFile(tr.file):this.getFromUrl(tr.url):null}getSvgUrl(vn){const tr=Ft(this,Rt).get(vn);return tr!=null&&tr.isSvg?tr.svgUrl:null}deleteId(vn){Ft(this,Rt)||qn(this,Rt,new Map);const tr=Ft(this,Rt).get(vn);tr&&(tr.refCounter-=1,tr.refCounter===0&&(tr.bitmap=null))}isValidId(vn){return vn.startsWith(`image_${Ft(this,bt)}_`)}};bt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,wt=new WeakSet,wp=async function(vn,tr){Ft(this,Rt)||qn(this,Rt,new Map);let dr=Ft(this,Rt).get(vn);if(dr===null)return null;if(dr!=null&&dr.bitmap)return dr.refCounter+=1,dr;try{dr||(dr={bitmap:null,id:`image_${Ft(this,bt)}_${xu(this,Et)._++}`,refCounter:0,isSvg:!1});let Rr;if(typeof tr=="string"){dr.url=tr;const Ir=await fetch(tr);if(!Ir.ok)throw new Error(Ir.statusText);Rr=await Ir.blob()}else Rr=dr.file=tr;if(Rr.type==="image/svg+xml"){const Ir=At._isSVGFittingCanvas,_r=new FileReader,yn=new Image,fn=new Promise((Pn,Hn)=>{yn.onload=()=>{dr.bitmap=yn,dr.isSvg=!0,Pn()},_r.onload=async()=>{const Zn=dr.svgUrl=_r.result;yn.src=await Ir?`${Zn}#svgView(preserveAspectRatio(none))`:Zn},yn.onerror=_r.onerror=Hn});_r.readAsDataURL(Rr),await fn}else dr.bitmap=await createImageBitmap(Rr);dr.refCounter=1}catch(Rr){console.error(Rr),dr=null}return Ft(this,Rt).set(vn,dr),dr&&Ft(this,Rt).set(dr.id,dr),dr};let ft=At;class pt{constructor(vn=128){Wn(this,kt,[]);Wn(this,It,!1);Wn(this,Nt);Wn(this,Pt,-1);qn(this,Nt,vn)}add({cmd:vn,undo:tr,mustExec:dr,type:Rr=NaN,overwriteIfSameType:Ir=!1,keepUndo:_r=!1}){if(dr&&vn(),Ft(this,It))return;const yn={cmd:vn,undo:tr,type:Rr};if(Ft(this,Pt)===-1){Ft(this,kt).length>0&&(Ft(this,kt).length=0),qn(this,Pt,0),Ft(this,kt).push(yn);return}if(Ir&&Ft(this,kt)[Ft(this,Pt)].type===Rr){_r&&(yn.undo=Ft(this,kt)[Ft(this,Pt)].undo),Ft(this,kt)[Ft(this,Pt)]=yn;return}const fn=Ft(this,Pt)+1;fn===Ft(this,Nt)?Ft(this,kt).splice(0,1):(qn(this,Pt,fn),fn<Ft(this,kt).length&&Ft(this,kt).splice(fn)),Ft(this,kt).push(yn)}undo(){Ft(this,Pt)!==-1&&(qn(this,It,!0),Ft(this,kt)[Ft(this,Pt)].undo(),qn(this,It,!1),qn(this,Pt,Ft(this,Pt)-1))}redo(){Ft(this,Pt)<Ft(this,kt).length-1&&(qn(this,Pt,Ft(this,Pt)+1),qn(this,It,!0),Ft(this,kt)[Ft(this,Pt)].cmd(),qn(this,It,!1))}hasSomethingToUndo(){return Ft(this,Pt)!==-1}hasSomethingToRedo(){return Ft(this,Pt)<Ft(this,kt).length-1}destroy(){qn(this,kt,null)}}kt=new WeakMap,It=new WeakMap,Nt=new WeakMap,Pt=new WeakMap,rt.CommandManager=pt;class mt{constructor(vn){Wn(this,Tt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:tr}=lt.FeatureTest.platform;for(const[dr,Rr,Ir={}]of vn)for(const _r of dr){const yn=_r.startsWith("mac+");tr&&yn?(this.callbacks.set(_r.slice(4),{callback:Rr,options:Ir}),this.allKeys.add(_r.split("+").at(-1))):!tr&&!yn&&(this.callbacks.set(_r,{callback:Rr,options:Ir}),this.allKeys.add(_r.split("+").at(-1)))}}exec(vn,tr){if(!this.allKeys.has(tr.key))return;const dr=this.callbacks.get(On(this,Tt,Am).call(this,tr));if(!dr)return;const{callback:Rr,options:{bubbles:Ir=!1,args:_r=[],checker:yn=null}}=dr;yn&&!yn(vn,tr)||(Rr.bind(vn,..._r)(),Ir||(tr.stopPropagation(),tr.preventDefault()))}}Tt=new WeakSet,Am=function(vn){vn.altKey&&this.buffer.push("alt"),vn.ctrlKey&&this.buffer.push("ctrl"),vn.metaKey&&this.buffer.push("meta"),vn.shiftKey&&this.buffer.push("shift"),this.buffer.push(vn.key);const tr=this.buffer.join("+");return this.buffer.length=0,tr},rt.KeyboardManager=mt;const Ot=class Ot{get _colors(){const vn=new Map([["CanvasText",null],["Canvas",null]]);return(0,ct.getColorValues)(vn),(0,lt.shadow)(this,"_colors",vn)}convert(vn){const tr=(0,ct.getRGB)(vn);if(!window.matchMedia("(forced-colors: active)").matches)return tr;for(const[dr,Rr]of this._colors)if(Rr.every((Ir,_r)=>Ir===tr[_r]))return Ot._colorsMapping.get(dr);return tr}getHexCode(vn){const tr=this._colors.get(vn);return tr?lt.Util.makeHexColor(...tr):vn}};zr(Ot,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let gt=Ot;rt.ColorManager=gt;const Tr=class Tr{constructor(vn,tr,dr,Rr,Ir,_r){Wn(this,xn);Wn(this,Dt,null);Wn(this,jt,new Map);Wn(this,Mt,new Map);Wn(this,zt,null);Wn(this,Qt,null);Wn(this,qt,new pt);Wn(this,Kt,0);Wn(this,sn,new Set);Wn(this,Gt,null);Wn(this,Wt,null);Wn(this,pn,new Set);Wn(this,rn,null);Wn(this,Vt,new ht);Wn(this,$t,!1);Wn(this,Xt,!1);Wn(this,Zt,null);Wn(this,Jt,lt.AnnotationEditorType.NONE);Wn(this,Yt,new Set);Wn(this,gn,null);Wn(this,_n,this.blur.bind(this));Wn(this,Sn,this.focus.bind(this));Wn(this,jn,this.copy.bind(this));Wn(this,Dn,this.cut.bind(this));Wn(this,Gn,this.paste.bind(this));Wn(this,Kn,this.keydown.bind(this));Wn(this,hn,this.onEditingAction.bind(this));Wn(this,En,this.onPageChanging.bind(this));Wn(this,cn,this.onScaleChanging.bind(this));Wn(this,dn,this.onRotationChanging.bind(this));Wn(this,wn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});Wn(this,kn,[0,0]);Wn(this,Un,null);Wn(this,Jn,null);Wn(this,An,null);qn(this,Jn,vn),qn(this,An,tr),qn(this,zt,dr),this._eventBus=Rr,this._eventBus._on("editingaction",Ft(this,hn)),this._eventBus._on("pagechanging",Ft(this,En)),this._eventBus._on("scalechanging",Ft(this,cn)),this._eventBus._on("rotationchanging",Ft(this,dn)),qn(this,Qt,Ir.annotationStorage),qn(this,rn,Ir.filterFactory),qn(this,gn,_r),this.viewParameters={realScale:ct.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const vn=Tr.prototype,tr=Ir=>{const{activeElement:_r}=document;return _r&&Ft(Ir,Jn).contains(_r)&&Ir.hasSomethingToControl()},dr=this.TRANSLATE_SMALL,Rr=this.TRANSLATE_BIG;return(0,lt.shadow)(this,"_keyboardManager",new mt([[["ctrl+a","mac+meta+a"],vn.selectAll],[["ctrl+z","mac+meta+z"],vn.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],vn.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],vn.delete],[["Escape","mac+Escape"],vn.unselectAll],[["ArrowLeft","mac+ArrowLeft"],vn.translateSelectedEditors,{args:[-dr,0],checker:tr}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],vn.translateSelectedEditors,{args:[-Rr,0],checker:tr}],[["ArrowRight","mac+ArrowRight"],vn.translateSelectedEditors,{args:[dr,0],checker:tr}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],vn.translateSelectedEditors,{args:[Rr,0],checker:tr}],[["ArrowUp","mac+ArrowUp"],vn.translateSelectedEditors,{args:[0,-dr],checker:tr}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],vn.translateSelectedEditors,{args:[0,-Rr],checker:tr}],[["ArrowDown","mac+ArrowDown"],vn.translateSelectedEditors,{args:[0,dr],checker:tr}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],vn.translateSelectedEditors,{args:[0,Rr],checker:tr}]]))}destroy(){On(this,xn,Hu).call(this),On(this,xn,Rp).call(this),this._eventBus._off("editingaction",Ft(this,hn)),this._eventBus._off("pagechanging",Ft(this,En)),this._eventBus._off("scalechanging",Ft(this,cn)),this._eventBus._off("rotationchanging",Ft(this,dn));for(const vn of Ft(this,Mt).values())vn.destroy();Ft(this,Mt).clear(),Ft(this,jt).clear(),Ft(this,pn).clear(),qn(this,Dt,null),Ft(this,Yt).clear(),Ft(this,qt).destroy(),Ft(this,zt).destroy()}get hcmFilter(){return(0,lt.shadow)(this,"hcmFilter",Ft(this,gn)?Ft(this,rn).addHCMFilter(Ft(this,gn).foreground,Ft(this,gn).background):"none")}get direction(){return(0,lt.shadow)(this,"direction",getComputedStyle(Ft(this,Jn)).direction)}editAltText(vn){var tr;(tr=Ft(this,zt))==null||tr.editAltText(this,vn)}onPageChanging({pageNumber:vn}){qn(this,Kt,vn-1)}focusMainContainer(){Ft(this,Jn).focus()}findParent(vn,tr){for(const dr of Ft(this,Mt).values()){const{x:Rr,y:Ir,width:_r,height:yn}=dr.div.getBoundingClientRect();if(vn>=Rr&&vn<=Rr+_r&&tr>=Ir&&tr<=Ir+yn)return dr}return null}disableUserSelect(vn=!1){Ft(this,An).classList.toggle("noUserSelect",vn)}addShouldRescale(vn){Ft(this,pn).add(vn)}removeShouldRescale(vn){Ft(this,pn).delete(vn)}onScaleChanging({scale:vn}){this.commitOrRemove(),this.viewParameters.realScale=vn*ct.PixelsPerInch.PDF_TO_CSS_UNITS;for(const tr of Ft(this,pn))tr.onScaleChanging()}onRotationChanging({pagesRotation:vn}){this.commitOrRemove(),this.viewParameters.rotation=vn}addToAnnotationStorage(vn){!vn.isEmpty()&&Ft(this,Qt)&&!Ft(this,Qt).has(vn.id)&&Ft(this,Qt).setValue(vn.id,vn)}blur(){if(!this.hasSelection)return;const{activeElement:vn}=document;for(const tr of Ft(this,Yt))if(tr.div.contains(vn)){qn(this,Zt,[tr,vn]),tr._focusEventsAllowed=!1;break}}focus(){if(!Ft(this,Zt))return;const[vn,tr]=Ft(this,Zt);qn(this,Zt,null),tr.addEventListener("focusin",()=>{vn._focusEventsAllowed=!0},{once:!0}),tr.focus()}addEditListeners(){On(this,xn,Tp).call(this),On(this,xn,Ap).call(this)}removeEditListeners(){On(this,xn,Hu).call(this),On(this,xn,Sp).call(this)}copy(vn){var dr;if(vn.preventDefault(),(dr=Ft(this,Dt))==null||dr.commitOrRemove(),!this.hasSelection)return;const tr=[];for(const Rr of Ft(this,Yt)){const Ir=Rr.serialize(!0);Ir&&tr.push(Ir)}tr.length!==0&&vn.clipboardData.setData("application/pdfjs",JSON.stringify(tr))}cut(vn){this.copy(vn),this.delete()}paste(vn){vn.preventDefault();const{clipboardData:tr}=vn;for(const Ir of tr.items)for(const _r of Ft(this,Wt))if(_r.isHandlingMimeForPasting(Ir.type)){_r.paste(Ir,this.currentLayer);return}let dr=tr.getData("application/pdfjs");if(!dr)return;try{dr=JSON.parse(dr)}catch(Ir){(0,lt.warn)(`paste: "${Ir.message}".`);return}if(!Array.isArray(dr))return;this.unselectAll();const Rr=this.currentLayer;try{const Ir=[];for(const fn of dr){const Pn=Rr.deserialize(fn);if(!Pn)return;Ir.push(Pn)}const _r=()=>{for(const fn of Ir)On(this,xn,Cp).call(this,fn);On(this,xn,Pp).call(this,Ir)},yn=()=>{for(const fn of Ir)fn.remove()};this.addCommands({cmd:_r,undo:yn,mustExec:!0})}catch(Ir){(0,lt.warn)(`paste: "${Ir.message}".`)}}keydown(vn){var tr;(tr=this.getActive())!=null&&tr.shouldGetKeyboardEvents()||Tr._keyboardManager.exec(this,vn)}onEditingAction(vn){["undo","redo","delete","selectAll"].includes(vn.name)&&this[vn.name]()}setEditingState(vn){vn?(On(this,xn,Sm).call(this),On(this,xn,Tp).call(this),On(this,xn,Ap).call(this),On(this,xn,jo).call(this,{isEditing:Ft(this,Jt)!==lt.AnnotationEditorType.NONE,isEmpty:On(this,xn,vu).call(this),hasSomethingToUndo:Ft(this,qt).hasSomethingToUndo(),hasSomethingToRedo:Ft(this,qt).hasSomethingToRedo(),hasSelectedEditor:!1})):(On(this,xn,Rp).call(this),On(this,xn,Hu).call(this),On(this,xn,Sp).call(this),On(this,xn,jo).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(vn){if(!Ft(this,Wt)){qn(this,Wt,vn);for(const tr of Ft(this,Wt))On(this,xn,bu).call(this,tr.defaultPropertiesToUpdate)}}getId(){return Ft(this,Vt).getId()}get currentLayer(){return Ft(this,Mt).get(Ft(this,Kt))}getLayer(vn){return Ft(this,Mt).get(vn)}get currentPageIndex(){return Ft(this,Kt)}addLayer(vn){Ft(this,Mt).set(vn.pageIndex,vn),Ft(this,$t)?vn.enable():vn.disable()}removeLayer(vn){Ft(this,Mt).delete(vn.pageIndex)}updateMode(vn,tr=null){if(Ft(this,Jt)!==vn){if(qn(this,Jt,vn),vn===lt.AnnotationEditorType.NONE){this.setEditingState(!1),On(this,xn,Pm).call(this);return}this.setEditingState(!0),On(this,xn,Cm).call(this),this.unselectAll();for(const dr of Ft(this,Mt).values())dr.updateMode(vn);if(tr){for(const dr of Ft(this,jt).values())if(dr.annotationElementId===tr){this.setSelected(dr),dr.enterInEditMode();break}}}}updateToolbar(vn){vn!==Ft(this,Jt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:vn})}updateParams(vn,tr){if(Ft(this,Wt)){if(vn===lt.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(vn);return}for(const dr of Ft(this,Yt))dr.updateParams(vn,tr);for(const dr of Ft(this,Wt))dr.updateDefaultParams(vn,tr)}}enableWaiting(vn=!1){if(Ft(this,Xt)!==vn){qn(this,Xt,vn);for(const tr of Ft(this,Mt).values())vn?tr.disableClick():tr.enableClick(),tr.div.classList.toggle("waiting",vn)}}getEditors(vn){const tr=[];for(const dr of Ft(this,jt).values())dr.pageIndex===vn&&tr.push(dr);return tr}getEditor(vn){return Ft(this,jt).get(vn)}addEditor(vn){Ft(this,jt).set(vn.id,vn)}removeEditor(vn){var tr;Ft(this,jt).delete(vn.id),this.unselect(vn),(!vn.annotationElementId||!Ft(this,sn).has(vn.annotationElementId))&&((tr=Ft(this,Qt))==null||tr.remove(vn.id))}addDeletedAnnotationElement(vn){Ft(this,sn).add(vn.annotationElementId),vn.deleted=!0}isDeletedAnnotationElement(vn){return Ft(this,sn).has(vn)}removeDeletedAnnotationElement(vn){Ft(this,sn).delete(vn.annotationElementId),vn.deleted=!1}setActiveEditor(vn){Ft(this,Dt)!==vn&&(qn(this,Dt,vn),vn&&On(this,xn,bu).call(this,vn.propertiesToUpdate))}toggleSelected(vn){if(Ft(this,Yt).has(vn)){Ft(this,Yt).delete(vn),vn.unselect(),On(this,xn,jo).call(this,{hasSelectedEditor:this.hasSelection});return}Ft(this,Yt).add(vn),vn.select(),On(this,xn,bu).call(this,vn.propertiesToUpdate),On(this,xn,jo).call(this,{hasSelectedEditor:!0})}setSelected(vn){for(const tr of Ft(this,Yt))tr!==vn&&tr.unselect();Ft(this,Yt).clear(),Ft(this,Yt).add(vn),vn.select(),On(this,xn,bu).call(this,vn.propertiesToUpdate),On(this,xn,jo).call(this,{hasSelectedEditor:!0})}isSelected(vn){return Ft(this,Yt).has(vn)}unselect(vn){vn.unselect(),Ft(this,Yt).delete(vn),On(this,xn,jo).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ft(this,Yt).size!==0}undo(){Ft(this,qt).undo(),On(this,xn,jo).call(this,{hasSomethingToUndo:Ft(this,qt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:On(this,xn,vu).call(this)})}redo(){Ft(this,qt).redo(),On(this,xn,jo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ft(this,qt).hasSomethingToRedo(),isEmpty:On(this,xn,vu).call(this)})}addCommands(vn){Ft(this,qt).add(vn),On(this,xn,jo).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:On(this,xn,vu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const vn=[...Ft(this,Yt)],tr=()=>{for(const Rr of vn)Rr.remove()},dr=()=>{for(const Rr of vn)On(this,xn,Cp).call(this,Rr)};this.addCommands({cmd:tr,undo:dr,mustExec:!0})}commitOrRemove(){var vn;(vn=Ft(this,Dt))==null||vn.commitOrRemove()}hasSomethingToControl(){return Ft(this,Dt)||this.hasSelection}selectAll(){for(const vn of Ft(this,Yt))vn.commit();On(this,xn,Pp).call(this,Ft(this,jt).values())}unselectAll(){if(Ft(this,Dt)){Ft(this,Dt).commitOrRemove();return}if(this.hasSelection){for(const vn of Ft(this,Yt))vn.unselect();Ft(this,Yt).clear(),On(this,xn,jo).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(vn,tr,dr=!1){if(dr||this.commitOrRemove(),!this.hasSelection)return;Ft(this,kn)[0]+=vn,Ft(this,kn)[1]+=tr;const[Rr,Ir]=Ft(this,kn),_r=[...Ft(this,Yt)],yn=1e3;Ft(this,Un)&&clearTimeout(Ft(this,Un)),qn(this,Un,setTimeout(()=>{qn(this,Un,null),Ft(this,kn)[0]=Ft(this,kn)[1]=0,this.addCommands({cmd:()=>{for(const fn of _r)Ft(this,jt).has(fn.id)&&fn.translateInPage(Rr,Ir)},undo:()=>{for(const fn of _r)Ft(this,jt).has(fn.id)&&fn.translateInPage(-Rr,-Ir)},mustExec:!1})},yn));for(const fn of _r)fn.translateInPage(vn,tr)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),qn(this,Gt,new Map);for(const vn of Ft(this,Yt))Ft(this,Gt).set(vn,{savedX:vn.x,savedY:vn.y,savedPageIndex:vn.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ft(this,Gt))return!1;this.disableUserSelect(!1);const vn=Ft(this,Gt);qn(this,Gt,null);let tr=!1;for(const[{x:Rr,y:Ir,pageIndex:_r},yn]of vn)yn.newX=Rr,yn.newY=Ir,yn.newPageIndex=_r,tr||(tr=Rr!==yn.savedX||Ir!==yn.savedY||_r!==yn.savedPageIndex);if(!tr)return!1;const dr=(Rr,Ir,_r,yn)=>{if(Ft(this,jt).has(Rr.id)){const fn=Ft(this,Mt).get(yn);fn?Rr._setParentAndPosition(fn,Ir,_r):(Rr.pageIndex=yn,Rr.x=Ir,Rr.y=_r)}};return this.addCommands({cmd:()=>{for(const[Rr,{newX:Ir,newY:_r,newPageIndex:yn}]of vn)dr(Rr,Ir,_r,yn)},undo:()=>{for(const[Rr,{savedX:Ir,savedY:_r,savedPageIndex:yn}]of vn)dr(Rr,Ir,_r,yn)},mustExec:!0}),!0}dragSelectedEditors(vn,tr){if(Ft(this,Gt))for(const dr of Ft(this,Gt).keys())dr.drag(vn,tr)}rebuild(vn){if(vn.parent===null){const tr=this.getLayer(vn.pageIndex);tr?(tr.changeParent(vn),tr.addOrRebuild(vn)):(this.addEditor(vn),this.addToAnnotationStorage(vn),vn.rebuild())}else vn.parent.addOrRebuild(vn)}isActive(vn){return Ft(this,Dt)===vn}getActive(){return Ft(this,Dt)}getMode(){return Ft(this,Jt)}get imageManager(){return(0,lt.shadow)(this,"imageManager",new ft)}};Dt=new WeakMap,jt=new WeakMap,Mt=new WeakMap,zt=new WeakMap,Qt=new WeakMap,qt=new WeakMap,Kt=new WeakMap,sn=new WeakMap,Gt=new WeakMap,Wt=new WeakMap,pn=new WeakMap,rn=new WeakMap,Vt=new WeakMap,$t=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,Jt=new WeakMap,Yt=new WeakMap,gn=new WeakMap,_n=new WeakMap,Sn=new WeakMap,jn=new WeakMap,Dn=new WeakMap,Gn=new WeakMap,Kn=new WeakMap,hn=new WeakMap,En=new WeakMap,cn=new WeakMap,dn=new WeakMap,wn=new WeakMap,kn=new WeakMap,Un=new WeakMap,Jn=new WeakMap,An=new WeakMap,xn=new WeakSet,Sm=function(){window.addEventListener("focus",Ft(this,Sn)),window.addEventListener("blur",Ft(this,_n))},Rp=function(){window.removeEventListener("focus",Ft(this,Sn)),window.removeEventListener("blur",Ft(this,_n))},Tp=function(){window.addEventListener("keydown",Ft(this,Kn),{capture:!0})},Hu=function(){window.removeEventListener("keydown",Ft(this,Kn),{capture:!0})},Ap=function(){document.addEventListener("copy",Ft(this,jn)),document.addEventListener("cut",Ft(this,Dn)),document.addEventListener("paste",Ft(this,Gn))},Sp=function(){document.removeEventListener("copy",Ft(this,jn)),document.removeEventListener("cut",Ft(this,Dn)),document.removeEventListener("paste",Ft(this,Gn))},jo=function(vn){Object.entries(vn).some(([dr,Rr])=>Ft(this,wn)[dr]!==Rr)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ft(this,wn),vn)})},bu=function(vn){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:vn})},Cm=function(){if(!Ft(this,$t)){qn(this,$t,!0);for(const vn of Ft(this,Mt).values())vn.enable()}},Pm=function(){if(this.unselectAll(),Ft(this,$t)){qn(this,$t,!1);for(const vn of Ft(this,Mt).values())vn.disable()}},Cp=function(vn){const tr=Ft(this,Mt).get(vn.pageIndex);tr?tr.addOrRebuild(vn):this.addEditor(vn)},vu=function(){if(Ft(this,jt).size===0)return!0;if(Ft(this,jt).size===1)for(const vn of Ft(this,jt).values())return vn.isEmpty();return!1},Pp=function(vn){Ft(this,Yt).clear();for(const tr of vn)tr.isEmpty()||(Ft(this,Yt).add(tr),tr.select());On(this,xn,jo).call(this,{hasSelectedEditor:!0})},zr(Tr,"TRANSLATE_SMALL",1),zr(Tr,"TRANSLATE_BIG",10);let yt=Tr;rt.AnnotationEditorUIManager=yt},(ot,rt,at)=>{var Kt,sn,Gt,Wt,pn,rn,Vt,$t,Xt,Zt,Jt,Yt,ru,su,kp,zu,Wu,_u,Eu;Object.defineProperty(rt,"__esModule",{value:!0}),rt.StatTimer=rt.RenderingCancelledException=rt.PixelsPerInch=rt.PageViewport=rt.PDFDateString=rt.DOMStandardFontDataFactory=rt.DOMSVGFactory=rt.DOMFilterFactory=rt.DOMCanvasFactory=rt.DOMCMapReaderFactory=void 0,rt.deprecated=Pt,rt.getColorValues=jt,rt.getCurrentTransform=Mt,rt.getCurrentTransformInverse=zt,rt.getFilenameFromUrl=wt,rt.getPdfFilenameFromUrl=_t,rt.getRGB=Dt,rt.getXfaPageViewport=Ot,rt.isDataScheme=Et,rt.isPdfFile=Rt,rt.isValidFetchUrl=kt,rt.loadScript=Nt,rt.noContextMenu=It,rt.setLayerDimensions=Qt;var lt=at(7),ct=at(1);const ut="http://www.w3.org/2000/svg",qt=class qt{};zr(qt,"CSS",96),zr(qt,"PDF",72),zr(qt,"PDF_TO_CSS_UNITS",qt.CSS/qt.PDF);let dt=qt;rt.PixelsPerInch=dt;class ht extends lt.BaseFilterFactory{constructor({docId:cn,ownerDocument:dn=globalThis.document}={}){super();Wn(this,Yt);Wn(this,Kt);Wn(this,sn);Wn(this,Gt);Wn(this,Wt);Wn(this,pn);Wn(this,rn);Wn(this,Vt);Wn(this,$t);Wn(this,Xt);Wn(this,Zt);Wn(this,Jt,0);qn(this,Gt,cn),qn(this,Wt,dn)}addFilter(cn){if(!cn)return"none";let dn=Ft(this,Yt,ru).get(cn);if(dn)return dn;let wn,kn,Un,Jn;if(cn.length===1){const Qn=cn[0],gr=new Array(256);for(let yr=0;yr<256;yr++)gr[yr]=Qn[yr]/255;Jn=wn=kn=Un=gr.join(",")}else{const[Qn,gr,yr]=cn,Fr=new Array(256),br=new Array(256),Er=new Array(256);for(let Yr=0;Yr<256;Yr++)Fr[Yr]=Qn[Yr]/255,br[Yr]=gr[Yr]/255,Er[Yr]=yr[Yr]/255;wn=Fr.join(","),kn=br.join(","),Un=Er.join(","),Jn=`${wn}${kn}${Un}`}if(dn=Ft(this,Yt,ru).get(Jn),dn)return Ft(this,Yt,ru).set(cn,dn),dn;const An=`g_${Ft(this,Gt)}_transfer_map_${xu(this,Jt)._++}`,xn=`url(#${An})`;Ft(this,Yt,ru).set(cn,xn),Ft(this,Yt,ru).set(Jn,xn);const er=On(this,Yt,zu).call(this,An);return On(this,Yt,_u).call(this,wn,kn,Un,er),xn}addHCMFilter(cn,dn){var gr;const wn=`${cn}-${dn}`;if(Ft(this,rn)===wn)return Ft(this,Vt);if(qn(this,rn,wn),qn(this,Vt,"none"),(gr=Ft(this,pn))==null||gr.remove(),!cn||!dn)return Ft(this,Vt);const kn=On(this,Yt,Eu).call(this,cn);cn=ct.Util.makeHexColor(...kn);const Un=On(this,Yt,Eu).call(this,dn);if(dn=ct.Util.makeHexColor(...Un),Ft(this,Yt,su).style.color="",cn==="#000000"&&dn==="#ffffff"||cn===dn)return Ft(this,Vt);const Jn=new Array(256);for(let yr=0;yr<=255;yr++){const Fr=yr/255;Jn[yr]=Fr<=.03928?Fr/12.92:((Fr+.055)/1.055)**2.4}const An=Jn.join(","),xn=`g_${Ft(this,Gt)}_hcm_filter`,er=qn(this,$t,On(this,Yt,zu).call(this,xn));On(this,Yt,_u).call(this,An,An,An,er),On(this,Yt,kp).call(this,er);const Qn=(yr,Fr)=>{const br=kn[yr]/255,Er=Un[yr]/255,Yr=new Array(Fr+1);for(let ss=0;ss<=Fr;ss++)Yr[ss]=br+ss/Fr*(Er-br);return Yr.join(",")};return On(this,Yt,_u).call(this,Qn(0,5),Qn(1,5),Qn(2,5),er),qn(this,Vt,`url(#${xn})`),Ft(this,Vt)}addHighlightHCMFilter(cn,dn,wn,kn){var Er;const Un=`${cn}-${dn}-${wn}-${kn}`;if(Ft(this,Xt)===Un)return Ft(this,Zt);if(qn(this,Xt,Un),qn(this,Zt,"none"),(Er=Ft(this,$t))==null||Er.remove(),!cn||!dn)return Ft(this,Zt);const[Jn,An]=[cn,dn].map(On(this,Yt,Eu).bind(this));let xn=Math.round(.2126*Jn[0]+.7152*Jn[1]+.0722*Jn[2]),er=Math.round(.2126*An[0]+.7152*An[1]+.0722*An[2]),[Qn,gr]=[wn,kn].map(On(this,Yt,Eu).bind(this));er<xn&&([xn,er,Qn,gr]=[er,xn,gr,Qn]),Ft(this,Yt,su).style.color="";const yr=(Yr,ss,nr)=>{const Ln=new Array(256),Vn=(er-xn)/nr,vr=Yr/255,Tr=(ss-Yr)/(255*nr);let Or=0;for(let vn=0;vn<=nr;vn++){const tr=Math.round(xn+vn*Vn),dr=vr+vn*Tr;for(let Rr=Or;Rr<=tr;Rr++)Ln[Rr]=dr;Or=tr+1}for(let vn=Or;vn<256;vn++)Ln[vn]=Ln[Or-1];return Ln.join(",")},Fr=`g_${Ft(this,Gt)}_hcm_highlight_filter`,br=qn(this,$t,On(this,Yt,zu).call(this,Fr));return On(this,Yt,kp).call(this,br),On(this,Yt,_u).call(this,yr(Qn[0],gr[0],5),yr(Qn[1],gr[1],5),yr(Qn[2],gr[2],5),br),qn(this,Zt,`url(#${Fr})`),Ft(this,Zt)}destroy(cn=!1){cn&&(Ft(this,Vt)||Ft(this,Zt))||(Ft(this,sn)&&(Ft(this,sn).parentNode.parentNode.remove(),qn(this,sn,null)),Ft(this,Kt)&&(Ft(this,Kt).clear(),qn(this,Kt,null)),qn(this,Jt,0))}}Kt=new WeakMap,sn=new WeakMap,Gt=new WeakMap,Wt=new WeakMap,pn=new WeakMap,rn=new WeakMap,Vt=new WeakMap,$t=new WeakMap,Xt=new WeakMap,Zt=new WeakMap,Jt=new WeakMap,Yt=new WeakSet,ru=function(){return Ft(this,Kt)||qn(this,Kt,new Map)},su=function(){if(!Ft(this,sn)){const cn=Ft(this,Wt).createElement("div"),{style:dn}=cn;dn.visibility="hidden",dn.contain="strict",dn.width=dn.height=0,dn.position="absolute",dn.top=dn.left=0,dn.zIndex=-1;const wn=Ft(this,Wt).createElementNS(ut,"svg");wn.setAttribute("width",0),wn.setAttribute("height",0),qn(this,sn,Ft(this,Wt).createElementNS(ut,"defs")),cn.append(wn),wn.append(Ft(this,sn)),Ft(this,Wt).body.append(cn)}return Ft(this,sn)},kp=function(cn){const dn=Ft(this,Wt).createElementNS(ut,"feColorMatrix");dn.setAttribute("type","matrix"),dn.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),cn.append(dn)},zu=function(cn){const dn=Ft(this,Wt).createElementNS(ut,"filter");return dn.setAttribute("color-interpolation-filters","sRGB"),dn.setAttribute("id",cn),Ft(this,Yt,su).append(dn),dn},Wu=function(cn,dn,wn){const kn=Ft(this,Wt).createElementNS(ut,dn);kn.setAttribute("type","discrete"),kn.setAttribute("tableValues",wn),cn.append(kn)},_u=function(cn,dn,wn,kn){const Un=Ft(this,Wt).createElementNS(ut,"feComponentTransfer");kn.append(Un),On(this,Yt,Wu).call(this,Un,"feFuncR",cn),On(this,Yt,Wu).call(this,Un,"feFuncG",dn),On(this,Yt,Wu).call(this,Un,"feFuncB",wn)},Eu=function(cn){return Ft(this,Yt,su).style.color=cn,Dt(getComputedStyle(Ft(this,Yt,su)).getPropertyValue("color"))},rt.DOMFilterFactory=ht;class ft extends lt.BaseCanvasFactory{constructor({ownerDocument:En=globalThis.document}={}){super(),this._document=En}_createCanvas(En,cn){const dn=this._document.createElement("canvas");return dn.width=En,dn.height=cn,dn}}rt.DOMCanvasFactory=ft;async function pt(hn,En=!1){if(kt(hn,document.baseURI)){const cn=await fetch(hn);if(!cn.ok)throw new Error(cn.statusText);return En?new Uint8Array(await cn.arrayBuffer()):(0,ct.stringToBytes)(await cn.text())}return new Promise((cn,dn)=>{const wn=new XMLHttpRequest;wn.open("GET",hn,!0),En&&(wn.responseType="arraybuffer"),wn.onreadystatechange=()=>{if(wn.readyState===XMLHttpRequest.DONE){if(wn.status===200||wn.status===0){let kn;if(En&&wn.response?kn=new Uint8Array(wn.response):!En&&wn.responseText&&(kn=(0,ct.stringToBytes)(wn.responseText)),kn){cn(kn);return}}dn(new Error(wn.statusText))}},wn.send(null)})}class mt extends lt.BaseCMapReaderFactory{_fetchData(En,cn){return pt(En,this.isCompressed).then(dn=>({cMapData:dn,compressionType:cn}))}}rt.DOMCMapReaderFactory=mt;class gt extends lt.BaseStandardFontDataFactory{_fetchData(En){return pt(En,!0)}}rt.DOMStandardFontDataFactory=gt;class yt extends lt.BaseSVGFactory{_createSVG(En){return document.createElementNS(ut,En)}}rt.DOMSVGFactory=yt;class xt{constructor({viewBox:En,scale:cn,rotation:dn,offsetX:wn=0,offsetY:kn=0,dontFlip:Un=!1}){this.viewBox=En,this.scale=cn,this.rotation=dn,this.offsetX=wn,this.offsetY=kn;const Jn=(En[2]+En[0])/2,An=(En[3]+En[1])/2;let xn,er,Qn,gr;switch(dn%=360,dn<0&&(dn+=360),dn){case 180:xn=-1,er=0,Qn=0,gr=1;break;case 90:xn=0,er=1,Qn=1,gr=0;break;case 270:xn=0,er=-1,Qn=-1,gr=0;break;case 0:xn=1,er=0,Qn=0,gr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Un&&(Qn=-Qn,gr=-gr);let yr,Fr,br,Er;xn===0?(yr=Math.abs(An-En[1])*cn+wn,Fr=Math.abs(Jn-En[0])*cn+kn,br=(En[3]-En[1])*cn,Er=(En[2]-En[0])*cn):(yr=Math.abs(Jn-En[0])*cn+wn,Fr=Math.abs(An-En[1])*cn+kn,br=(En[2]-En[0])*cn,Er=(En[3]-En[1])*cn),this.transform=[xn*cn,er*cn,Qn*cn,gr*cn,yr-xn*cn*Jn-Qn*cn*An,Fr-er*cn*Jn-gr*cn*An],this.width=br,this.height=Er}get rawDims(){const{viewBox:En}=this;return(0,ct.shadow)(this,"rawDims",{pageWidth:En[2]-En[0],pageHeight:En[3]-En[1],pageX:En[0],pageY:En[1]})}clone({scale:En=this.scale,rotation:cn=this.rotation,offsetX:dn=this.offsetX,offsetY:wn=this.offsetY,dontFlip:kn=!1}={}){return new xt({viewBox:this.viewBox.slice(),scale:En,rotation:cn,offsetX:dn,offsetY:wn,dontFlip:kn})}convertToViewportPoint(En,cn){return ct.Util.applyTransform([En,cn],this.transform)}convertToViewportRectangle(En){const cn=ct.Util.applyTransform([En[0],En[1]],this.transform),dn=ct.Util.applyTransform([En[2],En[3]],this.transform);return[cn[0],cn[1],dn[0],dn[1]]}convertToPdfPoint(En,cn){return ct.Util.applyInverseTransform([En,cn],this.transform)}}rt.PageViewport=xt;class bt extends ct.BaseException{constructor(En,cn=0){super(En,"RenderingCancelledException"),this.extraDelay=cn}}rt.RenderingCancelledException=bt;function Et(hn){const En=hn.length;let cn=0;for(;cn<En&&hn[cn].trim()==="";)cn++;return hn.substring(cn,cn+5).toLowerCase()==="data:"}function Rt(hn){return typeof hn=="string"&&/\.pdf$/i.test(hn)}function wt(hn,En=!1){return En||([hn]=hn.split(/[#?]/,1)),hn.substring(hn.lastIndexOf("/")+1)}function _t(hn,En="document.pdf"){if(typeof hn!="string")return En;if(Et(hn))return(0,ct.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),En;const cn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,dn=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,wn=cn.exec(hn);let kn=dn.exec(wn[1])||dn.exec(wn[2])||dn.exec(wn[3]);if(kn&&(kn=kn[0],kn.includes("%")))try{kn=dn.exec(decodeURIComponent(kn))[0]}catch{}return kn||En}class At{constructor(){zr(this,"started",Object.create(null));zr(this,"times",[])}time(En){En in this.started&&(0,ct.warn)(`Timer is already running for ${En}`),this.started[En]=Date.now()}timeEnd(En){En in this.started||(0,ct.warn)(`Timer has not been started for ${En}`),this.times.push({name:En,start:this.started[En],end:Date.now()}),delete this.started[En]}toString(){const En=[];let cn=0;for(const{name:dn}of this.times)cn=Math.max(dn.length,cn);for(const{name:dn,start:wn,end:kn}of this.times)En.push(`${dn.padEnd(cn)} ${kn-wn}ms
`);return En.join("")}}rt.StatTimer=At;function kt(hn,En){try{const{protocol:cn}=En?new URL(hn,En):new URL(hn);return cn==="http:"||cn==="https:"}catch{return!1}}function It(hn){hn.preventDefault()}function Nt(hn,En=!1){return new Promise((cn,dn)=>{const wn=document.createElement("script");wn.src=hn,wn.onload=function(kn){En&&wn.remove(),cn(kn)},wn.onerror=function(){dn(new Error(`Cannot load script at: ${wn.src}`))},(document.head||document.documentElement).append(wn)})}function Pt(hn){console.log("Deprecated API usage: "+hn)}let Tt;class Ct{static toDateObject(En){if(!En||typeof En!="string")return null;Tt||(Tt=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const cn=Tt.exec(En);if(!cn)return null;const dn=parseInt(cn[1],10);let wn=parseInt(cn[2],10);wn=wn>=1&&wn<=12?wn-1:0;let kn=parseInt(cn[3],10);kn=kn>=1&&kn<=31?kn:1;let Un=parseInt(cn[4],10);Un=Un>=0&&Un<=23?Un:0;let Jn=parseInt(cn[5],10);Jn=Jn>=0&&Jn<=59?Jn:0;let An=parseInt(cn[6],10);An=An>=0&&An<=59?An:0;const xn=cn[7]||"Z";let er=parseInt(cn[8],10);er=er>=0&&er<=23?er:0;let Qn=parseInt(cn[9],10)||0;return Qn=Qn>=0&&Qn<=59?Qn:0,xn==="-"?(Un+=er,Jn+=Qn):xn==="+"&&(Un-=er,Jn-=Qn),new Date(Date.UTC(dn,wn,kn,Un,Jn,An))}}rt.PDFDateString=Ct;function Ot(hn,{scale:En=1,rotation:cn=0}){const{width:dn,height:wn}=hn.attributes.style,kn=[0,0,parseInt(dn),parseInt(wn)];return new xt({viewBox:kn,scale:En,rotation:cn})}function Dt(hn){if(hn.startsWith("#")){const En=parseInt(hn.slice(1),16);return[(En&16711680)>>16,(En&65280)>>8,En&255]}return hn.startsWith("rgb(")?hn.slice(4,-1).split(",").map(En=>parseInt(En)):hn.startsWith("rgba(")?hn.slice(5,-1).split(",").map(En=>parseInt(En)).slice(0,3):((0,ct.warn)(`Not a valid color format: "${hn}"`),[0,0,0])}function jt(hn){const En=document.createElement("span");En.style.visibility="hidden",document.body.append(En);for(const cn of hn.keys()){En.style.color=cn;const dn=window.getComputedStyle(En).color;hn.set(cn,Dt(dn))}En.remove()}function Mt(hn){const{a:En,b:cn,c:dn,d:wn,e:kn,f:Un}=hn.getTransform();return[En,cn,dn,wn,kn,Un]}function zt(hn){const{a:En,b:cn,c:dn,d:wn,e:kn,f:Un}=hn.getTransform().invertSelf();return[En,cn,dn,wn,kn,Un]}function Qt(hn,En,cn=!1,dn=!0){if(En instanceof xt){const{pageWidth:wn,pageHeight:kn}=En.rawDims,{style:Un}=hn,Jn=ct.FeatureTest.isCSSRoundSupported,An=`var(--scale-factor) * ${wn}px`,xn=`var(--scale-factor) * ${kn}px`,er=Jn?`round(${An}, 1px)`:`calc(${An})`,Qn=Jn?`round(${xn}, 1px)`:`calc(${xn})`;!cn||En.rotation%180===0?(Un.width=er,Un.height=Qn):(Un.width=Qn,Un.height=er)}dn&&hn.setAttribute("data-main-rotation",En.rotation)}},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.BaseStandardFontDataFactory=rt.BaseSVGFactory=rt.BaseFilterFactory=rt.BaseCanvasFactory=rt.BaseCMapReaderFactory=void 0;var lt=at(1);class ct{constructor(){this.constructor===ct&&(0,lt.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(mt){return"none"}addHCMFilter(mt,gt){return"none"}addHighlightHCMFilter(mt,gt,yt,xt){return"none"}destroy(mt=!1){}}rt.BaseFilterFactory=ct;class ut{constructor(){this.constructor===ut&&(0,lt.unreachable)("Cannot initialize BaseCanvasFactory.")}create(mt,gt){if(mt<=0||gt<=0)throw new Error("Invalid canvas size");const yt=this._createCanvas(mt,gt);return{canvas:yt,context:yt.getContext("2d")}}reset(mt,gt,yt){if(!mt.canvas)throw new Error("Canvas is not specified");if(gt<=0||yt<=0)throw new Error("Invalid canvas size");mt.canvas.width=gt,mt.canvas.height=yt}destroy(mt){if(!mt.canvas)throw new Error("Canvas is not specified");mt.canvas.width=0,mt.canvas.height=0,mt.canvas=null,mt.context=null}_createCanvas(mt,gt){(0,lt.unreachable)("Abstract method `_createCanvas` called.")}}rt.BaseCanvasFactory=ut;class dt{constructor({baseUrl:mt=null,isCompressed:gt=!0}){this.constructor===dt&&(0,lt.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=mt,this.isCompressed=gt}async fetch({name:mt}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!mt)throw new Error("CMap name must be specified.");const gt=this.baseUrl+mt+(this.isCompressed?".bcmap":""),yt=this.isCompressed?lt.CMapCompressionType.BINARY:lt.CMapCompressionType.NONE;return this._fetchData(gt,yt).catch(xt=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${gt}`)})}_fetchData(mt,gt){(0,lt.unreachable)("Abstract method `_fetchData` called.")}}rt.BaseCMapReaderFactory=dt;class ht{constructor({baseUrl:mt=null}){this.constructor===ht&&(0,lt.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=mt}async fetch({filename:mt}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!mt)throw new Error("Font filename must be specified.");const gt=`${this.baseUrl}${mt}`;return this._fetchData(gt).catch(yt=>{throw new Error(`Unable to load font data at: ${gt}`)})}_fetchData(mt){(0,lt.unreachable)("Abstract method `_fetchData` called.")}}rt.BaseStandardFontDataFactory=ht;class ft{constructor(){this.constructor===ft&&(0,lt.unreachable)("Cannot initialize BaseSVGFactory.")}create(mt,gt,yt=!1){if(mt<=0||gt<=0)throw new Error("Invalid SVG dimensions");const xt=this._createSVG("svg:svg");return xt.setAttribute("version","1.1"),yt||(xt.setAttribute("width",`${mt}px`),xt.setAttribute("height",`${gt}px`)),xt.setAttribute("preserveAspectRatio","none"),xt.setAttribute("viewBox",`0 0 ${mt} ${gt}`),xt}createElement(mt){if(typeof mt!="string")throw new Error("Invalid SVG element type");return this._createSVG(mt)}_createSVG(mt){(0,lt.unreachable)("Abstract method `_createSVG` called.")}}rt.BaseSVGFactory=ft},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.MurmurHash3_64=void 0;var lt=at(1);const ct=3285377520,ut=4294901760,dt=65535;class ht{constructor(pt){this.h1=pt?pt&4294967295:ct,this.h2=pt?pt&4294967295:ct}update(pt){let mt,gt;if(typeof pt=="string"){mt=new Uint8Array(pt.length*2),gt=0;for(let Pt=0,Tt=pt.length;Pt<Tt;Pt++){const Ct=pt.charCodeAt(Pt);Ct<=255?mt[gt++]=Ct:(mt[gt++]=Ct>>>8,mt[gt++]=Ct&255)}}else if((0,lt.isArrayBuffer)(pt))mt=pt.slice(),gt=mt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const yt=gt>>2,xt=gt-yt*4,bt=new Uint32Array(mt.buffer,0,yt);let Et=0,Rt=0,wt=this.h1,_t=this.h2;const At=3432918353,kt=461845907,It=At&dt,Nt=kt&dt;for(let Pt=0;Pt<yt;Pt++)Pt&1?(Et=bt[Pt],Et=Et*At&ut|Et*It&dt,Et=Et<<15|Et>>>17,Et=Et*kt&ut|Et*Nt&dt,wt^=Et,wt=wt<<13|wt>>>19,wt=wt*5+3864292196):(Rt=bt[Pt],Rt=Rt*At&ut|Rt*It&dt,Rt=Rt<<15|Rt>>>17,Rt=Rt*kt&ut|Rt*Nt&dt,_t^=Rt,_t=_t<<13|_t>>>19,_t=_t*5+3864292196);switch(Et=0,xt){case 3:Et^=mt[yt*4+2]<<16;case 2:Et^=mt[yt*4+1]<<8;case 1:Et^=mt[yt*4],Et=Et*At&ut|Et*It&dt,Et=Et<<15|Et>>>17,Et=Et*kt&ut|Et*Nt&dt,yt&1?wt^=Et:_t^=Et}this.h1=wt,this.h2=_t}hexdigest(){let pt=this.h1,mt=this.h2;return pt^=mt>>>1,pt=pt*3981806797&ut|pt*36045&dt,mt=mt*4283543511&ut|((mt<<16|pt>>>16)*2950163797&ut)>>>16,pt^=mt>>>1,pt=pt*444984403&ut|pt*60499&dt,mt=mt*3301882366&ut|((mt<<16|pt>>>16)*3120437893&ut)>>>16,pt^=mt>>>1,(pt>>>0).toString(16).padStart(8,"0")+(mt>>>0).toString(16).padStart(8,"0")}}rt.MurmurHash3_64=ht},(ot,rt,at)=>{var dt;Object.defineProperty(rt,"__esModule",{value:!0}),rt.FontLoader=rt.FontFaceObject=void 0;var lt=at(1);class ct{constructor({ownerDocument:ft=globalThis.document,styleElement:pt=null}){Wn(this,dt,new Set);this._document=ft,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(ft){this.nativeFontFaces.add(ft),this._document.fonts.add(ft)}removeNativeFontFace(ft){this.nativeFontFaces.delete(ft),this._document.fonts.delete(ft)}insertRule(ft){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const pt=this.styleElement.sheet;pt.insertRule(ft,pt.cssRules.length)}clear(){for(const ft of this.nativeFontFaces)this._document.fonts.delete(ft);this.nativeFontFaces.clear(),Ft(this,dt).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(ft){if(!(!ft||Ft(this,dt).has(ft.loadedName))){if((0,lt.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:pt,src:mt,style:gt}=ft,yt=new FontFace(pt,mt,gt);this.addNativeFontFace(yt);try{await yt.load(),Ft(this,dt).add(pt)}catch{(0,lt.warn)(`Cannot load system font: ${ft.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(yt)}return}(0,lt.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(ft){if(ft.attached||ft.missingFile&&!ft.systemFontInfo)return;if(ft.attached=!0,ft.systemFontInfo){await this.loadSystemFont(ft.systemFontInfo);return}if(this.isFontLoadingAPISupported){const mt=ft.createNativeFontFace();if(mt){this.addNativeFontFace(mt);try{await mt.loaded}catch(gt){throw(0,lt.warn)(`Failed to load font '${mt.family}': '${gt}'.`),ft.disableFontFace=!0,gt}}return}const pt=ft.createFontFaceRule();if(pt){if(this.insertRule(pt),this.isSyncFontLoadingSupported)return;await new Promise(mt=>{const gt=this._queueLoadingCallback(mt);this._prepareFontLoadEvent(ft,gt)})}}get isFontLoadingAPISupported(){var pt;const ft=!!((pt=this._document)!=null&&pt.fonts);return(0,lt.shadow)(this,"isFontLoadingAPISupported",ft)}get isSyncFontLoadingSupported(){let ft=!1;return(lt.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(ft=!0),(0,lt.shadow)(this,"isSyncFontLoadingSupported",ft)}_queueLoadingCallback(ft){function pt(){for((0,lt.assert)(!gt.done,"completeRequest() cannot be called twice."),gt.done=!0;mt.length>0&&mt[0].done;){const yt=mt.shift();setTimeout(yt.callback,0)}}const{loadingRequests:mt}=this,gt={done:!1,complete:pt,callback:ft};return mt.push(gt),gt}get _loadTestFont(){const ft=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,lt.shadow)(this,"_loadTestFont",ft)}_prepareFontLoadEvent(ft,pt){function mt(Dt,jt){return Dt.charCodeAt(jt)<<24|Dt.charCodeAt(jt+1)<<16|Dt.charCodeAt(jt+2)<<8|Dt.charCodeAt(jt+3)&255}function gt(Dt,jt,Mt,zt){const Qt=Dt.substring(0,jt),qt=Dt.substring(jt+Mt);return Qt+zt+qt}let yt,xt;const bt=this._document.createElement("canvas");bt.width=1,bt.height=1;const Et=bt.getContext("2d");let Rt=0;function wt(Dt,jt){if(++Rt>30){(0,lt.warn)("Load test font never loaded."),jt();return}if(Et.font="30px "+Dt,Et.fillText(".",0,20),Et.getImageData(0,0,1,1).data[3]>0){jt();return}setTimeout(wt.bind(null,Dt,jt))}const _t=`lt${Date.now()}${this.loadTestFontId++}`;let At=this._loadTestFont;At=gt(At,976,_t.length,_t);const It=16,Nt=1482184792;let Pt=mt(At,It);for(yt=0,xt=_t.length-3;yt<xt;yt+=4)Pt=Pt-Nt+mt(_t,yt)|0;yt<_t.length&&(Pt=Pt-Nt+mt(_t+"XXX",yt)|0),At=gt(At,It,4,(0,lt.string32)(Pt));const Tt=`url(data:font/opentype;base64,${btoa(At)});`,Ct=`@font-face {font-family:"${_t}";src:${Tt}}`;this.insertRule(Ct);const Ot=this._document.createElement("div");Ot.style.visibility="hidden",Ot.style.width=Ot.style.height="10px",Ot.style.position="absolute",Ot.style.top=Ot.style.left="0px";for(const Dt of[ft.loadedName,_t]){const jt=this._document.createElement("span");jt.textContent="Hi",jt.style.fontFamily=Dt,Ot.append(jt)}this._document.body.append(Ot),wt(_t,()=>{Ot.remove(),pt.complete()})}}dt=new WeakMap,rt.FontLoader=ct;class ut{constructor(ft,{isEvalSupported:pt=!0,disableFontFace:mt=!1,ignoreErrors:gt=!1,inspectFont:yt=null}){this.compiledGlyphs=Object.create(null);for(const xt in ft)this[xt]=ft[xt];this.isEvalSupported=pt!==!1,this.disableFontFace=mt===!0,this.ignoreErrors=gt===!0,this._inspectFont=yt}createNativeFontFace(){var pt;if(!this.data||this.disableFontFace)return null;let ft;if(!this.cssFontInfo)ft=new FontFace(this.loadedName,this.data,{});else{const mt={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(mt.style=`oblique ${this.cssFontInfo.italicAngle}deg`),ft=new FontFace(this.cssFontInfo.fontFamily,this.data,mt)}return(pt=this._inspectFont)==null||pt.call(this,this),ft}createFontFaceRule(){var gt;if(!this.data||this.disableFontFace)return null;const ft=(0,lt.bytesToString)(this.data),pt=`url(data:${this.mimetype};base64,${btoa(ft)});`;let mt;if(!this.cssFontInfo)mt=`@font-face {font-family:"${this.loadedName}";src:${pt}}`;else{let yt=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(yt+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),mt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${yt}src:${pt}}`}return(gt=this._inspectFont)==null||gt.call(this,this,pt),mt}getPathGenerator(ft,pt){if(this.compiledGlyphs[pt]!==void 0)return this.compiledGlyphs[pt];let mt;try{mt=ft.get(this.loadedName+"_path_"+pt)}catch(gt){if(!this.ignoreErrors)throw gt;return(0,lt.warn)(`getPathGenerator - ignoring character: "${gt}".`),this.compiledGlyphs[pt]=function(yt,xt){}}if(this.isEvalSupported&&lt.FeatureTest.isEvalSupported){const gt=[];for(const yt of mt){const xt=yt.args!==void 0?yt.args.join(","):"";gt.push("c.",yt.cmd,"(",xt,`);
`)}return this.compiledGlyphs[pt]=new Function("c","size",gt.join(""))}return this.compiledGlyphs[pt]=function(gt,yt){for(const xt of mt)xt.cmd==="scale"&&(xt.args=[yt,-yt]),gt[xt.cmd].apply(gt,xt.args)}}}rt.FontFaceObject=ut},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.NodeStandardFontDataFactory=rt.NodeFilterFactory=rt.NodeCanvasFactory=rt.NodeCMapReaderFactory=void 0;var lt=at(7);at(1);const ct=function(pt){return new Promise((mt,gt)=>{require$$5.readFile(pt,(xt,bt)=>{if(xt||!bt){gt(new Error(xt));return}mt(new Uint8Array(bt))})})};class ut extends lt.BaseFilterFactory{}rt.NodeFilterFactory=ut;class dt extends lt.BaseCanvasFactory{_createCanvas(mt,gt){return require$$5.createCanvas(mt,gt)}}rt.NodeCanvasFactory=dt;class ht extends lt.BaseCMapReaderFactory{_fetchData(mt,gt){return ct(mt).then(yt=>({cMapData:yt,compressionType:gt}))}}rt.NodeCMapReaderFactory=ht;class ft extends lt.BaseStandardFontDataFactory{_fetchData(mt){return ct(mt)}}rt.NodeStandardFontDataFactory=ft},(ot,rt,at)=>{var sn,Ip,Dp;Object.defineProperty(rt,"__esModule",{value:!0}),rt.CanvasGraphics=void 0;var lt=at(1),ct=at(6),ut=at(12),dt=at(13);const ht=16,ft=100,pt=4096,mt=15,gt=10,yt=1e3,xt=16;function bt(rn,Vt){if(rn._removeMirroring)throw new Error("Context is already forwarding operations.");rn.__originalSave=rn.save,rn.__originalRestore=rn.restore,rn.__originalRotate=rn.rotate,rn.__originalScale=rn.scale,rn.__originalTranslate=rn.translate,rn.__originalTransform=rn.transform,rn.__originalSetTransform=rn.setTransform,rn.__originalResetTransform=rn.resetTransform,rn.__originalClip=rn.clip,rn.__originalMoveTo=rn.moveTo,rn.__originalLineTo=rn.lineTo,rn.__originalBezierCurveTo=rn.bezierCurveTo,rn.__originalRect=rn.rect,rn.__originalClosePath=rn.closePath,rn.__originalBeginPath=rn.beginPath,rn._removeMirroring=()=>{rn.save=rn.__originalSave,rn.restore=rn.__originalRestore,rn.rotate=rn.__originalRotate,rn.scale=rn.__originalScale,rn.translate=rn.__originalTranslate,rn.transform=rn.__originalTransform,rn.setTransform=rn.__originalSetTransform,rn.resetTransform=rn.__originalResetTransform,rn.clip=rn.__originalClip,rn.moveTo=rn.__originalMoveTo,rn.lineTo=rn.__originalLineTo,rn.bezierCurveTo=rn.__originalBezierCurveTo,rn.rect=rn.__originalRect,rn.closePath=rn.__originalClosePath,rn.beginPath=rn.__originalBeginPath,delete rn._removeMirroring},rn.save=function(){Vt.save(),this.__originalSave()},rn.restore=function(){Vt.restore(),this.__originalRestore()},rn.translate=function(Xt,Zt){Vt.translate(Xt,Zt),this.__originalTranslate(Xt,Zt)},rn.scale=function(Xt,Zt){Vt.scale(Xt,Zt),this.__originalScale(Xt,Zt)},rn.transform=function(Xt,Zt,Jt,Yt,gn,_n){Vt.transform(Xt,Zt,Jt,Yt,gn,_n),this.__originalTransform(Xt,Zt,Jt,Yt,gn,_n)},rn.setTransform=function(Xt,Zt,Jt,Yt,gn,_n){Vt.setTransform(Xt,Zt,Jt,Yt,gn,_n),this.__originalSetTransform(Xt,Zt,Jt,Yt,gn,_n)},rn.resetTransform=function(){Vt.resetTransform(),this.__originalResetTransform()},rn.rotate=function(Xt){Vt.rotate(Xt),this.__originalRotate(Xt)},rn.clip=function(Xt){Vt.clip(Xt),this.__originalClip(Xt)},rn.moveTo=function($t,Xt){Vt.moveTo($t,Xt),this.__originalMoveTo($t,Xt)},rn.lineTo=function($t,Xt){Vt.lineTo($t,Xt),this.__originalLineTo($t,Xt)},rn.bezierCurveTo=function($t,Xt,Zt,Jt,Yt,gn){Vt.bezierCurveTo($t,Xt,Zt,Jt,Yt,gn),this.__originalBezierCurveTo($t,Xt,Zt,Jt,Yt,gn)},rn.rect=function($t,Xt,Zt,Jt){Vt.rect($t,Xt,Zt,Jt),this.__originalRect($t,Xt,Zt,Jt)},rn.closePath=function(){Vt.closePath(),this.__originalClosePath()},rn.beginPath=function(){Vt.beginPath(),this.__originalBeginPath()}}class Et{constructor(Vt){this.canvasFactory=Vt,this.cache=Object.create(null)}getCanvas(Vt,$t,Xt){let Zt;return this.cache[Vt]!==void 0?(Zt=this.cache[Vt],this.canvasFactory.reset(Zt,$t,Xt)):(Zt=this.canvasFactory.create($t,Xt),this.cache[Vt]=Zt),Zt}delete(Vt){delete this.cache[Vt]}clear(){for(const Vt in this.cache){const $t=this.cache[Vt];this.canvasFactory.destroy($t),delete this.cache[Vt]}}}function Rt(rn,Vt,$t,Xt,Zt,Jt,Yt,gn,_n,Sn){const[jn,Dn,Gn,Kn,hn,En]=(0,ct.getCurrentTransform)(rn);if(Dn===0&&Gn===0){const wn=Yt*jn+hn,kn=Math.round(wn),Un=gn*Kn+En,Jn=Math.round(Un),An=(Yt+_n)*jn+hn,xn=Math.abs(Math.round(An)-kn)||1,er=(gn+Sn)*Kn+En,Qn=Math.abs(Math.round(er)-Jn)||1;return rn.setTransform(Math.sign(jn),0,0,Math.sign(Kn),kn,Jn),rn.drawImage(Vt,$t,Xt,Zt,Jt,0,0,xn,Qn),rn.setTransform(jn,Dn,Gn,Kn,hn,En),[xn,Qn]}if(jn===0&&Kn===0){const wn=gn*Gn+hn,kn=Math.round(wn),Un=Yt*Dn+En,Jn=Math.round(Un),An=(gn+Sn)*Gn+hn,xn=Math.abs(Math.round(An)-kn)||1,er=(Yt+_n)*Dn+En,Qn=Math.abs(Math.round(er)-Jn)||1;return rn.setTransform(0,Math.sign(Dn),Math.sign(Gn),0,kn,Jn),rn.drawImage(Vt,$t,Xt,Zt,Jt,0,0,Qn,xn),rn.setTransform(jn,Dn,Gn,Kn,hn,En),[Qn,xn]}rn.drawImage(Vt,$t,Xt,Zt,Jt,Yt,gn,_n,Sn);const cn=Math.hypot(jn,Dn),dn=Math.hypot(Gn,Kn);return[cn*_n,dn*Sn]}function wt(rn){const{width:Vt,height:$t}=rn;if(Vt>yt||$t>yt)return null;const Xt=1e3,Zt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Jt=Vt+1;let Yt=new Uint8Array(Jt*($t+1)),gn,_n,Sn;const jn=Vt+7&-8;let Dn=new Uint8Array(jn*$t),Gn=0;for(const dn of rn.data){let wn=128;for(;wn>0;)Dn[Gn++]=dn&wn?0:255,wn>>=1}let Kn=0;for(Gn=0,Dn[Gn]!==0&&(Yt[0]=1,++Kn),_n=1;_n<Vt;_n++)Dn[Gn]!==Dn[Gn+1]&&(Yt[_n]=Dn[Gn]?2:1,++Kn),Gn++;for(Dn[Gn]!==0&&(Yt[_n]=2,++Kn),gn=1;gn<$t;gn++){Gn=gn*jn,Sn=gn*Jt,Dn[Gn-jn]!==Dn[Gn]&&(Yt[Sn]=Dn[Gn]?1:8,++Kn);let dn=(Dn[Gn]?4:0)+(Dn[Gn-jn]?8:0);for(_n=1;_n<Vt;_n++)dn=(dn>>2)+(Dn[Gn+1]?4:0)+(Dn[Gn-jn+1]?8:0),Zt[dn]&&(Yt[Sn+_n]=Zt[dn],++Kn),Gn++;if(Dn[Gn-jn]!==Dn[Gn]&&(Yt[Sn+_n]=Dn[Gn]?2:4,++Kn),Kn>Xt)return null}for(Gn=jn*($t-1),Sn=gn*Jt,Dn[Gn]!==0&&(Yt[Sn]=8,++Kn),_n=1;_n<Vt;_n++)Dn[Gn]!==Dn[Gn+1]&&(Yt[Sn+_n]=Dn[Gn]?4:8,++Kn),Gn++;if(Dn[Gn]!==0&&(Yt[Sn+_n]=4,++Kn),Kn>Xt)return null;const hn=new Int32Array([0,Jt,-1,0,-Jt,0,0,0,1]),En=new Path2D;for(gn=0;Kn&&gn<=$t;gn++){let dn=gn*Jt;const wn=dn+Vt;for(;dn<wn&&!Yt[dn];)dn++;if(dn===wn)continue;En.moveTo(dn%Jt,gn);const kn=dn;let Un=Yt[dn];do{const Jn=hn[Un];do dn+=Jn;while(!Yt[dn]);const An=Yt[dn];An!==5&&An!==10?(Un=An,Yt[dn]=0):(Un=An&51*Un>>4,Yt[dn]&=Un>>2|Un<<2),En.lineTo(dn%Jt,dn/Jt|0),Yt[dn]||--Kn}while(kn!==dn);--gn}return Dn=null,Yt=null,function(dn){dn.save(),dn.scale(1/Vt,-1/$t),dn.translate(0,-$t),dn.fill(En),dn.beginPath(),dn.restore()}}class _t{constructor(Vt,$t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=lt.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=lt.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=lt.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Vt,$t])}clone(){const Vt=Object.create(this);return Vt.clipBox=this.clipBox.slice(),Vt}setCurrentPoint(Vt,$t){this.x=Vt,this.y=$t}updatePathMinMax(Vt,$t,Xt){[$t,Xt]=lt.Util.applyTransform([$t,Xt],Vt),this.minX=Math.min(this.minX,$t),this.minY=Math.min(this.minY,Xt),this.maxX=Math.max(this.maxX,$t),this.maxY=Math.max(this.maxY,Xt)}updateRectMinMax(Vt,$t){const Xt=lt.Util.applyTransform($t,Vt),Zt=lt.Util.applyTransform($t.slice(2),Vt);this.minX=Math.min(this.minX,Xt[0],Zt[0]),this.minY=Math.min(this.minY,Xt[1],Zt[1]),this.maxX=Math.max(this.maxX,Xt[0],Zt[0]),this.maxY=Math.max(this.maxY,Xt[1],Zt[1])}updateScalingPathMinMax(Vt,$t){lt.Util.scaleMinMax(Vt,$t),this.minX=Math.min(this.minX,$t[0]),this.maxX=Math.max(this.maxX,$t[1]),this.minY=Math.min(this.minY,$t[2]),this.maxY=Math.max(this.maxY,$t[3])}updateCurvePathMinMax(Vt,$t,Xt,Zt,Jt,Yt,gn,_n,Sn,jn){const Dn=lt.Util.bezierBoundingBox($t,Xt,Zt,Jt,Yt,gn,_n,Sn);if(jn){jn[0]=Math.min(jn[0],Dn[0],Dn[2]),jn[1]=Math.max(jn[1],Dn[0],Dn[2]),jn[2]=Math.min(jn[2],Dn[1],Dn[3]),jn[3]=Math.max(jn[3],Dn[1],Dn[3]);return}this.updateRectMinMax(Vt,Dn)}getPathBoundingBox(Vt=ut.PathType.FILL,$t=null){const Xt=[this.minX,this.minY,this.maxX,this.maxY];if(Vt===ut.PathType.STROKE){$t||(0,lt.unreachable)("Stroke bounding box must include transform.");const Zt=lt.Util.singularValueDecompose2dScale($t),Jt=Zt[0]*this.lineWidth/2,Yt=Zt[1]*this.lineWidth/2;Xt[0]-=Jt,Xt[1]-=Yt,Xt[2]+=Jt,Xt[3]+=Yt}return Xt}updateClipFromPath(){const Vt=lt.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Vt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Vt){this.clipBox=Vt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Vt=ut.PathType.FILL,$t=null){return lt.Util.intersect(this.clipBox,this.getPathBoundingBox(Vt,$t))}}function At(rn,Vt){if(typeof ImageData<"u"&&Vt instanceof ImageData){rn.putImageData(Vt,0,0);return}const $t=Vt.height,Xt=Vt.width,Zt=$t%xt,Jt=($t-Zt)/xt,Yt=Zt===0?Jt:Jt+1,gn=rn.createImageData(Xt,xt);let _n=0,Sn;const jn=Vt.data,Dn=gn.data;let Gn,Kn,hn,En;if(Vt.kind===lt.ImageKind.GRAYSCALE_1BPP){const cn=jn.byteLength,dn=new Uint32Array(Dn.buffer,0,Dn.byteLength>>2),wn=dn.length,kn=Xt+7>>3,Un=4294967295,Jn=lt.FeatureTest.isLittleEndian?4278190080:255;for(Gn=0;Gn<Yt;Gn++){for(hn=Gn<Jt?xt:Zt,Sn=0,Kn=0;Kn<hn;Kn++){const An=cn-_n;let xn=0;const er=An>kn?Xt:An*8-7,Qn=er&-8;let gr=0,yr=0;for(;xn<Qn;xn+=8)yr=jn[_n++],dn[Sn++]=yr&128?Un:Jn,dn[Sn++]=yr&64?Un:Jn,dn[Sn++]=yr&32?Un:Jn,dn[Sn++]=yr&16?Un:Jn,dn[Sn++]=yr&8?Un:Jn,dn[Sn++]=yr&4?Un:Jn,dn[Sn++]=yr&2?Un:Jn,dn[Sn++]=yr&1?Un:Jn;for(;xn<er;xn++)gr===0&&(yr=jn[_n++],gr=128),dn[Sn++]=yr&gr?Un:Jn,gr>>=1}for(;Sn<wn;)dn[Sn++]=0;rn.putImageData(gn,0,Gn*xt)}}else if(Vt.kind===lt.ImageKind.RGBA_32BPP){for(Kn=0,En=Xt*xt*4,Gn=0;Gn<Jt;Gn++)Dn.set(jn.subarray(_n,_n+En)),_n+=En,rn.putImageData(gn,0,Kn),Kn+=xt;Gn<Yt&&(En=Xt*Zt*4,Dn.set(jn.subarray(_n,_n+En)),rn.putImageData(gn,0,Kn))}else if(Vt.kind===lt.ImageKind.RGB_24BPP)for(hn=xt,En=Xt*hn,Gn=0;Gn<Yt;Gn++){for(Gn>=Jt&&(hn=Zt,En=Xt*hn),Sn=0,Kn=En;Kn--;)Dn[Sn++]=jn[_n++],Dn[Sn++]=jn[_n++],Dn[Sn++]=jn[_n++],Dn[Sn++]=255;rn.putImageData(gn,0,Gn*xt)}else throw new Error(`bad image kind: ${Vt.kind}`)}function kt(rn,Vt){if(Vt.bitmap){rn.drawImage(Vt.bitmap,0,0);return}const $t=Vt.height,Xt=Vt.width,Zt=$t%xt,Jt=($t-Zt)/xt,Yt=Zt===0?Jt:Jt+1,gn=rn.createImageData(Xt,xt);let _n=0;const Sn=Vt.data,jn=gn.data;for(let Dn=0;Dn<Yt;Dn++){const Gn=Dn<Jt?xt:Zt;({srcPos:_n}=(0,dt.convertBlackAndWhiteToRGBA)({src:Sn,srcPos:_n,dest:jn,width:Xt,height:Gn,nonBlackColor:0})),rn.putImageData(gn,0,Dn*xt)}}function It(rn,Vt){const $t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Xt of $t)rn[Xt]!==void 0&&(Vt[Xt]=rn[Xt]);rn.setLineDash!==void 0&&(Vt.setLineDash(rn.getLineDash()),Vt.lineDashOffset=rn.lineDashOffset)}function Nt(rn){if(rn.strokeStyle=rn.fillStyle="#000000",rn.fillRule="nonzero",rn.globalAlpha=1,rn.lineWidth=1,rn.lineCap="butt",rn.lineJoin="miter",rn.miterLimit=10,rn.globalCompositeOperation="source-over",rn.font="10px sans-serif",rn.setLineDash!==void 0&&(rn.setLineDash([]),rn.lineDashOffset=0),!lt.isNodeJS){const{filter:Vt}=rn;Vt!=="none"&&Vt!==""&&(rn.filter="none")}}function Pt(rn,Vt,$t,Xt){const Zt=rn.length;for(let Jt=3;Jt<Zt;Jt+=4){const Yt=rn[Jt];if(Yt===0)rn[Jt-3]=Vt,rn[Jt-2]=$t,rn[Jt-1]=Xt;else if(Yt<255){const gn=255-Yt;rn[Jt-3]=rn[Jt-3]*Yt+Vt*gn>>8,rn[Jt-2]=rn[Jt-2]*Yt+$t*gn>>8,rn[Jt-1]=rn[Jt-1]*Yt+Xt*gn>>8}}}function Tt(rn,Vt,$t){const Xt=rn.length,Zt=1/255;for(let Jt=3;Jt<Xt;Jt+=4){const Yt=$t?$t[rn[Jt]]:rn[Jt];Vt[Jt]=Vt[Jt]*Yt*Zt|0}}function Ct(rn,Vt,$t){const Xt=rn.length;for(let Zt=3;Zt<Xt;Zt+=4){const Jt=rn[Zt-3]*77+rn[Zt-2]*152+rn[Zt-1]*28;Vt[Zt]=$t?Vt[Zt]*$t[Jt>>8]>>8:Vt[Zt]*Jt>>16}}function Ot(rn,Vt,$t,Xt,Zt,Jt,Yt,gn,_n,Sn,jn){const Dn=!!Jt,Gn=Dn?Jt[0]:0,Kn=Dn?Jt[1]:0,hn=Dn?Jt[2]:0,En=Zt==="Luminosity"?Ct:Tt,dn=Math.min(Xt,Math.ceil(1048576/$t));for(let wn=0;wn<Xt;wn+=dn){const kn=Math.min(dn,Xt-wn),Un=rn.getImageData(gn-Sn,wn+(_n-jn),$t,kn),Jn=Vt.getImageData(gn,wn+_n,$t,kn);Dn&&Pt(Un.data,Gn,Kn,hn),En(Un.data,Jn.data,Yt),Vt.putImageData(Jn,gn,wn+_n)}}function Dt(rn,Vt,$t,Xt){const Zt=Xt[0],Jt=Xt[1],Yt=Xt[2]-Zt,gn=Xt[3]-Jt;Yt===0||gn===0||(Ot(Vt.context,$t,Yt,gn,Vt.subtype,Vt.backdrop,Vt.transferMap,Zt,Jt,Vt.offsetX,Vt.offsetY),rn.save(),rn.globalAlpha=1,rn.globalCompositeOperation="source-over",rn.setTransform(1,0,0,1,0,0),rn.drawImage($t.canvas,0,0),rn.restore())}function jt(rn,Vt){const $t=lt.Util.singularValueDecompose2dScale(rn);$t[0]=Math.fround($t[0]),$t[1]=Math.fround($t[1]);const Xt=Math.fround((globalThis.devicePixelRatio||1)*ct.PixelsPerInch.PDF_TO_CSS_UNITS);return Vt!==void 0?Vt:$t[0]<=Xt||$t[1]<=Xt}const Mt=["butt","round","square"],zt=["miter","round","bevel"],Qt={},qt={},pn=class pn{constructor(Vt,$t,Xt,Zt,Jt,{optionalContentConfig:Yt,markedContentStack:gn=null},_n,Sn){Wn(this,sn);this.ctx=Vt,this.current=new _t(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=$t,this.objs=Xt,this.canvasFactory=Zt,this.filterFactory=Jt,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=gn||[],this.optionalContentConfig=Yt,this.cachedCanvases=new Et(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=_n,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Sn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Vt,$t=null){return typeof Vt=="string"?Vt.startsWith("g_")?this.commonObjs.get(Vt):this.objs.get(Vt):$t}beginDrawing({transform:Vt,viewport:$t,transparency:Xt=!1,background:Zt=null}){const Jt=this.ctx.canvas.width,Yt=this.ctx.canvas.height,gn=this.ctx.fillStyle;if(this.ctx.fillStyle=Zt||"#ffffff",this.ctx.fillRect(0,0,Jt,Yt),this.ctx.fillStyle=gn,Xt){const _n=this.cachedCanvases.getCanvas("transparent",Jt,Yt);this.compositeCtx=this.ctx,this.transparentCanvas=_n.canvas,this.ctx=_n.context,this.ctx.save(),this.ctx.transform(...(0,ct.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Nt(this.ctx),Vt&&(this.ctx.transform(...Vt),this.outputScaleX=Vt[0],this.outputScaleY=Vt[0]),this.ctx.transform(...$t.transform),this.viewportScale=$t.scale,this.baseTransform=(0,ct.getCurrentTransform)(this.ctx)}executeOperatorList(Vt,$t,Xt,Zt){const Jt=Vt.argsArray,Yt=Vt.fnArray;let gn=$t||0;const _n=Jt.length;if(_n===gn)return gn;const Sn=_n-gn>gt&&typeof Xt=="function",jn=Sn?Date.now()+mt:0;let Dn=0;const Gn=this.commonObjs,Kn=this.objs;let hn;for(;;){if(Zt!==void 0&&gn===Zt.nextBreakPoint)return Zt.breakIt(gn,Xt),gn;if(hn=Yt[gn],hn!==lt.OPS.dependency)this[hn].apply(this,Jt[gn]);else for(const En of Jt[gn]){const cn=En.startsWith("g_")?Gn:Kn;if(!cn.has(En))return cn.get(En,Xt),gn}if(gn++,gn===_n)return gn;if(Sn&&++Dn>gt){if(Date.now()>jn)return Xt(),gn;Dn=0}}}endDrawing(){On(this,sn,Ip).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Vt of this._cachedBitmapsMap.values()){for(const $t of Vt.values())typeof HTMLCanvasElement<"u"&&$t instanceof HTMLCanvasElement&&($t.width=$t.height=0);Vt.clear()}this._cachedBitmapsMap.clear(),On(this,sn,Dp).call(this)}_scaleImage(Vt,$t){const Xt=Vt.width,Zt=Vt.height;let Jt=Math.max(Math.hypot($t[0],$t[1]),1),Yt=Math.max(Math.hypot($t[2],$t[3]),1),gn=Xt,_n=Zt,Sn="prescale1",jn,Dn;for(;Jt>2&&gn>1||Yt>2&&_n>1;){let Gn=gn,Kn=_n;Jt>2&&gn>1&&(Gn=gn>=16384?Math.floor(gn/2)-1||1:Math.ceil(gn/2),Jt/=gn/Gn),Yt>2&&_n>1&&(Kn=_n>=16384?Math.floor(_n/2)-1||1:Math.ceil(_n)/2,Yt/=_n/Kn),jn=this.cachedCanvases.getCanvas(Sn,Gn,Kn),Dn=jn.context,Dn.clearRect(0,0,Gn,Kn),Dn.drawImage(Vt,0,0,gn,_n,0,0,Gn,Kn),Vt=jn.canvas,gn=Gn,_n=Kn,Sn=Sn==="prescale1"?"prescale2":"prescale1"}return{img:Vt,paintWidth:gn,paintHeight:_n}}_createMaskCanvas(Vt){const $t=this.ctx,{width:Xt,height:Zt}=Vt,Jt=this.current.fillColor,Yt=this.current.patternFill,gn=(0,ct.getCurrentTransform)($t);let _n,Sn,jn,Dn;if((Vt.bitmap||Vt.data)&&Vt.count>1){const xn=Vt.bitmap||Vt.data.buffer;Sn=JSON.stringify(Yt?gn:[gn.slice(0,4),Jt]),_n=this._cachedBitmapsMap.get(xn),_n||(_n=new Map,this._cachedBitmapsMap.set(xn,_n));const er=_n.get(Sn);if(er&&!Yt){const Qn=Math.round(Math.min(gn[0],gn[2])+gn[4]),gr=Math.round(Math.min(gn[1],gn[3])+gn[5]);return{canvas:er,offsetX:Qn,offsetY:gr}}jn=er}jn||(Dn=this.cachedCanvases.getCanvas("maskCanvas",Xt,Zt),kt(Dn.context,Vt));let Gn=lt.Util.transform(gn,[1/Xt,0,0,-1/Zt,0,0]);Gn=lt.Util.transform(Gn,[1,0,0,1,0,-Zt]);const Kn=lt.Util.applyTransform([0,0],Gn),hn=lt.Util.applyTransform([Xt,Zt],Gn),En=lt.Util.normalizeRect([Kn[0],Kn[1],hn[0],hn[1]]),cn=Math.round(En[2]-En[0])||1,dn=Math.round(En[3]-En[1])||1,wn=this.cachedCanvases.getCanvas("fillCanvas",cn,dn),kn=wn.context,Un=Math.min(Kn[0],hn[0]),Jn=Math.min(Kn[1],hn[1]);kn.translate(-Un,-Jn),kn.transform(...Gn),jn||(jn=this._scaleImage(Dn.canvas,(0,ct.getCurrentTransformInverse)(kn)),jn=jn.img,_n&&Yt&&_n.set(Sn,jn)),kn.imageSmoothingEnabled=jt((0,ct.getCurrentTransform)(kn),Vt.interpolate),Rt(kn,jn,0,0,jn.width,jn.height,0,0,Xt,Zt),kn.globalCompositeOperation="source-in";const An=lt.Util.transform((0,ct.getCurrentTransformInverse)(kn),[1,0,0,1,-Un,-Jn]);return kn.fillStyle=Yt?Jt.getPattern($t,this,An,ut.PathType.FILL):Jt,kn.fillRect(0,0,Xt,Zt),_n&&!Yt&&(this.cachedCanvases.delete("fillCanvas"),_n.set(Sn,wn.canvas)),{canvas:wn.canvas,offsetX:Math.round(Un),offsetY:Math.round(Jn)}}setLineWidth(Vt){Vt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Vt,this.ctx.lineWidth=Vt}setLineCap(Vt){this.ctx.lineCap=Mt[Vt]}setLineJoin(Vt){this.ctx.lineJoin=zt[Vt]}setMiterLimit(Vt){this.ctx.miterLimit=Vt}setDash(Vt,$t){const Xt=this.ctx;Xt.setLineDash!==void 0&&(Xt.setLineDash(Vt),Xt.lineDashOffset=$t)}setRenderingIntent(Vt){}setFlatness(Vt){}setGState(Vt){for(const[$t,Xt]of Vt)switch($t){case"LW":this.setLineWidth(Xt);break;case"LC":this.setLineCap(Xt);break;case"LJ":this.setLineJoin(Xt);break;case"ML":this.setMiterLimit(Xt);break;case"D":this.setDash(Xt[0],Xt[1]);break;case"RI":this.setRenderingIntent(Xt);break;case"FL":this.setFlatness(Xt);break;case"Font":this.setFont(Xt[0],Xt[1]);break;case"CA":this.current.strokeAlpha=Xt;break;case"ca":this.current.fillAlpha=Xt,this.ctx.globalAlpha=Xt;break;case"BM":this.ctx.globalCompositeOperation=Xt;break;case"SMask":this.current.activeSMask=Xt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(Xt);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Vt=this.inSMaskMode;this.current.activeSMask&&!Vt?this.beginSMaskMode():!this.current.activeSMask&&Vt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Vt=this.ctx.canvas.width,$t=this.ctx.canvas.height,Xt="smaskGroupAt"+this.groupLevel,Zt=this.cachedCanvases.getCanvas(Xt,Vt,$t);this.suspendedCtx=this.ctx,this.ctx=Zt.context;const Jt=this.ctx;Jt.setTransform(...(0,ct.getCurrentTransform)(this.suspendedCtx)),It(this.suspendedCtx,Jt),bt(Jt,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),It(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Vt){if(!this.current.activeSMask)return;Vt?(Vt[0]=Math.floor(Vt[0]),Vt[1]=Math.floor(Vt[1]),Vt[2]=Math.ceil(Vt[2]),Vt[3]=Math.ceil(Vt[3])):Vt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const $t=this.current.activeSMask,Xt=this.suspendedCtx;Dt(Xt,$t,this.ctx,Vt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(It(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Vt=this.current;this.stateStack.push(Vt),this.current=Vt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),It(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Vt,$t,Xt,Zt,Jt,Yt){this.ctx.transform(Vt,$t,Xt,Zt,Jt,Yt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Vt,$t,Xt){const Zt=this.ctx,Jt=this.current;let Yt=Jt.x,gn=Jt.y,_n,Sn;const jn=(0,ct.getCurrentTransform)(Zt),Dn=jn[0]===0&&jn[3]===0||jn[1]===0&&jn[2]===0,Gn=Dn?Xt.slice(0):null;for(let Kn=0,hn=0,En=Vt.length;Kn<En;Kn++)switch(Vt[Kn]|0){case lt.OPS.rectangle:Yt=$t[hn++],gn=$t[hn++];const cn=$t[hn++],dn=$t[hn++],wn=Yt+cn,kn=gn+dn;Zt.moveTo(Yt,gn),cn===0||dn===0?Zt.lineTo(wn,kn):(Zt.lineTo(wn,gn),Zt.lineTo(wn,kn),Zt.lineTo(Yt,kn)),Dn||Jt.updateRectMinMax(jn,[Yt,gn,wn,kn]),Zt.closePath();break;case lt.OPS.moveTo:Yt=$t[hn++],gn=$t[hn++],Zt.moveTo(Yt,gn),Dn||Jt.updatePathMinMax(jn,Yt,gn);break;case lt.OPS.lineTo:Yt=$t[hn++],gn=$t[hn++],Zt.lineTo(Yt,gn),Dn||Jt.updatePathMinMax(jn,Yt,gn);break;case lt.OPS.curveTo:_n=Yt,Sn=gn,Yt=$t[hn+4],gn=$t[hn+5],Zt.bezierCurveTo($t[hn],$t[hn+1],$t[hn+2],$t[hn+3],Yt,gn),Jt.updateCurvePathMinMax(jn,_n,Sn,$t[hn],$t[hn+1],$t[hn+2],$t[hn+3],Yt,gn,Gn),hn+=6;break;case lt.OPS.curveTo2:_n=Yt,Sn=gn,Zt.bezierCurveTo(Yt,gn,$t[hn],$t[hn+1],$t[hn+2],$t[hn+3]),Jt.updateCurvePathMinMax(jn,_n,Sn,Yt,gn,$t[hn],$t[hn+1],$t[hn+2],$t[hn+3],Gn),Yt=$t[hn+2],gn=$t[hn+3],hn+=4;break;case lt.OPS.curveTo3:_n=Yt,Sn=gn,Yt=$t[hn+2],gn=$t[hn+3],Zt.bezierCurveTo($t[hn],$t[hn+1],Yt,gn,Yt,gn),Jt.updateCurvePathMinMax(jn,_n,Sn,$t[hn],$t[hn+1],Yt,gn,Yt,gn,Gn),hn+=4;break;case lt.OPS.closePath:Zt.closePath();break}Dn&&Jt.updateScalingPathMinMax(jn,Gn),Jt.setCurrentPoint(Yt,gn)}closePath(){this.ctx.closePath()}stroke(Vt=!0){const $t=this.ctx,Xt=this.current.strokeColor;$t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof Xt=="object"&&(Xt!=null&&Xt.getPattern)?($t.save(),$t.strokeStyle=Xt.getPattern($t,this,(0,ct.getCurrentTransformInverse)($t),ut.PathType.STROKE),this.rescaleAndStroke(!1),$t.restore()):this.rescaleAndStroke(!0)),Vt&&this.consumePath(this.current.getClippedPathBoundingBox()),$t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Vt=!0){const $t=this.ctx,Xt=this.current.fillColor,Zt=this.current.patternFill;let Jt=!1;Zt&&($t.save(),$t.fillStyle=Xt.getPattern($t,this,(0,ct.getCurrentTransformInverse)($t),ut.PathType.FILL),Jt=!0);const Yt=this.current.getClippedPathBoundingBox();this.contentVisible&&Yt!==null&&(this.pendingEOFill?($t.fill("evenodd"),this.pendingEOFill=!1):$t.fill()),Jt&&$t.restore(),Vt&&this.consumePath(Yt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Qt}eoClip(){this.pendingClip=qt}beginText(){this.current.textMatrix=lt.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Vt=this.pendingTextPaths,$t=this.ctx;if(Vt===void 0){$t.beginPath();return}$t.save(),$t.beginPath();for(const Xt of Vt)$t.setTransform(...Xt.transform),$t.translate(Xt.x,Xt.y),Xt.addToPath($t,Xt.fontSize);$t.restore(),$t.clip(),$t.beginPath(),delete this.pendingTextPaths}setCharSpacing(Vt){this.current.charSpacing=Vt}setWordSpacing(Vt){this.current.wordSpacing=Vt}setHScale(Vt){this.current.textHScale=Vt/100}setLeading(Vt){this.current.leading=-Vt}setFont(Vt,$t){var jn;const Xt=this.commonObjs.get(Vt),Zt=this.current;if(!Xt)throw new Error(`Can't find font for ${Vt}`);if(Zt.fontMatrix=Xt.fontMatrix||lt.FONT_IDENTITY_MATRIX,(Zt.fontMatrix[0]===0||Zt.fontMatrix[3]===0)&&(0,lt.warn)("Invalid font matrix for font "+Vt),$t<0?($t=-$t,Zt.fontDirection=-1):Zt.fontDirection=1,this.current.font=Xt,this.current.fontSize=$t,Xt.isType3Font)return;const Jt=Xt.loadedName||"sans-serif",Yt=((jn=Xt.systemFontInfo)==null?void 0:jn.css)||`"${Jt}", ${Xt.fallbackName}`;let gn="normal";Xt.black?gn="900":Xt.bold&&(gn="bold");const _n=Xt.italic?"italic":"normal";let Sn=$t;$t<ht?Sn=ht:$t>ft&&(Sn=ft),this.current.fontSizeScale=$t/Sn,this.ctx.font=`${_n} ${gn} ${Sn}px ${Yt}`}setTextRenderingMode(Vt){this.current.textRenderingMode=Vt}setTextRise(Vt){this.current.textRise=Vt}moveText(Vt,$t){this.current.x=this.current.lineX+=Vt,this.current.y=this.current.lineY+=$t}setLeadingMoveText(Vt,$t){this.setLeading(-$t),this.moveText(Vt,$t)}setTextMatrix(Vt,$t,Xt,Zt,Jt,Yt){this.current.textMatrix=[Vt,$t,Xt,Zt,Jt,Yt],this.current.textMatrixScale=Math.hypot(Vt,$t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Vt,$t,Xt,Zt){const Jt=this.ctx,Yt=this.current,gn=Yt.font,_n=Yt.textRenderingMode,Sn=Yt.fontSize/Yt.fontSizeScale,jn=_n&lt.TextRenderingMode.FILL_STROKE_MASK,Dn=!!(_n&lt.TextRenderingMode.ADD_TO_PATH_FLAG),Gn=Yt.patternFill&&!gn.missingFile;let Kn;(gn.disableFontFace||Dn||Gn)&&(Kn=gn.getPathGenerator(this.commonObjs,Vt)),gn.disableFontFace||Gn?(Jt.save(),Jt.translate($t,Xt),Jt.beginPath(),Kn(Jt,Sn),Zt&&Jt.setTransform(...Zt),(jn===lt.TextRenderingMode.FILL||jn===lt.TextRenderingMode.FILL_STROKE)&&Jt.fill(),(jn===lt.TextRenderingMode.STROKE||jn===lt.TextRenderingMode.FILL_STROKE)&&Jt.stroke(),Jt.restore()):((jn===lt.TextRenderingMode.FILL||jn===lt.TextRenderingMode.FILL_STROKE)&&Jt.fillText(Vt,$t,Xt),(jn===lt.TextRenderingMode.STROKE||jn===lt.TextRenderingMode.FILL_STROKE)&&Jt.strokeText(Vt,$t,Xt)),Dn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,ct.getCurrentTransform)(Jt),x:$t,y:Xt,fontSize:Sn,addToPath:Kn})}get isFontSubpixelAAEnabled(){const{context:Vt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Vt.scale(1.5,1),Vt.fillText("I",0,10);const $t=Vt.getImageData(0,0,10,10).data;let Xt=!1;for(let Zt=3;Zt<$t.length;Zt+=4)if($t[Zt]>0&&$t[Zt]<255){Xt=!0;break}return(0,lt.shadow)(this,"isFontSubpixelAAEnabled",Xt)}showText(Vt){const $t=this.current,Xt=$t.font;if(Xt.isType3Font)return this.showType3Text(Vt);const Zt=$t.fontSize;if(Zt===0)return;const Jt=this.ctx,Yt=$t.fontSizeScale,gn=$t.charSpacing,_n=$t.wordSpacing,Sn=$t.fontDirection,jn=$t.textHScale*Sn,Dn=Vt.length,Gn=Xt.vertical,Kn=Gn?1:-1,hn=Xt.defaultVMetrics,En=Zt*$t.fontMatrix[0],cn=$t.textRenderingMode===lt.TextRenderingMode.FILL&&!Xt.disableFontFace&&!$t.patternFill;Jt.save(),Jt.transform(...$t.textMatrix),Jt.translate($t.x,$t.y+$t.textRise),Sn>0?Jt.scale(jn,-1):Jt.scale(jn,1);let dn;if($t.patternFill){Jt.save();const An=$t.fillColor.getPattern(Jt,this,(0,ct.getCurrentTransformInverse)(Jt),ut.PathType.FILL);dn=(0,ct.getCurrentTransform)(Jt),Jt.restore(),Jt.fillStyle=An}let wn=$t.lineWidth;const kn=$t.textMatrixScale;if(kn===0||wn===0){const An=$t.textRenderingMode&lt.TextRenderingMode.FILL_STROKE_MASK;(An===lt.TextRenderingMode.STROKE||An===lt.TextRenderingMode.FILL_STROKE)&&(wn=this.getSinglePixelWidth())}else wn/=kn;if(Yt!==1&&(Jt.scale(Yt,Yt),wn/=Yt),Jt.lineWidth=wn,Xt.isInvalidPDFjsFont){const An=[];let xn=0;for(const er of Vt)An.push(er.unicode),xn+=er.width;Jt.fillText(An.join(""),0,0),$t.x+=xn*En*jn,Jt.restore(),this.compose();return}let Un=0,Jn;for(Jn=0;Jn<Dn;++Jn){const An=Vt[Jn];if(typeof An=="number"){Un+=Kn*An*Zt/1e3;continue}let xn=!1;const er=(An.isSpace?_n:0)+gn,Qn=An.fontChar,gr=An.accent;let yr,Fr,br=An.width;if(Gn){const Yr=An.vmetric||hn,ss=-(An.vmetric?Yr[1]:br*.5)*En,nr=Yr[2]*En;br=Yr?-Yr[0]:br,yr=ss/Yt,Fr=(Un+nr)/Yt}else yr=Un/Yt,Fr=0;if(Xt.remeasure&&br>0){const Yr=Jt.measureText(Qn).width*1e3/Zt*Yt;if(br<Yr&&this.isFontSubpixelAAEnabled){const ss=br/Yr;xn=!0,Jt.save(),Jt.scale(ss,1),yr/=ss}else br!==Yr&&(yr+=(br-Yr)/2e3*Zt/Yt)}if(this.contentVisible&&(An.isInFont||Xt.missingFile)){if(cn&&!gr)Jt.fillText(Qn,yr,Fr);else if(this.paintChar(Qn,yr,Fr,dn),gr){const Yr=yr+Zt*gr.offset.x/Yt,ss=Fr-Zt*gr.offset.y/Yt;this.paintChar(gr.fontChar,Yr,ss,dn)}}const Er=Gn?br*En-er*Sn:br*En+er*Sn;Un+=Er,xn&&Jt.restore()}Gn?$t.y-=Un:$t.x+=Un*jn,Jt.restore(),this.compose()}showType3Text(Vt){const $t=this.ctx,Xt=this.current,Zt=Xt.font,Jt=Xt.fontSize,Yt=Xt.fontDirection,gn=Zt.vertical?1:-1,_n=Xt.charSpacing,Sn=Xt.wordSpacing,jn=Xt.textHScale*Yt,Dn=Xt.fontMatrix||lt.FONT_IDENTITY_MATRIX,Gn=Vt.length,Kn=Xt.textRenderingMode===lt.TextRenderingMode.INVISIBLE;let hn,En,cn,dn;if(!(Kn||Jt===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,$t.save(),$t.transform(...Xt.textMatrix),$t.translate(Xt.x,Xt.y),$t.scale(jn,Yt),hn=0;hn<Gn;++hn){if(En=Vt[hn],typeof En=="number"){dn=gn*En*Jt/1e3,this.ctx.translate(dn,0),Xt.x+=dn*jn;continue}const wn=(En.isSpace?Sn:0)+_n,kn=Zt.charProcOperatorList[En.operatorListId];if(!kn){(0,lt.warn)(`Type3 character "${En.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=En,this.save(),$t.scale(Jt,Jt),$t.transform(...Dn),this.executeOperatorList(kn),this.restore()),cn=lt.Util.applyTransform([En.width,0],Dn)[0]*Jt+wn,$t.translate(cn,0),Xt.x+=cn*jn}$t.restore(),this.processingType3=null}}setCharWidth(Vt,$t){}setCharWidthAndBounds(Vt,$t,Xt,Zt,Jt,Yt){this.ctx.rect(Xt,Zt,Jt-Xt,Yt-Zt),this.ctx.clip(),this.endPath()}getColorN_Pattern(Vt){let $t;if(Vt[0]==="TilingPattern"){const Xt=Vt[1],Zt=this.baseTransform||(0,ct.getCurrentTransform)(this.ctx),Jt={createCanvasGraphics:Yt=>new pn(Yt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};$t=new ut.TilingPattern(Vt,Xt,this.ctx,Jt,Zt)}else $t=this._getPattern(Vt[1],Vt[2]);return $t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Vt,$t,Xt){const Zt=lt.Util.makeHexColor(Vt,$t,Xt);this.ctx.strokeStyle=Zt,this.current.strokeColor=Zt}setFillRGBColor(Vt,$t,Xt){const Zt=lt.Util.makeHexColor(Vt,$t,Xt);this.ctx.fillStyle=Zt,this.current.fillColor=Zt,this.current.patternFill=!1}_getPattern(Vt,$t=null){let Xt;return this.cachedPatterns.has(Vt)?Xt=this.cachedPatterns.get(Vt):(Xt=(0,ut.getShadingPattern)(this.getObject(Vt)),this.cachedPatterns.set(Vt,Xt)),$t&&(Xt.matrix=$t),Xt}shadingFill(Vt){if(!this.contentVisible)return;const $t=this.ctx;this.save();const Xt=this._getPattern(Vt);$t.fillStyle=Xt.getPattern($t,this,(0,ct.getCurrentTransformInverse)($t),ut.PathType.SHADING);const Zt=(0,ct.getCurrentTransformInverse)($t);if(Zt){const{width:Jt,height:Yt}=$t.canvas,[gn,_n,Sn,jn]=lt.Util.getAxialAlignedBoundingBox([0,0,Jt,Yt],Zt);this.ctx.fillRect(gn,_n,Sn-gn,jn-_n)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,lt.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,lt.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Vt,$t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Vt)&&Vt.length===6&&this.transform(...Vt),this.baseTransform=(0,ct.getCurrentTransform)(this.ctx),$t)){const Xt=$t[2]-$t[0],Zt=$t[3]-$t[1];this.ctx.rect($t[0],$t[1],Xt,Zt),this.current.updateRectMinMax((0,ct.getCurrentTransform)(this.ctx),$t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Vt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const $t=this.ctx;Vt.isolated||(0,lt.info)("TODO: Support non-isolated groups."),Vt.knockout&&(0,lt.warn)("Knockout groups not supported.");const Xt=(0,ct.getCurrentTransform)($t);if(Vt.matrix&&$t.transform(...Vt.matrix),!Vt.bbox)throw new Error("Bounding box is required.");let Zt=lt.Util.getAxialAlignedBoundingBox(Vt.bbox,(0,ct.getCurrentTransform)($t));const Jt=[0,0,$t.canvas.width,$t.canvas.height];Zt=lt.Util.intersect(Zt,Jt)||[0,0,0,0];const Yt=Math.floor(Zt[0]),gn=Math.floor(Zt[1]);let _n=Math.max(Math.ceil(Zt[2])-Yt,1),Sn=Math.max(Math.ceil(Zt[3])-gn,1),jn=1,Dn=1;_n>pt&&(jn=_n/pt,_n=pt),Sn>pt&&(Dn=Sn/pt,Sn=pt),this.current.startNewPathAndClipBox([0,0,_n,Sn]);let Gn="groupAt"+this.groupLevel;Vt.smask&&(Gn+="_smask_"+this.smaskCounter++%2);const Kn=this.cachedCanvases.getCanvas(Gn,_n,Sn),hn=Kn.context;hn.scale(1/jn,1/Dn),hn.translate(-Yt,-gn),hn.transform(...Xt),Vt.smask?this.smaskStack.push({canvas:Kn.canvas,context:hn,offsetX:Yt,offsetY:gn,scaleX:jn,scaleY:Dn,subtype:Vt.smask.subtype,backdrop:Vt.smask.backdrop,transferMap:Vt.smask.transferMap||null,startTransformInverse:null}):($t.setTransform(1,0,0,1,0,0),$t.translate(Yt,gn),$t.scale(jn,Dn),$t.save()),It($t,hn),this.ctx=hn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push($t),this.groupLevel++}endGroup(Vt){if(!this.contentVisible)return;this.groupLevel--;const $t=this.ctx,Xt=this.groupStack.pop();if(this.ctx=Xt,this.ctx.imageSmoothingEnabled=!1,Vt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Zt=(0,ct.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Zt);const Jt=lt.Util.getAxialAlignedBoundingBox([0,0,$t.canvas.width,$t.canvas.height],Zt);this.ctx.drawImage($t.canvas,0,0),this.ctx.restore(),this.compose(Jt)}}beginAnnotation(Vt,$t,Xt,Zt,Jt){if(On(this,sn,Ip).call(this),Nt(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray($t)&&$t.length===4){const Yt=$t[2]-$t[0],gn=$t[3]-$t[1];if(Jt&&this.annotationCanvasMap){Xt=Xt.slice(),Xt[4]-=$t[0],Xt[5]-=$t[1],$t=$t.slice(),$t[0]=$t[1]=0,$t[2]=Yt,$t[3]=gn;const[_n,Sn]=lt.Util.singularValueDecompose2dScale((0,ct.getCurrentTransform)(this.ctx)),{viewportScale:jn}=this,Dn=Math.ceil(Yt*this.outputScaleX*jn),Gn=Math.ceil(gn*this.outputScaleY*jn);this.annotationCanvas=this.canvasFactory.create(Dn,Gn);const{canvas:Kn,context:hn}=this.annotationCanvas;this.annotationCanvasMap.set(Vt,Kn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=hn,this.ctx.save(),this.ctx.setTransform(_n,0,0,-Sn,0,gn*Sn),Nt(this.ctx)}else Nt(this.ctx),this.ctx.rect($t[0],$t[1],Yt,gn),this.ctx.clip(),this.endPath()}this.current=new _t(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...Xt),this.transform(...Zt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),On(this,sn,Dp).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Vt){if(!this.contentVisible)return;const $t=Vt.count;Vt=this.getObject(Vt.data,Vt),Vt.count=$t;const Xt=this.ctx,Zt=this.processingType3;if(Zt&&(Zt.compiled===void 0&&(Zt.compiled=wt(Vt)),Zt.compiled)){Zt.compiled(Xt);return}const Jt=this._createMaskCanvas(Vt),Yt=Jt.canvas;Xt.save(),Xt.setTransform(1,0,0,1,0,0),Xt.drawImage(Yt,Jt.offsetX,Jt.offsetY),Xt.restore(),this.compose()}paintImageMaskXObjectRepeat(Vt,$t,Xt=0,Zt=0,Jt,Yt){if(!this.contentVisible)return;Vt=this.getObject(Vt.data,Vt);const gn=this.ctx;gn.save();const _n=(0,ct.getCurrentTransform)(gn);gn.transform($t,Xt,Zt,Jt,0,0);const Sn=this._createMaskCanvas(Vt);gn.setTransform(1,0,0,1,Sn.offsetX-_n[4],Sn.offsetY-_n[5]);for(let jn=0,Dn=Yt.length;jn<Dn;jn+=2){const Gn=lt.Util.transform(_n,[$t,Xt,Zt,Jt,Yt[jn],Yt[jn+1]]),[Kn,hn]=lt.Util.applyTransform([0,0],Gn);gn.drawImage(Sn.canvas,Kn,hn)}gn.restore(),this.compose()}paintImageMaskXObjectGroup(Vt){if(!this.contentVisible)return;const $t=this.ctx,Xt=this.current.fillColor,Zt=this.current.patternFill;for(const Jt of Vt){const{data:Yt,width:gn,height:_n,transform:Sn}=Jt,jn=this.cachedCanvases.getCanvas("maskCanvas",gn,_n),Dn=jn.context;Dn.save();const Gn=this.getObject(Yt,Jt);kt(Dn,Gn),Dn.globalCompositeOperation="source-in",Dn.fillStyle=Zt?Xt.getPattern(Dn,this,(0,ct.getCurrentTransformInverse)($t),ut.PathType.FILL):Xt,Dn.fillRect(0,0,gn,_n),Dn.restore(),$t.save(),$t.transform(...Sn),$t.scale(1,-1),Rt($t,jn.canvas,0,0,gn,_n,0,-1,1,1),$t.restore()}this.compose()}paintImageXObject(Vt){if(!this.contentVisible)return;const $t=this.getObject(Vt);if(!$t){(0,lt.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject($t)}paintImageXObjectRepeat(Vt,$t,Xt,Zt){if(!this.contentVisible)return;const Jt=this.getObject(Vt);if(!Jt){(0,lt.warn)("Dependent image isn't ready yet");return}const Yt=Jt.width,gn=Jt.height,_n=[];for(let Sn=0,jn=Zt.length;Sn<jn;Sn+=2)_n.push({transform:[$t,0,0,Xt,Zt[Sn],Zt[Sn+1]],x:0,y:0,w:Yt,h:gn});this.paintInlineImageXObjectGroup(Jt,_n)}applyTransferMapsToCanvas(Vt){return this.current.transferMaps!=="none"&&(Vt.filter=this.current.transferMaps,Vt.drawImage(Vt.canvas,0,0),Vt.filter="none"),Vt.canvas}applyTransferMapsToBitmap(Vt){if(this.current.transferMaps==="none")return Vt.bitmap;const{bitmap:$t,width:Xt,height:Zt}=Vt,Jt=this.cachedCanvases.getCanvas("inlineImage",Xt,Zt),Yt=Jt.context;return Yt.filter=this.current.transferMaps,Yt.drawImage($t,0,0),Yt.filter="none",Jt.canvas}paintInlineImageXObject(Vt){if(!this.contentVisible)return;const $t=Vt.width,Xt=Vt.height,Zt=this.ctx;if(this.save(),!lt.isNodeJS){const{filter:gn}=Zt;gn!=="none"&&gn!==""&&(Zt.filter="none")}Zt.scale(1/$t,-1/Xt);let Jt;if(Vt.bitmap)Jt=this.applyTransferMapsToBitmap(Vt);else if(typeof HTMLElement=="function"&&Vt instanceof HTMLElement||!Vt.data)Jt=Vt;else{const _n=this.cachedCanvases.getCanvas("inlineImage",$t,Xt).context;At(_n,Vt),Jt=this.applyTransferMapsToCanvas(_n)}const Yt=this._scaleImage(Jt,(0,ct.getCurrentTransformInverse)(Zt));Zt.imageSmoothingEnabled=jt((0,ct.getCurrentTransform)(Zt),Vt.interpolate),Rt(Zt,Yt.img,0,0,Yt.paintWidth,Yt.paintHeight,0,-Xt,$t,Xt),this.compose(),this.restore()}paintInlineImageXObjectGroup(Vt,$t){if(!this.contentVisible)return;const Xt=this.ctx;let Zt;if(Vt.bitmap)Zt=Vt.bitmap;else{const Jt=Vt.width,Yt=Vt.height,_n=this.cachedCanvases.getCanvas("inlineImage",Jt,Yt).context;At(_n,Vt),Zt=this.applyTransferMapsToCanvas(_n)}for(const Jt of $t)Xt.save(),Xt.transform(...Jt.transform),Xt.scale(1,-1),Rt(Xt,Zt,Jt.x,Jt.y,Jt.w,Jt.h,0,-1,1,1),Xt.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Vt){}markPointProps(Vt,$t){}beginMarkedContent(Vt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Vt,$t){Vt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible($t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Vt){const $t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Vt);const Xt=this.ctx;this.pendingClip&&($t||(this.pendingClip===qt?Xt.clip("evenodd"):Xt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),Xt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Vt=(0,ct.getCurrentTransform)(this.ctx);if(Vt[1]===0&&Vt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Vt[0]),Math.abs(Vt[3]));else{const $t=Math.abs(Vt[0]*Vt[3]-Vt[2]*Vt[1]),Xt=Math.hypot(Vt[0],Vt[2]),Zt=Math.hypot(Vt[1],Vt[3]);this._cachedGetSinglePixelWidth=Math.max(Xt,Zt)/$t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Vt}=this.current,{a:$t,b:Xt,c:Zt,d:Jt}=this.ctx.getTransform();let Yt,gn;if(Xt===0&&Zt===0){const _n=Math.abs($t),Sn=Math.abs(Jt);if(_n===Sn)if(Vt===0)Yt=gn=1/_n;else{const jn=_n*Vt;Yt=gn=jn<1?1/jn:1}else if(Vt===0)Yt=1/_n,gn=1/Sn;else{const jn=_n*Vt,Dn=Sn*Vt;Yt=jn<1?1/jn:1,gn=Dn<1?1/Dn:1}}else{const _n=Math.abs($t*Jt-Xt*Zt),Sn=Math.hypot($t,Xt),jn=Math.hypot(Zt,Jt);if(Vt===0)Yt=jn/_n,gn=Sn/_n;else{const Dn=Vt*_n;Yt=jn>Dn?jn/Dn:1,gn=Sn>Dn?Sn/Dn:1}}this._cachedScaleForStroking[0]=Yt,this._cachedScaleForStroking[1]=gn}return this._cachedScaleForStroking}rescaleAndStroke(Vt){const{ctx:$t}=this,{lineWidth:Xt}=this.current,[Zt,Jt]=this.getScaleForStroking();if($t.lineWidth=Xt||1,Zt===1&&Jt===1){$t.stroke();return}const Yt=$t.getLineDash();if(Vt&&$t.save(),$t.scale(Zt,Jt),Yt.length>0){const gn=Math.max(Zt,Jt);$t.setLineDash(Yt.map(_n=>_n/gn)),$t.lineDashOffset/=gn}$t.stroke(),Vt&&$t.restore()}isContentVisible(){for(let Vt=this.markedContentStack.length-1;Vt>=0;Vt--)if(!this.markedContentStack[Vt].visible)return!1;return!0}};sn=new WeakSet,Ip=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Dp=function(){if(this.pageColors){const Vt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Vt!=="none"){const $t=this.ctx.filter;this.ctx.filter=Vt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=$t}}};let Kt=pn;rt.CanvasGraphics=Kt;for(const rn in lt.OPS)Kt.prototype[rn]!==void 0&&(Kt.prototype[lt.OPS[rn]]=Kt.prototype[rn])},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.TilingPattern=rt.PathType=void 0,rt.getShadingPattern=xt;var lt=at(1),ct=at(6);const ut={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};rt.PathType=ut;function dt(wt,_t){if(!_t)return;const At=_t[2]-_t[0],kt=_t[3]-_t[1],It=new Path2D;It.rect(_t[0],_t[1],At,kt),wt.clip(It)}class ht{constructor(){this.constructor===ht&&(0,lt.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,lt.unreachable)("Abstract method `getPattern` called.")}}class ft extends ht{constructor(_t){super(),this._type=_t[1],this._bbox=_t[2],this._colorStops=_t[3],this._p0=_t[4],this._p1=_t[5],this._r0=_t[6],this._r1=_t[7],this.matrix=null}_createGradient(_t){let At;this._type==="axial"?At=_t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(At=_t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const kt of this._colorStops)At.addColorStop(kt[0],kt[1]);return At}getPattern(_t,At,kt,It){let Nt;if(It===ut.STROKE||It===ut.FILL){const Pt=At.current.getClippedPathBoundingBox(It,(0,ct.getCurrentTransform)(_t))||[0,0,0,0],Tt=Math.ceil(Pt[2]-Pt[0])||1,Ct=Math.ceil(Pt[3]-Pt[1])||1,Ot=At.cachedCanvases.getCanvas("pattern",Tt,Ct,!0),Dt=Ot.context;Dt.clearRect(0,0,Dt.canvas.width,Dt.canvas.height),Dt.beginPath(),Dt.rect(0,0,Dt.canvas.width,Dt.canvas.height),Dt.translate(-Pt[0],-Pt[1]),kt=lt.Util.transform(kt,[1,0,0,1,Pt[0],Pt[1]]),Dt.transform(...At.baseTransform),this.matrix&&Dt.transform(...this.matrix),dt(Dt,this._bbox),Dt.fillStyle=this._createGradient(Dt),Dt.fill(),Nt=_t.createPattern(Ot.canvas,"no-repeat");const jt=new DOMMatrix(kt);Nt.setTransform(jt)}else dt(_t,this._bbox),Nt=this._createGradient(_t);return Nt}}function pt(wt,_t,At,kt,It,Nt,Pt,Tt){const Ct=_t.coords,Ot=_t.colors,Dt=wt.data,jt=wt.width*4;let Mt;Ct[At+1]>Ct[kt+1]&&(Mt=At,At=kt,kt=Mt,Mt=Nt,Nt=Pt,Pt=Mt),Ct[kt+1]>Ct[It+1]&&(Mt=kt,kt=It,It=Mt,Mt=Pt,Pt=Tt,Tt=Mt),Ct[At+1]>Ct[kt+1]&&(Mt=At,At=kt,kt=Mt,Mt=Nt,Nt=Pt,Pt=Mt);const zt=(Ct[At]+_t.offsetX)*_t.scaleX,Qt=(Ct[At+1]+_t.offsetY)*_t.scaleY,qt=(Ct[kt]+_t.offsetX)*_t.scaleX,Kt=(Ct[kt+1]+_t.offsetY)*_t.scaleY,sn=(Ct[It]+_t.offsetX)*_t.scaleX,Gt=(Ct[It+1]+_t.offsetY)*_t.scaleY;if(Qt>=Gt)return;const Wt=Ot[Nt],pn=Ot[Nt+1],rn=Ot[Nt+2],Vt=Ot[Pt],$t=Ot[Pt+1],Xt=Ot[Pt+2],Zt=Ot[Tt],Jt=Ot[Tt+1],Yt=Ot[Tt+2],gn=Math.round(Qt),_n=Math.round(Gt);let Sn,jn,Dn,Gn,Kn,hn,En,cn;for(let dn=gn;dn<=_n;dn++){if(dn<Kt){const An=dn<Qt?0:(Qt-dn)/(Qt-Kt);Sn=zt-(zt-qt)*An,jn=Wt-(Wt-Vt)*An,Dn=pn-(pn-$t)*An,Gn=rn-(rn-Xt)*An}else{let An;dn>Gt?An=1:Kt===Gt?An=0:An=(Kt-dn)/(Kt-Gt),Sn=qt-(qt-sn)*An,jn=Vt-(Vt-Zt)*An,Dn=$t-($t-Jt)*An,Gn=Xt-(Xt-Yt)*An}let wn;dn<Qt?wn=0:dn>Gt?wn=1:wn=(Qt-dn)/(Qt-Gt),Kn=zt-(zt-sn)*wn,hn=Wt-(Wt-Zt)*wn,En=pn-(pn-Jt)*wn,cn=rn-(rn-Yt)*wn;const kn=Math.round(Math.min(Sn,Kn)),Un=Math.round(Math.max(Sn,Kn));let Jn=jt*dn+kn*4;for(let An=kn;An<=Un;An++)wn=(Sn-An)/(Sn-Kn),wn<0?wn=0:wn>1&&(wn=1),Dt[Jn++]=jn-(jn-hn)*wn|0,Dt[Jn++]=Dn-(Dn-En)*wn|0,Dt[Jn++]=Gn-(Gn-cn)*wn|0,Dt[Jn++]=255}}function mt(wt,_t,At){const kt=_t.coords,It=_t.colors;let Nt,Pt;switch(_t.type){case"lattice":const Tt=_t.verticesPerRow,Ct=Math.floor(kt.length/Tt)-1,Ot=Tt-1;for(Nt=0;Nt<Ct;Nt++){let Dt=Nt*Tt;for(let jt=0;jt<Ot;jt++,Dt++)pt(wt,At,kt[Dt],kt[Dt+1],kt[Dt+Tt],It[Dt],It[Dt+1],It[Dt+Tt]),pt(wt,At,kt[Dt+Tt+1],kt[Dt+1],kt[Dt+Tt],It[Dt+Tt+1],It[Dt+1],It[Dt+Tt])}break;case"triangles":for(Nt=0,Pt=kt.length;Nt<Pt;Nt+=3)pt(wt,At,kt[Nt],kt[Nt+1],kt[Nt+2],It[Nt],It[Nt+1],It[Nt+2]);break;default:throw new Error("illegal figure")}}class gt extends ht{constructor(_t){super(),this._coords=_t[2],this._colors=_t[3],this._figures=_t[4],this._bounds=_t[5],this._bbox=_t[7],this._background=_t[8],this.matrix=null}_createMeshCanvas(_t,At,kt){const Tt=Math.floor(this._bounds[0]),Ct=Math.floor(this._bounds[1]),Ot=Math.ceil(this._bounds[2])-Tt,Dt=Math.ceil(this._bounds[3])-Ct,jt=Math.min(Math.ceil(Math.abs(Ot*_t[0]*1.1)),3e3),Mt=Math.min(Math.ceil(Math.abs(Dt*_t[1]*1.1)),3e3),zt=Ot/jt,Qt=Dt/Mt,qt={coords:this._coords,colors:this._colors,offsetX:-Tt,offsetY:-Ct,scaleX:1/zt,scaleY:1/Qt},Kt=jt+2*2,sn=Mt+2*2,Gt=kt.getCanvas("mesh",Kt,sn,!1),Wt=Gt.context,pn=Wt.createImageData(jt,Mt);if(At){const Vt=pn.data;for(let $t=0,Xt=Vt.length;$t<Xt;$t+=4)Vt[$t]=At[0],Vt[$t+1]=At[1],Vt[$t+2]=At[2],Vt[$t+3]=255}for(const Vt of this._figures)mt(pn,Vt,qt);return Wt.putImageData(pn,2,2),{canvas:Gt.canvas,offsetX:Tt-2*zt,offsetY:Ct-2*Qt,scaleX:zt,scaleY:Qt}}getPattern(_t,At,kt,It){dt(_t,this._bbox);let Nt;if(It===ut.SHADING)Nt=lt.Util.singularValueDecompose2dScale((0,ct.getCurrentTransform)(_t));else if(Nt=lt.Util.singularValueDecompose2dScale(At.baseTransform),this.matrix){const Tt=lt.Util.singularValueDecompose2dScale(this.matrix);Nt=[Nt[0]*Tt[0],Nt[1]*Tt[1]]}const Pt=this._createMeshCanvas(Nt,It===ut.SHADING?null:this._background,At.cachedCanvases);return It!==ut.SHADING&&(_t.setTransform(...At.baseTransform),this.matrix&&_t.transform(...this.matrix)),_t.translate(Pt.offsetX,Pt.offsetY),_t.scale(Pt.scaleX,Pt.scaleY),_t.createPattern(Pt.canvas,"no-repeat")}}class yt extends ht{getPattern(){return"hotpink"}}function xt(wt){switch(wt[0]){case"RadialAxial":return new ft(wt);case"Mesh":return new gt(wt);case"Dummy":return new yt}throw new Error(`Unknown IR type: ${wt[0]}`)}const bt={COLORED:1,UNCOLORED:2},Rt=class Rt{constructor(_t,At,kt,It,Nt){this.operatorList=_t[2],this.matrix=_t[3]||[1,0,0,1,0,0],this.bbox=_t[4],this.xstep=_t[5],this.ystep=_t[6],this.paintType=_t[7],this.tilingType=_t[8],this.color=At,this.ctx=kt,this.canvasGraphicsFactory=It,this.baseTransform=Nt}createPatternCanvas(_t){const At=this.operatorList,kt=this.bbox,It=this.xstep,Nt=this.ystep,Pt=this.paintType,Tt=this.tilingType,Ct=this.color,Ot=this.canvasGraphicsFactory;(0,lt.info)("TilingType: "+Tt);const Dt=kt[0],jt=kt[1],Mt=kt[2],zt=kt[3],Qt=lt.Util.singularValueDecompose2dScale(this.matrix),qt=lt.Util.singularValueDecompose2dScale(this.baseTransform),Kt=[Qt[0]*qt[0],Qt[1]*qt[1]],sn=this.getSizeAndScale(It,this.ctx.canvas.width,Kt[0]),Gt=this.getSizeAndScale(Nt,this.ctx.canvas.height,Kt[1]),Wt=_t.cachedCanvases.getCanvas("pattern",sn.size,Gt.size,!0),pn=Wt.context,rn=Ot.createCanvasGraphics(pn);rn.groupLevel=_t.groupLevel,this.setFillAndStrokeStyleToContext(rn,Pt,Ct);let Vt=Dt,$t=jt,Xt=Mt,Zt=zt;return Dt<0&&(Vt=0,Xt+=Math.abs(Dt)),jt<0&&($t=0,Zt+=Math.abs(jt)),pn.translate(-(sn.scale*Vt),-(Gt.scale*$t)),rn.transform(sn.scale,0,0,Gt.scale,0,0),pn.save(),this.clipBbox(rn,Vt,$t,Xt,Zt),rn.baseTransform=(0,ct.getCurrentTransform)(rn.ctx),rn.executeOperatorList(At),rn.endDrawing(),{canvas:Wt.canvas,scaleX:sn.scale,scaleY:Gt.scale,offsetX:Vt,offsetY:$t}}getSizeAndScale(_t,At,kt){_t=Math.abs(_t);const It=Math.max(Rt.MAX_PATTERN_SIZE,At);let Nt=Math.ceil(_t*kt);return Nt>=It?Nt=It:kt=Nt/_t,{scale:kt,size:Nt}}clipBbox(_t,At,kt,It,Nt){const Pt=It-At,Tt=Nt-kt;_t.ctx.rect(At,kt,Pt,Tt),_t.current.updateRectMinMax((0,ct.getCurrentTransform)(_t.ctx),[At,kt,It,Nt]),_t.clip(),_t.endPath()}setFillAndStrokeStyleToContext(_t,At,kt){const It=_t.ctx,Nt=_t.current;switch(At){case bt.COLORED:const Pt=this.ctx;It.fillStyle=Pt.fillStyle,It.strokeStyle=Pt.strokeStyle,Nt.fillColor=Pt.fillStyle,Nt.strokeColor=Pt.strokeStyle;break;case bt.UNCOLORED:const Tt=lt.Util.makeHexColor(kt[0],kt[1],kt[2]);It.fillStyle=Tt,It.strokeStyle=Tt,Nt.fillColor=Tt,Nt.strokeColor=Tt;break;default:throw new lt.FormatError(`Unsupported paint type: ${At}`)}}getPattern(_t,At,kt,It){let Nt=kt;It!==ut.SHADING&&(Nt=lt.Util.transform(Nt,At.baseTransform),this.matrix&&(Nt=lt.Util.transform(Nt,this.matrix)));const Pt=this.createPatternCanvas(At);let Tt=new DOMMatrix(Nt);Tt=Tt.translate(Pt.offsetX,Pt.offsetY),Tt=Tt.scale(1/Pt.scaleX,1/Pt.scaleY);const Ct=_t.createPattern(Pt.canvas,"repeat");return Ct.setTransform(Tt),Ct}};zr(Rt,"MAX_PATTERN_SIZE",3e3);let Et=Rt;rt.TilingPattern=Et},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.convertBlackAndWhiteToRGBA=ut,rt.convertToRGBA=ct,rt.grayToRGBA=ht;var lt=at(1);function ct(ft){switch(ft.kind){case lt.ImageKind.GRAYSCALE_1BPP:return ut(ft);case lt.ImageKind.RGB_24BPP:return dt(ft)}return null}function ut({src:ft,srcPos:pt=0,dest:mt,width:gt,height:yt,nonBlackColor:xt=4294967295,inverseDecode:bt=!1}){const Et=lt.FeatureTest.isLittleEndian?4278190080:255,[Rt,wt]=bt?[xt,Et]:[Et,xt],_t=gt>>3,At=gt&7,kt=ft.length;mt=new Uint32Array(mt.buffer);let It=0;for(let Nt=0;Nt<yt;Nt++){for(const Tt=pt+_t;pt<Tt;pt++){const Ct=pt<kt?ft[pt]:255;mt[It++]=Ct&128?wt:Rt,mt[It++]=Ct&64?wt:Rt,mt[It++]=Ct&32?wt:Rt,mt[It++]=Ct&16?wt:Rt,mt[It++]=Ct&8?wt:Rt,mt[It++]=Ct&4?wt:Rt,mt[It++]=Ct&2?wt:Rt,mt[It++]=Ct&1?wt:Rt}if(At===0)continue;const Pt=pt<kt?ft[pt++]:255;for(let Tt=0;Tt<At;Tt++)mt[It++]=Pt&1<<7-Tt?wt:Rt}return{srcPos:pt,destPos:It}}function dt({src:ft,srcPos:pt=0,dest:mt,destPos:gt=0,width:yt,height:xt}){let bt=0;const Et=ft.length>>2,Rt=new Uint32Array(ft.buffer,pt,Et);if(lt.FeatureTest.isLittleEndian){for(;bt<Et-2;bt+=3,gt+=4){const wt=Rt[bt],_t=Rt[bt+1],At=Rt[bt+2];mt[gt]=wt|4278190080,mt[gt+1]=wt>>>24|_t<<8|4278190080,mt[gt+2]=_t>>>16|At<<16|4278190080,mt[gt+3]=At>>>8|4278190080}for(let wt=bt*4,_t=ft.length;wt<_t;wt+=3)mt[gt++]=ft[wt]|ft[wt+1]<<8|ft[wt+2]<<16|4278190080}else{for(;bt<Et-2;bt+=3,gt+=4){const wt=Rt[bt],_t=Rt[bt+1],At=Rt[bt+2];mt[gt]=wt|255,mt[gt+1]=wt<<24|_t>>>8|255,mt[gt+2]=_t<<16|At>>>16|255,mt[gt+3]=At<<8|255}for(let wt=bt*4,_t=ft.length;wt<_t;wt+=3)mt[gt++]=ft[wt]<<24|ft[wt+1]<<16|ft[wt+2]<<8|255}return{srcPos:pt,destPos:gt}}function ht(ft,pt){if(lt.FeatureTest.isLittleEndian)for(let mt=0,gt=ft.length;mt<gt;mt++)pt[mt]=ft[mt]*65793|4278190080;else for(let mt=0,gt=ft.length;mt<gt;mt++)pt[mt]=ft[mt]*16843008|255}},(ot,rt)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.GlobalWorkerOptions=void 0;const at=Object.create(null);rt.GlobalWorkerOptions=at,at.workerPort=null,at.workerSrc=""},(ot,rt,at)=>{var ft,km,Im,qu;Object.defineProperty(rt,"__esModule",{value:!0}),rt.MessageHandler=void 0;var lt=at(1);const ct={UNKNOWN:0,DATA:1,ERROR:2},ut={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function dt(yt){switch(yt instanceof Error||typeof yt=="object"&&yt!==null||(0,lt.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),yt.name){case"AbortException":return new lt.AbortException(yt.message);case"MissingPDFException":return new lt.MissingPDFException(yt.message);case"PasswordException":return new lt.PasswordException(yt.message,yt.code);case"UnexpectedResponseException":return new lt.UnexpectedResponseException(yt.message,yt.status);case"UnknownErrorException":return new lt.UnknownErrorException(yt.message,yt.details);default:return new lt.UnknownErrorException(yt.message,yt.toString())}}class ht{constructor(xt,bt,Et){Wn(this,ft);this.sourceName=xt,this.targetName=bt,this.comObj=Et,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=Rt=>{const wt=Rt.data;if(wt.targetName!==this.sourceName)return;if(wt.stream){On(this,ft,Im).call(this,wt);return}if(wt.callback){const At=wt.callbackId,kt=this.callbackCapabilities[At];if(!kt)throw new Error(`Cannot resolve callback ${At}`);if(delete this.callbackCapabilities[At],wt.callback===ct.DATA)kt.resolve(wt.data);else if(wt.callback===ct.ERROR)kt.reject(dt(wt.reason));else throw new Error("Unexpected callback case");return}const _t=this.actionHandler[wt.action];if(!_t)throw new Error(`Unknown action from worker: ${wt.action}`);if(wt.callbackId){const At=this.sourceName,kt=wt.sourceName;new Promise(function(It){It(_t(wt.data))}).then(function(It){Et.postMessage({sourceName:At,targetName:kt,callback:ct.DATA,callbackId:wt.callbackId,data:It})},function(It){Et.postMessage({sourceName:At,targetName:kt,callback:ct.ERROR,callbackId:wt.callbackId,reason:dt(It)})});return}if(wt.streamId){On(this,ft,km).call(this,wt);return}_t(wt.data)},Et.addEventListener("message",this._onComObjOnMessage)}on(xt,bt){const Et=this.actionHandler;if(Et[xt])throw new Error(`There is already an actionName called "${xt}"`);Et[xt]=bt}send(xt,bt,Et){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:xt,data:bt},Et)}sendWithPromise(xt,bt,Et){const Rt=this.callbackId++,wt=new lt.PromiseCapability;this.callbackCapabilities[Rt]=wt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:xt,callbackId:Rt,data:bt},Et)}catch(_t){wt.reject(_t)}return wt.promise}sendWithStream(xt,bt,Et,Rt){const wt=this.streamId++,_t=this.sourceName,At=this.targetName,kt=this.comObj;return new ReadableStream({start:It=>{const Nt=new lt.PromiseCapability;return this.streamControllers[wt]={controller:It,startCall:Nt,pullCall:null,cancelCall:null,isClosed:!1},kt.postMessage({sourceName:_t,targetName:At,action:xt,streamId:wt,data:bt,desiredSize:It.desiredSize},Rt),Nt.promise},pull:It=>{const Nt=new lt.PromiseCapability;return this.streamControllers[wt].pullCall=Nt,kt.postMessage({sourceName:_t,targetName:At,stream:ut.PULL,streamId:wt,desiredSize:It.desiredSize}),Nt.promise},cancel:It=>{(0,lt.assert)(It instanceof Error,"cancel must have a valid reason");const Nt=new lt.PromiseCapability;return this.streamControllers[wt].cancelCall=Nt,this.streamControllers[wt].isClosed=!0,kt.postMessage({sourceName:_t,targetName:At,stream:ut.CANCEL,streamId:wt,reason:dt(It)}),Nt.promise}},Et)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ft=new WeakSet,km=function(xt){const bt=xt.streamId,Et=this.sourceName,Rt=xt.sourceName,wt=this.comObj,_t=this,At=this.actionHandler[xt.action],kt={enqueue(It,Nt=1,Pt){if(this.isCancelled)return;const Tt=this.desiredSize;this.desiredSize-=Nt,Tt>0&&this.desiredSize<=0&&(this.sinkCapability=new lt.PromiseCapability,this.ready=this.sinkCapability.promise),wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.ENQUEUE,streamId:bt,chunk:It},Pt)},close(){this.isCancelled||(this.isCancelled=!0,wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.CLOSE,streamId:bt}),delete _t.streamSinks[bt])},error(It){(0,lt.assert)(It instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.ERROR,streamId:bt,reason:dt(It)}))},sinkCapability:new lt.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:xt.desiredSize,ready:null};kt.sinkCapability.resolve(),kt.ready=kt.sinkCapability.promise,this.streamSinks[bt]=kt,new Promise(function(It){It(At(xt.data,kt))}).then(function(){wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.START_COMPLETE,streamId:bt,success:!0})},function(It){wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.START_COMPLETE,streamId:bt,reason:dt(It)})})},Im=function(xt){const bt=xt.streamId,Et=this.sourceName,Rt=xt.sourceName,wt=this.comObj,_t=this.streamControllers[bt],At=this.streamSinks[bt];switch(xt.stream){case ut.START_COMPLETE:xt.success?_t.startCall.resolve():_t.startCall.reject(dt(xt.reason));break;case ut.PULL_COMPLETE:xt.success?_t.pullCall.resolve():_t.pullCall.reject(dt(xt.reason));break;case ut.PULL:if(!At){wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.PULL_COMPLETE,streamId:bt,success:!0});break}At.desiredSize<=0&&xt.desiredSize>0&&At.sinkCapability.resolve(),At.desiredSize=xt.desiredSize,new Promise(function(kt){var It;kt((It=At.onPull)==null?void 0:It.call(At))}).then(function(){wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.PULL_COMPLETE,streamId:bt,success:!0})},function(kt){wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.PULL_COMPLETE,streamId:bt,reason:dt(kt)})});break;case ut.ENQUEUE:if((0,lt.assert)(_t,"enqueue should have stream controller"),_t.isClosed)break;_t.controller.enqueue(xt.chunk);break;case ut.CLOSE:if((0,lt.assert)(_t,"close should have stream controller"),_t.isClosed)break;_t.isClosed=!0,_t.controller.close(),On(this,ft,qu).call(this,_t,bt);break;case ut.ERROR:(0,lt.assert)(_t,"error should have stream controller"),_t.controller.error(dt(xt.reason)),On(this,ft,qu).call(this,_t,bt);break;case ut.CANCEL_COMPLETE:xt.success?_t.cancelCall.resolve():_t.cancelCall.reject(dt(xt.reason)),On(this,ft,qu).call(this,_t,bt);break;case ut.CANCEL:if(!At)break;new Promise(function(kt){var It;kt((It=At.onCancel)==null?void 0:It.call(At,dt(xt.reason)))}).then(function(){wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.CANCEL_COMPLETE,streamId:bt,success:!0})},function(kt){wt.postMessage({sourceName:Et,targetName:Rt,stream:ut.CANCEL_COMPLETE,streamId:bt,reason:dt(kt)})}),At.sinkCapability.reject(dt(xt.reason)),At.isCancelled=!0,delete this.streamSinks[bt];break;default:throw new Error("Unexpected stream case")}},qu=async function(xt,bt){var Et,Rt,wt;await Promise.allSettled([(Et=xt.startCall)==null?void 0:Et.promise,(Rt=xt.pullCall)==null?void 0:Rt.promise,(wt=xt.cancelCall)==null?void 0:wt.promise]),delete this.streamControllers[bt]},rt.MessageHandler=ht},(ot,rt,at)=>{var ut,dt;Object.defineProperty(rt,"__esModule",{value:!0}),rt.Metadata=void 0;var lt=at(1);class ct{constructor({parsedData:ft,rawData:pt}){Wn(this,ut);Wn(this,dt);qn(this,ut,ft),qn(this,dt,pt)}getRaw(){return Ft(this,dt)}get(ft){return Ft(this,ut).get(ft)??null}getAll(){return(0,lt.objectFromMap)(Ft(this,ut))}has(ft){return Ft(this,ut).has(ft)}}ut=new WeakMap,dt=new WeakMap,rt.Metadata=ct},(ot,rt,at)=>{var ft,pt,mt,gt,yt,xt,jp;Object.defineProperty(rt,"__esModule",{value:!0}),rt.OptionalContentConfig=void 0;var lt=at(1),ct=at(8);const ut=Symbol("INTERNAL");class dt{constructor(Rt,wt){Wn(this,ft,!0);this.name=Rt,this.intent=wt}get visible(){return Ft(this,ft)}_setVisible(Rt,wt){Rt!==ut&&(0,lt.unreachable)("Internal method `_setVisible` called."),qn(this,ft,wt)}}ft=new WeakMap;class ht{constructor(Rt){Wn(this,xt);Wn(this,pt,null);Wn(this,mt,new Map);Wn(this,gt,null);Wn(this,yt,null);if(this.name=null,this.creator=null,Rt!==null){this.name=Rt.name,this.creator=Rt.creator,qn(this,yt,Rt.order);for(const wt of Rt.groups)Ft(this,mt).set(wt.id,new dt(wt.name,wt.intent));if(Rt.baseState==="OFF")for(const wt of Ft(this,mt).values())wt._setVisible(ut,!1);for(const wt of Rt.on)Ft(this,mt).get(wt)._setVisible(ut,!0);for(const wt of Rt.off)Ft(this,mt).get(wt)._setVisible(ut,!1);qn(this,gt,this.getHash())}}isVisible(Rt){if(Ft(this,mt).size===0)return!0;if(!Rt)return(0,lt.warn)("Optional content group not defined."),!0;if(Rt.type==="OCG")return Ft(this,mt).has(Rt.id)?Ft(this,mt).get(Rt.id).visible:((0,lt.warn)(`Optional content group not found: ${Rt.id}`),!0);if(Rt.type==="OCMD"){if(Rt.expression)return On(this,xt,jp).call(this,Rt.expression);if(!Rt.policy||Rt.policy==="AnyOn"){for(const wt of Rt.ids){if(!Ft(this,mt).has(wt))return(0,lt.warn)(`Optional content group not found: ${wt}`),!0;if(Ft(this,mt).get(wt).visible)return!0}return!1}else if(Rt.policy==="AllOn"){for(const wt of Rt.ids){if(!Ft(this,mt).has(wt))return(0,lt.warn)(`Optional content group not found: ${wt}`),!0;if(!Ft(this,mt).get(wt).visible)return!1}return!0}else if(Rt.policy==="AnyOff"){for(const wt of Rt.ids){if(!Ft(this,mt).has(wt))return(0,lt.warn)(`Optional content group not found: ${wt}`),!0;if(!Ft(this,mt).get(wt).visible)return!0}return!1}else if(Rt.policy==="AllOff"){for(const wt of Rt.ids){if(!Ft(this,mt).has(wt))return(0,lt.warn)(`Optional content group not found: ${wt}`),!0;if(Ft(this,mt).get(wt).visible)return!1}return!0}return(0,lt.warn)(`Unknown optional content policy ${Rt.policy}.`),!0}return(0,lt.warn)(`Unknown group type ${Rt.type}.`),!0}setVisibility(Rt,wt=!0){if(!Ft(this,mt).has(Rt)){(0,lt.warn)(`Optional content group not found: ${Rt}`);return}Ft(this,mt).get(Rt)._setVisible(ut,!!wt),qn(this,pt,null)}get hasInitialVisibility(){return Ft(this,gt)===null||this.getHash()===Ft(this,gt)}getOrder(){return Ft(this,mt).size?Ft(this,yt)?Ft(this,yt).slice():[...Ft(this,mt).keys()]:null}getGroups(){return Ft(this,mt).size>0?(0,lt.objectFromMap)(Ft(this,mt)):null}getGroup(Rt){return Ft(this,mt).get(Rt)||null}getHash(){if(Ft(this,pt)!==null)return Ft(this,pt);const Rt=new ct.MurmurHash3_64;for(const[wt,_t]of Ft(this,mt))Rt.update(`${wt}:${_t.visible}`);return qn(this,pt,Rt.hexdigest())}}pt=new WeakMap,mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,xt=new WeakSet,jp=function(Rt){const wt=Rt.length;if(wt<2)return!0;const _t=Rt[0];for(let At=1;At<wt;At++){const kt=Rt[At];let It;if(Array.isArray(kt))It=On(this,xt,jp).call(this,kt);else if(Ft(this,mt).has(kt))It=Ft(this,mt).get(kt).visible;else return(0,lt.warn)(`Optional content group not found: ${kt}`),!0;switch(_t){case"And":if(!It)return!1;break;case"Or":if(It)return!0;break;case"Not":return!It;default:return!0}}return _t==="And"},rt.OptionalContentConfig=ht},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.PDFDataTransportStream=void 0;var lt=at(1),ct=at(6);class ut{constructor({length:pt,initialData:mt,progressiveDone:gt=!1,contentDispositionFilename:yt=null,disableRange:xt=!1,disableStream:bt=!1},Et){if((0,lt.assert)(Et,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=gt,this._contentDispositionFilename=yt,(mt==null?void 0:mt.length)>0){const Rt=mt instanceof Uint8Array&&mt.byteLength===mt.buffer.byteLength?mt.buffer:new Uint8Array(mt).buffer;this._queuedChunks.push(Rt)}this._pdfDataRangeTransport=Et,this._isStreamingSupported=!bt,this._isRangeSupported=!xt,this._contentLength=pt,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((Rt,wt)=>{this._onReceiveData({begin:Rt,chunk:wt})}),this._pdfDataRangeTransport.addProgressListener((Rt,wt)=>{this._onProgress({loaded:Rt,total:wt})}),this._pdfDataRangeTransport.addProgressiveReadListener(Rt=>{this._onReceiveData({chunk:Rt})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:pt,chunk:mt}){const gt=mt instanceof Uint8Array&&mt.byteLength===mt.buffer.byteLength?mt.buffer:new Uint8Array(mt).buffer;if(pt===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(gt):this._queuedChunks.push(gt);else{const yt=this._rangeReaders.some(function(xt){return xt._begin!==pt?!1:(xt._enqueue(gt),!0)});(0,lt.assert)(yt,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var pt;return((pt=this._fullRequestReader)==null?void 0:pt._loaded)??0}_onProgress(pt){var mt,gt,yt,xt;pt.total===void 0?(gt=(mt=this._rangeReaders[0])==null?void 0:mt.onProgress)==null||gt.call(mt,{loaded:pt.loaded}):(xt=(yt=this._fullRequestReader)==null?void 0:yt.onProgress)==null||xt.call(yt,{loaded:pt.loaded,total:pt.total})}_onProgressiveDone(){var pt;(pt=this._fullRequestReader)==null||pt.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(pt){const mt=this._rangeReaders.indexOf(pt);mt>=0&&this._rangeReaders.splice(mt,1)}getFullReader(){(0,lt.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const pt=this._queuedChunks;return this._queuedChunks=null,new dt(this,pt,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(pt,mt){if(mt<=this._progressiveDataLength)return null;const gt=new ht(this,pt,mt);return this._pdfDataRangeTransport.requestDataRange(pt,mt),this._rangeReaders.push(gt),gt}cancelAllRequests(pt){var mt;(mt=this._fullRequestReader)==null||mt.cancel(pt);for(const gt of this._rangeReaders.slice(0))gt.cancel(pt);this._pdfDataRangeTransport.abort()}}rt.PDFDataTransportStream=ut;class dt{constructor(pt,mt,gt=!1,yt=null){this._stream=pt,this._done=gt||!1,this._filename=(0,ct.isPdfFile)(yt)?yt:null,this._queuedChunks=mt||[],this._loaded=0;for(const xt of this._queuedChunks)this._loaded+=xt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),pt._fullRequestReader=this,this.onProgress=null}_enqueue(pt){this._done||(this._requests.length>0?this._requests.shift().resolve({value:pt,done:!1}):this._queuedChunks.push(pt),this._loaded+=pt.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const pt=new lt.PromiseCapability;return this._requests.push(pt),pt.promise}cancel(pt){this._done=!0;for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ht{constructor(pt,mt,gt){this._stream=pt,this._begin=mt,this._end=gt,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(pt){if(!this._done){if(this._requests.length===0)this._queuedChunk=pt;else{this._requests.shift().resolve({value:pt,done:!1});for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const mt=this._queuedChunk;return this._queuedChunk=null,{value:mt,done:!1}}if(this._done)return{value:void 0,done:!0};const pt=new lt.PromiseCapability;return this._requests.push(pt),pt.promise}cancel(pt){this._done=!0;for(const mt of this._requests)mt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.PDFFetchStream=void 0;var lt=at(1),ct=at(20);function ut(gt,yt,xt){return{method:"GET",headers:gt,signal:xt.signal,mode:"cors",credentials:yt?"include":"same-origin",redirect:"follow"}}function dt(gt){const yt=new Headers;for(const xt in gt){const bt=gt[xt];bt!==void 0&&yt.append(xt,bt)}return yt}function ht(gt){return gt instanceof Uint8Array?gt.buffer:gt instanceof ArrayBuffer?gt:((0,lt.warn)(`getArrayBuffer - unexpected data format: ${gt}`),new Uint8Array(gt).buffer)}class ft{constructor(yt){this.source=yt,this.isHttp=/^https?:/i.test(yt.url),this.httpHeaders=this.isHttp&&yt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var yt;return((yt=this._fullRequestReader)==null?void 0:yt._loaded)??0}getFullReader(){return(0,lt.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new pt(this),this._fullRequestReader}getRangeReader(yt,xt){if(xt<=this._progressiveDataLength)return null;const bt=new mt(this,yt,xt);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests(yt){var xt;(xt=this._fullRequestReader)==null||xt.cancel(yt);for(const bt of this._rangeRequestReaders.slice(0))bt.cancel(yt)}}rt.PDFFetchStream=ft;class pt{constructor(yt){this._stream=yt,this._reader=null,this._loaded=0,this._filename=null;const xt=yt.source;this._withCredentials=xt.withCredentials||!1,this._contentLength=xt.length,this._headersCapability=new lt.PromiseCapability,this._disableRange=xt.disableRange||!1,this._rangeChunkSize=xt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!xt.disableStream,this._isRangeSupported=!xt.disableRange,this._headers=dt(this._stream.httpHeaders);const bt=xt.url;fetch(bt,ut(this._headers,this._withCredentials,this._abortController)).then(Et=>{if(!(0,ct.validateResponseStatus)(Et.status))throw(0,ct.createResponseStatusError)(Et.status,bt);this._reader=Et.body.getReader(),this._headersCapability.resolve();const Rt=At=>Et.headers.get(At),{allowRangeRequests:wt,suggestedLength:_t}=(0,ct.validateRangeRequestCapabilities)({getResponseHeader:Rt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=wt,this._contentLength=_t||this._contentLength,this._filename=(0,ct.extractFilenameFromHeader)(Rt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new lt.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._headersCapability.promise;const{value:yt,done:xt}=await this._reader.read();return xt?{value:yt,done:xt}:(this._loaded+=yt.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded,total:this._contentLength}),{value:ht(yt),done:!1})}cancel(yt){var xt;(xt=this._reader)==null||xt.cancel(yt),this._abortController.abort()}}class mt{constructor(yt,xt,bt){this._stream=yt,this._reader=null,this._loaded=0;const Et=yt.source;this._withCredentials=Et.withCredentials||!1,this._readCapability=new lt.PromiseCapability,this._isStreamingSupported=!Et.disableStream,this._abortController=new AbortController,this._headers=dt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${xt}-${bt-1}`);const Rt=Et.url;fetch(Rt,ut(this._headers,this._withCredentials,this._abortController)).then(wt=>{if(!(0,ct.validateResponseStatus)(wt.status))throw(0,ct.createResponseStatusError)(wt.status,Rt);this._readCapability.resolve(),this._reader=wt.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var bt;await this._readCapability.promise;const{value:yt,done:xt}=await this._reader.read();return xt?{value:yt,done:xt}:(this._loaded+=yt.byteLength,(bt=this.onProgress)==null||bt.call(this,{loaded:this._loaded}),{value:ht(yt),done:!1})}cancel(yt){var xt;(xt=this._reader)==null||xt.cancel(yt),this._abortController.abort()}}},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.createResponseStatusError=ft,rt.extractFilenameFromHeader=ht,rt.validateRangeRequestCapabilities=dt,rt.validateResponseStatus=pt;var lt=at(1),ct=at(21),ut=at(6);function dt({getResponseHeader:mt,isHttp:gt,rangeChunkSize:yt,disableRange:xt}){const bt={allowRangeRequests:!1,suggestedLength:void 0},Et=parseInt(mt("Content-Length"),10);return!Number.isInteger(Et)||(bt.suggestedLength=Et,Et<=2*yt)||xt||!gt||mt("Accept-Ranges")!=="bytes"||(mt("Content-Encoding")||"identity")!=="identity"||(bt.allowRangeRequests=!0),bt}function ht(mt){const gt=mt("Content-Disposition");if(gt){let yt=(0,ct.getFilenameFromContentDispositionHeader)(gt);if(yt.includes("%"))try{yt=decodeURIComponent(yt)}catch{}if((0,ut.isPdfFile)(yt))return yt}return null}function ft(mt,gt){return mt===404||mt===0&&gt.startsWith("file:")?new lt.MissingPDFException('Missing PDF "'+gt+'".'):new lt.UnexpectedResponseException(`Unexpected server response (${mt}) while retrieving PDF "${gt}".`,mt)}function pt(mt){return mt===200||mt===206}},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.getFilenameFromContentDispositionHeader=ct;var lt=at(1);function ct(ut){let dt=!0,ht=ft("filename\\*","i").exec(ut);if(ht){ht=ht[1];let Et=yt(ht);return Et=unescape(Et),Et=xt(Et),Et=bt(Et),mt(Et)}if(ht=gt(ut),ht){const Et=bt(ht);return mt(Et)}if(ht=ft("filename","i").exec(ut),ht){ht=ht[1];let Et=yt(ht);return Et=bt(Et),mt(Et)}function ft(Et,Rt){return new RegExp("(?:^|;)\\s*"+Et+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',Rt)}function pt(Et,Rt){if(Et){if(!/^[\x00-\xFF]+$/.test(Rt))return Rt;try{const wt=new TextDecoder(Et,{fatal:!0}),_t=(0,lt.stringToBytes)(Rt);Rt=wt.decode(_t),dt=!1}catch{}}return Rt}function mt(Et){return dt&&/[\x80-\xff]/.test(Et)&&(Et=pt("utf-8",Et),dt&&(Et=pt("iso-8859-1",Et))),Et}function gt(Et){const Rt=[];let wt;const _t=ft("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(wt=_t.exec(Et))!==null;){let[,kt,It,Nt]=wt;if(kt=parseInt(kt,10),kt in Rt){if(kt===0)break;continue}Rt[kt]=[It,Nt]}const At=[];for(let kt=0;kt<Rt.length&&kt in Rt;++kt){let[It,Nt]=Rt[kt];Nt=yt(Nt),It&&(Nt=unescape(Nt),kt===0&&(Nt=xt(Nt))),At.push(Nt)}return At.join("")}function yt(Et){if(Et.startsWith('"')){const Rt=Et.slice(1).split('\\"');for(let wt=0;wt<Rt.length;++wt){const _t=Rt[wt].indexOf('"');_t!==-1&&(Rt[wt]=Rt[wt].slice(0,_t),Rt.length=wt+1),Rt[wt]=Rt[wt].replaceAll(/\\(.)/g,"$1")}Et=Rt.join('"')}return Et}function xt(Et){const Rt=Et.indexOf("'");if(Rt===-1)return Et;const wt=Et.slice(0,Rt),At=Et.slice(Rt+1).replace(/^[^']*'/,"");return pt(wt,At)}function bt(Et){return!Et.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Et)?Et:Et.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(Rt,wt,_t,At){if(_t==="q"||_t==="Q")return At=At.replaceAll("_"," "),At=At.replaceAll(/=([0-9a-fA-F]{2})/g,function(kt,It){return String.fromCharCode(parseInt(It,16))}),pt(wt,At);try{At=atob(At)}catch{}return pt(wt,At)})}return""}},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.PDFNetworkStream=void 0;var lt=at(1),ct=at(20);const ut=200,dt=206;function ht(yt){const xt=yt.response;return typeof xt!="string"?xt:(0,lt.stringToBytes)(xt).buffer}class ft{constructor(xt,bt={}){this.url=xt,this.isHttp=/^https?:/i.test(xt),this.httpHeaders=this.isHttp&&bt.httpHeaders||Object.create(null),this.withCredentials=bt.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(xt,bt,Et){const Rt={begin:xt,end:bt};for(const wt in Et)Rt[wt]=Et[wt];return this.request(Rt)}requestFull(xt){return this.request(xt)}request(xt){const bt=new XMLHttpRequest,Et=this.currXhrId++,Rt=this.pendingRequests[Et]={xhr:bt};bt.open("GET",this.url),bt.withCredentials=this.withCredentials;for(const wt in this.httpHeaders){const _t=this.httpHeaders[wt];_t!==void 0&&bt.setRequestHeader(wt,_t)}return this.isHttp&&"begin"in xt&&"end"in xt?(bt.setRequestHeader("Range",`bytes=${xt.begin}-${xt.end-1}`),Rt.expectedStatus=dt):Rt.expectedStatus=ut,bt.responseType="arraybuffer",xt.onError&&(bt.onerror=function(wt){xt.onError(bt.status)}),bt.onreadystatechange=this.onStateChange.bind(this,Et),bt.onprogress=this.onProgress.bind(this,Et),Rt.onHeadersReceived=xt.onHeadersReceived,Rt.onDone=xt.onDone,Rt.onError=xt.onError,Rt.onProgress=xt.onProgress,bt.send(null),Et}onProgress(xt,bt){var Rt;const Et=this.pendingRequests[xt];Et&&((Rt=Et.onProgress)==null||Rt.call(Et,bt))}onStateChange(xt,bt){var kt,It,Nt;const Et=this.pendingRequests[xt];if(!Et)return;const Rt=Et.xhr;if(Rt.readyState>=2&&Et.onHeadersReceived&&(Et.onHeadersReceived(),delete Et.onHeadersReceived),Rt.readyState!==4||!(xt in this.pendingRequests))return;if(delete this.pendingRequests[xt],Rt.status===0&&this.isHttp){(kt=Et.onError)==null||kt.call(Et,Rt.status);return}const wt=Rt.status||ut;if(!(wt===ut&&Et.expectedStatus===dt)&&wt!==Et.expectedStatus){(It=Et.onError)==null||It.call(Et,Rt.status);return}const At=ht(Rt);if(wt===dt){const Pt=Rt.getResponseHeader("Content-Range"),Tt=/bytes (\d+)-(\d+)\/(\d+)/.exec(Pt);Et.onDone({begin:parseInt(Tt[1],10),chunk:At})}else At?Et.onDone({begin:0,chunk:At}):(Nt=Et.onError)==null||Nt.call(Et,Rt.status)}getRequestXhr(xt){return this.pendingRequests[xt].xhr}isPendingRequest(xt){return xt in this.pendingRequests}abortRequest(xt){const bt=this.pendingRequests[xt].xhr;delete this.pendingRequests[xt],bt.abort()}}class pt{constructor(xt){this._source=xt,this._manager=new ft(xt.url,{httpHeaders:xt.httpHeaders,withCredentials:xt.withCredentials}),this._rangeChunkSize=xt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(xt){const bt=this._rangeRequestReaders.indexOf(xt);bt>=0&&this._rangeRequestReaders.splice(bt,1)}getFullReader(){return(0,lt.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new mt(this._manager,this._source),this._fullRequestReader}getRangeReader(xt,bt){const Et=new gt(this._manager,xt,bt);return Et.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Et),Et}cancelAllRequests(xt){var bt;(bt=this._fullRequestReader)==null||bt.cancel(xt);for(const Et of this._rangeRequestReaders.slice(0))Et.cancel(xt)}}rt.PDFNetworkStream=pt;class mt{constructor(xt,bt){this._manager=xt;const Et={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._fullRequestId=xt.requestFull(Et),this._headersReceivedCapability=new lt.PromiseCapability,this._disableRange=bt.disableRange||!1,this._contentLength=bt.length,this._rangeChunkSize=bt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const xt=this._fullRequestId,bt=this._manager.getRequestXhr(xt),Et=_t=>bt.getResponseHeader(_t),{allowRangeRequests:Rt,suggestedLength:wt}=(0,ct.validateRangeRequestCapabilities)({getResponseHeader:Et,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});Rt&&(this._isRangeSupported=!0),this._contentLength=wt||this._contentLength,this._filename=(0,ct.extractFilenameFromHeader)(Et),this._isRangeSupported&&this._manager.abortRequest(xt),this._headersReceivedCapability.resolve()}_onDone(xt){if(xt&&(this._requests.length>0?this._requests.shift().resolve({value:xt.chunk,done:!1}):this._cachedChunks.push(xt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(xt){this._storedError=(0,ct.createResponseStatusError)(xt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const bt of this._requests)bt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(xt){var bt;(bt=this.onProgress)==null||bt.call(this,{loaded:xt.loaded,total:xt.lengthComputable?xt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const xt=new lt.PromiseCapability;return this._requests.push(xt),xt.promise}cancel(xt){this._done=!0,this._headersReceivedCapability.reject(xt);for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class gt{constructor(xt,bt,Et){this._manager=xt;const Rt={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=xt.url,this._requestId=xt.requestRange(bt,Et,Rt),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var xt;(xt=this.onClosed)==null||xt.call(this,this)}_onDone(xt){const bt=xt.chunk;this._requests.length>0?this._requests.shift().resolve({value:bt,done:!1}):this._queuedChunk=bt,this._done=!0;for(const Et of this._requests)Et.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(xt){this._storedError=(0,ct.createResponseStatusError)(xt,this._url);for(const bt of this._requests)bt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(xt){var bt;this.isStreamingSupported||(bt=this.onProgress)==null||bt.call(this,{loaded:xt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const bt=this._queuedChunk;return this._queuedChunk=null,{value:bt,done:!1}}if(this._done)return{value:void 0,done:!0};const xt=new lt.PromiseCapability;return this._requests.push(xt),xt.promise}cancel(xt){this._done=!0;for(const bt of this._requests)bt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.PDFNodeStream=void 0;var lt=at(1),ct=at(20);const ut=/^file:\/\/\/[a-zA-Z]:\//;function dt(Et){const Rt=require$$5,wt=Rt.parse(Et);return wt.protocol==="file:"||wt.host?wt:/^[a-z]:[/\\]/i.test(Et)?Rt.parse(`file:///${Et}`):(wt.host||(wt.protocol="file:"),wt)}class ht{constructor(Rt){this.source=Rt,this.url=dt(Rt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Rt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Rt;return((Rt=this._fullRequestReader)==null?void 0:Rt._loaded)??0}getFullReader(){return(0,lt.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new xt(this):new gt(this),this._fullRequestReader}getRangeReader(Rt,wt){if(wt<=this._progressiveDataLength)return null;const _t=this.isFsUrl?new bt(this,Rt,wt):new yt(this,Rt,wt);return this._rangeRequestReaders.push(_t),_t}cancelAllRequests(Rt){var wt;(wt=this._fullRequestReader)==null||wt.cancel(Rt);for(const _t of this._rangeRequestReaders.slice(0))_t.cancel(Rt)}}rt.PDFNodeStream=ht;class ft{constructor(Rt){this._url=Rt.url,this._done=!1,this._storedError=null,this.onProgress=null;const wt=Rt.source;this._contentLength=wt.length,this._loaded=0,this._filename=null,this._disableRange=wt.disableRange||!1,this._rangeChunkSize=wt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!wt.disableStream,this._isRangeSupported=!wt.disableRange,this._readableStream=null,this._readCapability=new lt.PromiseCapability,this._headersCapability=new lt.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Rt=this._readableStream.read();return Rt===null?(this._readCapability=new lt.PromiseCapability,this.read()):(this._loaded+=Rt.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Rt).buffer,done:!1})}cancel(Rt){if(!this._readableStream){this._error(Rt);return}this._readableStream.destroy(Rt)}_error(Rt){this._storedError=Rt,this._readCapability.resolve()}_setReadableStream(Rt){this._readableStream=Rt,Rt.on("readable",()=>{this._readCapability.resolve()}),Rt.on("end",()=>{Rt.destroy(),this._done=!0,this._readCapability.resolve()}),Rt.on("error",wt=>{this._error(wt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new lt.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class pt{constructor(Rt){this._url=Rt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new lt.PromiseCapability;const wt=Rt.source;this._isStreamingSupported=!wt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var _t;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Rt=this._readableStream.read();return Rt===null?(this._readCapability=new lt.PromiseCapability,this.read()):(this._loaded+=Rt.length,(_t=this.onProgress)==null||_t.call(this,{loaded:this._loaded}),{value:new Uint8Array(Rt).buffer,done:!1})}cancel(Rt){if(!this._readableStream){this._error(Rt);return}this._readableStream.destroy(Rt)}_error(Rt){this._storedError=Rt,this._readCapability.resolve()}_setReadableStream(Rt){this._readableStream=Rt,Rt.on("readable",()=>{this._readCapability.resolve()}),Rt.on("end",()=>{Rt.destroy(),this._done=!0,this._readCapability.resolve()}),Rt.on("error",wt=>{this._error(wt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function mt(Et,Rt){return{protocol:Et.protocol,auth:Et.auth,host:Et.hostname,port:Et.port,path:Et.path,method:"GET",headers:Rt}}class gt extends ft{constructor(Rt){super(Rt);const wt=_t=>{if(_t.statusCode===404){const Nt=new lt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Nt,this._headersCapability.reject(Nt);return}this._headersCapability.resolve(),this._setReadableStream(_t);const At=Nt=>this._readableStream.headers[Nt.toLowerCase()],{allowRangeRequests:kt,suggestedLength:It}=(0,ct.validateRangeRequestCapabilities)({getResponseHeader:At,isHttp:Rt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=kt,this._contentLength=It||this._contentLength,this._filename=(0,ct.extractFilenameFromHeader)(At)};if(this._request=null,this._url.protocol==="http:"){const _t=require$$5;this._request=_t.request(mt(this._url,Rt.httpHeaders),wt)}else{const _t=require$$5;this._request=_t.request(mt(this._url,Rt.httpHeaders),wt)}this._request.on("error",_t=>{this._storedError=_t,this._headersCapability.reject(_t)}),this._request.end()}}class yt extends pt{constructor(Rt,wt,_t){super(Rt),this._httpHeaders={};for(const kt in Rt.httpHeaders){const It=Rt.httpHeaders[kt];It!==void 0&&(this._httpHeaders[kt]=It)}this._httpHeaders.Range=`bytes=${wt}-${_t-1}`;const At=kt=>{if(kt.statusCode===404){const It=new lt.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=It;return}this._setReadableStream(kt)};if(this._request=null,this._url.protocol==="http:"){const kt=require$$5;this._request=kt.request(mt(this._url,this._httpHeaders),At)}else{const kt=require$$5;this._request=kt.request(mt(this._url,this._httpHeaders),At)}this._request.on("error",kt=>{this._storedError=kt}),this._request.end()}}class xt extends ft{constructor(Rt){super(Rt);let wt=decodeURIComponent(this._url.path);ut.test(this._url.href)&&(wt=wt.replace(/^\//,""));const _t=require$$5;_t.lstat(wt,(At,kt)=>{if(At){At.code==="ENOENT"&&(At=new lt.MissingPDFException(`Missing PDF "${wt}".`)),this._storedError=At,this._headersCapability.reject(At);return}this._contentLength=kt.size,this._setReadableStream(_t.createReadStream(wt)),this._headersCapability.resolve()})}}class bt extends pt{constructor(Rt,wt,_t){super(Rt);let At=decodeURIComponent(this._url.path);ut.test(this._url.href)&&(At=At.replace(/^\//,""));const kt=require$$5;this._setReadableStream(kt.createReadStream(At,{start:wt,end:_t-1}))}}},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.SVGGraphics=void 0;var lt=at(6),ct=at(1);const ut={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},dt="http://www.w3.org/XML/1998/namespace",ht="http://www.w3.org/1999/xlink",ft=["butt","round","square"],pt=["miter","round","bevel"],mt=function(kt,It="",Nt=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Nt)return URL.createObjectURL(new Blob([kt],{type:It}));const Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Tt=`data:${It};base64,`;for(let Ct=0,Ot=kt.length;Ct<Ot;Ct+=3){const Dt=kt[Ct]&255,jt=kt[Ct+1]&255,Mt=kt[Ct+2]&255,zt=Dt>>2,Qt=(Dt&3)<<4|jt>>4,qt=Ct+1<Ot?(jt&15)<<2|Mt>>6:64,Kt=Ct+2<Ot?Mt&63:64;Tt+=Pt[zt]+Pt[Qt]+Pt[qt]+Pt[Kt]}return Tt},gt=function(){const kt=new Uint8Array([137,80,78,71,13,10,26,10]),It=12,Nt=new Int32Array(256);for(let Mt=0;Mt<256;Mt++){let zt=Mt;for(let Qt=0;Qt<8;Qt++)zt=zt&1?3988292384^zt>>1&2147483647:zt>>1&2147483647;Nt[Mt]=zt}function Pt(Mt,zt,Qt){let qt=-1;for(let Kt=zt;Kt<Qt;Kt++){const sn=(qt^Mt[Kt])&255,Gt=Nt[sn];qt=qt>>>8^Gt}return qt^-1}function Tt(Mt,zt,Qt,qt){let Kt=qt;const sn=zt.length;Qt[Kt]=sn>>24&255,Qt[Kt+1]=sn>>16&255,Qt[Kt+2]=sn>>8&255,Qt[Kt+3]=sn&255,Kt+=4,Qt[Kt]=Mt.charCodeAt(0)&255,Qt[Kt+1]=Mt.charCodeAt(1)&255,Qt[Kt+2]=Mt.charCodeAt(2)&255,Qt[Kt+3]=Mt.charCodeAt(3)&255,Kt+=4,Qt.set(zt,Kt),Kt+=zt.length;const Gt=Pt(Qt,qt+4,Kt);Qt[Kt]=Gt>>24&255,Qt[Kt+1]=Gt>>16&255,Qt[Kt+2]=Gt>>8&255,Qt[Kt+3]=Gt&255}function Ct(Mt,zt,Qt){let qt=1,Kt=0;for(let sn=zt;sn<Qt;++sn)qt=(qt+(Mt[sn]&255))%65521,Kt=(Kt+qt)%65521;return Kt<<16|qt}function Ot(Mt){if(!ct.isNodeJS)return Dt(Mt);try{const zt=parseInt(process.versions.node)>=8?Mt:Buffer.from(Mt),Qt=require$$5.deflateSync(zt,{level:9});return Qt instanceof Uint8Array?Qt:new Uint8Array(Qt)}catch(zt){(0,ct.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+zt)}return Dt(Mt)}function Dt(Mt){let zt=Mt.length;const Qt=65535,qt=Math.ceil(zt/Qt),Kt=new Uint8Array(2+zt+qt*5+4);let sn=0;Kt[sn++]=120,Kt[sn++]=156;let Gt=0;for(;zt>Qt;)Kt[sn++]=0,Kt[sn++]=255,Kt[sn++]=255,Kt[sn++]=0,Kt[sn++]=0,Kt.set(Mt.subarray(Gt,Gt+Qt),sn),sn+=Qt,Gt+=Qt,zt-=Qt;Kt[sn++]=1,Kt[sn++]=zt&255,Kt[sn++]=zt>>8&255,Kt[sn++]=~zt&65535&255,Kt[sn++]=(~zt&65535)>>8&255,Kt.set(Mt.subarray(Gt),sn),sn+=Mt.length-Gt;const Wt=Ct(Mt,0,Mt.length);return Kt[sn++]=Wt>>24&255,Kt[sn++]=Wt>>16&255,Kt[sn++]=Wt>>8&255,Kt[sn++]=Wt&255,Kt}function jt(Mt,zt,Qt,qt){const Kt=Mt.width,sn=Mt.height;let Gt,Wt,pn;const rn=Mt.data;switch(zt){case ct.ImageKind.GRAYSCALE_1BPP:Wt=0,Gt=1,pn=Kt+7>>3;break;case ct.ImageKind.RGB_24BPP:Wt=2,Gt=8,pn=Kt*3;break;case ct.ImageKind.RGBA_32BPP:Wt=6,Gt=8,pn=Kt*4;break;default:throw new Error("invalid format")}const Vt=new Uint8Array((1+pn)*sn);let $t=0,Xt=0;for(let Sn=0;Sn<sn;++Sn)Vt[$t++]=0,Vt.set(rn.subarray(Xt,Xt+pn),$t),Xt+=pn,$t+=pn;if(zt===ct.ImageKind.GRAYSCALE_1BPP&&qt){$t=0;for(let Sn=0;Sn<sn;Sn++){$t++;for(let jn=0;jn<pn;jn++)Vt[$t++]^=255}}const Zt=new Uint8Array([Kt>>24&255,Kt>>16&255,Kt>>8&255,Kt&255,sn>>24&255,sn>>16&255,sn>>8&255,sn&255,Gt,Wt,0,0,0]),Jt=Ot(Vt),Yt=kt.length+It*3+Zt.length+Jt.length,gn=new Uint8Array(Yt);let _n=0;return gn.set(kt,_n),_n+=kt.length,Tt("IHDR",Zt,gn,_n),_n+=It+Zt.length,Tt("IDATA",Jt,gn,_n),_n+=It+Jt.length,Tt("IEND",new Uint8Array(0),gn,_n),mt(gn,"image/png",Qt)}return function(zt,Qt,qt){const Kt=zt.kind===void 0?ct.ImageKind.GRAYSCALE_1BPP:zt.kind;return jt(zt,Kt,Qt,qt)}}();class yt{constructor(){this.fontSizeScale=1,this.fontWeight=ut.fontWeight,this.fontSize=0,this.textMatrix=ct.IDENTITY_MATRIX,this.fontMatrix=ct.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=ct.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ut.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(It,Nt){this.x=It,this.y=Nt}}function xt(kt){let It=[];const Nt=[];for(const Pt of kt){if(Pt.fn==="save"){It.push({fnId:92,fn:"group",items:[]}),Nt.push(It),It=It.at(-1).items;continue}Pt.fn==="restore"?It=Nt.pop():It.push(Pt)}return It}function bt(kt){if(Number.isInteger(kt))return kt.toString();const It=kt.toFixed(10);let Nt=It.length-1;if(It[Nt]!=="0")return It;do Nt--;while(It[Nt]==="0");return It.substring(0,It[Nt]==="."?Nt:Nt+1)}function Et(kt){if(kt[4]===0&&kt[5]===0){if(kt[1]===0&&kt[2]===0)return kt[0]===1&&kt[3]===1?"":`scale(${bt(kt[0])} ${bt(kt[3])})`;if(kt[0]===kt[3]&&kt[1]===-kt[2]){const It=Math.acos(kt[0])*180/Math.PI;return`rotate(${bt(It)})`}}else if(kt[0]===1&&kt[1]===0&&kt[2]===0&&kt[3]===1)return`translate(${bt(kt[4])} ${bt(kt[5])})`;return`matrix(${bt(kt[0])} ${bt(kt[1])} ${bt(kt[2])} ${bt(kt[3])} ${bt(kt[4])} ${bt(kt[5])})`}let Rt=0,wt=0,_t=0;class At{constructor(It,Nt,Pt=!1){(0,lt.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new lt.DOMSVGFactory,this.current=new yt,this.transformMatrix=ct.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=It,this.objs=Nt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Pt,this._operatorIdMapping=[];for(const Tt in ct.OPS)this._operatorIdMapping[ct.OPS[Tt]]=Tt}getObject(It,Nt=null){return typeof It=="string"?It.startsWith("g_")?this.commonObjs.get(It):this.objs.get(It):Nt}save(){this.transformStack.push(this.transformMatrix);const It=this.current;this.extraStack.push(It),this.current=It.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(It){this.save(),this.executeOpTree(It),this.restore()}loadDependencies(It){const Nt=It.fnArray,Pt=It.argsArray;for(let Tt=0,Ct=Nt.length;Tt<Ct;Tt++)if(Nt[Tt]===ct.OPS.dependency)for(const Ot of Pt[Tt]){const Dt=Ot.startsWith("g_")?this.commonObjs:this.objs,jt=new Promise(Mt=>{Dt.get(Ot,Mt)});this.current.dependencies.push(jt)}return Promise.all(this.current.dependencies)}transform(It,Nt,Pt,Tt,Ct,Ot){const Dt=[It,Nt,Pt,Tt,Ct,Ot];this.transformMatrix=ct.Util.transform(this.transformMatrix,Dt),this.tgrp=null}getSVG(It,Nt){this.viewport=Nt;const Pt=this._initialize(Nt);return this.loadDependencies(It).then(()=>(this.transformMatrix=ct.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(It)),Pt))}convertOpList(It){const Nt=this._operatorIdMapping,Pt=It.argsArray,Tt=It.fnArray,Ct=[];for(let Ot=0,Dt=Tt.length;Ot<Dt;Ot++){const jt=Tt[Ot];Ct.push({fnId:jt,fn:Nt[jt],args:Pt[Ot]})}return xt(Ct)}executeOpTree(It){for(const Nt of It){const Pt=Nt.fn,Tt=Nt.fnId,Ct=Nt.args;switch(Tt|0){case ct.OPS.beginText:this.beginText();break;case ct.OPS.dependency:break;case ct.OPS.setLeading:this.setLeading(Ct);break;case ct.OPS.setLeadingMoveText:this.setLeadingMoveText(Ct[0],Ct[1]);break;case ct.OPS.setFont:this.setFont(Ct);break;case ct.OPS.showText:this.showText(Ct[0]);break;case ct.OPS.showSpacedText:this.showText(Ct[0]);break;case ct.OPS.endText:this.endText();break;case ct.OPS.moveText:this.moveText(Ct[0],Ct[1]);break;case ct.OPS.setCharSpacing:this.setCharSpacing(Ct[0]);break;case ct.OPS.setWordSpacing:this.setWordSpacing(Ct[0]);break;case ct.OPS.setHScale:this.setHScale(Ct[0]);break;case ct.OPS.setTextMatrix:this.setTextMatrix(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case ct.OPS.setTextRise:this.setTextRise(Ct[0]);break;case ct.OPS.setTextRenderingMode:this.setTextRenderingMode(Ct[0]);break;case ct.OPS.setLineWidth:this.setLineWidth(Ct[0]);break;case ct.OPS.setLineJoin:this.setLineJoin(Ct[0]);break;case ct.OPS.setLineCap:this.setLineCap(Ct[0]);break;case ct.OPS.setMiterLimit:this.setMiterLimit(Ct[0]);break;case ct.OPS.setFillRGBColor:this.setFillRGBColor(Ct[0],Ct[1],Ct[2]);break;case ct.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ct[0],Ct[1],Ct[2]);break;case ct.OPS.setStrokeColorN:this.setStrokeColorN(Ct);break;case ct.OPS.setFillColorN:this.setFillColorN(Ct);break;case ct.OPS.shadingFill:this.shadingFill(Ct[0]);break;case ct.OPS.setDash:this.setDash(Ct[0],Ct[1]);break;case ct.OPS.setRenderingIntent:this.setRenderingIntent(Ct[0]);break;case ct.OPS.setFlatness:this.setFlatness(Ct[0]);break;case ct.OPS.setGState:this.setGState(Ct[0]);break;case ct.OPS.fill:this.fill();break;case ct.OPS.eoFill:this.eoFill();break;case ct.OPS.stroke:this.stroke();break;case ct.OPS.fillStroke:this.fillStroke();break;case ct.OPS.eoFillStroke:this.eoFillStroke();break;case ct.OPS.clip:this.clip("nonzero");break;case ct.OPS.eoClip:this.clip("evenodd");break;case ct.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case ct.OPS.paintImageXObject:this.paintImageXObject(Ct[0]);break;case ct.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ct[0]);break;case ct.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ct[0]);break;case ct.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ct[0],Ct[1]);break;case ct.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case ct.OPS.closePath:this.closePath();break;case ct.OPS.closeStroke:this.closeStroke();break;case ct.OPS.closeFillStroke:this.closeFillStroke();break;case ct.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case ct.OPS.nextLine:this.nextLine();break;case ct.OPS.transform:this.transform(Ct[0],Ct[1],Ct[2],Ct[3],Ct[4],Ct[5]);break;case ct.OPS.constructPath:this.constructPath(Ct[0],Ct[1]);break;case ct.OPS.endPath:this.endPath();break;case 92:this.group(Nt.items);break;default:(0,ct.warn)(`Unimplemented operator ${Pt}`);break}}}setWordSpacing(It){this.current.wordSpacing=It}setCharSpacing(It){this.current.charSpacing=It}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(It,Nt,Pt,Tt,Ct,Ot){const Dt=this.current;Dt.textMatrix=Dt.lineMatrix=[It,Nt,Pt,Tt,Ct,Ot],Dt.textMatrixScale=Math.hypot(It,Nt),Dt.x=Dt.lineX=0,Dt.y=Dt.lineY=0,Dt.xcoords=[],Dt.ycoords=[],Dt.tspan=this.svgFactory.createElement("svg:tspan"),Dt.tspan.setAttributeNS(null,"font-family",Dt.fontFamily),Dt.tspan.setAttributeNS(null,"font-size",`${bt(Dt.fontSize)}px`),Dt.tspan.setAttributeNS(null,"y",bt(-Dt.y)),Dt.txtElement=this.svgFactory.createElement("svg:text"),Dt.txtElement.append(Dt.tspan)}beginText(){const It=this.current;It.x=It.lineX=0,It.y=It.lineY=0,It.textMatrix=ct.IDENTITY_MATRIX,It.lineMatrix=ct.IDENTITY_MATRIX,It.textMatrixScale=1,It.tspan=this.svgFactory.createElement("svg:tspan"),It.txtElement=this.svgFactory.createElement("svg:text"),It.txtgrp=this.svgFactory.createElement("svg:g"),It.xcoords=[],It.ycoords=[]}moveText(It,Nt){const Pt=this.current;Pt.x=Pt.lineX+=It,Pt.y=Pt.lineY+=Nt,Pt.xcoords=[],Pt.ycoords=[],Pt.tspan=this.svgFactory.createElement("svg:tspan"),Pt.tspan.setAttributeNS(null,"font-family",Pt.fontFamily),Pt.tspan.setAttributeNS(null,"font-size",`${bt(Pt.fontSize)}px`),Pt.tspan.setAttributeNS(null,"y",bt(-Pt.y))}showText(It){const Nt=this.current,Pt=Nt.font,Tt=Nt.fontSize;if(Tt===0)return;const Ct=Nt.fontSizeScale,Ot=Nt.charSpacing,Dt=Nt.wordSpacing,jt=Nt.fontDirection,Mt=Nt.textHScale*jt,zt=Pt.vertical,Qt=zt?1:-1,qt=Pt.defaultVMetrics,Kt=Tt*Nt.fontMatrix[0];let sn=0;for(const pn of It){if(pn===null){sn+=jt*Dt;continue}else if(typeof pn=="number"){sn+=Qt*pn*Tt/1e3;continue}const rn=(pn.isSpace?Dt:0)+Ot,Vt=pn.fontChar;let $t,Xt,Zt=pn.width;if(zt){let Yt;const gn=pn.vmetric||qt;Yt=pn.vmetric?gn[1]:Zt*.5,Yt=-Yt*Kt;const _n=gn[2]*Kt;Zt=gn?-gn[0]:Zt,$t=Yt/Ct,Xt=(sn+_n)/Ct}else $t=sn/Ct,Xt=0;(pn.isInFont||Pt.missingFile)&&(Nt.xcoords.push(Nt.x+$t),zt&&Nt.ycoords.push(-Nt.y+Xt),Nt.tspan.textContent+=Vt);const Jt=zt?Zt*Kt-rn*jt:Zt*Kt+rn*jt;sn+=Jt}Nt.tspan.setAttributeNS(null,"x",Nt.xcoords.map(bt).join(" ")),zt?Nt.tspan.setAttributeNS(null,"y",Nt.ycoords.map(bt).join(" ")):Nt.tspan.setAttributeNS(null,"y",bt(-Nt.y)),zt?Nt.y-=sn:Nt.x+=sn*Mt,Nt.tspan.setAttributeNS(null,"font-family",Nt.fontFamily),Nt.tspan.setAttributeNS(null,"font-size",`${bt(Nt.fontSize)}px`),Nt.fontStyle!==ut.fontStyle&&Nt.tspan.setAttributeNS(null,"font-style",Nt.fontStyle),Nt.fontWeight!==ut.fontWeight&&Nt.tspan.setAttributeNS(null,"font-weight",Nt.fontWeight);const Gt=Nt.textRenderingMode&ct.TextRenderingMode.FILL_STROKE_MASK;if(Gt===ct.TextRenderingMode.FILL||Gt===ct.TextRenderingMode.FILL_STROKE?(Nt.fillColor!==ut.fillColor&&Nt.tspan.setAttributeNS(null,"fill",Nt.fillColor),Nt.fillAlpha<1&&Nt.tspan.setAttributeNS(null,"fill-opacity",Nt.fillAlpha)):Nt.textRenderingMode===ct.TextRenderingMode.ADD_TO_PATH?Nt.tspan.setAttributeNS(null,"fill","transparent"):Nt.tspan.setAttributeNS(null,"fill","none"),Gt===ct.TextRenderingMode.STROKE||Gt===ct.TextRenderingMode.FILL_STROKE){const pn=1/(Nt.textMatrixScale||1);this._setStrokeAttributes(Nt.tspan,pn)}let Wt=Nt.textMatrix;Nt.textRise!==0&&(Wt=Wt.slice(),Wt[5]+=Nt.textRise),Nt.txtElement.setAttributeNS(null,"transform",`${Et(Wt)} scale(${bt(Mt)}, -1)`),Nt.txtElement.setAttributeNS(dt,"xml:space","preserve"),Nt.txtElement.append(Nt.tspan),Nt.txtgrp.append(Nt.txtElement),this._ensureTransformGroup().append(Nt.txtElement)}setLeadingMoveText(It,Nt){this.setLeading(-Nt),this.moveText(It,Nt)}addFontStyle(It){if(!It.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Nt=mt(It.data,It.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${It.loadedName}"; src: url(${Nt}); }
`}setFont(It){const Nt=this.current,Pt=this.commonObjs.get(It[0]);let Tt=It[1];Nt.font=Pt,this.embedFonts&&!Pt.missingFile&&!this.embeddedFonts[Pt.loadedName]&&(this.addFontStyle(Pt),this.embeddedFonts[Pt.loadedName]=Pt),Nt.fontMatrix=Pt.fontMatrix||ct.FONT_IDENTITY_MATRIX;let Ct="normal";Pt.black?Ct="900":Pt.bold&&(Ct="bold");const Ot=Pt.italic?"italic":"normal";Tt<0?(Tt=-Tt,Nt.fontDirection=-1):Nt.fontDirection=1,Nt.fontSize=Tt,Nt.fontFamily=Pt.loadedName,Nt.fontWeight=Ct,Nt.fontStyle=Ot,Nt.tspan=this.svgFactory.createElement("svg:tspan"),Nt.tspan.setAttributeNS(null,"y",bt(-Nt.y)),Nt.xcoords=[],Nt.ycoords=[]}endText(){var Nt;const It=this.current;It.textRenderingMode&ct.TextRenderingMode.ADD_TO_PATH_FLAG&&((Nt=It.txtElement)!=null&&Nt.hasChildNodes())&&(It.element=It.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(It){It>0&&(this.current.lineWidth=It)}setLineCap(It){this.current.lineCap=ft[It]}setLineJoin(It){this.current.lineJoin=pt[It]}setMiterLimit(It){this.current.miterLimit=It}setStrokeAlpha(It){this.current.strokeAlpha=It}setStrokeRGBColor(It,Nt,Pt){this.current.strokeColor=ct.Util.makeHexColor(It,Nt,Pt)}setFillAlpha(It){this.current.fillAlpha=It}setFillRGBColor(It,Nt,Pt){this.current.fillColor=ct.Util.makeHexColor(It,Nt,Pt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(It){this.current.strokeColor=this._makeColorN_Pattern(It)}setFillColorN(It){this.current.fillColor=this._makeColorN_Pattern(It)}shadingFill(It){const{width:Nt,height:Pt}=this.viewport,Tt=ct.Util.inverseTransform(this.transformMatrix),[Ct,Ot,Dt,jt]=ct.Util.getAxialAlignedBoundingBox([0,0,Nt,Pt],Tt),Mt=this.svgFactory.createElement("svg:rect");Mt.setAttributeNS(null,"x",Ct),Mt.setAttributeNS(null,"y",Ot),Mt.setAttributeNS(null,"width",Dt-Ct),Mt.setAttributeNS(null,"height",jt-Ot),Mt.setAttributeNS(null,"fill",this._makeShadingPattern(It)),this.current.fillAlpha<1&&Mt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Mt)}_makeColorN_Pattern(It){return It[0]==="TilingPattern"?this._makeTilingPattern(It):this._makeShadingPattern(It)}_makeTilingPattern(It){const Nt=It[1],Pt=It[2],Tt=It[3]||ct.IDENTITY_MATRIX,[Ct,Ot,Dt,jt]=It[4],Mt=It[5],zt=It[6],Qt=It[7],qt=`shading${_t++}`,[Kt,sn,Gt,Wt]=ct.Util.normalizeRect([...ct.Util.applyTransform([Ct,Ot],Tt),...ct.Util.applyTransform([Dt,jt],Tt)]),[pn,rn]=ct.Util.singularValueDecompose2dScale(Tt),Vt=Mt*pn,$t=zt*rn,Xt=this.svgFactory.createElement("svg:pattern");Xt.setAttributeNS(null,"id",qt),Xt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Xt.setAttributeNS(null,"width",Vt),Xt.setAttributeNS(null,"height",$t),Xt.setAttributeNS(null,"x",`${Kt}`),Xt.setAttributeNS(null,"y",`${sn}`);const Zt=this.svg,Jt=this.transformMatrix,Yt=this.current.fillColor,gn=this.current.strokeColor,_n=this.svgFactory.create(Gt-Kt,Wt-sn);if(this.svg=_n,this.transformMatrix=Tt,Qt===2){const Sn=ct.Util.makeHexColor(...Nt);this.current.fillColor=Sn,this.current.strokeColor=Sn}return this.executeOpTree(this.convertOpList(Pt)),this.svg=Zt,this.transformMatrix=Jt,this.current.fillColor=Yt,this.current.strokeColor=gn,Xt.append(_n.childNodes[0]),this.defs.append(Xt),`url(#${qt})`}_makeShadingPattern(It){switch(typeof It=="string"&&(It=this.objs.get(It)),It[0]){case"RadialAxial":const Nt=`shading${_t++}`,Pt=It[3];let Tt;switch(It[1]){case"axial":const Ct=It[4],Ot=It[5];Tt=this.svgFactory.createElement("svg:linearGradient"),Tt.setAttributeNS(null,"id",Nt),Tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Tt.setAttributeNS(null,"x1",Ct[0]),Tt.setAttributeNS(null,"y1",Ct[1]),Tt.setAttributeNS(null,"x2",Ot[0]),Tt.setAttributeNS(null,"y2",Ot[1]);break;case"radial":const Dt=It[4],jt=It[5],Mt=It[6],zt=It[7];Tt=this.svgFactory.createElement("svg:radialGradient"),Tt.setAttributeNS(null,"id",Nt),Tt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Tt.setAttributeNS(null,"cx",jt[0]),Tt.setAttributeNS(null,"cy",jt[1]),Tt.setAttributeNS(null,"r",zt),Tt.setAttributeNS(null,"fx",Dt[0]),Tt.setAttributeNS(null,"fy",Dt[1]),Tt.setAttributeNS(null,"fr",Mt);break;default:throw new Error(`Unknown RadialAxial type: ${It[1]}`)}for(const Ct of Pt){const Ot=this.svgFactory.createElement("svg:stop");Ot.setAttributeNS(null,"offset",Ct[0]),Ot.setAttributeNS(null,"stop-color",Ct[1]),Tt.append(Ot)}return this.defs.append(Tt),`url(#${Nt})`;case"Mesh":return(0,ct.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${It[0]}`)}}setDash(It,Nt){this.current.dashArray=It,this.current.dashPhase=Nt}constructPath(It,Nt){const Pt=this.current;let Tt=Pt.x,Ct=Pt.y,Ot=[],Dt=0;for(const jt of It)switch(jt|0){case ct.OPS.rectangle:Tt=Nt[Dt++],Ct=Nt[Dt++];const Mt=Nt[Dt++],zt=Nt[Dt++],Qt=Tt+Mt,qt=Ct+zt;Ot.push("M",bt(Tt),bt(Ct),"L",bt(Qt),bt(Ct),"L",bt(Qt),bt(qt),"L",bt(Tt),bt(qt),"Z");break;case ct.OPS.moveTo:Tt=Nt[Dt++],Ct=Nt[Dt++],Ot.push("M",bt(Tt),bt(Ct));break;case ct.OPS.lineTo:Tt=Nt[Dt++],Ct=Nt[Dt++],Ot.push("L",bt(Tt),bt(Ct));break;case ct.OPS.curveTo:Tt=Nt[Dt+4],Ct=Nt[Dt+5],Ot.push("C",bt(Nt[Dt]),bt(Nt[Dt+1]),bt(Nt[Dt+2]),bt(Nt[Dt+3]),bt(Tt),bt(Ct)),Dt+=6;break;case ct.OPS.curveTo2:Ot.push("C",bt(Tt),bt(Ct),bt(Nt[Dt]),bt(Nt[Dt+1]),bt(Nt[Dt+2]),bt(Nt[Dt+3])),Tt=Nt[Dt+2],Ct=Nt[Dt+3],Dt+=4;break;case ct.OPS.curveTo3:Tt=Nt[Dt+2],Ct=Nt[Dt+3],Ot.push("C",bt(Nt[Dt]),bt(Nt[Dt+1]),bt(Tt),bt(Ct),bt(Tt),bt(Ct)),Dt+=4;break;case ct.OPS.closePath:Ot.push("Z");break}Ot=Ot.join(" "),Pt.path&&It.length>0&&It[0]!==ct.OPS.rectangle&&It[0]!==ct.OPS.moveTo?Ot=Pt.path.getAttributeNS(null,"d")+Ot:(Pt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Pt.path)),Pt.path.setAttributeNS(null,"d",Ot),Pt.path.setAttributeNS(null,"fill","none"),Pt.element=Pt.path,Pt.setCurrentPoint(Tt,Ct)}endPath(){const It=this.current;if(It.path=null,!this.pendingClip)return;if(!It.element){this.pendingClip=null;return}const Nt=`clippath${Rt++}`,Pt=this.svgFactory.createElement("svg:clipPath");Pt.setAttributeNS(null,"id",Nt),Pt.setAttributeNS(null,"transform",Et(this.transformMatrix));const Tt=It.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Tt.setAttributeNS(null,"clip-rule","evenodd"):Tt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Pt.append(Tt),this.defs.append(Pt),It.activeClipUrl){It.clipGroup=null;for(const Ct of this.extraStack)Ct.clipGroup=null;Pt.setAttributeNS(null,"clip-path",It.activeClipUrl)}It.activeClipUrl=`url(#${Nt})`,this.tgrp=null}clip(It){this.pendingClip=It}closePath(){const It=this.current;if(It.path){const Nt=`${It.path.getAttributeNS(null,"d")}Z`;It.path.setAttributeNS(null,"d",Nt)}}setLeading(It){this.current.leading=-It}setTextRise(It){this.current.textRise=It}setTextRenderingMode(It){this.current.textRenderingMode=It}setHScale(It){this.current.textHScale=It/100}setRenderingIntent(It){}setFlatness(It){}setGState(It){for(const[Nt,Pt]of It)switch(Nt){case"LW":this.setLineWidth(Pt);break;case"LC":this.setLineCap(Pt);break;case"LJ":this.setLineJoin(Pt);break;case"ML":this.setMiterLimit(Pt);break;case"D":this.setDash(Pt[0],Pt[1]);break;case"RI":this.setRenderingIntent(Pt);break;case"FL":this.setFlatness(Pt);break;case"Font":this.setFont(Pt);break;case"CA":this.setStrokeAlpha(Pt);break;case"ca":this.setFillAlpha(Pt);break;default:(0,ct.warn)(`Unimplemented graphic state operator ${Nt}`);break}}fill(){const It=this.current;It.element&&(It.element.setAttributeNS(null,"fill",It.fillColor),It.element.setAttributeNS(null,"fill-opacity",It.fillAlpha),this.endPath())}stroke(){const It=this.current;It.element&&(this._setStrokeAttributes(It.element),It.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(It,Nt=1){const Pt=this.current;let Tt=Pt.dashArray;Nt!==1&&Tt.length>0&&(Tt=Tt.map(function(Ct){return Nt*Ct})),It.setAttributeNS(null,"stroke",Pt.strokeColor),It.setAttributeNS(null,"stroke-opacity",Pt.strokeAlpha),It.setAttributeNS(null,"stroke-miterlimit",bt(Pt.miterLimit)),It.setAttributeNS(null,"stroke-linecap",Pt.lineCap),It.setAttributeNS(null,"stroke-linejoin",Pt.lineJoin),It.setAttributeNS(null,"stroke-width",bt(Nt*Pt.lineWidth)+"px"),It.setAttributeNS(null,"stroke-dasharray",Tt.map(bt).join(" ")),It.setAttributeNS(null,"stroke-dashoffset",bt(Nt*Pt.dashPhase)+"px")}eoFill(){var It;(It=this.current.element)==null||It.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var It;(It=this.current.element)==null||It.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const It=this.svgFactory.createElement("svg:rect");It.setAttributeNS(null,"x","0"),It.setAttributeNS(null,"y","0"),It.setAttributeNS(null,"width","1px"),It.setAttributeNS(null,"height","1px"),It.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(It)}paintImageXObject(It){const Nt=this.getObject(It);if(!Nt){(0,ct.warn)(`Dependent image with object ID ${It} is not ready yet`);return}this.paintInlineImageXObject(Nt)}paintInlineImageXObject(It,Nt){const Pt=It.width,Tt=It.height,Ct=gt(It,this.forceDataSchema,!!Nt),Ot=this.svgFactory.createElement("svg:rect");Ot.setAttributeNS(null,"x","0"),Ot.setAttributeNS(null,"y","0"),Ot.setAttributeNS(null,"width",bt(Pt)),Ot.setAttributeNS(null,"height",bt(Tt)),this.current.element=Ot,this.clip("nonzero");const Dt=this.svgFactory.createElement("svg:image");Dt.setAttributeNS(ht,"xlink:href",Ct),Dt.setAttributeNS(null,"x","0"),Dt.setAttributeNS(null,"y",bt(-Tt)),Dt.setAttributeNS(null,"width",bt(Pt)+"px"),Dt.setAttributeNS(null,"height",bt(Tt)+"px"),Dt.setAttributeNS(null,"transform",`scale(${bt(1/Pt)} ${bt(-1/Tt)})`),Nt?Nt.append(Dt):this._ensureTransformGroup().append(Dt)}paintImageMaskXObject(It){const Nt=this.getObject(It.data,It);if(Nt.bitmap){(0,ct.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const Pt=this.current,Tt=Nt.width,Ct=Nt.height,Ot=Pt.fillColor;Pt.maskId=`mask${wt++}`;const Dt=this.svgFactory.createElement("svg:mask");Dt.setAttributeNS(null,"id",Pt.maskId);const jt=this.svgFactory.createElement("svg:rect");jt.setAttributeNS(null,"x","0"),jt.setAttributeNS(null,"y","0"),jt.setAttributeNS(null,"width",bt(Tt)),jt.setAttributeNS(null,"height",bt(Ct)),jt.setAttributeNS(null,"fill",Ot),jt.setAttributeNS(null,"mask",`url(#${Pt.maskId})`),this.defs.append(Dt),this._ensureTransformGroup().append(jt),this.paintInlineImageXObject(Nt,Dt)}paintFormXObjectBegin(It,Nt){if(Array.isArray(It)&&It.length===6&&this.transform(It[0],It[1],It[2],It[3],It[4],It[5]),Nt){const Pt=Nt[2]-Nt[0],Tt=Nt[3]-Nt[1],Ct=this.svgFactory.createElement("svg:rect");Ct.setAttributeNS(null,"x",Nt[0]),Ct.setAttributeNS(null,"y",Nt[1]),Ct.setAttributeNS(null,"width",bt(Pt)),Ct.setAttributeNS(null,"height",bt(Tt)),this.current.element=Ct,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(It){const Nt=this.svgFactory.create(It.width,It.height),Pt=this.svgFactory.createElement("svg:defs");Nt.append(Pt),this.defs=Pt;const Tt=this.svgFactory.createElement("svg:g");return Tt.setAttributeNS(null,"transform",Et(It.transform)),Nt.append(Tt),this.svg=Tt,Nt}_ensureClipGroup(){if(!this.current.clipGroup){const It=this.svgFactory.createElement("svg:g");It.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(It),this.current.clipGroup=It}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",Et(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}rt.SVGGraphics=At},(ot,rt)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.XfaText=void 0;class at{static textContent(ct){const ut=[],dt={items:ut,styles:Object.create(null)};function ht(ft){var gt;if(!ft)return;let pt=null;const mt=ft.name;if(mt==="#text")pt=ft.value;else if(at.shouldBuildText(mt))(gt=ft==null?void 0:ft.attributes)!=null&&gt.textContent?pt=ft.attributes.textContent:ft.value&&(pt=ft.value);else return;if(pt!==null&&ut.push({str:pt}),!!ft.children)for(const yt of ft.children)ht(yt)}return ht(ct),dt}static shouldBuildText(ct){return!(ct==="textarea"||ct==="input"||ct==="option"||ct==="select")}}rt.XfaText=at},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.TextLayerRenderTask=void 0,rt.renderTextLayer=Et,rt.updateTextLayer=Rt;var lt=at(1),ct=at(6);const ut=1e5,dt=30,ht=.8,ft=new Map;function pt(wt,_t){let At;if(_t&&lt.FeatureTest.isOffscreenCanvasSupported)At=new OffscreenCanvas(wt,wt).getContext("2d",{alpha:!1});else{const kt=document.createElement("canvas");kt.width=kt.height=wt,At=kt.getContext("2d",{alpha:!1})}return At}function mt(wt,_t){const At=ft.get(wt);if(At)return At;const kt=pt(dt,_t);kt.font=`${dt}px ${wt}`;const It=kt.measureText("");let Nt=It.fontBoundingBoxAscent,Pt=Math.abs(It.fontBoundingBoxDescent);if(Nt){const Ct=Nt/(Nt+Pt);return ft.set(wt,Ct),kt.canvas.width=kt.canvas.height=0,Ct}kt.strokeStyle="red",kt.clearRect(0,0,dt,dt),kt.strokeText("g",0,0);let Tt=kt.getImageData(0,0,dt,dt).data;Pt=0;for(let Ct=Tt.length-1-3;Ct>=0;Ct-=4)if(Tt[Ct]>0){Pt=Math.ceil(Ct/4/dt);break}kt.clearRect(0,0,dt,dt),kt.strokeText("A",0,dt),Tt=kt.getImageData(0,0,dt,dt).data,Nt=0;for(let Ct=0,Ot=Tt.length;Ct<Ot;Ct+=4)if(Tt[Ct]>0){Nt=dt-Math.floor(Ct/4/dt);break}if(kt.canvas.width=kt.canvas.height=0,Nt){const Ct=Nt/(Nt+Pt);return ft.set(wt,Ct),Ct}return ft.set(wt,ht),ht}function gt(wt,_t,At){const kt=document.createElement("span"),It={angle:0,canvasWidth:0,hasText:_t.str!=="",hasEOL:_t.hasEOL,fontSize:0};wt._textDivs.push(kt);const Nt=lt.Util.transform(wt._transform,_t.transform);let Pt=Math.atan2(Nt[1],Nt[0]);const Tt=At[_t.fontName];Tt.vertical&&(Pt+=Math.PI/2);const Ct=Math.hypot(Nt[2],Nt[3]),Ot=Ct*mt(Tt.fontFamily,wt._isOffscreenCanvasSupported);let Dt,jt;Pt===0?(Dt=Nt[4],jt=Nt[5]-Ot):(Dt=Nt[4]+Ot*Math.sin(Pt),jt=Nt[5]-Ot*Math.cos(Pt));const Mt="calc(var(--scale-factor)*",zt=kt.style;wt._container===wt._rootContainer?(zt.left=`${(100*Dt/wt._pageWidth).toFixed(2)}%`,zt.top=`${(100*jt/wt._pageHeight).toFixed(2)}%`):(zt.left=`${Mt}${Dt.toFixed(2)}px)`,zt.top=`${Mt}${jt.toFixed(2)}px)`),zt.fontSize=`${Mt}${Ct.toFixed(2)}px)`,zt.fontFamily=Tt.fontFamily,It.fontSize=Ct,kt.setAttribute("role","presentation"),kt.textContent=_t.str,kt.dir=_t.dir,wt._fontInspectorEnabled&&(kt.dataset.fontName=_t.fontName),Pt!==0&&(It.angle=Pt*(180/Math.PI));let Qt=!1;if(_t.str.length>1)Qt=!0;else if(_t.str!==" "&&_t.transform[0]!==_t.transform[3]){const qt=Math.abs(_t.transform[0]),Kt=Math.abs(_t.transform[3]);qt!==Kt&&Math.max(qt,Kt)/Math.min(qt,Kt)>1.5&&(Qt=!0)}Qt&&(It.canvasWidth=Tt.vertical?_t.height:_t.width),wt._textDivProperties.set(kt,It),wt._isReadableStream&&wt._layoutText(kt)}function yt(wt){const{div:_t,scale:At,properties:kt,ctx:It,prevFontSize:Nt,prevFontFamily:Pt}=wt,{style:Tt}=_t;let Ct="";if(kt.canvasWidth!==0&&kt.hasText){const{fontFamily:Ot}=Tt,{canvasWidth:Dt,fontSize:jt}=kt;(Nt!==jt||Pt!==Ot)&&(It.font=`${jt*At}px ${Ot}`,wt.prevFontSize=jt,wt.prevFontFamily=Ot);const{width:Mt}=It.measureText(_t.textContent);Mt>0&&(Ct=`scaleX(${Dt*At/Mt})`)}kt.angle!==0&&(Ct=`rotate(${kt.angle}deg) ${Ct}`),Ct.length>0&&(Tt.transform=Ct)}function xt(wt){if(wt._canceled)return;const _t=wt._textDivs,At=wt._capability;if(_t.length>ut){At.resolve();return}if(!wt._isReadableStream)for(const It of _t)wt._layoutText(It);At.resolve()}class bt{constructor({textContentSource:_t,container:At,viewport:kt,textDivs:It,textDivProperties:Nt,textContentItemsStr:Pt,isOffscreenCanvasSupported:Tt}){var Mt;this._textContentSource=_t,this._isReadableStream=_t instanceof ReadableStream,this._container=this._rootContainer=At,this._textDivs=It||[],this._textContentItemsStr=Pt||[],this._isOffscreenCanvasSupported=Tt,this._fontInspectorEnabled=!!((Mt=globalThis.FontInspector)!=null&&Mt.enabled),this._reader=null,this._textDivProperties=Nt||new WeakMap,this._canceled=!1,this._capability=new lt.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:kt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:pt(0,Tt)};const{pageWidth:Ct,pageHeight:Ot,pageX:Dt,pageY:jt}=kt.rawDims;this._transform=[1,0,0,-1,-Dt,jt+Ot],this._pageWidth=Ct,this._pageHeight=Ot,(0,ct.setLayerDimensions)(At,kt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new lt.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new lt.AbortException("TextLayer task cancelled."))}_processItems(_t,At){for(const kt of _t){if(kt.str===void 0){if(kt.type==="beginMarkedContentProps"||kt.type==="beginMarkedContent"){const It=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),kt.id!==null&&this._container.setAttribute("id",`${kt.id}`),It.append(this._container)}else kt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(kt.str),gt(this,kt,At)}}_layoutText(_t){const At=this._layoutTextParams.properties=this._textDivProperties.get(_t);if(this._layoutTextParams.div=_t,yt(this._layoutTextParams),At.hasText&&this._container.append(_t),At.hasEOL){const kt=document.createElement("br");kt.setAttribute("role","presentation"),this._container.append(kt)}}_render(){const _t=new lt.PromiseCapability;let At=Object.create(null);if(this._isReadableStream){const kt=()=>{this._reader.read().then(({value:It,done:Nt})=>{if(Nt){_t.resolve();return}Object.assign(At,It.styles),this._processItems(It.items,At),kt()},_t.reject)};this._reader=this._textContentSource.getReader(),kt()}else if(this._textContentSource){const{items:kt,styles:It}=this._textContentSource;this._processItems(kt,It),_t.resolve()}else throw new Error('No "textContentSource" parameter specified.');_t.promise.then(()=>{At=null,xt(this)},this._capability.reject)}}rt.TextLayerRenderTask=bt;function Et(wt){!wt.textContentSource&&(wt.textContent||wt.textContentStream)&&((0,ct.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),wt.textContentSource=wt.textContent||wt.textContentStream);const{container:_t,viewport:At}=wt,kt=getComputedStyle(_t),It=kt.getPropertyValue("visibility"),Nt=parseFloat(kt.getPropertyValue("--scale-factor"));It==="visible"&&(!Nt||Math.abs(Nt-At.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const Pt=new bt(wt);return Pt._render(),Pt}function Rt({container:wt,viewport:_t,textDivs:At,textDivProperties:kt,isOffscreenCanvasSupported:It,mustRotate:Nt=!0,mustRescale:Pt=!0}){if(Nt&&(0,ct.setLayerDimensions)(wt,{rotation:_t.rotation}),Pt){const Tt=pt(0,It),Ot={prevFontSize:null,prevFontFamily:null,div:null,scale:_t.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Tt};for(const Dt of At)Ot.properties=kt.get(Dt),Ot.div=Dt,yt(Ot)}}},(ot,rt,at)=>{var mt,gt,yt,xt,bt,Et,Rt,wt,_t,At,kt,Np,Gu,Mp,Op;Object.defineProperty(rt,"__esModule",{value:!0}),rt.AnnotationEditorLayer=void 0;var lt=at(1),ct=at(4),ut=at(28),dt=at(33),ht=at(6),ft=at(34);const Ct=class Ct{constructor({uiManager:Dt,pageIndex:jt,div:Mt,accessibilityManager:zt,annotationLayer:Qt,viewport:qt,l10n:Kt}){Wn(this,kt);Wn(this,mt);Wn(this,gt,!1);Wn(this,yt,null);Wn(this,xt,this.pointerup.bind(this));Wn(this,bt,this.pointerdown.bind(this));Wn(this,Et,new Map);Wn(this,Rt,!1);Wn(this,wt,!1);Wn(this,_t,!1);Wn(this,At);const sn=[ut.FreeTextEditor,dt.InkEditor,ft.StampEditor];if(!Ct._initialized){Ct._initialized=!0;for(const Gt of sn)Gt.initialize(Kt)}Dt.registerEditorTypes(sn),qn(this,At,Dt),this.pageIndex=jt,this.div=Mt,qn(this,mt,zt),qn(this,yt,Qt),this.viewport=qt,Ft(this,At).addLayer(this)}get isEmpty(){return Ft(this,Et).size===0}updateToolbar(Dt){Ft(this,At).updateToolbar(Dt)}updateMode(Dt=Ft(this,At).getMode()){On(this,kt,Op).call(this),Dt===lt.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Dt!==lt.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Dt===lt.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Dt===lt.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Dt===lt.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Dt){if(!Dt&&Ft(this,At).getMode()!==lt.AnnotationEditorType.INK)return;if(!Dt){for(const Mt of Ft(this,Et).values())if(Mt.isEmpty()){Mt.setInBackground();return}}On(this,kt,Gu).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Dt){Ft(this,At).setEditingState(Dt)}addCommands(Dt){Ft(this,At).addCommands(Dt)}enable(){this.div.style.pointerEvents="auto";const Dt=new Set;for(const Mt of Ft(this,Et).values())Mt.enableEditing(),Mt.annotationElementId&&Dt.add(Mt.annotationElementId);if(!Ft(this,yt))return;const jt=Ft(this,yt).getEditableAnnotations();for(const Mt of jt){if(Mt.hide(),Ft(this,At).isDeletedAnnotationElement(Mt.data.id)||Dt.has(Mt.data.id))continue;const zt=this.deserialize(Mt);zt&&(this.addOrRebuild(zt),zt.enableEditing())}}disable(){var jt;qn(this,_t,!0),this.div.style.pointerEvents="none";const Dt=new Set;for(const Mt of Ft(this,Et).values()){if(Mt.disableEditing(),!Mt.annotationElementId||Mt.serialize()!==null){Dt.add(Mt.annotationElementId);continue}(jt=this.getEditableAnnotation(Mt.annotationElementId))==null||jt.show(),Mt.remove()}if(Ft(this,yt)){const Mt=Ft(this,yt).getEditableAnnotations();for(const zt of Mt){const{id:Qt}=zt.data;Dt.has(Qt)||Ft(this,At).isDeletedAnnotationElement(Qt)||zt.show()}}On(this,kt,Op).call(this),this.isEmpty&&(this.div.hidden=!0),qn(this,_t,!1)}getEditableAnnotation(Dt){var jt;return((jt=Ft(this,yt))==null?void 0:jt.getEditableAnnotation(Dt))||null}setActiveEditor(Dt){Ft(this,At).getActive()!==Dt&&Ft(this,At).setActiveEditor(Dt)}enableClick(){this.div.addEventListener("pointerdown",Ft(this,bt)),this.div.addEventListener("pointerup",Ft(this,xt))}disableClick(){this.div.removeEventListener("pointerdown",Ft(this,bt)),this.div.removeEventListener("pointerup",Ft(this,xt))}attach(Dt){Ft(this,Et).set(Dt.id,Dt);const{annotationElementId:jt}=Dt;jt&&Ft(this,At).isDeletedAnnotationElement(jt)&&Ft(this,At).removeDeletedAnnotationElement(Dt)}detach(Dt){var jt;Ft(this,Et).delete(Dt.id),(jt=Ft(this,mt))==null||jt.removePointerInTextLayer(Dt.contentDiv),!Ft(this,_t)&&Dt.annotationElementId&&Ft(this,At).addDeletedAnnotationElement(Dt)}remove(Dt){this.detach(Dt),Ft(this,At).removeEditor(Dt),Dt.div.contains(document.activeElement)&&setTimeout(()=>{Ft(this,At).focusMainContainer()},0),Dt.div.remove(),Dt.isAttachedToDOM=!1,Ft(this,wt)||this.addInkEditorIfNeeded(!1)}changeParent(Dt){var jt;Dt.parent!==this&&(Dt.annotationElementId&&(Ft(this,At).addDeletedAnnotationElement(Dt.annotationElementId),ct.AnnotationEditor.deleteAnnotationElement(Dt),Dt.annotationElementId=null),this.attach(Dt),(jt=Dt.parent)==null||jt.detach(Dt),Dt.setParent(this),Dt.div&&Dt.isAttachedToDOM&&(Dt.div.remove(),this.div.append(Dt.div)))}add(Dt){if(this.changeParent(Dt),Ft(this,At).addEditor(Dt),this.attach(Dt),!Dt.isAttachedToDOM){const jt=Dt.render();this.div.append(jt),Dt.isAttachedToDOM=!0}Dt.fixAndSetPosition(),Dt.onceAdded(),Ft(this,At).addToAnnotationStorage(Dt)}moveEditorInDOM(Dt){var Mt;if(!Dt.isAttachedToDOM)return;const{activeElement:jt}=document;Dt.div.contains(jt)&&(Dt._focusEventsAllowed=!1,setTimeout(()=>{Dt.div.contains(document.activeElement)?Dt._focusEventsAllowed=!0:(Dt.div.addEventListener("focusin",()=>{Dt._focusEventsAllowed=!0},{once:!0}),jt.focus())},0)),Dt._structTreeParentId=(Mt=Ft(this,mt))==null?void 0:Mt.moveElementInDOM(this.div,Dt.div,Dt.contentDiv,!0)}addOrRebuild(Dt){Dt.needsToBeRebuilt()?Dt.rebuild():this.add(Dt)}addUndoableEditor(Dt){const jt=()=>Dt._uiManager.rebuild(Dt),Mt=()=>{Dt.remove()};this.addCommands({cmd:jt,undo:Mt,mustExec:!1})}getNextId(){return Ft(this,At).getId()}pasteEditor(Dt,jt){Ft(this,At).updateToolbar(Dt),Ft(this,At).updateMode(Dt);const{offsetX:Mt,offsetY:zt}=On(this,kt,Mp).call(this),Qt=this.getNextId(),qt=On(this,kt,Np).call(this,{parent:this,id:Qt,x:Mt,y:zt,uiManager:Ft(this,At),isCentered:!0,...jt});qt&&this.add(qt)}deserialize(Dt){switch(Dt.annotationType??Dt.annotationEditorType){case lt.AnnotationEditorType.FREETEXT:return ut.FreeTextEditor.deserialize(Dt,this,Ft(this,At));case lt.AnnotationEditorType.INK:return dt.InkEditor.deserialize(Dt,this,Ft(this,At));case lt.AnnotationEditorType.STAMP:return ft.StampEditor.deserialize(Dt,this,Ft(this,At))}return null}addNewEditor(){On(this,kt,Gu).call(this,On(this,kt,Mp).call(this),!0)}setSelected(Dt){Ft(this,At).setSelected(Dt)}toggleSelected(Dt){Ft(this,At).toggleSelected(Dt)}isSelected(Dt){return Ft(this,At).isSelected(Dt)}unselect(Dt){Ft(this,At).unselect(Dt)}pointerup(Dt){const{isMac:jt}=lt.FeatureTest.platform;if(!(Dt.button!==0||Dt.ctrlKey&&jt)&&Dt.target===this.div&&Ft(this,Rt)){if(qn(this,Rt,!1),!Ft(this,gt)){qn(this,gt,!0);return}if(Ft(this,At).getMode()===lt.AnnotationEditorType.STAMP){Ft(this,At).unselectAll();return}On(this,kt,Gu).call(this,Dt,!1)}}pointerdown(Dt){if(Ft(this,Rt)){qn(this,Rt,!1);return}const{isMac:jt}=lt.FeatureTest.platform;if(Dt.button!==0||Dt.ctrlKey&&jt||Dt.target!==this.div)return;qn(this,Rt,!0);const Mt=Ft(this,At).getActive();qn(this,gt,!Mt||Mt.isEmpty())}findNewParent(Dt,jt,Mt){const zt=Ft(this,At).findParent(jt,Mt);return zt===null||zt===this?!1:(zt.changeParent(Dt),!0)}destroy(){var Dt,jt;((Dt=Ft(this,At).getActive())==null?void 0:Dt.parent)===this&&(Ft(this,At).commitOrRemove(),Ft(this,At).setActiveEditor(null));for(const Mt of Ft(this,Et).values())(jt=Ft(this,mt))==null||jt.removePointerInTextLayer(Mt.contentDiv),Mt.setParent(null),Mt.isAttachedToDOM=!1,Mt.div.remove();this.div=null,Ft(this,Et).clear(),Ft(this,At).removeLayer(this)}render({viewport:Dt}){this.viewport=Dt,(0,ht.setLayerDimensions)(this.div,Dt);for(const jt of Ft(this,At).getEditors(this.pageIndex))this.add(jt);this.updateMode()}update({viewport:Dt}){Ft(this,At).commitOrRemove(),this.viewport=Dt,(0,ht.setLayerDimensions)(this.div,{rotation:Dt.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Dt,pageHeight:jt}=this.viewport.rawDims;return[Dt,jt]}};mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,wt=new WeakMap,_t=new WeakMap,At=new WeakMap,kt=new WeakSet,Np=function(Dt){switch(Ft(this,At).getMode()){case lt.AnnotationEditorType.FREETEXT:return new ut.FreeTextEditor(Dt);case lt.AnnotationEditorType.INK:return new dt.InkEditor(Dt);case lt.AnnotationEditorType.STAMP:return new ft.StampEditor(Dt)}return null},Gu=function(Dt,jt){const Mt=this.getNextId(),zt=On(this,kt,Np).call(this,{parent:this,id:Mt,x:Dt.offsetX,y:Dt.offsetY,uiManager:Ft(this,At),isCentered:jt});return zt&&this.add(zt),zt},Mp=function(){const{x:Dt,y:jt,width:Mt,height:zt}=this.div.getBoundingClientRect(),Qt=Math.max(0,Dt),qt=Math.max(0,jt),Kt=Math.min(window.innerWidth,Dt+Mt),sn=Math.min(window.innerHeight,jt+zt),Gt=(Qt+Kt)/2-Dt,Wt=(qt+sn)/2-jt,[pn,rn]=this.viewport.rotation%180===0?[Gt,Wt]:[Wt,Gt];return{offsetX:pn,offsetY:rn}},Op=function(){qn(this,wt,!0);for(const Dt of Ft(this,Et).values())Dt.isEmpty()&&Dt.remove();qn(this,wt,!1)},zr(Ct,"_initialized",!1);let pt=Ct;rt.AnnotationEditorLayer=pt},(ot,rt,at)=>{var ft,pt,mt,gt,yt,xt,bt,Et,Rt,wt,Dm,jm,Nm,wu,Lp,Mm,Fp;Object.defineProperty(rt,"__esModule",{value:!0}),rt.FreeTextEditor=void 0;var lt=at(1),ct=at(5),ut=at(4),dt=at(29);const Ct=class Ct extends ut.AnnotationEditor{constructor(jt){super({...jt,name:"freeTextEditor"});Wn(this,wt);Wn(this,ft,this.editorDivBlur.bind(this));Wn(this,pt,this.editorDivFocus.bind(this));Wn(this,mt,this.editorDivInput.bind(this));Wn(this,gt,this.editorDivKeydown.bind(this));Wn(this,yt);Wn(this,xt,"");Wn(this,bt,`${this.id}-editor`);Wn(this,Et);Wn(this,Rt,null);qn(this,yt,jt.color||Ct._defaultColor||ut.AnnotationEditor._defaultLineColor),qn(this,Et,jt.fontSize||Ct._defaultFontSize)}static get _keyboardManager(){const jt=Ct.prototype,Mt=qt=>qt.isEmpty(),zt=ct.AnnotationEditorUIManager.TRANSLATE_SMALL,Qt=ct.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,lt.shadow)(this,"_keyboardManager",new ct.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],jt.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],jt.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],jt._translateEmpty,{args:[-zt,0],checker:Mt}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],jt._translateEmpty,{args:[-Qt,0],checker:Mt}],[["ArrowRight","mac+ArrowRight"],jt._translateEmpty,{args:[zt,0],checker:Mt}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],jt._translateEmpty,{args:[Qt,0],checker:Mt}],[["ArrowUp","mac+ArrowUp"],jt._translateEmpty,{args:[0,-zt],checker:Mt}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],jt._translateEmpty,{args:[0,-Qt],checker:Mt}],[["ArrowDown","mac+ArrowDown"],jt._translateEmpty,{args:[0,zt],checker:Mt}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],jt._translateEmpty,{args:[0,Qt],checker:Mt}]]))}static initialize(jt){ut.AnnotationEditor.initialize(jt,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Mt=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Mt.getPropertyValue("--freetext-padding"))}static updateDefaultParams(jt,Mt){switch(jt){case lt.AnnotationEditorParamsType.FREETEXT_SIZE:Ct._defaultFontSize=Mt;break;case lt.AnnotationEditorParamsType.FREETEXT_COLOR:Ct._defaultColor=Mt;break}}updateParams(jt,Mt){switch(jt){case lt.AnnotationEditorParamsType.FREETEXT_SIZE:On(this,wt,Dm).call(this,Mt);break;case lt.AnnotationEditorParamsType.FREETEXT_COLOR:On(this,wt,jm).call(this,Mt);break}}static get defaultPropertiesToUpdate(){return[[lt.AnnotationEditorParamsType.FREETEXT_SIZE,Ct._defaultFontSize],[lt.AnnotationEditorParamsType.FREETEXT_COLOR,Ct._defaultColor||ut.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[lt.AnnotationEditorParamsType.FREETEXT_SIZE,Ft(this,Et)],[lt.AnnotationEditorParamsType.FREETEXT_COLOR,Ft(this,yt)]]}_translateEmpty(jt,Mt){this._uiManager.translateSelectedEditors(jt,Mt,!0)}getInitialTranslation(){const jt=this.parentScale;return[-Ct._internalPadding*jt,-(Ct._internalPadding+Ft(this,Et))*jt]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(lt.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",Ft(this,gt)),this.editorDiv.addEventListener("focus",Ft(this,pt)),this.editorDiv.addEventListener("blur",Ft(this,ft)),this.editorDiv.addEventListener("input",Ft(this,mt)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ft(this,bt)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",Ft(this,gt)),this.editorDiv.removeEventListener("focus",Ft(this,pt)),this.editorDiv.removeEventListener("blur",Ft(this,ft)),this.editorDiv.removeEventListener("input",Ft(this,mt)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(jt){this._focusEventsAllowed&&(super.focusin(jt),jt.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var jt;if(this.width){On(this,wt,Fp).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(jt=this._initialOptions)!=null&&jt.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const jt=Ft(this,xt),Mt=qn(this,xt,On(this,wt,Nm).call(this).trimEnd());if(jt===Mt)return;const zt=Qt=>{if(qn(this,xt,Qt),!Qt){this.remove();return}On(this,wt,Lp).call(this),this._uiManager.rebuild(this),On(this,wt,wu).call(this)};this.addCommands({cmd:()=>{zt(Mt)},undo:()=>{zt(jt)},mustExec:!1}),On(this,wt,wu).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(jt){this.enterInEditMode()}keydown(jt){jt.target===this.div&&jt.key==="Enter"&&(this.enterInEditMode(),jt.preventDefault())}editorDivKeydown(jt){Ct._keyboardManager.exec(this,jt)}editorDivFocus(jt){this.isEditing=!0}editorDivBlur(jt){this.isEditing=!1}editorDivInput(jt){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let jt,Mt;this.width&&(jt=this.x,Mt=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ft(this,bt)),this.enableEditing(),ut.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Qt=>{var qt;return(qt=this.editorDiv)==null?void 0:qt.setAttribute("aria-label",Qt)}),ut.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Qt=>{var qt;return(qt=this.editorDiv)==null?void 0:qt.setAttribute("default-content",Qt)}),this.editorDiv.contentEditable=!0;const{style:zt}=this.editorDiv;if(zt.fontSize=`calc(${Ft(this,Et)}px * var(--scale-factor))`,zt.color=Ft(this,yt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,ct.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Qt,qt]=this.parentDimensions;if(this.annotationElementId){const{position:Kt}=Ft(this,Rt);let[sn,Gt]=this.getInitialTranslation();[sn,Gt]=this.pageTranslationToScreen(sn,Gt);const[Wt,pn]=this.pageDimensions,[rn,Vt]=this.pageTranslation;let $t,Xt;switch(this.rotation){case 0:$t=jt+(Kt[0]-rn)/Wt,Xt=Mt+this.height-(Kt[1]-Vt)/pn;break;case 90:$t=jt+(Kt[0]-rn)/Wt,Xt=Mt-(Kt[1]-Vt)/pn,[sn,Gt]=[Gt,-sn];break;case 180:$t=jt-this.width+(Kt[0]-rn)/Wt,Xt=Mt-(Kt[1]-Vt)/pn,[sn,Gt]=[-sn,-Gt];break;case 270:$t=jt+(Kt[0]-rn-this.height*pn)/Wt,Xt=Mt+(Kt[1]-Vt-this.width*Wt)/pn,[sn,Gt]=[-Gt,sn];break}this.setAt($t*Qt,Xt*qt,sn,Gt)}else this.setAt(jt*Qt,Mt*qt,this.width*Qt,this.height*qt);On(this,wt,Lp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(jt,Mt,zt){let Qt=null;if(jt instanceof dt.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Kt,fontColor:sn},rect:Gt,rotation:Wt,id:pn},textContent:rn,textPosition:Vt,parent:{page:{pageNumber:$t}}}=jt;if(!rn||rn.length===0)return null;Qt=jt={annotationType:lt.AnnotationEditorType.FREETEXT,color:Array.from(sn),fontSize:Kt,value:rn.join(`
`),position:Vt,pageIndex:$t-1,rect:Gt,rotation:Wt,id:pn,deleted:!1}}const qt=super.deserialize(jt,Mt,zt);return qn(qt,Et,jt.fontSize),qn(qt,yt,lt.Util.makeHexColor(...jt.color)),qn(qt,xt,jt.value),qt.annotationElementId=jt.id||null,qn(qt,Rt,Qt),qt}serialize(jt=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Mt=Ct._internalPadding*this.parentScale,zt=this.getRect(Mt,Mt),Qt=ut.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:Ft(this,yt)),qt={annotationType:lt.AnnotationEditorType.FREETEXT,color:Qt,fontSize:Ft(this,Et),value:Ft(this,xt),pageIndex:this.pageIndex,rect:zt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return jt?qt:this.annotationElementId&&!On(this,wt,Mm).call(this,qt)?null:(qt.id=this.annotationElementId,qt)}};ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,wt=new WeakSet,Dm=function(jt){const Mt=Qt=>{this.editorDiv.style.fontSize=`calc(${Qt}px * var(--scale-factor))`,this.translate(0,-(Qt-Ft(this,Et))*this.parentScale),qn(this,Et,Qt),On(this,wt,wu).call(this)},zt=Ft(this,Et);this.addCommands({cmd:()=>{Mt(jt)},undo:()=>{Mt(zt)},mustExec:!0,type:lt.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},jm=function(jt){const Mt=Ft(this,yt);this.addCommands({cmd:()=>{qn(this,yt,this.editorDiv.style.color=jt)},undo:()=>{qn(this,yt,this.editorDiv.style.color=Mt)},mustExec:!0,type:lt.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Nm=function(){const jt=this.editorDiv.getElementsByTagName("div");if(jt.length===0)return this.editorDiv.innerText;const Mt=[];for(const zt of jt)Mt.push(zt.innerText.replace(/\r\n?|\n/,""));return Mt.join(`
`)},wu=function(){const[jt,Mt]=this.parentDimensions;let zt;if(this.isAttachedToDOM)zt=this.div.getBoundingClientRect();else{const{currentLayer:Qt,div:qt}=this,Kt=qt.style.display;qt.style.display="hidden",Qt.div.append(this.div),zt=qt.getBoundingClientRect(),qt.remove(),qt.style.display=Kt}this.rotation%180===this.parentRotation%180?(this.width=zt.width/jt,this.height=zt.height/Mt):(this.width=zt.height/jt,this.height=zt.width/Mt),this.fixAndSetPosition()},Lp=function(){if(this.editorDiv.replaceChildren(),!!Ft(this,xt))for(const jt of Ft(this,xt).split(`
`)){const Mt=document.createElement("div");Mt.append(jt?document.createTextNode(jt):document.createElement("br")),this.editorDiv.append(Mt)}},Mm=function(jt){const{value:Mt,fontSize:zt,color:Qt,rect:qt,pageIndex:Kt}=Ft(this,Rt);return jt.value!==Mt||jt.fontSize!==zt||jt.rect.some((sn,Gt)=>Math.abs(sn-qt[Gt])>=1)||jt.color.some((sn,Gt)=>sn!==Qt[Gt])||jt.pageIndex!==Kt},Fp=function(jt=!1){if(!this.annotationElementId)return;if(On(this,wt,wu).call(this),!jt&&(this.width===0||this.height===0)){setTimeout(()=>On(this,wt,Fp).call(this,!0),0);return}const Mt=Ct._internalPadding*this.parentScale;Ft(this,Rt).rect=this.getRect(Mt,Mt)},zr(Ct,"_freeTextDefaultContent",""),zr(Ct,"_internalPadding",0),zr(Ct,"_defaultColor",null),zr(Ct,"_defaultFontSize",10),zr(Ct,"_type","freetext");let ht=Ct;rt.FreeTextEditor=ht},(ot,rt,at)=>{var Xt,Jt,Ul,Om,_n,Sn,jn,Dn,Gn,Kn,hn,En,cn,dn,wn,kn,Un,Jn,An,xn,er,Qn,Lm,Ku,Vp,$p,Er,Yr,ss,nr,Ln,Vn,vr,Bp,Or,vn,tr,dr,Fm,Up;Object.defineProperty(rt,"__esModule",{value:!0}),rt.StampAnnotationElement=rt.InkAnnotationElement=rt.FreeTextAnnotationElement=rt.AnnotationLayer=void 0;var lt=at(1),ct=at(6),ut=at(3),dt=at(30),ht=at(31),ft=at(32);const pt=1e3,mt=9,gt=new WeakSet;function yt(_r){return{width:_r[2]-_r[0],height:_r[3]-_r[1]}}class xt{static create(yn){switch(yn.data.annotationType){case lt.AnnotationType.LINK:return new Et(yn);case lt.AnnotationType.TEXT:return new Rt(yn);case lt.AnnotationType.WIDGET:switch(yn.data.fieldType){case"Tx":return new _t(yn);case"Btn":return yn.data.radioButton?new It(yn):yn.data.checkBox?new kt(yn):new Nt(yn);case"Ch":return new Pt(yn);case"Sig":return new At(yn)}return new wt(yn);case lt.AnnotationType.POPUP:return new Tt(yn);case lt.AnnotationType.FREETEXT:return new Ot(yn);case lt.AnnotationType.LINE:return new Dt(yn);case lt.AnnotationType.SQUARE:return new jt(yn);case lt.AnnotationType.CIRCLE:return new Mt(yn);case lt.AnnotationType.POLYLINE:return new zt(yn);case lt.AnnotationType.CARET:return new qt(yn);case lt.AnnotationType.INK:return new Kt(yn);case lt.AnnotationType.POLYGON:return new Qt(yn);case lt.AnnotationType.HIGHLIGHT:return new sn(yn);case lt.AnnotationType.UNDERLINE:return new Gt(yn);case lt.AnnotationType.SQUIGGLY:return new Wt(yn);case lt.AnnotationType.STRIKEOUT:return new pn(yn);case lt.AnnotationType.STAMP:return new rn(yn);case lt.AnnotationType.FILEATTACHMENT:return new Vt(yn);default:return new bt(yn)}}}const Zt=class Zt{constructor(yn,{isRenderable:fn=!1,ignoreBorder:Pn=!1,createQuadrilaterals:Hn=!1}={}){Wn(this,Xt,!1);this.isRenderable=fn,this.data=yn.data,this.layer=yn.layer,this.linkService=yn.linkService,this.downloadManager=yn.downloadManager,this.imageResourcesPath=yn.imageResourcesPath,this.renderForms=yn.renderForms,this.svgFactory=yn.svgFactory,this.annotationStorage=yn.annotationStorage,this.enableScripting=yn.enableScripting,this.hasJSActions=yn.hasJSActions,this._fieldObjects=yn.fieldObjects,this.parent=yn.parent,fn&&(this.container=this._createContainer(Pn)),Hn&&this._createQuadrilaterals()}static _hasPopupData({titleObj:yn,contentsObj:fn,richText:Pn}){return!!(yn!=null&&yn.str||fn!=null&&fn.str||Pn!=null&&Pn.str)}get hasPopupData(){return Zt._hasPopupData(this.data)}_createContainer(yn){const{data:fn,parent:{page:Pn,viewport:Hn}}=this,Zn=document.createElement("section");Zn.setAttribute("data-annotation-id",fn.id),this instanceof wt||(Zn.tabIndex=pt),Zn.style.zIndex=this.parent.zIndex++,this.data.popupRef&&Zn.setAttribute("aria-haspopup","dialog"),fn.noRotate&&Zn.classList.add("norotate");const{pageWidth:rr,pageHeight:lr,pageX:Sr,pageY:wr}=Hn.rawDims;if(!fn.rect||this instanceof Tt){const{rotation:Br}=fn;return!fn.hasOwnCanvas&&Br!==0&&this.setRotation(Br,Zn),Zn}const{width:pr,height:Zr}=yt(fn.rect),Ar=lt.Util.normalizeRect([fn.rect[0],Pn.view[3]-fn.rect[1]+Pn.view[1],fn.rect[2],Pn.view[3]-fn.rect[3]+Pn.view[1]]);if(!yn&&fn.borderStyle.width>0){Zn.style.borderWidth=`${fn.borderStyle.width}px`;const Br=fn.borderStyle.horizontalCornerRadius,Xr=fn.borderStyle.verticalCornerRadius;if(Br>0||Xr>0){const ns=`calc(${Br}px * var(--scale-factor)) / calc(${Xr}px * var(--scale-factor))`;Zn.style.borderRadius=ns}else if(this instanceof It){const ns=`calc(${pr}px * var(--scale-factor)) / calc(${Zr}px * var(--scale-factor))`;Zn.style.borderRadius=ns}switch(fn.borderStyle.style){case lt.AnnotationBorderStyleType.SOLID:Zn.style.borderStyle="solid";break;case lt.AnnotationBorderStyleType.DASHED:Zn.style.borderStyle="dashed";break;case lt.AnnotationBorderStyleType.BEVELED:(0,lt.warn)("Unimplemented border style: beveled");break;case lt.AnnotationBorderStyleType.INSET:(0,lt.warn)("Unimplemented border style: inset");break;case lt.AnnotationBorderStyleType.UNDERLINE:Zn.style.borderBottomStyle="solid";break}const Qr=fn.borderColor||null;Qr?(qn(this,Xt,!0),Zn.style.borderColor=lt.Util.makeHexColor(Qr[0]|0,Qr[1]|0,Qr[2]|0)):Zn.style.borderWidth=0}Zn.style.left=`${100*(Ar[0]-Sr)/rr}%`,Zn.style.top=`${100*(Ar[1]-wr)/lr}%`;const{rotation:Pr}=fn;return fn.hasOwnCanvas||Pr===0?(Zn.style.width=`${100*pr/rr}%`,Zn.style.height=`${100*Zr/lr}%`):this.setRotation(Pr,Zn),Zn}setRotation(yn,fn=this.container){if(!this.data.rect)return;const{pageWidth:Pn,pageHeight:Hn}=this.parent.viewport.rawDims,{width:Zn,height:rr}=yt(this.data.rect);let lr,Sr;yn%180===0?(lr=100*Zn/Pn,Sr=100*rr/Hn):(lr=100*rr/Pn,Sr=100*Zn/Hn),fn.style.width=`${lr}%`,fn.style.height=`${Sr}%`,fn.setAttribute("data-main-rotation",(360-yn)%360)}get _commonActions(){const yn=(fn,Pn,Hn)=>{const Zn=Hn.detail[fn],rr=Zn[0],lr=Zn.slice(1);Hn.target.style[Pn]=dt.ColorConverters[`${rr}_HTML`](lr),this.annotationStorage.setValue(this.data.id,{[Pn]:dt.ColorConverters[`${rr}_rgb`](lr)})};return(0,lt.shadow)(this,"_commonActions",{display:fn=>{const{display:Pn}=fn.detail,Hn=Pn%2===1;this.container.style.visibility=Hn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Hn,noPrint:Pn===1||Pn===2})},print:fn=>{this.annotationStorage.setValue(this.data.id,{noPrint:!fn.detail.print})},hidden:fn=>{const{hidden:Pn}=fn.detail;this.container.style.visibility=Pn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Pn,noView:Pn})},focus:fn=>{setTimeout(()=>fn.target.focus({preventScroll:!1}),0)},userName:fn=>{fn.target.title=fn.detail.userName},readonly:fn=>{fn.target.disabled=fn.detail.readonly},required:fn=>{this._setRequired(fn.target,fn.detail.required)},bgColor:fn=>{yn("bgColor","backgroundColor",fn)},fillColor:fn=>{yn("fillColor","backgroundColor",fn)},fgColor:fn=>{yn("fgColor","color",fn)},textColor:fn=>{yn("textColor","color",fn)},borderColor:fn=>{yn("borderColor","borderColor",fn)},strokeColor:fn=>{yn("strokeColor","borderColor",fn)},rotation:fn=>{const Pn=fn.detail.rotation;this.setRotation(Pn),this.annotationStorage.setValue(this.data.id,{rotation:Pn})}})}_dispatchEventFromSandbox(yn,fn){const Pn=this._commonActions;for(const Hn of Object.keys(fn.detail)){const Zn=yn[Hn]||Pn[Hn];Zn==null||Zn(fn)}}_setDefaultPropertiesFromJS(yn){if(!this.enableScripting)return;const fn=this.annotationStorage.getRawValue(this.data.id);if(!fn)return;const Pn=this._commonActions;for(const[Hn,Zn]of Object.entries(fn)){const rr=Pn[Hn];if(rr){const lr={detail:{[Hn]:Zn},target:yn};rr(lr),delete fn[Hn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:yn}=this.data;if(!yn)return;const[fn,Pn,Hn,Zn]=this.data.rect;if(yn.length===1){const[,{x:Xr,y:Qr},{x:ns,y:Ts}]=yn[0];if(Hn===Xr&&Zn===Qr&&fn===ns&&Pn===Ts)return}const{style:rr}=this.container;let lr;if(Ft(this,Xt)){const{borderColor:Xr,borderWidth:Qr}=rr;rr.borderWidth=0,lr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Xr}" stroke-width="${Qr}">`],this.container.classList.add("hasBorder")}const Sr=Hn-fn,wr=Zn-Pn,{svgFactory:pr}=this,Zr=pr.createElement("svg");Zr.classList.add("quadrilateralsContainer"),Zr.setAttribute("width",0),Zr.setAttribute("height",0);const Ar=pr.createElement("defs");Zr.append(Ar);const Pr=pr.createElement("clipPath"),Br=`clippath_${this.data.id}`;Pr.setAttribute("id",Br),Pr.setAttribute("clipPathUnits","objectBoundingBox"),Ar.append(Pr);for(const[,{x:Xr,y:Qr},{x:ns,y:Ts}]of yn){const ls=pr.createElement("rect"),eo=(ns-fn)/Sr,Qs=(Zn-Qr)/wr,Js=(Xr-ns)/Sr,fo=(Qr-Ts)/wr;ls.setAttribute("x",eo),ls.setAttribute("y",Qs),ls.setAttribute("width",Js),ls.setAttribute("height",fo),Pr.append(ls),lr==null||lr.push(`<rect vector-effect="non-scaling-stroke" x="${eo}" y="${Qs}" width="${Js}" height="${fo}"/>`)}Ft(this,Xt)&&(lr.push("</g></svg>')"),rr.backgroundImage=lr.join("")),this.container.append(Zr),this.container.style.clipPath=`url(#${Br})`}_createPopup(){const{container:yn,data:fn}=this;yn.setAttribute("aria-haspopup","dialog");const Pn=new Tt({data:{color:fn.color,titleObj:fn.titleObj,modificationDate:fn.modificationDate,contentsObj:fn.contentsObj,richText:fn.richText,parentRect:fn.rect,borderStyle:0,id:`popup_${fn.id}`,rotation:fn.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Pn.render())}render(){(0,lt.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(yn,fn=null){const Pn=[];if(this._fieldObjects){const Hn=this._fieldObjects[yn];if(Hn)for(const{page:Zn,id:rr,exportValues:lr}of Hn){if(Zn===-1||rr===fn)continue;const Sr=typeof lr=="string"?lr:null,wr=document.querySelector(`[data-element-id="${rr}"]`);if(wr&&!gt.has(wr)){(0,lt.warn)(`_getElementsByName - element not allowed: ${rr}`);continue}Pn.push({id:rr,exportValue:Sr,domElement:wr})}return Pn}for(const Hn of document.getElementsByName(yn)){const{exportValue:Zn}=Hn,rr=Hn.getAttribute("data-element-id");rr!==fn&&gt.has(Hn)&&Pn.push({id:rr,exportValue:Zn,domElement:Hn})}return Pn}show(){var yn;this.container&&(this.container.hidden=!1),(yn=this.popup)==null||yn.maybeShow()}hide(){var yn;this.container&&(this.container.hidden=!0),(yn=this.popup)==null||yn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const yn=this.getElementsToTriggerPopup();if(Array.isArray(yn))for(const fn of yn)fn.classList.add("highlightArea");else yn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:yn,data:{id:fn}}=this;this.container.addEventListener("dblclick",()=>{var Pn;(Pn=this.linkService.eventBus)==null||Pn.dispatch("switchannotationeditormode",{source:this,mode:yn,editId:fn})})}};Xt=new WeakMap;let bt=Zt;class Et extends bt{constructor(fn,Pn=null){super(fn,{isRenderable:!0,ignoreBorder:!!(Pn!=null&&Pn.ignoreBorder),createQuadrilaterals:!0});Wn(this,Jt);this.isTooltipOnly=fn.data.isTooltipOnly}render(){const{data:fn,linkService:Pn}=this,Hn=document.createElement("a");Hn.setAttribute("data-element-id",fn.id);let Zn=!1;return fn.url?(Pn.addLinkAttributes(Hn,fn.url,fn.newWindow),Zn=!0):fn.action?(this._bindNamedAction(Hn,fn.action),Zn=!0):fn.attachment?(this._bindAttachment(Hn,fn.attachment),Zn=!0):fn.setOCGState?(On(this,Jt,Om).call(this,Hn,fn.setOCGState),Zn=!0):fn.dest?(this._bindLink(Hn,fn.dest),Zn=!0):(fn.actions&&(fn.actions.Action||fn.actions["Mouse Up"]||fn.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Hn,fn),Zn=!0),fn.resetForm?(this._bindResetFormAction(Hn,fn.resetForm),Zn=!0):this.isTooltipOnly&&!Zn&&(this._bindLink(Hn,""),Zn=!0)),this.container.classList.add("linkAnnotation"),Zn&&this.container.append(Hn),this.container}_bindLink(fn,Pn){fn.href=this.linkService.getDestinationHash(Pn),fn.onclick=()=>(Pn&&this.linkService.goToDestination(Pn),!1),(Pn||Pn==="")&&On(this,Jt,Ul).call(this)}_bindNamedAction(fn,Pn){fn.href=this.linkService.getAnchorUrl(""),fn.onclick=()=>(this.linkService.executeNamedAction(Pn),!1),On(this,Jt,Ul).call(this)}_bindAttachment(fn,Pn){fn.href=this.linkService.getAnchorUrl(""),fn.onclick=()=>{var Hn;return(Hn=this.downloadManager)==null||Hn.openOrDownloadData(this.container,Pn.content,Pn.filename),!1},On(this,Jt,Ul).call(this)}_bindJSAction(fn,Pn){fn.href=this.linkService.getAnchorUrl("");const Hn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Zn of Object.keys(Pn.actions)){const rr=Hn.get(Zn);rr&&(fn[rr]=()=>{var lr;return(lr=this.linkService.eventBus)==null||lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Pn.id,name:Zn}}),!1})}fn.onclick||(fn.onclick=()=>!1),On(this,Jt,Ul).call(this)}_bindResetFormAction(fn,Pn){const Hn=fn.onclick;if(Hn||(fn.href=this.linkService.getAnchorUrl("")),On(this,Jt,Ul).call(this),!this._fieldObjects){(0,lt.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Hn||(fn.onclick=()=>!1);return}fn.onclick=()=>{var Zr;Hn==null||Hn();const{fields:Zn,refs:rr,include:lr}=Pn,Sr=[];if(Zn.length!==0||rr.length!==0){const Ar=new Set(rr);for(const Pr of Zn){const Br=this._fieldObjects[Pr]||[];for(const{id:Xr}of Br)Ar.add(Xr)}for(const Pr of Object.values(this._fieldObjects))for(const Br of Pr)Ar.has(Br.id)===lr&&Sr.push(Br)}else for(const Ar of Object.values(this._fieldObjects))Sr.push(...Ar);const wr=this.annotationStorage,pr=[];for(const Ar of Sr){const{id:Pr}=Ar;switch(pr.push(Pr),Ar.type){case"text":{const Xr=Ar.defaultValue||"";wr.setValue(Pr,{value:Xr});break}case"checkbox":case"radiobutton":{const Xr=Ar.defaultValue===Ar.exportValues;wr.setValue(Pr,{value:Xr});break}case"combobox":case"listbox":{const Xr=Ar.defaultValue||"";wr.setValue(Pr,{value:Xr});break}default:continue}const Br=document.querySelector(`[data-element-id="${Pr}"]`);if(Br){if(!gt.has(Br)){(0,lt.warn)(`_bindResetFormAction - element not allowed: ${Pr}`);continue}}else continue;Br.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Zr=this.linkService.eventBus)==null||Zr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:pr,name:"ResetForm"}})),!1}}}Jt=new WeakSet,Ul=function(){this.container.setAttribute("data-internal-link","")},Om=function(fn,Pn){fn.href=this.linkService.getAnchorUrl(""),fn.onclick=()=>(this.linkService.executeSetOCGState(Pn),!1),On(this,Jt,Ul).call(this)};class Rt extends bt{constructor(yn){super(yn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const yn=document.createElement("img");return yn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",yn.alt="[{{type}} Annotation]",yn.dataset.l10nId="text_annotation_type",yn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(yn),this.container}}class wt extends bt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(yn){var fn;this.data.hasOwnCanvas&&(((fn=yn.previousSibling)==null?void 0:fn.nodeName)==="CANVAS"&&(yn.previousSibling.hidden=!0),yn.hidden=!1)}_getKeyModifier(yn){const{isWin:fn,isMac:Pn}=lt.FeatureTest.platform;return fn&&yn.ctrlKey||Pn&&yn.metaKey}_setEventListener(yn,fn,Pn,Hn,Zn){Pn.includes("mouse")?yn.addEventListener(Pn,rr=>{var lr;(lr=this.linkService.eventBus)==null||lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:Zn(rr),shift:rr.shiftKey,modifier:this._getKeyModifier(rr)}})}):yn.addEventListener(Pn,rr=>{var lr;if(Pn==="blur"){if(!fn.focused||!rr.relatedTarget)return;fn.focused=!1}else if(Pn==="focus"){if(fn.focused)return;fn.focused=!0}Zn&&((lr=this.linkService.eventBus)==null||lr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Hn,value:Zn(rr)}}))})}_setEventListeners(yn,fn,Pn,Hn){var Zn,rr,lr;for(const[Sr,wr]of Pn)(wr==="Action"||(Zn=this.data.actions)!=null&&Zn[wr])&&((wr==="Focus"||wr==="Blur")&&(fn||(fn={focused:!1})),this._setEventListener(yn,fn,Sr,wr,Hn),wr==="Focus"&&!((rr=this.data.actions)!=null&&rr.Blur)?this._setEventListener(yn,fn,"blur","Blur",null):wr==="Blur"&&!((lr=this.data.actions)!=null&&lr.Focus)&&this._setEventListener(yn,fn,"focus","Focus",null))}_setBackgroundColor(yn){const fn=this.data.backgroundColor||null;yn.style.backgroundColor=fn===null?"transparent":lt.Util.makeHexColor(fn[0],fn[1],fn[2])}_setTextStyle(yn){const fn=["left","center","right"],{fontColor:Pn}=this.data.defaultAppearanceData,Hn=this.data.defaultAppearanceData.fontSize||mt,Zn=yn.style;let rr;const lr=2,Sr=wr=>Math.round(10*wr)/10;if(this.data.multiLine){const wr=Math.abs(this.data.rect[3]-this.data.rect[1]-lr),pr=Math.round(wr/(lt.LINE_FACTOR*Hn))||1,Zr=wr/pr;rr=Math.min(Hn,Sr(Zr/lt.LINE_FACTOR))}else{const wr=Math.abs(this.data.rect[3]-this.data.rect[1]-lr);rr=Math.min(Hn,Sr(wr/lt.LINE_FACTOR))}Zn.fontSize=`calc(${rr}px * var(--scale-factor))`,Zn.color=lt.Util.makeHexColor(Pn[0],Pn[1],Pn[2]),this.data.textAlignment!==null&&(Zn.textAlign=fn[this.data.textAlignment])}_setRequired(yn,fn){fn?yn.setAttribute("required",!0):yn.removeAttribute("required"),yn.setAttribute("aria-required",fn)}}class _t extends wt{constructor(yn){const fn=yn.renderForms||!yn.data.hasAppearance&&!!yn.data.fieldValue;super(yn,{isRenderable:fn})}setPropertyOnSiblings(yn,fn,Pn,Hn){const Zn=this.annotationStorage;for(const rr of this._getElementsByName(yn.name,yn.id))rr.domElement&&(rr.domElement[fn]=Pn),Zn.setValue(rr.id,{[Hn]:Pn})}render(){var Hn,Zn;const yn=this.annotationStorage,fn=this.data.id;this.container.classList.add("textWidgetAnnotation");let Pn=null;if(this.renderForms){const rr=yn.getValue(fn,{value:this.data.fieldValue});let lr=rr.value||"";const Sr=yn.getValue(fn,{charLimit:this.data.maxLen}).charLimit;Sr&&lr.length>Sr&&(lr=lr.slice(0,Sr));let wr=rr.formattedValue||((Hn=this.data.textContent)==null?void 0:Hn.join(`
`))||null;wr&&this.data.comb&&(wr=wr.replaceAll(/\s+/g,""));const pr={userValue:lr,formattedValue:wr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Pn=document.createElement("textarea"),Pn.textContent=wr??lr,this.data.doNotScroll&&(Pn.style.overflowY="hidden")):(Pn=document.createElement("input"),Pn.type="text",Pn.setAttribute("value",wr??lr),this.data.doNotScroll&&(Pn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Pn.hidden=!0),gt.add(Pn),Pn.setAttribute("data-element-id",fn),Pn.disabled=this.data.readOnly,Pn.name=this.data.fieldName,Pn.tabIndex=pt,this._setRequired(Pn,this.data.required),Sr&&(Pn.maxLength=Sr),Pn.addEventListener("input",Ar=>{yn.setValue(fn,{value:Ar.target.value}),this.setPropertyOnSiblings(Pn,"value",Ar.target.value,"value"),pr.formattedValue=null}),Pn.addEventListener("resetform",Ar=>{const Pr=this.data.defaultFieldValue??"";Pn.value=pr.userValue=Pr,pr.formattedValue=null});let Zr=Ar=>{const{formattedValue:Pr}=pr;Pr!=null&&(Ar.target.value=Pr),Ar.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Pn.addEventListener("focus",Pr=>{if(pr.focused)return;const{target:Br}=Pr;pr.userValue&&(Br.value=pr.userValue),pr.lastCommittedValue=Br.value,pr.commitKey=1,pr.focused=!0}),Pn.addEventListener("updatefromsandbox",Pr=>{this.showElementAndHideCanvas(Pr.target);const Br={value(Xr){pr.userValue=Xr.detail.value??"",yn.setValue(fn,{value:pr.userValue.toString()}),Xr.target.value=pr.userValue},formattedValue(Xr){const{formattedValue:Qr}=Xr.detail;pr.formattedValue=Qr,Qr!=null&&Xr.target!==document.activeElement&&(Xr.target.value=Qr),yn.setValue(fn,{formattedValue:Qr})},selRange(Xr){Xr.target.setSelectionRange(...Xr.detail.selRange)},charLimit:Xr=>{var ls;const{charLimit:Qr}=Xr.detail,{target:ns}=Xr;if(Qr===0){ns.removeAttribute("maxLength");return}ns.setAttribute("maxLength",Qr);let Ts=pr.userValue;!Ts||Ts.length<=Qr||(Ts=Ts.slice(0,Qr),ns.value=pr.userValue=Ts,yn.setValue(fn,{value:Ts}),(ls=this.linkService.eventBus)==null||ls.dispatch("dispatcheventinsandbox",{source:this,detail:{id:fn,name:"Keystroke",value:Ts,willCommit:!0,commitKey:1,selStart:ns.selectionStart,selEnd:ns.selectionEnd}}))}};this._dispatchEventFromSandbox(Br,Pr)}),Pn.addEventListener("keydown",Pr=>{var Qr;pr.commitKey=1;let Br=-1;if(Pr.key==="Escape"?Br=0:Pr.key==="Enter"&&!this.data.multiLine?Br=2:Pr.key==="Tab"&&(pr.commitKey=3),Br===-1)return;const{value:Xr}=Pr.target;pr.lastCommittedValue!==Xr&&(pr.lastCommittedValue=Xr,pr.userValue=Xr,(Qr=this.linkService.eventBus)==null||Qr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:fn,name:"Keystroke",value:Xr,willCommit:!0,commitKey:Br,selStart:Pr.target.selectionStart,selEnd:Pr.target.selectionEnd}}))});const Ar=Zr;Zr=null,Pn.addEventListener("blur",Pr=>{var Xr;if(!pr.focused||!Pr.relatedTarget)return;pr.focused=!1;const{value:Br}=Pr.target;pr.userValue=Br,pr.lastCommittedValue!==Br&&((Xr=this.linkService.eventBus)==null||Xr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:fn,name:"Keystroke",value:Br,willCommit:!0,commitKey:pr.commitKey,selStart:Pr.target.selectionStart,selEnd:Pr.target.selectionEnd}})),Ar(Pr)}),(Zn=this.data.actions)!=null&&Zn.Keystroke&&Pn.addEventListener("beforeinput",Pr=>{var Qs;pr.lastCommittedValue=null;const{data:Br,target:Xr}=Pr,{value:Qr,selectionStart:ns,selectionEnd:Ts}=Xr;let ls=ns,eo=Ts;switch(Pr.inputType){case"deleteWordBackward":{const Js=Qr.substring(0,ns).match(/\w*[^\w]*$/);Js&&(ls-=Js[0].length);break}case"deleteWordForward":{const Js=Qr.substring(ns).match(/^[^\w]*\w*/);Js&&(eo+=Js[0].length);break}case"deleteContentBackward":ns===Ts&&(ls-=1);break;case"deleteContentForward":ns===Ts&&(eo+=1);break}Pr.preventDefault(),(Qs=this.linkService.eventBus)==null||Qs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:fn,name:"Keystroke",value:Qr,change:Br||"",willCommit:!1,selStart:ls,selEnd:eo}})}),this._setEventListeners(Pn,pr,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pr=>Pr.target.value)}if(Zr&&Pn.addEventListener("blur",Zr),this.data.comb){const Pr=(this.data.rect[2]-this.data.rect[0])/Sr;Pn.classList.add("comb"),Pn.style.letterSpacing=`calc(${Pr}px * var(--scale-factor) - 1ch)`}}else Pn=document.createElement("div"),Pn.textContent=this.data.fieldValue,Pn.style.verticalAlign="middle",Pn.style.display="table-cell";return this._setTextStyle(Pn),this._setBackgroundColor(Pn),this._setDefaultPropertiesFromJS(Pn),this.container.append(Pn),this.container}}class At extends wt{constructor(yn){super(yn,{isRenderable:!!yn.data.hasOwnCanvas})}}class kt extends wt{constructor(yn){super(yn,{isRenderable:yn.renderForms})}render(){const yn=this.annotationStorage,fn=this.data,Pn=fn.id;let Hn=yn.getValue(Pn,{value:fn.exportValue===fn.fieldValue}).value;typeof Hn=="string"&&(Hn=Hn!=="Off",yn.setValue(Pn,{value:Hn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const Zn=document.createElement("input");return gt.add(Zn),Zn.setAttribute("data-element-id",Pn),Zn.disabled=fn.readOnly,this._setRequired(Zn,this.data.required),Zn.type="checkbox",Zn.name=fn.fieldName,Hn&&Zn.setAttribute("checked",!0),Zn.setAttribute("exportValue",fn.exportValue),Zn.tabIndex=pt,Zn.addEventListener("change",rr=>{const{name:lr,checked:Sr}=rr.target;for(const wr of this._getElementsByName(lr,Pn)){const pr=Sr&&wr.exportValue===fn.exportValue;wr.domElement&&(wr.domElement.checked=pr),yn.setValue(wr.id,{value:pr})}yn.setValue(Pn,{value:Sr})}),Zn.addEventListener("resetform",rr=>{const lr=fn.defaultFieldValue||"Off";rr.target.checked=lr===fn.exportValue}),this.enableScripting&&this.hasJSActions&&(Zn.addEventListener("updatefromsandbox",rr=>{const lr={value(Sr){Sr.target.checked=Sr.detail.value!=="Off",yn.setValue(Pn,{value:Sr.target.checked})}};this._dispatchEventFromSandbox(lr,rr)}),this._setEventListeners(Zn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],rr=>rr.target.checked)),this._setBackgroundColor(Zn),this._setDefaultPropertiesFromJS(Zn),this.container.append(Zn),this.container}}class It extends wt{constructor(yn){super(yn,{isRenderable:yn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const yn=this.annotationStorage,fn=this.data,Pn=fn.id;let Hn=yn.getValue(Pn,{value:fn.fieldValue===fn.buttonValue}).value;typeof Hn=="string"&&(Hn=Hn!==fn.buttonValue,yn.setValue(Pn,{value:Hn}));const Zn=document.createElement("input");if(gt.add(Zn),Zn.setAttribute("data-element-id",Pn),Zn.disabled=fn.readOnly,this._setRequired(Zn,this.data.required),Zn.type="radio",Zn.name=fn.fieldName,Hn&&Zn.setAttribute("checked",!0),Zn.tabIndex=pt,Zn.addEventListener("change",rr=>{const{name:lr,checked:Sr}=rr.target;for(const wr of this._getElementsByName(lr,Pn))yn.setValue(wr.id,{value:!1});yn.setValue(Pn,{value:Sr})}),Zn.addEventListener("resetform",rr=>{const lr=fn.defaultFieldValue;rr.target.checked=lr!=null&&lr===fn.buttonValue}),this.enableScripting&&this.hasJSActions){const rr=fn.buttonValue;Zn.addEventListener("updatefromsandbox",lr=>{const Sr={value:wr=>{const pr=rr===wr.detail.value;for(const Zr of this._getElementsByName(wr.target.name)){const Ar=pr&&Zr.id===Pn;Zr.domElement&&(Zr.domElement.checked=Ar),yn.setValue(Zr.id,{value:Ar})}}};this._dispatchEventFromSandbox(Sr,lr)}),this._setEventListeners(Zn,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],lr=>lr.target.checked)}return this._setBackgroundColor(Zn),this._setDefaultPropertiesFromJS(Zn),this.container.append(Zn),this.container}}class Nt extends Et{constructor(yn){super(yn,{ignoreBorder:yn.data.hasAppearance})}render(){const yn=super.render();yn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(yn.title=this.data.alternativeText);const fn=yn.lastChild;return this.enableScripting&&this.hasJSActions&&fn&&(this._setDefaultPropertiesFromJS(fn),fn.addEventListener("updatefromsandbox",Pn=>{this._dispatchEventFromSandbox({},Pn)})),yn}}class Pt extends wt{constructor(yn){super(yn,{isRenderable:yn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const yn=this.annotationStorage,fn=this.data.id,Pn=yn.getValue(fn,{value:this.data.fieldValue}),Hn=document.createElement("select");gt.add(Hn),Hn.setAttribute("data-element-id",fn),Hn.disabled=this.data.readOnly,this._setRequired(Hn,this.data.required),Hn.name=this.data.fieldName,Hn.tabIndex=pt;let Zn=this.data.combo&&this.data.options.length>0;this.data.combo||(Hn.size=this.data.options.length,this.data.multiSelect&&(Hn.multiple=!0)),Hn.addEventListener("resetform",pr=>{const Zr=this.data.defaultFieldValue;for(const Ar of Hn.options)Ar.selected=Ar.value===Zr});for(const pr of this.data.options){const Zr=document.createElement("option");Zr.textContent=pr.displayValue,Zr.value=pr.exportValue,Pn.value.includes(pr.exportValue)&&(Zr.setAttribute("selected",!0),Zn=!1),Hn.append(Zr)}let rr=null;if(Zn){const pr=document.createElement("option");pr.value=" ",pr.setAttribute("hidden",!0),pr.setAttribute("selected",!0),Hn.prepend(pr),rr=()=>{pr.remove(),Hn.removeEventListener("input",rr),rr=null},Hn.addEventListener("input",rr)}const lr=pr=>{const Zr=pr?"value":"textContent",{options:Ar,multiple:Pr}=Hn;return Pr?Array.prototype.filter.call(Ar,Br=>Br.selected).map(Br=>Br[Zr]):Ar.selectedIndex===-1?null:Ar[Ar.selectedIndex][Zr]};let Sr=lr(!1);const wr=pr=>{const Zr=pr.target.options;return Array.prototype.map.call(Zr,Ar=>({displayValue:Ar.textContent,exportValue:Ar.value}))};return this.enableScripting&&this.hasJSActions?(Hn.addEventListener("updatefromsandbox",pr=>{const Zr={value(Ar){rr==null||rr();const Pr=Ar.detail.value,Br=new Set(Array.isArray(Pr)?Pr:[Pr]);for(const Xr of Hn.options)Xr.selected=Br.has(Xr.value);yn.setValue(fn,{value:lr(!0)}),Sr=lr(!1)},multipleSelection(Ar){Hn.multiple=!0},remove(Ar){const Pr=Hn.options,Br=Ar.detail.remove;Pr[Br].selected=!1,Hn.remove(Br),Pr.length>0&&Array.prototype.findIndex.call(Pr,Qr=>Qr.selected)===-1&&(Pr[0].selected=!0),yn.setValue(fn,{value:lr(!0),items:wr(Ar)}),Sr=lr(!1)},clear(Ar){for(;Hn.length!==0;)Hn.remove(0);yn.setValue(fn,{value:null,items:[]}),Sr=lr(!1)},insert(Ar){const{index:Pr,displayValue:Br,exportValue:Xr}=Ar.detail.insert,Qr=Hn.children[Pr],ns=document.createElement("option");ns.textContent=Br,ns.value=Xr,Qr?Qr.before(ns):Hn.append(ns),yn.setValue(fn,{value:lr(!0),items:wr(Ar)}),Sr=lr(!1)},items(Ar){const{items:Pr}=Ar.detail;for(;Hn.length!==0;)Hn.remove(0);for(const Br of Pr){const{displayValue:Xr,exportValue:Qr}=Br,ns=document.createElement("option");ns.textContent=Xr,ns.value=Qr,Hn.append(ns)}Hn.options.length>0&&(Hn.options[0].selected=!0),yn.setValue(fn,{value:lr(!0),items:wr(Ar)}),Sr=lr(!1)},indices(Ar){const Pr=new Set(Ar.detail.indices);for(const Br of Ar.target.options)Br.selected=Pr.has(Br.index);yn.setValue(fn,{value:lr(!0)}),Sr=lr(!1)},editable(Ar){Ar.target.disabled=!Ar.detail.editable}};this._dispatchEventFromSandbox(Zr,pr)}),Hn.addEventListener("input",pr=>{var Ar;const Zr=lr(!0);yn.setValue(fn,{value:Zr}),pr.preventDefault(),(Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:fn,name:"Keystroke",value:Sr,changeEx:Zr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Hn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],pr=>pr.target.value)):Hn.addEventListener("input",function(pr){yn.setValue(fn,{value:lr(!0)})}),this.data.combo&&this._setTextStyle(Hn),this._setBackgroundColor(Hn),this._setDefaultPropertiesFromJS(Hn),this.container.append(Hn),this.container}}class Tt extends bt{constructor(yn){const{data:fn,elements:Pn}=yn;super(yn,{isRenderable:bt._hasPopupData(fn)}),this.elements=Pn}render(){this.container.classList.add("popupAnnotation");const yn=new Ct({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),fn=[];for(const Pn of this.elements)Pn.popup=yn,fn.push(Pn.data.id),Pn.addHighlightArea();return this.container.setAttribute("aria-controls",fn.map(Pn=>`${lt.AnnotationPrefix}${Pn}`).join(",")),this.container}}class Ct{constructor({container:yn,color:fn,elements:Pn,titleObj:Hn,modificationDate:Zn,contentsObj:rr,richText:lr,parent:Sr,rect:wr,parentRect:pr,open:Zr}){Wn(this,Qn);Wn(this,_n,null);Wn(this,Sn,On(this,Qn,Lm).bind(this));Wn(this,jn,On(this,Qn,$p).bind(this));Wn(this,Dn,On(this,Qn,Vp).bind(this));Wn(this,Gn,On(this,Qn,Ku).bind(this));Wn(this,Kn,null);Wn(this,hn,null);Wn(this,En,null);Wn(this,cn,null);Wn(this,dn,null);Wn(this,wn,null);Wn(this,kn,!1);Wn(this,Un,null);Wn(this,Jn,null);Wn(this,An,null);Wn(this,xn,null);Wn(this,er,!1);var Pr;qn(this,hn,yn),qn(this,xn,Hn),qn(this,En,rr),qn(this,An,lr),qn(this,dn,Sr),qn(this,Kn,fn),qn(this,Jn,wr),qn(this,wn,pr),qn(this,cn,Pn);const Ar=ct.PDFDateString.toDateObject(Zn);Ar&&qn(this,_n,Sr.l10n.get("annotation_date_string",{date:Ar.toLocaleDateString(),time:Ar.toLocaleTimeString()})),this.trigger=Pn.flatMap(Br=>Br.getElementsToTriggerPopup());for(const Br of this.trigger)Br.addEventListener("click",Ft(this,Gn)),Br.addEventListener("mouseenter",Ft(this,Dn)),Br.addEventListener("mouseleave",Ft(this,jn)),Br.classList.add("popupTriggerArea");for(const Br of Pn)(Pr=Br.container)==null||Pr.addEventListener("keydown",Ft(this,Sn));Ft(this,hn).hidden=!0,Zr&&On(this,Qn,Ku).call(this)}render(){if(Ft(this,Un))return;const{page:{view:yn},viewport:{rawDims:{pageWidth:fn,pageHeight:Pn,pageX:Hn,pageY:Zn}}}=Ft(this,dn),rr=qn(this,Un,document.createElement("div"));if(rr.className="popup",Ft(this,Kn)){const ls=rr.style.outlineColor=lt.Util.makeHexColor(...Ft(this,Kn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?rr.style.backgroundColor=`color-mix(in srgb, ${ls} 30%, white)`:rr.style.backgroundColor=lt.Util.makeHexColor(...Ft(this,Kn).map(Qs=>Math.floor(.7*(255-Qs)+Qs)))}const lr=document.createElement("span");lr.className="header";const Sr=document.createElement("h1");if(lr.append(Sr),{dir:Sr.dir,str:Sr.textContent}=Ft(this,xn),rr.append(lr),Ft(this,_n)){const ls=document.createElement("span");ls.classList.add("popupDate"),Ft(this,_n).then(eo=>{ls.textContent=eo}),lr.append(ls)}const wr=Ft(this,En),pr=Ft(this,An);if(pr!=null&&pr.str&&(!(wr!=null&&wr.str)||wr.str===pr.str))ft.XfaLayer.render({xfaHtml:pr.html,intent:"richText",div:rr}),rr.lastChild.classList.add("richText","popupContent");else{const ls=this._formatContents(wr);rr.append(ls)}let Zr=!!Ft(this,wn),Ar=Zr?Ft(this,wn):Ft(this,Jn);for(const ls of Ft(this,cn))if(!Ar||lt.Util.intersect(ls.data.rect,Ar)!==null){Ar=ls.data.rect,Zr=!0;break}const Pr=lt.Util.normalizeRect([Ar[0],yn[3]-Ar[1]+yn[1],Ar[2],yn[3]-Ar[3]+yn[1]]),Xr=Zr?Ar[2]-Ar[0]+5:0,Qr=Pr[0]+Xr,ns=Pr[1],{style:Ts}=Ft(this,hn);Ts.left=`${100*(Qr-Hn)/fn}%`,Ts.top=`${100*(ns-Zn)/Pn}%`,Ft(this,hn).append(rr)}_formatContents({str:yn,dir:fn}){const Pn=document.createElement("p");Pn.classList.add("popupContent"),Pn.dir=fn;const Hn=yn.split(/(?:\r\n?|\n)/);for(let Zn=0,rr=Hn.length;Zn<rr;++Zn){const lr=Hn[Zn];Pn.append(document.createTextNode(lr)),Zn<rr-1&&Pn.append(document.createElement("br"))}return Pn}forceHide(){qn(this,er,this.isVisible),Ft(this,er)&&(Ft(this,hn).hidden=!0)}maybeShow(){Ft(this,er)&&(qn(this,er,!1),Ft(this,hn).hidden=!1)}get isVisible(){return Ft(this,hn).hidden===!1}}_n=new WeakMap,Sn=new WeakMap,jn=new WeakMap,Dn=new WeakMap,Gn=new WeakMap,Kn=new WeakMap,hn=new WeakMap,En=new WeakMap,cn=new WeakMap,dn=new WeakMap,wn=new WeakMap,kn=new WeakMap,Un=new WeakMap,Jn=new WeakMap,An=new WeakMap,xn=new WeakMap,er=new WeakMap,Qn=new WeakSet,Lm=function(yn){yn.altKey||yn.shiftKey||yn.ctrlKey||yn.metaKey||(yn.key==="Enter"||yn.key==="Escape"&&Ft(this,kn))&&On(this,Qn,Ku).call(this)},Ku=function(){qn(this,kn,!Ft(this,kn)),Ft(this,kn)?(On(this,Qn,Vp).call(this),Ft(this,hn).addEventListener("click",Ft(this,Gn)),Ft(this,hn).addEventListener("keydown",Ft(this,Sn))):(On(this,Qn,$p).call(this),Ft(this,hn).removeEventListener("click",Ft(this,Gn)),Ft(this,hn).removeEventListener("keydown",Ft(this,Sn)))},Vp=function(){Ft(this,Un)||this.render(),this.isVisible?Ft(this,kn)&&Ft(this,hn).classList.add("focused"):(Ft(this,hn).hidden=!1,Ft(this,hn).style.zIndex=parseInt(Ft(this,hn).style.zIndex)+1e3)},$p=function(){Ft(this,hn).classList.remove("focused"),!(Ft(this,kn)||!this.isVisible)&&(Ft(this,hn).hidden=!0,Ft(this,hn).style.zIndex=parseInt(Ft(this,hn).style.zIndex)-1e3)};class Ot extends bt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=yn.data.textContent,this.textPosition=yn.data.textPosition,this.annotationEditorType=lt.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const yn=document.createElement("div");yn.classList.add("annotationTextContent"),yn.setAttribute("role","comment");for(const fn of this.textContent){const Pn=document.createElement("span");Pn.textContent=fn,yn.append(Pn)}this.container.append(yn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}rt.FreeTextAnnotationElement=Ot;class Dt extends bt{constructor(fn){super(fn,{isRenderable:!0,ignoreBorder:!0});Wn(this,Er,null)}render(){this.container.classList.add("lineAnnotation");const fn=this.data,{width:Pn,height:Hn}=yt(fn.rect),Zn=this.svgFactory.create(Pn,Hn,!0),rr=qn(this,Er,this.svgFactory.createElement("svg:line"));return rr.setAttribute("x1",fn.rect[2]-fn.lineCoordinates[0]),rr.setAttribute("y1",fn.rect[3]-fn.lineCoordinates[1]),rr.setAttribute("x2",fn.rect[2]-fn.lineCoordinates[2]),rr.setAttribute("y2",fn.rect[3]-fn.lineCoordinates[3]),rr.setAttribute("stroke-width",fn.borderStyle.width||1),rr.setAttribute("stroke","transparent"),rr.setAttribute("fill","transparent"),Zn.append(rr),this.container.append(Zn),!fn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,Er)}addHighlightArea(){this.container.classList.add("highlightArea")}}Er=new WeakMap;class jt extends bt{constructor(fn){super(fn,{isRenderable:!0,ignoreBorder:!0});Wn(this,Yr,null)}render(){this.container.classList.add("squareAnnotation");const fn=this.data,{width:Pn,height:Hn}=yt(fn.rect),Zn=this.svgFactory.create(Pn,Hn,!0),rr=fn.borderStyle.width,lr=qn(this,Yr,this.svgFactory.createElement("svg:rect"));return lr.setAttribute("x",rr/2),lr.setAttribute("y",rr/2),lr.setAttribute("width",Pn-rr),lr.setAttribute("height",Hn-rr),lr.setAttribute("stroke-width",rr||1),lr.setAttribute("stroke","transparent"),lr.setAttribute("fill","transparent"),Zn.append(lr),this.container.append(Zn),!fn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,Yr)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yr=new WeakMap;class Mt extends bt{constructor(fn){super(fn,{isRenderable:!0,ignoreBorder:!0});Wn(this,ss,null)}render(){this.container.classList.add("circleAnnotation");const fn=this.data,{width:Pn,height:Hn}=yt(fn.rect),Zn=this.svgFactory.create(Pn,Hn,!0),rr=fn.borderStyle.width,lr=qn(this,ss,this.svgFactory.createElement("svg:ellipse"));return lr.setAttribute("cx",Pn/2),lr.setAttribute("cy",Hn/2),lr.setAttribute("rx",Pn/2-rr/2),lr.setAttribute("ry",Hn/2-rr/2),lr.setAttribute("stroke-width",rr||1),lr.setAttribute("stroke","transparent"),lr.setAttribute("fill","transparent"),Zn.append(lr),this.container.append(Zn),!fn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,ss)}addHighlightArea(){this.container.classList.add("highlightArea")}}ss=new WeakMap;class zt extends bt{constructor(fn){super(fn,{isRenderable:!0,ignoreBorder:!0});Wn(this,nr,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const fn=this.data,{width:Pn,height:Hn}=yt(fn.rect),Zn=this.svgFactory.create(Pn,Hn,!0);let rr=[];for(const Sr of fn.vertices){const wr=Sr.x-fn.rect[0],pr=fn.rect[3]-Sr.y;rr.push(wr+","+pr)}rr=rr.join(" ");const lr=qn(this,nr,this.svgFactory.createElement(this.svgElementName));return lr.setAttribute("points",rr),lr.setAttribute("stroke-width",fn.borderStyle.width||1),lr.setAttribute("stroke","transparent"),lr.setAttribute("fill","transparent"),Zn.append(lr),this.container.append(Zn),!fn.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ft(this,nr)}addHighlightArea(){this.container.classList.add("highlightArea")}}nr=new WeakMap;class Qt extends zt{constructor(yn){super(yn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qt extends bt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Kt extends bt{constructor(fn){super(fn,{isRenderable:!0,ignoreBorder:!0});Wn(this,Ln,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=lt.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const fn=this.data,{width:Pn,height:Hn}=yt(fn.rect),Zn=this.svgFactory.create(Pn,Hn,!0);for(const rr of fn.inkLists){let lr=[];for(const wr of rr){const pr=wr.x-fn.rect[0],Zr=fn.rect[3]-wr.y;lr.push(`${pr},${Zr}`)}lr=lr.join(" ");const Sr=this.svgFactory.createElement(this.svgElementName);Ft(this,Ln).push(Sr),Sr.setAttribute("points",lr),Sr.setAttribute("stroke-width",fn.borderStyle.width||1),Sr.setAttribute("stroke","transparent"),Sr.setAttribute("fill","transparent"),!fn.popupRef&&this.hasPopupData&&this._createPopup(),Zn.append(Sr)}return this.container.append(Zn),this.container}getElementsToTriggerPopup(){return Ft(this,Ln)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ln=new WeakMap,rt.InkAnnotationElement=Kt;class sn extends bt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Gt extends bt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Wt extends bt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class pn extends bt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rn extends bt{constructor(yn){super(yn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}rt.StampAnnotationElement=rn;class Vt extends bt{constructor(fn){var Zn;super(fn,{isRenderable:!0});Wn(this,vr);Wn(this,Vn,null);const{filename:Pn,content:Hn}=this.data.file;this.filename=(0,ct.getFilenameFromUrl)(Pn,!0),this.content=Hn,(Zn=this.linkService.eventBus)==null||Zn.dispatch("fileattachmentannotation",{source:this,filename:Pn,content:Hn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:fn,data:Pn}=this;let Hn;Pn.hasAppearance||Pn.fillAlpha===0?Hn=document.createElement("div"):(Hn=document.createElement("img"),Hn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Pn.name)?"paperclip":"pushpin"}.svg`,Pn.fillAlpha&&Pn.fillAlpha<1&&(Hn.style=`filter: opacity(${Math.round(Pn.fillAlpha*100)}%);`)),Hn.addEventListener("dblclick",On(this,vr,Bp).bind(this)),qn(this,Vn,Hn);const{isMac:Zn}=lt.FeatureTest.platform;return fn.addEventListener("keydown",rr=>{rr.key==="Enter"&&(Zn?rr.metaKey:rr.ctrlKey)&&On(this,vr,Bp).call(this)}),!Pn.popupRef&&this.hasPopupData?this._createPopup():Hn.classList.add("popupTriggerArea"),fn.append(Hn),fn}getElementsToTriggerPopup(){return Ft(this,Vn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vn=new WeakMap,vr=new WeakSet,Bp=function(){var fn;(fn=this.downloadManager)==null||fn.openOrDownloadData(this.container,this.content,this.filename)};class $t{constructor({div:yn,accessibilityManager:fn,annotationCanvasMap:Pn,l10n:Hn,page:Zn,viewport:rr}){Wn(this,dr);Wn(this,Or,null);Wn(this,vn,null);Wn(this,tr,new Map);this.div=yn,qn(this,Or,fn),qn(this,vn,Pn),this.l10n=Hn,this.page=Zn,this.viewport=rr,this.zIndex=0,this.l10n||(this.l10n=ht.NullL10n)}async render(yn){const{annotations:fn}=yn,Pn=this.div;(0,ct.setLayerDimensions)(Pn,this.viewport);const Hn=new Map,Zn={data:null,layer:Pn,linkService:yn.linkService,downloadManager:yn.downloadManager,imageResourcesPath:yn.imageResourcesPath||"",renderForms:yn.renderForms!==!1,svgFactory:new ct.DOMSVGFactory,annotationStorage:yn.annotationStorage||new ut.AnnotationStorage,enableScripting:yn.enableScripting===!0,hasJSActions:yn.hasJSActions,fieldObjects:yn.fieldObjects,parent:this,elements:null};for(const rr of fn){if(rr.noHTML)continue;const lr=rr.annotationType===lt.AnnotationType.POPUP;if(lr){const pr=Hn.get(rr.id);if(!pr)continue;Zn.elements=pr}else{const{width:pr,height:Zr}=yt(rr.rect);if(pr<=0||Zr<=0)continue}Zn.data=rr;const Sr=xt.create(Zn);if(!Sr.isRenderable)continue;if(!lr&&rr.popupRef){const pr=Hn.get(rr.popupRef);pr?pr.push(Sr):Hn.set(rr.popupRef,[Sr])}Sr.annotationEditorType>0&&Ft(this,tr).set(Sr.data.id,Sr);const wr=Sr.render();rr.hidden&&(wr.style.visibility="hidden"),On(this,dr,Fm).call(this,wr,rr.id)}On(this,dr,Up).call(this),await this.l10n.translate(Pn)}update({viewport:yn}){const fn=this.div;this.viewport=yn,(0,ct.setLayerDimensions)(fn,{rotation:yn.rotation}),On(this,dr,Up).call(this),fn.hidden=!1}getEditableAnnotations(){return Array.from(Ft(this,tr).values())}getEditableAnnotation(yn){return Ft(this,tr).get(yn)}}Or=new WeakMap,vn=new WeakMap,tr=new WeakMap,dr=new WeakSet,Fm=function(yn,fn){var Hn;const Pn=yn.firstChild||yn;Pn.id=`${lt.AnnotationPrefix}${fn}`,this.div.append(yn),(Hn=Ft(this,Or))==null||Hn.moveElementInDOM(this.div,yn,Pn,!1)},Up=function(){if(!Ft(this,vn))return;const yn=this.div;for(const[fn,Pn]of Ft(this,vn)){const Hn=yn.querySelector(`[data-annotation-id="${fn}"]`);if(!Hn)continue;const{firstChild:Zn}=Hn;Zn?Zn.nodeName==="CANVAS"?Zn.replaceWith(Pn):Zn.before(Pn):Hn.append(Pn)}Ft(this,vn).clear()},rt.AnnotationLayer=$t},(ot,rt)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.ColorConverters=void 0;function at(ut){return Math.floor(Math.max(0,Math.min(1,ut))*255).toString(16).padStart(2,"0")}function lt(ut){return Math.max(0,Math.min(255,255*ut))}class ct{static CMYK_G([dt,ht,ft,pt]){return["G",1-Math.min(1,.3*dt+.59*ft+.11*ht+pt)]}static G_CMYK([dt]){return["CMYK",0,0,0,1-dt]}static G_RGB([dt]){return["RGB",dt,dt,dt]}static G_rgb([dt]){return dt=lt(dt),[dt,dt,dt]}static G_HTML([dt]){const ht=at(dt);return`#${ht}${ht}${ht}`}static RGB_G([dt,ht,ft]){return["G",.3*dt+.59*ht+.11*ft]}static RGB_rgb(dt){return dt.map(lt)}static RGB_HTML(dt){return`#${dt.map(at).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([dt,ht,ft,pt]){return["RGB",1-Math.min(1,dt+pt),1-Math.min(1,ft+pt),1-Math.min(1,ht+pt)]}static CMYK_rgb([dt,ht,ft,pt]){return[lt(1-Math.min(1,dt+pt)),lt(1-Math.min(1,ft+pt)),lt(1-Math.min(1,ht+pt))]}static CMYK_HTML(dt){const ht=this.CMYK_RGB(dt).slice(1);return this.RGB_HTML(ht)}static RGB_CMYK([dt,ht,ft]){const pt=1-dt,mt=1-ht,gt=1-ft,yt=Math.min(pt,mt,gt);return["CMYK",pt,mt,gt,yt]}}rt.ColorConverters=ct},(ot,rt)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.NullL10n=void 0,rt.getL10nFallback=lt;const at={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};at.print_progress_percent="{{progress}}%";function lt(dt,ht){switch(dt){case"find_match_count":dt=`find_match_count[${ht.total===1?"one":"other"}]`;break;case"find_match_count_limit":dt=`find_match_count_limit[${ht.limit===1?"one":"other"}]`;break}return at[dt]||""}function ct(dt,ht){return ht?dt.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(ft,pt)=>pt in ht?ht[pt]:"{{"+pt+"}}"):dt}const ut={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(dt,ht=null,ft=lt(dt,ht)){return ct(ft,ht)},async translate(dt){}};rt.NullL10n=ut},(ot,rt,at)=>{Object.defineProperty(rt,"__esModule",{value:!0}),rt.XfaLayer=void 0;var lt=at(25);class ct{static setupStorage(dt,ht,ft,pt,mt){const gt=pt.getValue(ht,{value:null});switch(ft.name){case"textarea":if(gt.value!==null&&(dt.textContent=gt.value),mt==="print")break;dt.addEventListener("input",yt=>{pt.setValue(ht,{value:yt.target.value})});break;case"input":if(ft.attributes.type==="radio"||ft.attributes.type==="checkbox"){if(gt.value===ft.attributes.xfaOn?dt.setAttribute("checked",!0):gt.value===ft.attributes.xfaOff&&dt.removeAttribute("checked"),mt==="print")break;dt.addEventListener("change",yt=>{pt.setValue(ht,{value:yt.target.checked?yt.target.getAttribute("xfaOn"):yt.target.getAttribute("xfaOff")})})}else{if(gt.value!==null&&dt.setAttribute("value",gt.value),mt==="print")break;dt.addEventListener("input",yt=>{pt.setValue(ht,{value:yt.target.value})})}break;case"select":if(gt.value!==null){dt.setAttribute("value",gt.value);for(const yt of ft.children)yt.attributes.value===gt.value?yt.attributes.selected=!0:yt.attributes.hasOwnProperty("selected")&&delete yt.attributes.selected}dt.addEventListener("input",yt=>{const xt=yt.target.options,bt=xt.selectedIndex===-1?"":xt[xt.selectedIndex].value;pt.setValue(ht,{value:bt})});break}}static setAttributes({html:dt,element:ht,storage:ft=null,intent:pt,linkService:mt}){const{attributes:gt}=ht,yt=dt instanceof HTMLAnchorElement;gt.type==="radio"&&(gt.name=`${gt.name}-${pt}`);for(const[xt,bt]of Object.entries(gt))if(bt!=null)switch(xt){case"class":bt.length&&dt.setAttribute(xt,bt.join(" "));break;case"dataId":break;case"id":dt.setAttribute("data-element-id",bt);break;case"style":Object.assign(dt.style,bt);break;case"textContent":dt.textContent=bt;break;default:(!yt||xt!=="href"&&xt!=="newWindow")&&dt.setAttribute(xt,bt)}yt&&mt.addLinkAttributes(dt,gt.href,gt.newWindow),ft&&gt.dataId&&this.setupStorage(dt,gt.dataId,ht,ft)}static render(dt){var Et;const ht=dt.annotationStorage,ft=dt.linkService,pt=dt.xfaHtml,mt=dt.intent||"display",gt=document.createElement(pt.name);pt.attributes&&this.setAttributes({html:gt,element:pt,intent:mt,linkService:ft});const yt=[[pt,-1,gt]],xt=dt.div;if(xt.append(gt),dt.viewport){const Rt=`matrix(${dt.viewport.transform.join(",")})`;xt.style.transform=Rt}mt!=="richText"&&xt.setAttribute("class","xfaLayer xfaFont");const bt=[];for(;yt.length>0;){const[Rt,wt,_t]=yt.at(-1);if(wt+1===Rt.children.length){yt.pop();continue}const At=Rt.children[++yt.at(-1)[1]];if(At===null)continue;const{name:kt}=At;if(kt==="#text"){const Nt=document.createTextNode(At.value);bt.push(Nt),_t.append(Nt);continue}const It=(Et=At==null?void 0:At.attributes)!=null&&Et.xmlns?document.createElementNS(At.attributes.xmlns,kt):document.createElement(kt);if(_t.append(It),At.attributes&&this.setAttributes({html:It,element:At,storage:ht,intent:mt,linkService:ft}),At.children&&At.children.length>0)yt.push([At,-1,It]);else if(At.value){const Nt=document.createTextNode(At.value);lt.XfaText.shouldBuildText(kt)&&bt.push(Nt),It.append(Nt)}}for(const Rt of xt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Rt.setAttribute("readOnly",!0);return{textDivs:bt}}static update(dt){const ht=`matrix(${dt.viewport.transform.join(",")})`;dt.div.style.transform=ht,dt.div.hidden=!1}}rt.XfaLayer=ct},(ot,rt,at)=>{var pt,mt,gt,yt,xt,bt,Et,Rt,wt,_t,At,kt,It,Nt,Pt,Vm,$m,Bm,Um,Hp,Hm,zp,zm,Wm,qm,Gm,Km,xl,Wp,Yu,Xu,iu,qp,Qu,Jt,Ym,Gp,Xm,Qm,Kp,Ju,ou;Object.defineProperty(rt,"__esModule",{value:!0}),rt.InkEditor=void 0;var lt=at(1),ct=at(4),ut=at(29),dt=at(6),ht=at(5);const Kn=class Kn extends ct.AnnotationEditor{constructor(cn){super({...cn,name:"inkEditor"});Wn(this,Pt);Wn(this,pt,0);Wn(this,mt,0);Wn(this,gt,this.canvasPointermove.bind(this));Wn(this,yt,this.canvasPointerleave.bind(this));Wn(this,xt,this.canvasPointerup.bind(this));Wn(this,bt,this.canvasPointerdown.bind(this));Wn(this,Et,new Path2D);Wn(this,Rt,!1);Wn(this,wt,!1);Wn(this,_t,!1);Wn(this,At,null);Wn(this,kt,0);Wn(this,It,0);Wn(this,Nt,null);this.color=cn.color||null,this.thickness=cn.thickness||null,this.opacity=cn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(cn){ct.AnnotationEditor.initialize(cn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(cn,dn){switch(cn){case lt.AnnotationEditorParamsType.INK_THICKNESS:Kn._defaultThickness=dn;break;case lt.AnnotationEditorParamsType.INK_COLOR:Kn._defaultColor=dn;break;case lt.AnnotationEditorParamsType.INK_OPACITY:Kn._defaultOpacity=dn/100;break}}updateParams(cn,dn){switch(cn){case lt.AnnotationEditorParamsType.INK_THICKNESS:On(this,Pt,Vm).call(this,dn);break;case lt.AnnotationEditorParamsType.INK_COLOR:On(this,Pt,$m).call(this,dn);break;case lt.AnnotationEditorParamsType.INK_OPACITY:On(this,Pt,Bm).call(this,dn);break}}static get defaultPropertiesToUpdate(){return[[lt.AnnotationEditorParamsType.INK_THICKNESS,Kn._defaultThickness],[lt.AnnotationEditorParamsType.INK_COLOR,Kn._defaultColor||ct.AnnotationEditor._defaultLineColor],[lt.AnnotationEditorParamsType.INK_OPACITY,Math.round(Kn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[lt.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Kn._defaultThickness],[lt.AnnotationEditorParamsType.INK_COLOR,this.color||Kn._defaultColor||ct.AnnotationEditor._defaultLineColor],[lt.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Kn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(On(this,Pt,Yu).call(this),On(this,Pt,Xu).call(this)),this.isAttachedToDOM||(this.parent.add(this),On(this,Pt,iu).call(this)),On(this,Pt,ou).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ft(this,At).disconnect(),qn(this,At,null),super.remove())}setParent(cn){!this.parent&&cn?this._uiManager.removeShouldRescale(this):this.parent&&cn===null&&this._uiManager.addShouldRescale(this),super.setParent(cn)}onScaleChanging(){const[cn,dn]=this.parentDimensions,wn=this.width*cn,kn=this.height*dn;this.setDimensions(wn,kn)}enableEditMode(){Ft(this,Rt)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",Ft(this,bt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ft(this,bt)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ft(this,Rt)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),qn(this,Rt,!0),this.div.classList.add("disabled"),On(this,Pt,ou).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(cn){this._focusEventsAllowed&&(super.focusin(cn),this.enableEditMode())}canvasPointerdown(cn){cn.button!==0||!this.isInEditMode()||Ft(this,Rt)||(this.setInForeground(),cn.preventDefault(),cn.type!=="mouse"&&this.div.focus(),On(this,Pt,Hm).call(this,cn.offsetX,cn.offsetY))}canvasPointermove(cn){cn.preventDefault(),On(this,Pt,zp).call(this,cn.offsetX,cn.offsetY)}canvasPointerup(cn){cn.preventDefault(),On(this,Pt,Wp).call(this,cn)}canvasPointerleave(cn){On(this,Pt,Wp).call(this,cn)}get isResizable(){return!this.isEmpty()&&Ft(this,Rt)}render(){if(this.div)return this.div;let cn,dn;this.width&&(cn=this.x,dn=this.y),super.render(),ct.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(An=>{var xn;return(xn=this.div)==null?void 0:xn.setAttribute("aria-label",An)});const[wn,kn,Un,Jn]=On(this,Pt,Um).call(this);if(this.setAt(wn,kn,0,0),this.setDims(Un,Jn),On(this,Pt,Yu).call(this),this.width){const[An,xn]=this.parentDimensions;this.setAspectRatio(this.width*An,this.height*xn),this.setAt(cn*An,dn*xn,this.width*An,this.height*xn),qn(this,_t,!0),On(this,Pt,iu).call(this),this.setDims(this.width*An,this.height*xn),On(this,Pt,xl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return On(this,Pt,Xu).call(this),this.div}setDimensions(cn,dn){const wn=Math.round(cn),kn=Math.round(dn);if(Ft(this,kt)===wn&&Ft(this,It)===kn)return;qn(this,kt,wn),qn(this,It,kn),this.canvas.style.visibility="hidden";const[Un,Jn]=this.parentDimensions;this.width=cn/Un,this.height=dn/Jn,this.fixAndSetPosition(),Ft(this,Rt)&&On(this,Pt,qp).call(this,cn,dn),On(this,Pt,iu).call(this),On(this,Pt,xl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(cn,dn,wn){var Er,Yr,ss;if(cn instanceof ut.InkAnnotationElement)return null;const kn=super.deserialize(cn,dn,wn);kn.thickness=cn.thickness,kn.color=lt.Util.makeHexColor(...cn.color),kn.opacity=cn.opacity;const[Un,Jn]=kn.pageDimensions,An=kn.width*Un,xn=kn.height*Jn,er=kn.parentScale,Qn=cn.thickness/2;qn(kn,Rt,!0),qn(kn,kt,Math.round(An)),qn(kn,It,Math.round(xn));const{paths:gr,rect:yr,rotation:Fr}=cn;for(let{bezier:nr}of gr){nr=On(Er=Kn,Jt,Xm).call(Er,nr,yr,Fr);const Ln=[];kn.paths.push(Ln);let Vn=er*(nr[0]-Qn),vr=er*(nr[1]-Qn);for(let Or=2,vn=nr.length;Or<vn;Or+=6){const tr=er*(nr[Or]-Qn),dr=er*(nr[Or+1]-Qn),Rr=er*(nr[Or+2]-Qn),Ir=er*(nr[Or+3]-Qn),_r=er*(nr[Or+4]-Qn),yn=er*(nr[Or+5]-Qn);Ln.push([[Vn,vr],[tr,dr],[Rr,Ir],[_r,yn]]),Vn=_r,vr=yn}const Tr=On(this,Jt,Ym).call(this,Ln);kn.bezierPath2D.push(Tr)}const br=On(Yr=kn,Pt,Kp).call(Yr);return qn(kn,mt,Math.max(ct.AnnotationEditor.MIN_SIZE,br[2]-br[0])),qn(kn,pt,Math.max(ct.AnnotationEditor.MIN_SIZE,br[3]-br[1])),On(ss=kn,Pt,qp).call(ss,An,xn),kn}serialize(){if(this.isEmpty())return null;const cn=this.getRect(0,0),dn=ct.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:lt.AnnotationEditorType.INK,color:dn,thickness:this.thickness,opacity:this.opacity,paths:On(this,Pt,Qm).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,cn),pageIndex:this.pageIndex,rect:cn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};pt=new WeakMap,mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,wt=new WeakMap,_t=new WeakMap,At=new WeakMap,kt=new WeakMap,It=new WeakMap,Nt=new WeakMap,Pt=new WeakSet,Vm=function(cn){const dn=this.thickness;this.addCommands({cmd:()=>{this.thickness=cn,On(this,Pt,ou).call(this)},undo:()=>{this.thickness=dn,On(this,Pt,ou).call(this)},mustExec:!0,type:lt.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},$m=function(cn){const dn=this.color;this.addCommands({cmd:()=>{this.color=cn,On(this,Pt,xl).call(this)},undo:()=>{this.color=dn,On(this,Pt,xl).call(this)},mustExec:!0,type:lt.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Bm=function(cn){cn/=100;const dn=this.opacity;this.addCommands({cmd:()=>{this.opacity=cn,On(this,Pt,xl).call(this)},undo:()=>{this.opacity=dn,On(this,Pt,xl).call(this)},mustExec:!0,type:lt.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Um=function(){const{parentRotation:cn,parentDimensions:[dn,wn]}=this;switch(cn){case 90:return[0,wn,wn,dn];case 180:return[dn,wn,dn,wn];case 270:return[dn,0,wn,dn];default:return[0,0,dn,wn]}},Hp=function(){const{ctx:cn,color:dn,opacity:wn,thickness:kn,parentScale:Un,scaleFactor:Jn}=this;cn.lineWidth=kn*Un/Jn,cn.lineCap="round",cn.lineJoin="round",cn.miterLimit=10,cn.strokeStyle=`${dn}${(0,ht.opacityToHex)(wn)}`},Hm=function(cn,dn){this.canvas.addEventListener("contextmenu",dt.noContextMenu),this.canvas.addEventListener("pointerleave",Ft(this,yt)),this.canvas.addEventListener("pointermove",Ft(this,gt)),this.canvas.addEventListener("pointerup",Ft(this,xt)),this.canvas.removeEventListener("pointerdown",Ft(this,bt)),this.isEditing=!0,Ft(this,_t)||(qn(this,_t,!0),On(this,Pt,iu).call(this),this.thickness||(this.thickness=Kn._defaultThickness),this.color||(this.color=Kn._defaultColor||ct.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Kn._defaultOpacity)),this.currentPath.push([cn,dn]),qn(this,wt,!1),On(this,Pt,Hp).call(this),qn(this,Nt,()=>{On(this,Pt,qm).call(this),Ft(this,Nt)&&window.requestAnimationFrame(Ft(this,Nt))}),window.requestAnimationFrame(Ft(this,Nt))},zp=function(cn,dn){const[wn,kn]=this.currentPath.at(-1);if(this.currentPath.length>1&&cn===wn&&dn===kn)return;const Un=this.currentPath;let Jn=Ft(this,Et);if(Un.push([cn,dn]),qn(this,wt,!0),Un.length<=2){Jn.moveTo(...Un[0]),Jn.lineTo(cn,dn);return}Un.length===3&&(qn(this,Et,Jn=new Path2D),Jn.moveTo(...Un[0])),On(this,Pt,Gm).call(this,Jn,...Un.at(-3),...Un.at(-2),cn,dn)},zm=function(){if(this.currentPath.length===0)return;const cn=this.currentPath.at(-1);Ft(this,Et).lineTo(...cn)},Wm=function(cn,dn){qn(this,Nt,null),cn=Math.min(Math.max(cn,0),this.canvas.width),dn=Math.min(Math.max(dn,0),this.canvas.height),On(this,Pt,zp).call(this,cn,dn),On(this,Pt,zm).call(this);let wn;if(this.currentPath.length!==1)wn=On(this,Pt,Km).call(this);else{const xn=[cn,dn];wn=[[xn,xn.slice(),xn.slice(),xn]]}const kn=Ft(this,Et),Un=this.currentPath;this.currentPath=[],qn(this,Et,new Path2D);const Jn=()=>{this.allRawPaths.push(Un),this.paths.push(wn),this.bezierPath2D.push(kn),this.rebuild()},An=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(On(this,Pt,Yu).call(this),On(this,Pt,Xu).call(this)),On(this,Pt,ou).call(this))};this.addCommands({cmd:Jn,undo:An,mustExec:!0})},qm=function(){if(!Ft(this,wt))return;qn(this,wt,!1);const cn=Math.ceil(this.thickness*this.parentScale),dn=this.currentPath.slice(-3),wn=dn.map(Jn=>Jn[0]),kn=dn.map(Jn=>Jn[1]);Math.min(...wn)-cn,Math.max(...wn)+cn,Math.min(...kn)-cn,Math.max(...kn)+cn;const{ctx:Un}=this;Un.save(),Un.clearRect(0,0,this.canvas.width,this.canvas.height);for(const Jn of this.bezierPath2D)Un.stroke(Jn);Un.stroke(Ft(this,Et)),Un.restore()},Gm=function(cn,dn,wn,kn,Un,Jn,An){const xn=(dn+kn)/2,er=(wn+Un)/2,Qn=(kn+Jn)/2,gr=(Un+An)/2;cn.bezierCurveTo(xn+2*(kn-xn)/3,er+2*(Un-er)/3,Qn+2*(kn-Qn)/3,gr+2*(Un-gr)/3,Qn,gr)},Km=function(){const cn=this.currentPath;if(cn.length<=2)return[[cn[0],cn[0],cn.at(-1),cn.at(-1)]];const dn=[];let wn,[kn,Un]=cn[0];for(wn=1;wn<cn.length-2;wn++){const[yr,Fr]=cn[wn],[br,Er]=cn[wn+1],Yr=(yr+br)/2,ss=(Fr+Er)/2,nr=[kn+2*(yr-kn)/3,Un+2*(Fr-Un)/3],Ln=[Yr+2*(yr-Yr)/3,ss+2*(Fr-ss)/3];dn.push([[kn,Un],nr,Ln,[Yr,ss]]),[kn,Un]=[Yr,ss]}const[Jn,An]=cn[wn],[xn,er]=cn[wn+1],Qn=[kn+2*(Jn-kn)/3,Un+2*(An-Un)/3],gr=[xn+2*(Jn-xn)/3,er+2*(An-er)/3];return dn.push([[kn,Un],Qn,gr,[xn,er]]),dn},xl=function(){if(this.isEmpty()){On(this,Pt,Qu).call(this);return}On(this,Pt,Hp).call(this);const{canvas:cn,ctx:dn}=this;dn.setTransform(1,0,0,1,0,0),dn.clearRect(0,0,cn.width,cn.height),On(this,Pt,Qu).call(this);for(const wn of this.bezierPath2D)dn.stroke(wn)},Wp=function(cn){this.canvas.removeEventListener("pointerleave",Ft(this,yt)),this.canvas.removeEventListener("pointermove",Ft(this,gt)),this.canvas.removeEventListener("pointerup",Ft(this,xt)),this.canvas.addEventListener("pointerdown",Ft(this,bt)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",dt.noContextMenu)},10),On(this,Pt,Wm).call(this,cn.offsetX,cn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Yu=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",ct.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(cn=>{var dn;return(dn=this.canvas)==null?void 0:dn.setAttribute("aria-label",cn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xu=function(){qn(this,At,new ResizeObserver(cn=>{const dn=cn[0].contentRect;dn.width&&dn.height&&this.setDimensions(dn.width,dn.height)})),Ft(this,At).observe(this.div)},iu=function(){if(!Ft(this,_t))return;const[cn,dn]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*cn),this.canvas.height=Math.ceil(this.height*dn),On(this,Pt,Qu).call(this)},qp=function(cn,dn){const wn=On(this,Pt,Ju).call(this),kn=(cn-wn)/Ft(this,mt),Un=(dn-wn)/Ft(this,pt);this.scaleFactor=Math.min(kn,Un)},Qu=function(){const cn=On(this,Pt,Ju).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+cn,this.translationY*this.scaleFactor+cn)},Jt=new WeakSet,Ym=function(cn){const dn=new Path2D;for(let wn=0,kn=cn.length;wn<kn;wn++){const[Un,Jn,An,xn]=cn[wn];wn===0&&dn.moveTo(...Un),dn.bezierCurveTo(Jn[0],Jn[1],An[0],An[1],xn[0],xn[1])}return dn},Gp=function(cn,dn,wn){const[kn,Un,Jn,An]=dn;switch(wn){case 0:for(let xn=0,er=cn.length;xn<er;xn+=2)cn[xn]+=kn,cn[xn+1]=An-cn[xn+1];break;case 90:for(let xn=0,er=cn.length;xn<er;xn+=2){const Qn=cn[xn];cn[xn]=cn[xn+1]+kn,cn[xn+1]=Qn+Un}break;case 180:for(let xn=0,er=cn.length;xn<er;xn+=2)cn[xn]=Jn-cn[xn],cn[xn+1]+=Un;break;case 270:for(let xn=0,er=cn.length;xn<er;xn+=2){const Qn=cn[xn];cn[xn]=Jn-cn[xn+1],cn[xn+1]=An-Qn}break;default:throw new Error("Invalid rotation")}return cn},Xm=function(cn,dn,wn){const[kn,Un,Jn,An]=dn;switch(wn){case 0:for(let xn=0,er=cn.length;xn<er;xn+=2)cn[xn]-=kn,cn[xn+1]=An-cn[xn+1];break;case 90:for(let xn=0,er=cn.length;xn<er;xn+=2){const Qn=cn[xn];cn[xn]=cn[xn+1]-Un,cn[xn+1]=Qn-kn}break;case 180:for(let xn=0,er=cn.length;xn<er;xn+=2)cn[xn]=Jn-cn[xn],cn[xn+1]-=Un;break;case 270:for(let xn=0,er=cn.length;xn<er;xn+=2){const Qn=cn[xn];cn[xn]=An-cn[xn+1],cn[xn+1]=Jn-Qn}break;default:throw new Error("Invalid rotation")}return cn},Qm=function(cn,dn,wn,kn){var er,Qn;const Un=[],Jn=this.thickness/2,An=cn*dn+Jn,xn=cn*wn+Jn;for(const gr of this.paths){const yr=[],Fr=[];for(let br=0,Er=gr.length;br<Er;br++){const[Yr,ss,nr,Ln]=gr[br],Vn=cn*Yr[0]+An,vr=cn*Yr[1]+xn,Tr=cn*ss[0]+An,Or=cn*ss[1]+xn,vn=cn*nr[0]+An,tr=cn*nr[1]+xn,dr=cn*Ln[0]+An,Rr=cn*Ln[1]+xn;br===0&&(yr.push(Vn,vr),Fr.push(Vn,vr)),yr.push(Tr,Or,vn,tr,dr,Rr),Fr.push(Tr,Or),br===Er-1&&Fr.push(dr,Rr)}Un.push({bezier:On(er=Kn,Jt,Gp).call(er,yr,kn,this.rotation),points:On(Qn=Kn,Jt,Gp).call(Qn,Fr,kn,this.rotation)})}return Un},Kp=function(){let cn=1/0,dn=-1/0,wn=1/0,kn=-1/0;for(const Un of this.paths)for(const[Jn,An,xn,er]of Un){const Qn=lt.Util.bezierBoundingBox(...Jn,...An,...xn,...er);cn=Math.min(cn,Qn[0]),wn=Math.min(wn,Qn[1]),dn=Math.max(dn,Qn[2]),kn=Math.max(kn,Qn[3])}return[cn,wn,dn,kn]},Ju=function(){return Ft(this,Rt)?Math.ceil(this.thickness*this.parentScale):0},ou=function(cn=!1){if(this.isEmpty())return;if(!Ft(this,Rt)){On(this,Pt,xl).call(this);return}const dn=On(this,Pt,Kp).call(this),wn=On(this,Pt,Ju).call(this);qn(this,mt,Math.max(ct.AnnotationEditor.MIN_SIZE,dn[2]-dn[0])),qn(this,pt,Math.max(ct.AnnotationEditor.MIN_SIZE,dn[3]-dn[1]));const kn=Math.ceil(wn+Ft(this,mt)*this.scaleFactor),Un=Math.ceil(wn+Ft(this,pt)*this.scaleFactor),[Jn,An]=this.parentDimensions;this.width=kn/Jn,this.height=Un/An,this.setAspectRatio(kn,Un);const xn=this.translationX,er=this.translationY;this.translationX=-dn[0],this.translationY=-dn[1],On(this,Pt,iu).call(this),On(this,Pt,xl).call(this),qn(this,kt,kn),qn(this,It,Un),this.setDims(kn,Un);const Qn=cn?wn/this.scaleFactor/2:0;this.translate(xn-this.translationX-Qn,er-this.translationY-Qn)},Wn(Kn,Jt),zr(Kn,"_defaultColor",null),zr(Kn,"_defaultOpacity",1),zr(Kn,"_defaultThickness",1),zr(Kn,"_type","ink");let ft=Kn;rt.InkEditor=ft},(ot,rt,at)=>{var ft,pt,mt,gt,yt,xt,bt,Et,Rt,wt,_t,Ru,Tu,Zu,Yp,Jm,Zm,Xp,_d,_g;Object.defineProperty(rt,"__esModule",{value:!0}),rt.StampEditor=void 0;var lt=at(1),ct=at(4),ut=at(6),dt=at(29);const jt=class jt extends ct.AnnotationEditor{constructor(Qt){super({...Qt,name:"stampEditor"});Wn(this,_t);Wn(this,ft,null);Wn(this,pt,null);Wn(this,mt,null);Wn(this,gt,null);Wn(this,yt,null);Wn(this,xt,null);Wn(this,bt,null);Wn(this,Et,null);Wn(this,Rt,!1);Wn(this,wt,!1);qn(this,gt,Qt.bitmapUrl),qn(this,yt,Qt.bitmapFile)}static initialize(Qt){ct.AnnotationEditor.initialize(Qt)}static get supportedTypes(){const Qt=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,lt.shadow)(this,"supportedTypes",Qt.map(qt=>`image/${qt}`))}static get supportedTypesStr(){return(0,lt.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Qt){return this.supportedTypes.includes(Qt)}static paste(Qt,qt){qt.pasteEditor(lt.AnnotationEditorType.STAMP,{bitmapFile:Qt.getAsFile()})}remove(){var Qt,qt;Ft(this,pt)&&(qn(this,ft,null),this._uiManager.imageManager.deleteId(Ft(this,pt)),(Qt=Ft(this,xt))==null||Qt.remove(),qn(this,xt,null),(qt=Ft(this,bt))==null||qt.disconnect(),qn(this,bt,null)),super.remove()}rebuild(){if(!this.parent){Ft(this,pt)&&On(this,_t,Zu).call(this);return}super.rebuild(),this.div!==null&&(Ft(this,pt)&&On(this,_t,Zu).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(Ft(this,mt)||Ft(this,ft)||Ft(this,gt)||Ft(this,yt))}get isResizable(){return!0}render(){if(this.div)return this.div;let Qt,qt;if(this.width&&(Qt=this.x,qt=this.y),super.render(),this.div.hidden=!0,Ft(this,ft)?On(this,_t,Yp).call(this):On(this,_t,Zu).call(this),this.width){const[Kt,sn]=this.parentDimensions;this.setAt(Qt*Kt,qt*sn,this.width*Kt,this.height*sn)}return this.div}static deserialize(Qt,qt,Kt){if(Qt instanceof dt.StampAnnotationElement)return null;const sn=super.deserialize(Qt,qt,Kt),{rect:Gt,bitmapUrl:Wt,bitmapId:pn,isSvg:rn,accessibilityData:Vt}=Qt;pn&&Kt.imageManager.isValidId(pn)?qn(sn,pt,pn):qn(sn,gt,Wt),qn(sn,Rt,rn);const[$t,Xt]=sn.pageDimensions;return sn.width=(Gt[2]-Gt[0])/$t,sn.height=(Gt[3]-Gt[1])/Xt,Vt&&(sn.altTextData=Vt),sn}serialize(Qt=!1,qt=null){if(this.isEmpty())return null;const Kt={annotationType:lt.AnnotationEditorType.STAMP,bitmapId:Ft(this,pt),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:Ft(this,Rt),structTreeParentId:this._structTreeParentId};if(Qt)return Kt.bitmapUrl=On(this,_t,_d).call(this,!0),Kt.accessibilityData=this.altTextData,Kt;const{decorative:sn,altText:Gt}=this.altTextData;if(!sn&&Gt&&(Kt.accessibilityData={type:"Figure",alt:Gt}),qt===null)return Kt;qt.stamps||(qt.stamps=new Map);const Wt=Ft(this,Rt)?(Kt.rect[2]-Kt.rect[0])*(Kt.rect[3]-Kt.rect[1]):null;if(!qt.stamps.has(Ft(this,pt)))qt.stamps.set(Ft(this,pt),{area:Wt,serialized:Kt}),Kt.bitmap=On(this,_t,_d).call(this,!1);else if(Ft(this,Rt)){const pn=qt.stamps.get(Ft(this,pt));Wt>pn.area&&(pn.area=Wt,pn.serialized.bitmap.close(),pn.serialized.bitmap=On(this,_t,_d).call(this,!1))}return Kt}};ft=new WeakMap,pt=new WeakMap,mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,xt=new WeakMap,bt=new WeakMap,Et=new WeakMap,Rt=new WeakMap,wt=new WeakMap,_t=new WeakSet,Ru=function(Qt,qt=!1){if(!Qt){this.remove();return}qn(this,ft,Qt.bitmap),qt||(qn(this,pt,Qt.id),qn(this,Rt,Qt.isSvg)),On(this,_t,Yp).call(this)},Tu=function(){qn(this,mt,null),this._uiManager.enableWaiting(!1),Ft(this,xt)&&this.div.focus()},Zu=function(){if(Ft(this,pt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ft(this,pt)).then(qt=>On(this,_t,Ru).call(this,qt,!0)).finally(()=>On(this,_t,Tu).call(this));return}if(Ft(this,gt)){const qt=Ft(this,gt);qn(this,gt,null),this._uiManager.enableWaiting(!0),qn(this,mt,this._uiManager.imageManager.getFromUrl(qt).then(Kt=>On(this,_t,Ru).call(this,Kt)).finally(()=>On(this,_t,Tu).call(this)));return}if(Ft(this,yt)){const qt=Ft(this,yt);qn(this,yt,null),this._uiManager.enableWaiting(!0),qn(this,mt,this._uiManager.imageManager.getFromFile(qt).then(Kt=>On(this,_t,Ru).call(this,Kt)).finally(()=>On(this,_t,Tu).call(this)));return}const Qt=document.createElement("input");Qt.type="file",Qt.accept=jt.supportedTypesStr,qn(this,mt,new Promise(qt=>{Qt.addEventListener("change",async()=>{if(!Qt.files||Qt.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Kt=await this._uiManager.imageManager.getFromFile(Qt.files[0]);On(this,_t,Ru).call(this,Kt)}qt()}),Qt.addEventListener("cancel",()=>{this.remove(),qt()})}).finally(()=>On(this,_t,Tu).call(this))),Qt.click()},Yp=function(){const{div:Qt}=this;let{width:qt,height:Kt}=Ft(this,ft);const[sn,Gt]=this.pageDimensions,Wt=.75;if(this.width)qt=this.width*sn,Kt=this.height*Gt;else if(qt>Wt*sn||Kt>Wt*Gt){const $t=Math.min(Wt*sn/qt,Wt*Gt/Kt);qt*=$t,Kt*=$t}const[pn,rn]=this.parentDimensions;this.setDims(qt*pn/sn,Kt*rn/Gt),this._uiManager.enableWaiting(!1);const Vt=qn(this,xt,document.createElement("canvas"));Qt.append(Vt),Qt.hidden=!1,On(this,_t,Xp).call(this,qt,Kt),On(this,_t,_g).call(this),Ft(this,wt)||(this.parent.addUndoableEditor(this),qn(this,wt,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Jm=function(Qt,qt){var Wt;const[Kt,sn]=this.parentDimensions;this.width=Qt/Kt,this.height=qt/sn,this.setDims(Qt,qt),(Wt=this._initialOptions)!=null&&Wt.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,Ft(this,Et)!==null&&clearTimeout(Ft(this,Et)),qn(this,Et,setTimeout(()=>{qn(this,Et,null),On(this,_t,Xp).call(this,Qt,qt)},200))},Zm=function(Qt,qt){const{width:Kt,height:sn}=Ft(this,ft);let Gt=Kt,Wt=sn,pn=Ft(this,ft);for(;Gt>2*Qt||Wt>2*qt;){const rn=Gt,Vt=Wt;Gt>2*Qt&&(Gt=Gt>=16384?Math.floor(Gt/2)-1:Math.ceil(Gt/2)),Wt>2*qt&&(Wt=Wt>=16384?Math.floor(Wt/2)-1:Math.ceil(Wt/2));const $t=new OffscreenCanvas(Gt,Wt);$t.getContext("2d").drawImage(pn,0,0,rn,Vt,0,0,Gt,Wt),pn=$t.transferToImageBitmap()}return pn},Xp=function(Qt,qt){Qt=Math.ceil(Qt),qt=Math.ceil(qt);const Kt=Ft(this,xt);if(!Kt||Kt.width===Qt&&Kt.height===qt)return;Kt.width=Qt,Kt.height=qt;const sn=Ft(this,Rt)?Ft(this,ft):On(this,_t,Zm).call(this,Qt,qt),Gt=Kt.getContext("2d");Gt.filter=this._uiManager.hcmFilter,Gt.drawImage(sn,0,0,sn.width,sn.height,0,0,Qt,qt)},_d=function(Qt){if(Qt){if(Ft(this,Rt)){const sn=this._uiManager.imageManager.getSvgUrl(Ft(this,pt));if(sn)return sn}const qt=document.createElement("canvas");return{width:qt.width,height:qt.height}=Ft(this,ft),qt.getContext("2d").drawImage(Ft(this,ft),0,0),qt.toDataURL()}if(Ft(this,Rt)){const[qt,Kt]=this.pageDimensions,sn=Math.round(this.width*qt*ut.PixelsPerInch.PDF_TO_CSS_UNITS),Gt=Math.round(this.height*Kt*ut.PixelsPerInch.PDF_TO_CSS_UNITS),Wt=new OffscreenCanvas(sn,Gt);return Wt.getContext("2d").drawImage(Ft(this,ft),0,0,Ft(this,ft).width,Ft(this,ft).height,0,0,sn,Gt),Wt.transferToImageBitmap()}return structuredClone(Ft(this,ft))},_g=function(){qn(this,bt,new ResizeObserver(Qt=>{const qt=Qt[0].contentRect;qt.width&&qt.height&&On(this,_t,Jm).call(this,qt.width,qt.height)})),Ft(this,bt).observe(this.div)},zr(jt,"_type","stamp");let ht=jt;rt.StampEditor=ht}],__webpack_module_cache__={};function __w_pdfjs_require__(ot){var rt=__webpack_module_cache__[ot];if(rt!==void 0)return rt.exports;var at=__webpack_module_cache__[ot]={exports:{}};return __webpack_modules__[ot](at,at.exports,__w_pdfjs_require__),at.exports}var __webpack_exports__={};return(()=>{var ot=__webpack_exports__;Object.defineProperty(ot,"__esModule",{value:!0}),Object.defineProperty(ot,"AbortException",{enumerable:!0,get:function(){return rt.AbortException}}),Object.defineProperty(ot,"AnnotationEditorLayer",{enumerable:!0,get:function(){return ut.AnnotationEditorLayer}}),Object.defineProperty(ot,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return rt.AnnotationEditorParamsType}}),Object.defineProperty(ot,"AnnotationEditorType",{enumerable:!0,get:function(){return rt.AnnotationEditorType}}),Object.defineProperty(ot,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return dt.AnnotationEditorUIManager}}),Object.defineProperty(ot,"AnnotationLayer",{enumerable:!0,get:function(){return ht.AnnotationLayer}}),Object.defineProperty(ot,"AnnotationMode",{enumerable:!0,get:function(){return rt.AnnotationMode}}),Object.defineProperty(ot,"CMapCompressionType",{enumerable:!0,get:function(){return rt.CMapCompressionType}}),Object.defineProperty(ot,"DOMSVGFactory",{enumerable:!0,get:function(){return lt.DOMSVGFactory}}),Object.defineProperty(ot,"FeatureTest",{enumerable:!0,get:function(){return rt.FeatureTest}}),Object.defineProperty(ot,"GlobalWorkerOptions",{enumerable:!0,get:function(){return ft.GlobalWorkerOptions}}),Object.defineProperty(ot,"ImageKind",{enumerable:!0,get:function(){return rt.ImageKind}}),Object.defineProperty(ot,"InvalidPDFException",{enumerable:!0,get:function(){return rt.InvalidPDFException}}),Object.defineProperty(ot,"MissingPDFException",{enumerable:!0,get:function(){return rt.MissingPDFException}}),Object.defineProperty(ot,"OPS",{enumerable:!0,get:function(){return rt.OPS}}),Object.defineProperty(ot,"PDFDataRangeTransport",{enumerable:!0,get:function(){return at.PDFDataRangeTransport}}),Object.defineProperty(ot,"PDFDateString",{enumerable:!0,get:function(){return lt.PDFDateString}}),Object.defineProperty(ot,"PDFWorker",{enumerable:!0,get:function(){return at.PDFWorker}}),Object.defineProperty(ot,"PasswordResponses",{enumerable:!0,get:function(){return rt.PasswordResponses}}),Object.defineProperty(ot,"PermissionFlag",{enumerable:!0,get:function(){return rt.PermissionFlag}}),Object.defineProperty(ot,"PixelsPerInch",{enumerable:!0,get:function(){return lt.PixelsPerInch}}),Object.defineProperty(ot,"PromiseCapability",{enumerable:!0,get:function(){return rt.PromiseCapability}}),Object.defineProperty(ot,"RenderingCancelledException",{enumerable:!0,get:function(){return lt.RenderingCancelledException}}),Object.defineProperty(ot,"SVGGraphics",{enumerable:!0,get:function(){return at.SVGGraphics}}),Object.defineProperty(ot,"UnexpectedResponseException",{enumerable:!0,get:function(){return rt.UnexpectedResponseException}}),Object.defineProperty(ot,"Util",{enumerable:!0,get:function(){return rt.Util}}),Object.defineProperty(ot,"VerbosityLevel",{enumerable:!0,get:function(){return rt.VerbosityLevel}}),Object.defineProperty(ot,"XfaLayer",{enumerable:!0,get:function(){return pt.XfaLayer}}),Object.defineProperty(ot,"build",{enumerable:!0,get:function(){return at.build}}),Object.defineProperty(ot,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return rt.createValidAbsoluteUrl}}),Object.defineProperty(ot,"getDocument",{enumerable:!0,get:function(){return at.getDocument}}),Object.defineProperty(ot,"getFilenameFromUrl",{enumerable:!0,get:function(){return lt.getFilenameFromUrl}}),Object.defineProperty(ot,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return lt.getPdfFilenameFromUrl}}),Object.defineProperty(ot,"getXfaPageViewport",{enumerable:!0,get:function(){return lt.getXfaPageViewport}}),Object.defineProperty(ot,"isDataScheme",{enumerable:!0,get:function(){return lt.isDataScheme}}),Object.defineProperty(ot,"isPdfFile",{enumerable:!0,get:function(){return lt.isPdfFile}}),Object.defineProperty(ot,"loadScript",{enumerable:!0,get:function(){return lt.loadScript}}),Object.defineProperty(ot,"noContextMenu",{enumerable:!0,get:function(){return lt.noContextMenu}}),Object.defineProperty(ot,"normalizeUnicode",{enumerable:!0,get:function(){return rt.normalizeUnicode}}),Object.defineProperty(ot,"renderTextLayer",{enumerable:!0,get:function(){return ct.renderTextLayer}}),Object.defineProperty(ot,"setLayerDimensions",{enumerable:!0,get:function(){return lt.setLayerDimensions}}),Object.defineProperty(ot,"shadow",{enumerable:!0,get:function(){return rt.shadow}}),Object.defineProperty(ot,"updateTextLayer",{enumerable:!0,get:function(){return ct.updateTextLayer}}),Object.defineProperty(ot,"version",{enumerable:!0,get:function(){return at.version}});var rt=__w_pdfjs_require__(1),at=__w_pdfjs_require__(2),lt=__w_pdfjs_require__(6),ct=__w_pdfjs_require__(26),ut=__w_pdfjs_require__(27),dt=__w_pdfjs_require__(5),ht=__w_pdfjs_require__(29),ft=__w_pdfjs_require__(14),pt=__w_pdfjs_require__(32)})(),__webpack_exports__})())})(pdf);var pdfExports=pdf.exports;(function(ot){var rt=reactExports,at=pdfExports;function lt(Ht){var un=Object.create(null);return Ht&&Object.keys(Ht).forEach(function(bn){if(bn!=="default"){var Rn=Object.getOwnPropertyDescriptor(Ht,bn);Object.defineProperty(un,bn,Rn.get?Rn:{enumerable:!0,get:function(){return Ht[bn]}})}}),un.default=Ht,Object.freeze(un)}var ct,ut=lt(rt),dt=lt(at);ot.AnnotationType=void 0,(ct=ot.AnnotationType||(ot.AnnotationType={}))[ct.Text=1]="Text",ct[ct.Link=2]="Link",ct[ct.FreeText=3]="FreeText",ct[ct.Line=4]="Line",ct[ct.Square=5]="Square",ct[ct.Circle=6]="Circle",ct[ct.Polygon=7]="Polygon",ct[ct.Polyline=8]="Polyline",ct[ct.Highlight=9]="Highlight",ct[ct.Underline=10]="Underline",ct[ct.Squiggly=11]="Squiggly",ct[ct.StrikeOut=12]="StrikeOut",ct[ct.Stamp=13]="Stamp",ct[ct.Caret=14]="Caret",ct[ct.Ink=15]="Ink",ct[ct.Popup=16]="Popup",ct[ct.FileAttachment=17]="FileAttachment";var ht=function(Ht,un){return ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bn,Rn){bn.__proto__=Rn}||function(bn,Rn){for(var Cn in Rn)Object.prototype.hasOwnProperty.call(Rn,Cn)&&(bn[Cn]=Rn[Cn])},ht(Ht,un)};function ft(Ht,un){if(typeof un!="function"&&un!==null)throw new TypeError("Class extends value "+String(un)+" is not a constructor or null");function bn(){this.constructor=Ht}ht(Ht,un),Ht.prototype=un===null?Object.create(un):(bn.prototype=un.prototype,new bn)}var pt,mt=function(){return mt=Object.assign||function(Ht){for(var un,bn=1,Rn=arguments.length;bn<Rn;bn++)for(var Cn in un=arguments[bn])Object.prototype.hasOwnProperty.call(un,Cn)&&(Ht[Cn]=un[Cn]);return Ht},mt.apply(this,arguments)};ot.TextDirection=void 0,(pt=ot.TextDirection||(ot.TextDirection={})).RightToLeft="RTL",pt.LeftToRight="LTR";var gt,yt=ut.createContext({currentTheme:"light",direction:ot.TextDirection.LeftToRight,setCurrentTheme:function(){}}),xt=function(Ht){var un=[];return Object.keys(Ht).forEach(function(bn){bn&&Ht[bn]&&un.push(bn)}),un.join(" ")},bt=typeof window<"u"?ut.useLayoutEffect:ut.useEffect,Et=function(Ht){var un=ut.useRef(null),bn=Ht.once,Rn=Ht.threshold,Cn=Ht.onVisibilityChanged;return bt(function(){var In=un.current;if(In){var Bn=new IntersectionObserver(function(Fn){Fn.forEach(function(Tn){var Nn=Tn.isIntersecting,$n=Tn.intersectionRatio;Cn({isVisible:Nn,ratio:$n}),Nn&&bn&&(Bn.unobserve(In),Bn.disconnect())})},{threshold:Rn||0});return Bn.observe(In),function(){Bn.unobserve(In),Bn.disconnect()}}},[]),un},Rt=function(Ht){var un=Ht.children,bn=Ht.ignoreDirection,Rn=bn!==void 0&&bn,Cn=Ht.size,In=Cn===void 0?24:Cn,Bn=ut.useContext(yt).direction,Fn=!Rn&&Bn===ot.TextDirection.RightToLeft,Tn="".concat(In||24,"px");return ut.createElement("svg",{"aria-hidden":"true",className:xt({"rpv-core__icon":!0,"rpv-core__icon--rtl":Fn}),focusable:"false",height:Tn,viewBox:"0 0 24 24",width:Tn},un)},wt=function(){return ut.createElement(Rt,{size:16},ut.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},_t=function(Ht){var un=Ht.children,bn=Ht.testId,Rn=Ht.onClick,Cn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,In=bn?{"data-testid":bn}:{};return ut.createElement("button",mt({className:xt({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Cn}),type:"button",onClick:Rn},In),un)},At=function(Ht){var un=Ht.size,bn=un===void 0?"4rem":un,Rn=Ht.testId,Cn=ut.useState(!1),In=Cn[0],Bn=Cn[1],Fn=Rn?{"data-testid":Rn}:{},Tn=Et({onVisibilityChanged:function(Nn){Bn(Nn.isVisible)}});return ut.createElement("div",mt({},Fn,{className:xt({"rpv-core__spinner":!0,"rpv-core__spinner--animating":In}),ref:Tn,style:{height:bn,width:bn}}))},kt=function(Ht){var un=Ht.ariaLabel,bn=un===void 0?"":un,Rn=Ht.autoFocus,Cn=Rn!==void 0&&Rn,In=Ht.placeholder,Bn=In===void 0?"":In,Fn=Ht.testId,Tn=Ht.type,Nn=Tn===void 0?"text":Tn,$n=Ht.value,ar=$n===void 0?"":$n,ir=Ht.onChange,sr=Ht.onKeyDown,xr=sr===void 0?function(){}:sr,cr=ut.useContext(yt).direction,hr=ut.useRef(),es=cr===ot.TextDirection.RightToLeft,$r={ref:hr,"data-testid":"","aria-label":bn,className:xt({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":es}),placeholder:Bn,value:ar,onChange:function(Ur){return ir(Ur.target.value)},onKeyDown:xr};return Fn&&($r["data-testid"]=Fn),bt(function(){if(Cn){var Ur=hr.current;if(Ur){var Wr=window.scrollX,Nr=window.scrollY;Ur.focus(),window.scrollTo(Wr,Nr)}}},[]),Nn==="text"?ut.createElement("input",mt({type:"text"},$r)):ut.createElement("input",mt({type:"password"},$r))};(function(Ht){Ht[Ht.ExitFullScreen=0]="ExitFullScreen",Ht[Ht.FullScreenChange=1]="FullScreenChange",Ht[Ht.FullScreenElement=2]="FullScreenElement",Ht[Ht.FullScreenEnabled=3]="FullScreenEnabled",Ht[Ht.RequestFullScreen=4]="RequestFullScreen"})(gt||(gt={}));var It,Nt={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},Pt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Tt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},Ct=typeof window<"u",Ot=Ct&&(gt.FullScreenEnabled in document&&Nt||Pt.FullScreenEnabled in document&&Pt||Tt.FullScreenEnabled in document&&Tt)||Nt,Dt=function(){return Ct&&Ot.FullScreenEnabled in document&&document[Ot.FullScreenEnabled]===!0},jt=function(Ht){return Ct?Ht[Ot.ExitFullScreen]():Promise.resolve({})},Mt=function(){return Ct?document[Ot.FullScreenElement]:null},zt=function(Ht,un){var bn=ut.useRef(),Rn=function(){bn.current&&clearTimeout(bn.current)};return ut.useEffect(function(){return function(){return Rn()}},[]),ut.useCallback(function(){for(var Cn=[],In=0;In<arguments.length;In++)Cn[In]=arguments[In];Rn(),bn.current=setTimeout(function(){Ht.apply(void 0,Cn)},un)},[Ht,un])},Qt=function(){var Ht=ut.useRef(!1);return ut.useEffect(function(){return Ht.current=!0,function(){Ht.current=!1}},[]),Ht},qt=function(Ht){var un=ut.useRef(Ht);return ut.useEffect(function(){un.current=Ht},[Ht]),un.current};(function(Ht){Ht.NotRenderedYet="NotRenderedYet",Ht.Rendering="Rendering",Ht.Rendered="Rendered"})(It||(It={}));var Kt,sn=-9999,Gt=function(Ht){var un=Ht.doc,bn=un.numPages,Rn=un.loadingTask.docId,Cn=ut.useMemo(function(){return Array(bn).fill(null).map(function(Fn,Tn){return{pageIndex:Tn,renderStatus:It.NotRenderedYet,visibility:sn}})},[Rn]),In=ut.useRef({currentRenderingPage:-1,startRange:0,endRange:bn-1,visibilities:Cn}),Bn=function(Fn,Tn){In.current.visibilities[Fn].visibility=Tn};return{getHighestPriorityPage:function(){var Fn=In.current.visibilities.slice(In.current.startRange,In.current.endRange+1).filter(function(ir){return ir.visibility>sn});if(!Fn.length)return-1;for(var Tn=Fn[0].pageIndex,Nn=Fn[Fn.length-1].pageIndex,$n=Fn.length,ar=0;ar<$n;ar++){if(Fn[ar].renderStatus===It.Rendering)return-1;if(Fn[ar].renderStatus===It.NotRenderedYet)return Fn[ar].pageIndex}return Nn+1<bn&&In.current.visibilities[Nn+1].renderStatus!==It.Rendered?Nn+1:Tn-1>=0&&In.current.visibilities[Tn-1].renderStatus!==It.Rendered?Tn-1:-1},isInRange:function(Fn){return Fn>=In.current.startRange&&Fn<=In.current.endRange},markNotRendered:function(){for(var Fn=0;Fn<bn;Fn++)In.current.visibilities[Fn].renderStatus=It.NotRenderedYet},markRendered:function(Fn){In.current.visibilities[Fn].renderStatus=It.Rendered},markRendering:function(Fn){In.current.currentRenderingPage!==-1&&In.current.currentRenderingPage!==Fn&&In.current.visibilities[In.current.currentRenderingPage].renderStatus===It.Rendering&&(In.current.visibilities[In.current.currentRenderingPage].renderStatus=It.NotRenderedYet),In.current.visibilities[Fn].renderStatus=It.Rendering,In.current.currentRenderingPage=Fn},setOutOfRange:function(Fn){Bn(Fn,sn)},setRange:function(Fn,Tn){In.current.startRange=Fn,In.current.endRange=Tn;for(var Nn=0;Nn<bn;Nn++)(Nn<Fn||Nn>Tn)&&(In.current.visibilities[Nn].visibility=sn,In.current.visibilities[Nn].renderStatus=It.NotRenderedYet)},setVisibility:Bn}},Wt={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},pn=ut.createContext({l10n:Wt,setL10n:function(){}}),rn=0,Vt=function(){return rn++},$t=function(Ht,un,bn){var Rn=function(Cn){var In=un.current;if(In){var Bn=Cn.target;if(Bn instanceof Element&&Bn.shadowRoot){var Fn=Cn.composedPath();Fn.length>0&&!In.contains(Fn[0])&&bn()}else In.contains(Bn)||bn()}};ut.useEffect(function(){if(Ht){var Cn={capture:!0};return document.addEventListener("click",Rn,Cn),function(){document.removeEventListener("click",Rn,Cn)}}},[])},Xt=function(Ht){var un=function(bn){bn.key==="Escape"&&Ht()};ut.useEffect(function(){return document.addEventListener("keyup",un),function(){document.removeEventListener("keyup",un)}},[])},Zt=function(Ht){var un=Ht.ariaControlsSuffix,bn=Ht.children,Rn=Ht.closeOnClickOutside,Cn=Ht.closeOnEscape,In=Ht.onToggle,Bn=ut.useRef(),Fn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft;return ut.useEffect(function(){var Tn=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Tn}},[]),Xt(function(){Bn.current&&Cn&&In()}),$t(Rn,Bn,In),bt(function(){var Tn=Bn.current;if(Tn){var Nn=.75*document.body.clientHeight;Tn.getBoundingClientRect().height>=Nn&&(Tn.style.overflow="auto",Tn.style.maxHeight="".concat(Nn,"px"))}},[]),ut.createElement("div",{"aria-modal":"true",className:xt({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":Fn}),id:"rpv-core__modal-body-".concat(un),ref:Bn,role:"dialog",tabIndex:-1},bn)},Jt=function(Ht){var un=Ht.children;return ut.createElement("div",{className:"rpv-core__modal-overlay"},un)};ot.ToggleStatus=void 0,(Kt=ot.ToggleStatus||(ot.ToggleStatus={})).Close="Close",Kt.Open="Open",Kt.Toggle="Toggle";var Yt,gn=function(Ht){var un=ut.useState(Ht),bn=un[0],Rn=un[1];return{opened:bn,toggle:function(Cn){switch(Cn){case ot.ToggleStatus.Close:Rn(!1);break;case ot.ToggleStatus.Open:Rn(!0);break;case ot.ToggleStatus.Toggle:default:Rn(function(In){return!In})}}}},_n=function(Ht){var un=Ht.content,bn=Ht.isOpened,Rn=bn!==void 0&&bn,Cn=Ht.target,In=gn(Rn),Bn=In.opened,Fn=In.toggle;return ut.createElement(ut.Fragment,null,Cn&&Cn(Fn,Bn),Bn&&un(Fn))};ot.Position=void 0,(Yt=ot.Position||(ot.Position={})).TopLeft="TOP_LEFT",Yt.TopCenter="TOP_CENTER",Yt.TopRight="TOP_RIGHT",Yt.RightTop="RIGHT_TOP",Yt.RightCenter="RIGHT_CENTER",Yt.RightBottom="RIGHT_BOTTOM",Yt.BottomLeft="BOTTOM_LEFT",Yt.BottomCenter="BOTTOM_CENTER",Yt.BottomRight="BOTTOM_RIGHT",Yt.LeftTop="LEFT_TOP",Yt.LeftCenter="LEFT_CENTER",Yt.LeftBottom="LEFT_BOTTOM";var Sn,jn,Dn,Gn,Kn,hn,En,cn,dn=function(Ht,un,bn,Rn,Cn){bt(function(){var In=un.current,Bn=Ht.current,Fn=bn.current;if(Bn&&In&&Fn){var Tn=Fn.getBoundingClientRect(),Nn=function(ir,sr,xr,cr){var hr=sr.getBoundingClientRect(),es=ir.getBoundingClientRect(),$r=es.height,Ur=es.width,Wr=0,Nr=0;switch(xr){case ot.Position.TopLeft:Wr=hr.top-$r,Nr=hr.left;break;case ot.Position.TopCenter:Wr=hr.top-$r,Nr=hr.left+hr.width/2-Ur/2;break;case ot.Position.TopRight:Wr=hr.top-$r,Nr=hr.left+hr.width-Ur;break;case ot.Position.RightTop:Wr=hr.top,Nr=hr.left+hr.width;break;case ot.Position.RightCenter:Wr=hr.top+hr.height/2-$r/2,Nr=hr.left+hr.width;break;case ot.Position.RightBottom:Wr=hr.top+hr.height-$r,Nr=hr.left+hr.width;break;case ot.Position.BottomLeft:Wr=hr.top+hr.height,Nr=hr.left;break;case ot.Position.BottomCenter:Wr=hr.top+hr.height,Nr=hr.left+hr.width/2-Ur/2;break;case ot.Position.BottomRight:Wr=hr.top+hr.height,Nr=hr.left+hr.width-Ur;break;case ot.Position.LeftTop:Wr=hr.top,Nr=hr.left-Ur;break;case ot.Position.LeftCenter:Wr=hr.top+hr.height/2-$r/2,Nr=hr.left-Ur;break;case ot.Position.LeftBottom:Wr=hr.top+hr.height-$r,Nr=hr.left-Ur}return{left:Nr+(cr.left||0),top:Wr+(cr.top||0)}}(Bn,In,Rn,Cn),$n=Nn.top,ar=Nn.left;Bn.style.top="".concat($n-Tn.top,"px"),Bn.style.left="".concat(ar-Tn.left,"px")}},[])},wn=function(Ht){var un,bn=Ht.customClassName,Rn=Ht.position;return ut.createElement("div",{className:xt((un={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Rn===ot.Position.TopLeft,"rpv-core__arrow--tc":Rn===ot.Position.TopCenter,"rpv-core__arrow--tr":Rn===ot.Position.TopRight,"rpv-core__arrow--rt":Rn===ot.Position.RightTop,"rpv-core__arrow--rc":Rn===ot.Position.RightCenter,"rpv-core__arrow--rb":Rn===ot.Position.RightBottom,"rpv-core__arrow--bl":Rn===ot.Position.BottomLeft,"rpv-core__arrow--bc":Rn===ot.Position.BottomCenter,"rpv-core__arrow--br":Rn===ot.Position.BottomRight,"rpv-core__arrow--lt":Rn===ot.Position.LeftTop,"rpv-core__arrow--lc":Rn===ot.Position.LeftCenter,"rpv-core__arrow--lb":Rn===ot.Position.LeftBottom},un["".concat(bn)]=bn!=="",un))})},kn=function(Ht){var un=Ht.ariaControlsSuffix,bn=Ht.children,Rn=Ht.closeOnClickOutside,Cn=Ht.offset,In=Ht.position,Bn=Ht.targetRef,Fn=Ht.onClose,Tn=ut.useRef(),Nn=ut.useRef(),$n=ut.useRef(),ar=ut.useContext(yt).direction===ot.TextDirection.RightToLeft;$t(Rn,Tn,Fn),dn(Tn,Bn,$n,In,Cn),bt(function(){var sr=Nn.current;if(sr){var xr=.75*document.body.clientHeight;sr.getBoundingClientRect().height>=xr&&(sr.style.overflow="auto",sr.style.maxHeight="".concat(xr,"px"))}},[]);var ir="rpv-core__popover-body-inner-".concat(un);return ut.createElement(ut.Fragment,null,ut.createElement("div",{ref:$n,style:{left:0,position:"absolute",top:0}}),ut.createElement("div",{"aria-describedby":ir,className:xt({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":ar}),id:"rpv-core__popover-body-".concat(un),ref:Tn,role:"dialog",tabIndex:-1},ut.createElement(wn,{customClassName:"rpv-core__popover-body-arrow",position:In}),ut.createElement("div",{id:ir,ref:Nn},bn)))},Un=function(Ht){var un=Ht.closeOnEscape,bn=Ht.onClose,Rn=ut.useRef();return Xt(function(){Rn.current&&un&&bn()}),ut.createElement("div",{className:"rpv-core__popover-overlay",ref:Rn})},Jn=function(Ht){var un=Ht.ariaControlsSuffix,bn=Ht.children,Rn=Ht.contentRef,Cn=Ht.offset,In=Ht.position,Bn=Ht.targetRef,Fn=ut.useRef(),Tn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft;return dn(Rn,Bn,Fn,In,Cn),ut.createElement(ut.Fragment,null,ut.createElement("div",{ref:Fn,style:{left:0,position:"absolute",top:0}}),ut.createElement("div",{className:xt({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Tn}),id:"rpv-core__tooltip-body-".concat(un),ref:Rn,role:"tooltip"},ut.createElement(wn,{customClassName:"rpv-core__tooltip-body-arrow",position:In}),ut.createElement("div",{className:"rpv-core__tooltip-body-content"},bn)))};ot.FullScreenMode=void 0,(Sn=ot.FullScreenMode||(ot.FullScreenMode={})).Normal="Normal",Sn.Entering="Entering",Sn.Entered="Entered",Sn.EnteredCompletely="EnteredCompletely",Sn.Exitting="Exitting",Sn.Exited="Exited",ot.LayerRenderStatus=void 0,(jn=ot.LayerRenderStatus||(ot.LayerRenderStatus={}))[jn.PreRender=0]="PreRender",jn[jn.DidRender=1]="DidRender",ot.PageMode=void 0,(Dn=ot.PageMode||(ot.PageMode={})).Attachments="UseAttachments",Dn.Bookmarks="UseOutlines",Dn.ContentGroup="UseOC",Dn.Default="UserNone",Dn.FullScreen="FullScreen",Dn.Thumbnails="UseThumbs",ot.PasswordStatus=void 0,(Gn=ot.PasswordStatus||(ot.PasswordStatus={})).RequiredPassword="RequiredPassword",Gn.WrongPassword="WrongPassword",ot.RotateDirection=void 0,(Kn=ot.RotateDirection||(ot.RotateDirection={})).Backward="Backward",Kn.Forward="Forward",ot.ScrollMode=void 0,(hn=ot.ScrollMode||(ot.ScrollMode={})).Page="Page",hn.Horizontal="Horizontal",hn.Vertical="Vertical",hn.Wrapped="Wrapped",ot.SpecialZoomLevel=void 0,(En=ot.SpecialZoomLevel||(ot.SpecialZoomLevel={})).ActualSize="ActualSize",En.PageFit="PageFit",En.PageWidth="PageWidth",ot.ViewMode=void 0,(cn=ot.ViewMode||(ot.ViewMode={})).DualPage="DualPage",cn.DualPageWithCover="DualPageWithCover",cn.SinglePage="SinglePage";var An,xn=function(Ht,un){return Ht.reduce(function(bn,Rn,Cn){return Cn%un?bn[bn.length-1].push(Rn):bn.push([Rn]),bn},[])},er=function(Ht,un){switch(un[1].name){case"XYZ":return{bottomOffset:function(bn,Rn){return un[3]===null?Rn:un[3]},leftOffset:function(bn,Rn){return un[2]===null?0:un[2]},pageIndex:Ht,scaleTo:un[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Ht,scaleTo:ot.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:un[2],leftOffset:0,pageIndex:Ht,scaleTo:ot.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Ht,scaleTo:1}}},Qn=new Map,gr=new Map,yr=function(Ht,un){return"".concat(Ht.loadingTask.docId,"___").concat(un.num,"R").concat(un.gen===0?"":un.gen)},Fr=function(Ht,un,bn){Qn.set(yr(Ht,un),bn)},br=function(Ht,un){if(!Ht)return Promise.reject("The document is not loaded yet");var bn="".concat(Ht.loadingTask.docId,"___").concat(un),Rn=gr.get(bn);return Rn?Promise.resolve(Rn):new Promise(function(Cn,In){Ht.getPage(un+1).then(function(Bn){gr.set(bn,Bn),Bn.ref&&Fr(Ht,Bn.ref,un),Cn(Bn)})})},Er=function(Ht,un){return new Promise(function(bn){new Promise(function(Rn){typeof un=="string"?Ht.getDestination(un).then(function(Cn){Rn(Cn)}):Rn(un)}).then(function(Rn){if(typeof Rn[0]=="object"&&Rn[0]!==null){var Cn=Rn[0],In=function(Fn,Tn){var Nn=yr(Fn,Tn);return Qn.has(Nn)?Qn.get(Nn):null}(Ht,Cn);In===null?Ht.getPageIndex(Cn).then(function(Fn){Fr(Ht,Cn,Fn),Er(Ht,un).then(function(Tn){return bn(Tn)})}):bn(er(In,Rn))}else{var Bn=er(Rn[0],Rn);bn(Bn)}})})};(function(Ht){Ht[Ht.Solid=1]="Solid",Ht[Ht.Dashed=2]="Dashed",Ht[Ht.Beveled=3]="Beveled",Ht[Ht.Inset=4]="Inset",Ht[Ht.Underline=5]="Underline"})(An||(An={}));var Yr,ss=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),nr=function(Ht,un,bn,Rn){var Cn=parseInt(Ht,10);return Cn>=un&&Cn<=bn?Cn:Rn},Ln=function(Ht){return Ht.contentsObj?Ht.contentsObj.str:Ht.contents||""},Vn=function(Ht){return Ht.titleObj?Ht.titleObj.str:Ht.title||""},vr=function(Ht){var un=Ht.annotation,bn=ut.useContext(yt).direction,Rn=Vn(un),Cn=Ln(un),In=bn===ot.TextDirection.RightToLeft,Bn=ut.useRef(),Fn="";if(un.modificationDate){var Tn=function(Nn){var $n=ss.exec(Nn);if(!$n)return null;var ar=parseInt($n[1],10),ir=nr($n[2],1,12,1)-1,sr=nr($n[3],1,31,1),xr=nr($n[4],0,23,0),cr=nr($n[5],0,59,0),hr=nr($n[6],0,59,0),es=$n[7]||"Z",$r=nr($n[8],0,23,0),Ur=nr($n[9],0,59,0);switch(es){case"-":xr+=$r,cr+=Ur;break;case"+":xr-=$r,cr-=Ur}return new Date(Date.UTC(ar,ir,sr,xr,cr,hr))}(un.modificationDate);Fn=Tn?"".concat(Tn.toLocaleDateString(),", ").concat(Tn.toLocaleTimeString()):""}return ut.useLayoutEffect(function(){if(Bn.current){var Nn=document.querySelector('[data-annotation-id="'.concat(un.id,'"]'));if(Nn){var $n=Nn;return $n.style.zIndex+=1,function(){$n.style.zIndex="".concat(parseInt($n.style.zIndex,10)-1)}}}},[]),ut.createElement("div",{ref:Bn,className:xt({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":In}),style:{top:un.annotationType===ot.AnnotationType.Popup?"":"100%"}},Rn&&ut.createElement(ut.Fragment,null,ut.createElement("div",{className:xt({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!In,"rpv-core__annotation-popup-title--rtl":In})},Rn),ut.createElement("div",{className:"rpv-core__annotation-popup-date"},Fn)),Cn&&ut.createElement("div",{className:"rpv-core__annotation-popup-content"},Cn.split(`
`).map(function(Nn,$n){return ut.createElement(ut.Fragment,{key:$n},Nn,ut.createElement("br",null))})))};(function(Ht){Ht.Click="Click",Ht.Hover="Hover"})(Yr||(Yr={}));var Tr,Or=function(Ht){var un,bn=Ht.annotation,Rn=Ht.children,Cn=Ht.ignoreBorder,In=Ht.hasPopup,Bn=Ht.isRenderable,Fn=Ht.page,Tn=Ht.viewport,Nn=bn.rect,$n=function(){var qr=gn(!1),ys=qr.opened,cs=qr.toggle,xs=ut.useState(Yr.Hover),bs=xs[0],us=xs[1];return{opened:ys,closeOnHover:function(){bs===Yr.Hover&&cs(ot.ToggleStatus.Close)},openOnHover:function(){bs===Yr.Hover&&cs(ot.ToggleStatus.Open)},toggleOnClick:function(){switch(bs){case Yr.Click:ys&&us(Yr.Hover),cs(ot.ToggleStatus.Toggle);break;case Yr.Hover:us(Yr.Click),cs(ot.ToggleStatus.Open)}}}}(),ar=$n.closeOnHover,ir=$n.opened,sr=$n.openOnHover,xr=$n.toggleOnClick,cr=(un=[Nn[0],Fn.view[3]+Fn.view[1]-Nn[1],Nn[2],Fn.view[3]+Fn.view[1]-Nn[3]],[Math.min(un[0],un[2]),Math.min(un[1],un[3]),Math.max(un[0],un[2]),Math.max(un[1],un[3])]),hr=Nn[2]-Nn[0],es=Nn[3]-Nn[1],$r={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Cn&&bn.borderStyle.width>0){switch(bn.borderStyle.style){case An.Dashed:$r.borderStyle="dashed";break;case An.Solid:$r.borderStyle="solid";break;case An.Underline:$r=Object.assign({borderBottomStyle:"solid"},$r);case An.Beveled:case An.Inset:}var Ur=bn.borderStyle.width;$r.borderWidth="".concat(Ur,"px"),bn.borderStyle.style!==An.Underline&&(hr-=2*Ur,es-=2*Ur);var Wr=bn.borderStyle,Nr=Wr.horizontalCornerRadius,Jr=Wr.verticalCornerRadius;(Nr>0||Jr>0)&&($r.borderRadius="".concat(Nr,"px / ").concat(Jr,"px")),bn.color?$r.borderColor="rgb(".concat(0|bn.color[0],", ").concat(0|bn.color[1],", ").concat(0|bn.color[2],")"):$r.borderWidth="0"}return ut.createElement(ut.Fragment,null,Bn&&Rn({popup:{opened:ir,closeOnHover:ar,openOnHover:sr,toggleOnClick:xr},slot:{attrs:{style:Object.assign({height:"".concat(es,"px"),left:"".concat(cr[0],"px"),top:"".concat(cr[1],"px"),transform:"matrix(".concat(Tn.transform.join(","),")"),transformOrigin:"-".concat(cr[0],"px -").concat(cr[1],"px"),width:"".concat(hr,"px")},$r)},children:ut.createElement(ut.Fragment,null,In&&ir&&ut.createElement(vr,{annotation:bn}))}}))},vn=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn);return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":un.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},tr=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn),Tn=un.rect,Nn=Tn[2]-Tn[0],$n=Tn[3]-Tn[1],ar=un.borderStyle.width;return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(ir){return ut.createElement("div",mt({},ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":un.id,onClick:ir.popup.toggleOnClick,onMouseEnter:ir.popup.openOnHover,onMouseLeave:ir.popup.closeOnHover}),ut.createElement("svg",{height:"".concat($n,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Nn," ").concat($n),width:"".concat(Nn,"px")},ut.createElement("circle",{cy:$n/2,fill:"none",rx:Nn/2-ar/2,ry:$n/2-ar/2,stroke:"transparent",strokeWidth:ar||1})),ir.slot.children)})},dr=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=Vn(un),In=Ln(un),Bn=!(un.hasPopup!==!1||!Cn&&!In),Fn=function(){var Tn,Nn,$n,ar,ir=un.file;ir&&(Tn=ir.filename,Nn=ir.content,$n=typeof Nn=="string"?"":URL.createObjectURL(new Blob([Nn],{type:""})),(ar=document.createElement("a")).style.display="none",ar.href=$n||Tn,ar.setAttribute("download",function(sr){var xr=sr.split("/").pop();return xr?xr.split("#")[0].split("?")[0]:sr}(Tn)),document.body.appendChild(ar),ar.click(),document.body.removeChild(ar),$n&&URL.revokeObjectURL($n))};return ut.createElement(Or,{annotation:un,hasPopup:Bn,ignoreBorder:!0,isRenderable:!0,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":un.id,onClick:Tn.popup.toggleOnClick,onDoubleClick:Fn,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Rr=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn);return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":un.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Ir=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=Vn(un),In=Ln(un),Bn=!(!Cn&&!In),Fn=!un.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(un.parentType)!==-1;return bt(function(){if(un.parentId){var Tn=document.querySelector('[data-annotation-id="'.concat(un.parentId,'"]')),Nn=document.querySelector('[data-annotation-id="'.concat(un.id,'"]'));if(Tn&&Nn){var $n=parseFloat(Tn.style.left),ar=parseFloat(Tn.style.top)+parseFloat(Tn.style.height);Nn.style.left="".concat($n,"px"),Nn.style.top="".concat(ar,"px"),Nn.style.transformOrigin="-".concat($n,"px -").concat(ar,"px")}}},[]),ut.createElement(Or,{annotation:un,hasPopup:Fn,ignoreBorder:!1,isRenderable:Bn,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":un.id}),ut.createElement(vr,{annotation:un}))})},_r=function(Ht){var un=Ht.annotation,bn=Ht.childAnnotation,Rn=Ht.page,Cn=Ht.viewport,In=un.hasPopup===!1,Bn=Vn(un),Fn=Ln(un),Tn=!!(un.hasPopup||Bn||Fn);if(un.quadPoints&&un.quadPoints.length>0){var Nn=un.quadPoints.map(function($n){return Object.assign({},un,{rect:[$n[2].x,$n[2].y,$n[1].x,$n[1].y],quadPoints:[]})});return ut.createElement(ut.Fragment,null,Nn.map(function($n,ar){return ut.createElement(_r,{key:ar,annotation:$n,childAnnotation:bn,page:Rn,viewport:Cn})}))}return ut.createElement(Or,{annotation:un,hasPopup:In,ignoreBorder:!0,isRenderable:Tn,page:Rn,viewport:Cn},function($n){return ut.createElement(ut.Fragment,null,ut.createElement("div",mt({},$n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":un.id,onClick:$n.popup.toggleOnClick,onMouseEnter:$n.popup.openOnHover,onMouseLeave:$n.popup.closeOnHover}),$n.slot.children),bn&&bn.annotationType===ot.AnnotationType.Popup&&$n.popup.opened&&ut.createElement(Ir,{annotation:bn,page:Rn,viewport:Cn}))})},yn=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn),Tn=un.rect,Nn=Tn[2]-Tn[0],$n=Tn[3]-Tn[1],ar=un.borderStyle.width;return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(ir){return ut.createElement("div",mt({},ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":un.id,onClick:ir.popup.toggleOnClick,onMouseEnter:ir.popup.openOnHover,onMouseLeave:ir.popup.closeOnHover}),un.inkLists&&un.inkLists.length&&ut.createElement("svg",{height:"".concat($n,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Nn," ").concat($n),width:"".concat(Nn,"px")},un.inkLists.map(function(sr,xr){return ut.createElement("polyline",{key:xr,fill:"none",stroke:"transparent",strokeWidth:ar||1,points:sr.map(function(cr){return"".concat(cr.x-Tn[0],",").concat(Tn[3]-cr.y)}).join(" ")})})),ir.slot.children)})},fn=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn),Tn=un.rect,Nn=Tn[2]-Tn[0],$n=Tn[3]-Tn[1],ar=un.borderStyle.width;return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(ir){return ut.createElement("div",mt({},ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":un.id,onClick:ir.popup.toggleOnClick,onMouseEnter:ir.popup.openOnHover,onMouseLeave:ir.popup.closeOnHover}),ut.createElement("svg",{height:"".concat($n,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Nn," ").concat($n),width:"".concat(Nn,"px")},ut.createElement("line",{stroke:"transparent",strokeWidth:ar||1,x1:Tn[2]-un.lineCoordinates[0],x2:Tn[2]-un.lineCoordinates[2],y1:Tn[3]-un.lineCoordinates[1],y2:Tn[3]-un.lineCoordinates[3]})),ir.slot.children)})},Pn=/^([^\w]*)(javascript|data|vbscript)/im,Hn=/&#(\w+)(^\w|;)?/g,Zn=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,rr=/^([^:]+):/gm,lr=function(Ht,un){var bn,Rn=(bn=Ht||"",bn.replace(Hn,function(Fn,Tn){return String.fromCharCode(Tn)})).replace(Zn,"").trim();if(!Rn)return un;var Cn=Rn[0];if(Cn==="."||Cn==="/")return Rn;var In=Rn.match(rr);if(!In)return Rn;var Bn=In[0];return Pn.test(Bn)?un:Rn},Sr=function(Ht){var un,bn=Ht.annotation,Rn=Ht.annotationContainerRef,Cn=Ht.doc,In=Ht.outlines,Bn=Ht.page,Fn=Ht.pageIndex,Tn=Ht.scale,Nn=Ht.viewport,$n=Ht.onExecuteNamedAction,ar=Ht.onJumpFromLinkAnnotation,ir=Ht.onJumpToDest,sr=ut.useRef(),xr=In&&In.length&&bn.dest&&typeof bn.dest=="string"?(un=In.find(function($r){return $r.dest===bn.dest}))===null||un===void 0?void 0:un.title:"",cr=!!(bn.url||bn.dest||bn.action||bn.unsafeUrl),hr={};if(bn.url||bn.unsafeUrl){var es=lr(bn.url||bn.unsafeUrl,"");es?hr={"data-target":"external",href:es,rel:"noopener noreferrer nofollow",target:bn.newWindow?"_blank":"",title:es}:cr=!1}else hr={href:"","data-annotation-link":bn.id,onClick:function($r){$r.preventDefault(),bn.action?$n(bn.action):Er(Cn,bn.dest).then(function(Ur){var Wr=sr.current,Nr=Rn.current;if(Wr&&Nr){var Jr=Wr.getBoundingClientRect();Nr.style.setProperty("height","100%"),Nr.style.setProperty("width","100%");var qr=Nr.getBoundingClientRect();Nr.style.removeProperty("height"),Nr.style.removeProperty("width");var ys=(Jr.left-qr.left)/Tn,cs=(qr.bottom-Jr.bottom+Jr.height)/Tn;ar({bottomOffset:cs,label:xr,leftOffset:ys,pageIndex:Fn})}ir(Ur)})}};return xr&&(hr=Object.assign({},hr,{title:xr,"aria-label":xr})),ut.createElement(Or,{annotation:bn,hasPopup:!1,ignoreBorder:!1,isRenderable:cr,page:Bn,viewport:Nn},function($r){return ut.createElement("div",mt({},$r.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":bn.id,"data-testid":"core__annotation--link-".concat(bn.id)}),ut.createElement("a",mt({ref:sr},hr)))})},wr=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn),Tn=un.rect,Nn=Tn[2]-Tn[0],$n=Tn[3]-Tn[1],ar=un.borderStyle.width;return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(ir){return ut.createElement("div",mt({},ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":un.id,onClick:ir.popup.toggleOnClick,onMouseEnter:ir.popup.openOnHover,onMouseLeave:ir.popup.closeOnHover}),un.vertices&&un.vertices.length&&ut.createElement("svg",{height:"".concat($n,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Nn," ").concat($n),width:"".concat(Nn,"px")},ut.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:ar||1,points:un.vertices.map(function(sr){return"".concat(sr.x-Tn[0],",").concat(Tn[3]-sr.y)}).join(" ")})),ir.slot.children)})},pr=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn),Tn=un.rect,Nn=Tn[2]-Tn[0],$n=Tn[3]-Tn[1],ar=un.borderStyle.width;return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(ir){return ut.createElement("div",mt({},ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":un.id,onClick:ir.popup.toggleOnClick,onMouseEnter:ir.popup.openOnHover,onMouseLeave:ir.popup.closeOnHover}),un.vertices&&un.vertices.length&&ut.createElement("svg",{height:"".concat($n,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Nn," ").concat($n),width:"".concat(Nn,"px")},ut.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:ar||1,points:un.vertices.map(function(sr){return"".concat(sr.x-Tn[0],",").concat(Tn[3]-sr.y)}).join(" ")})),ir.slot.children)})},Zr=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn),Tn=un.rect,Nn=Tn[2]-Tn[0],$n=Tn[3]-Tn[1],ar=un.borderStyle.width;return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(ir){return ut.createElement("div",mt({},ir.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":un.id,onClick:ir.popup.toggleOnClick,onMouseEnter:ir.popup.openOnHover,onMouseLeave:ir.popup.closeOnHover}),ut.createElement("svg",{height:"".concat($n,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(Nn," ").concat($n),width:"".concat(Nn,"px")},ut.createElement("rect",{height:$n-ar,fill:"none",stroke:"transparent",strokeWidth:ar||1,x:ar/2,y:ar/2,width:Nn-ar})),ir.slot.children)})},Ar=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn);return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":un.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Pr=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn);return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":un.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Br=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn);return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":un.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},Xr=function(){return ut.createElement(Rt,{size:16},ut.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),ut.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),ut.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),ut.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},Qr=function(){return ut.createElement(Rt,{size:16},ut.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),ut.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),ut.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),ut.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),ut.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),ut.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),ut.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),ut.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),ut.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),ut.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},ns=function(){return ut.createElement(Rt,{size:16},ut.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),ut.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},Ts=function(){return ut.createElement(Rt,{size:16},ut.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),ut.createElement("path",{d:"M6 4.5L6 0.5"}),ut.createElement("path",{d:"M18 4.5L18 0.5"}),ut.createElement("path",{d:"M10 4.5L10 0.5"}),ut.createElement("path",{d:"M14 4.5L14 0.5"}))},ls=function(){return ut.createElement(Rt,{size:16},ut.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),ut.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),ut.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},eo=function(){return ut.createElement(Rt,{size:16},ut.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Qs=function(Ht){var un=Ht.annotation,bn=Ht.childAnnotation,Rn=Ht.page,Cn=Ht.viewport,In=un.hasPopup===!1,Bn=Vn(un),Fn=Ln(un),Tn=!!(un.hasPopup||Bn||Fn),Nn=un.name?un.name.toLowerCase():"";return ut.createElement(Or,{annotation:un,hasPopup:In,ignoreBorder:!1,isRenderable:Tn,page:Rn,viewport:Cn},function($n){return ut.createElement(ut.Fragment,null,ut.createElement("div",mt({},$n.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":un.id,onClick:$n.popup.toggleOnClick,onMouseEnter:$n.popup.openOnHover,onMouseLeave:$n.popup.closeOnHover}),Nn&&ut.createElement("div",{className:"rpv-core__annotation-text-icon"},Nn==="check"&&ut.createElement(wt,null),Nn==="comment"&&ut.createElement(Xr,null),Nn==="help"&&ut.createElement(Qr,null),Nn==="insert"&&ut.createElement(eo,null),Nn==="key"&&ut.createElement(ns,null),Nn==="note"&&ut.createElement(Ts,null),(Nn==="newparagraph"||Nn==="paragraph")&&ut.createElement(ls,null)),$n.slot.children),bn&&bn.annotationType===ot.AnnotationType.Popup&&$n.popup.opened&&ut.createElement(Ir,{annotation:bn,page:Rn,viewport:Cn}))})},Js=function(Ht){var un=Ht.annotation,bn=Ht.page,Rn=Ht.viewport,Cn=un.hasPopup===!1,In=Vn(un),Bn=Ln(un),Fn=!!(un.hasPopup||In||Bn);return ut.createElement(Or,{annotation:un,hasPopup:Cn,ignoreBorder:!0,isRenderable:Fn,page:bn,viewport:Rn},function(Tn){return ut.createElement("div",mt({},Tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":un.id,onClick:Tn.popup.toggleOnClick,onMouseEnter:Tn.popup.openOnHover,onMouseLeave:Tn.popup.closeOnHover}),Tn.slot.children)})},fo=function(Ht){var un=Ht.annotations,bn=Ht.doc,Rn=Ht.outlines,Cn=Ht.page,In=Ht.pageIndex,Bn=Ht.plugins,Fn=Ht.rotation,Tn=Ht.scale,Nn=Ht.onExecuteNamedAction,$n=Ht.onJumpFromLinkAnnotation,ar=Ht.onJumpToDest,ir=ut.useRef(),sr=Cn.getViewport({rotation:Fn,scale:Tn}).clone({dontFlip:!0}),xr=un.filter(function(cr){return!cr.parentId});return bt(function(){var cr=ir.current;cr&&Bn.forEach(function(hr){hr.onAnnotationLayerRender&&hr.onAnnotationLayerRender({annotations:xr,container:cr,pageIndex:In,rotation:Fn,scale:Tn})})},[]),ut.createElement("div",{ref:ir,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(In)},xr.map(function(cr){var hr=un.find(function(es){return es.parentId===cr.id});switch(cr.annotationType){case ot.AnnotationType.Caret:return ut.createElement(vn,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Circle:return ut.createElement(tr,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.FileAttachment:return ut.createElement(dr,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.FreeText:return ut.createElement(Rr,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Highlight:return ut.createElement(_r,{key:cr.id,annotation:cr,childAnnotation:hr,page:Cn,viewport:sr});case ot.AnnotationType.Ink:return ut.createElement(yn,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Line:return ut.createElement(fn,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Link:return ut.createElement(Sr,{key:cr.id,annotation:cr,annotationContainerRef:ir,doc:bn,outlines:Rn,page:Cn,pageIndex:In,scale:Tn,viewport:sr,onExecuteNamedAction:Nn,onJumpFromLinkAnnotation:$n,onJumpToDest:ar});case ot.AnnotationType.Polygon:return ut.createElement(wr,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Polyline:return ut.createElement(pr,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Popup:return ut.createElement(Ir,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Square:return ut.createElement(Zr,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Squiggly:return ut.createElement(Ar,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Stamp:return ut.createElement(Pr,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.StrikeOut:return ut.createElement(Br,{key:cr.id,annotation:cr,page:Cn,viewport:sr});case ot.AnnotationType.Text:return ut.createElement(Qs,{key:cr.id,annotation:cr,childAnnotation:hr,page:Cn,viewport:sr});case ot.AnnotationType.Underline:return ut.createElement(Js,{key:cr.id,annotation:cr,page:Cn,viewport:sr});default:return ut.createElement(ut.Fragment,{key:cr.id})}}))},Hl=function(Ht){var un=Ht.page,bn=Ht.renderAnnotations,Rn=Qt(),Cn=ut.useState({loading:!0,annotations:[]}),In=Cn[0],Bn=Cn[1];return ut.useEffect(function(){un.getAnnotations({intent:"display"}).then(function(Fn){Rn.current&&Bn({loading:!1,annotations:Fn})})},[]),In.loading?ut.createElement(ut.Fragment,null):bn(In.annotations)},Ho=function(Ht){var un=Ht.doc,bn=Ht.outlines,Rn=Ht.page,Cn=Ht.pageIndex,In=Ht.plugins,Bn=Ht.rotation,Fn=Ht.scale,Tn=Ht.onExecuteNamedAction,Nn=Ht.onJumpFromLinkAnnotation,$n=Ht.onJumpToDest;return ut.createElement(Hl,{page:Rn,renderAnnotations:function(ar){return ut.createElement(fo,{annotations:ar,doc:un,outlines:bn,page:Rn,pageIndex:Cn,plugins:In,rotation:Bn,scale:Fn,onExecuteNamedAction:Tn,onJumpFromLinkAnnotation:Nn,onJumpToDest:$n})}})},po=function(Ht,un){var bn=Ht%un;return bn===0?Ht:Math.floor(Ht-bn)},_l=function(Ht){var un=Ht.canvasLayerRef,bn=Ht.height,Rn=Ht.page,Cn=Ht.pageIndex,In=Ht.plugins,Bn=Ht.rotation,Fn=Ht.scale,Tn=Ht.width,Nn=Ht.onRenderCanvasCompleted,$n=ut.useRef();return bt(function(){var ar=$n.current;ar&&ar.cancel();var ir=un.current;ir.removeAttribute("data-testid"),In.forEach(function(qr){qr.onCanvasLayerRender&&qr.onCanvasLayerRender({ele:ir,pageIndex:Cn,rotation:Bn,scale:Fn,status:ot.LayerRenderStatus.PreRender})});var sr=Rn.getViewport({rotation:Bn,scale:Fn}),xr=window.devicePixelRatio||1,cr=Math.sqrt(16777216/(sr.width*sr.height)),hr=xr>cr;hr?ir.style.transform="scale(1, 1)":ir.style.removeProperty("transform");var es=Math.min(cr,xr),$r=function(qr,ys){var cs,xs;if(Math.floor(qr)===qr)return[qr,1];var bs=1/qr;if(bs>ys)return[1,ys];if(Math.floor(bs)===bs)return[1,bs];for(var us=qr>1?bs:qr,Hs=0,Ds=1,Ls=1,Ns=1;;){var Fs=Hs+Ls,Ss=Ds+Ns;if(Ss>ys)break;us<=Fs/Ss?(Ls=(cs=[Fs,Ss])[0],Ns=cs[1]):(Hs=(xs=[Fs,Ss])[0],Ds=xs[1])}return us<(Hs/Ds+Ls/Ns)/2?us===qr?[Hs,Ds]:[Ds,Hs]:us===qr?[Ls,Ns]:[Ns,Ls]}(es,8),Ur=$r[0],Wr=$r[1];ir.width=po(sr.width*es,Ur),ir.height=po(sr.height*es,Ur),ir.style.width="".concat(po(sr.width,Wr),"px"),ir.style.height="".concat(po(sr.height,Wr),"px"),ir.hidden=!0;var Nr=ir.getContext("2d",{alpha:!1}),Jr=hr||xr!==1?[es,0,0,es,0,0]:null;return $n.current=Rn.render({canvasContext:Nr,transform:Jr,viewport:sr}),$n.current.promise.then(function(){ir.hidden=!1,ir.setAttribute("data-testid","core__canvas-layer-".concat(Cn)),In.forEach(function(qr){qr.onCanvasLayerRender&&qr.onCanvasLayerRender({ele:ir,pageIndex:Cn,rotation:Bn,scale:Fn,status:ot.LayerRenderStatus.DidRender})}),Nn()},function(){Nn()}),function(){ir&&(ir.width=0,ir.height=0)}},[]),ut.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(bn,"px"),width:"".concat(Tn,"px")}},ut.createElement("canvas",{ref:un}))},No=function(Ht){var un=Ht.height,bn=Ht.page,Rn=Ht.rotation,Cn=Ht.scale,In=Ht.width,Bn=ut.useRef();return bt(function(){var Fn=Bn.current,Tn=bn.getViewport({rotation:Rn,scale:Cn});bn.getOperatorList().then(function(Nn){(function(){var $n=Bn.current;$n&&($n.innerHTML="")})(),new dt.SVGGraphics(bn.commonObjs,bn.objs).getSVG(Nn,Tn).then(function($n){$n.style.height="".concat(un,"px"),$n.style.width="".concat(In,"px"),Fn.appendChild($n)})})},[]),ut.createElement("div",{className:"rpv-core__svg-layer",ref:Bn})},_o=function(Ht){var un=Ht.containerRef,bn=Ht.page,Rn=Ht.pageIndex,Cn=Ht.plugins,In=Ht.rotation,Bn=Ht.scale,Fn=Ht.onRenderTextCompleted,Tn=ut.useRef(),Nn=function(){var $n=un.current;$n&&([].slice.call($n.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(ar){return $n.removeChild(ar)}),[].slice.call($n.querySelectorAll('br[role="presentation"]')).forEach(function(ar){return $n.removeChild(ar)}))};return bt(function(){var $n=Tn.current;$n&&$n.cancel();var ar=un.current;if(ar){ar.removeAttribute("data-testid");var ir=bn.getViewport({rotation:In,scale:Bn});return Cn.forEach(function(sr){sr.onTextLayerRender&&sr.onTextLayerRender({ele:ar,pageIndex:Rn,scale:Bn,status:ot.LayerRenderStatus.PreRender})}),bn.getTextContent().then(function(sr){Nn(),Tn.current=dt.renderTextLayer({container:ar,textContent:sr,textContentSource:sr,viewport:ir}),Tn.current.promise.then(function(){ar.setAttribute("data-testid","core__text-layer-".concat(Rn)),[].slice.call(ar.children).forEach(function(xr){xr.classList.contains("rpv-core__text-layer-text--not")||xr.classList.add("rpv-core__text-layer-text")}),Cn.forEach(function(xr){xr.onTextLayerRender&&xr.onTextLayerRender({ele:ar,pageIndex:Rn,scale:Bn,status:ot.LayerRenderStatus.DidRender})}),Fn()},function(){ar.removeAttribute("data-testid"),Fn()})}),function(){var sr;Nn(),(sr=Tn.current)===null||sr===void 0||sr.cancel()}}},[]),ut.createElement("div",{className:"rpv-core__text-layer",ref:un})},El=function(Ht){var un=Ht.doc,bn=Ht.measureRef,Rn=Ht.outlines,Cn=Ht.pageIndex,In=Ht.pageRotation,Bn=Ht.pageSize,Fn=Ht.plugins,Tn=Ht.renderPage,Nn=Ht.renderQueueKey,$n=Ht.rotation,ar=Ht.scale,ir=Ht.shouldRender,sr=Ht.viewMode,xr=Ht.onExecuteNamedAction,cr=Ht.onJumpFromLinkAnnotation,hr=Ht.onJumpToDest,es=Ht.onRenderCompleted,$r=Ht.onRotatePage,Ur=Qt(),Wr=ut.useState(null),Nr=Wr[0],Jr=Wr[1],qr=ut.useState(!1),ys=qr[0],cs=qr[1],xs=ut.useState(!1),bs=xs[0],us=xs[1],Hs=ut.useRef(),Ds=ut.useRef(),Ls=Math.abs($n+In)%180==0,Ns=Bn.pageWidth*ar,Fs=Bn.pageHeight*ar,Ss=Ls?Ns:Fs,Ms=Ls?Fs:Ns,Ks=(Bn.rotation+$n+In)%360,Zs=ut.useRef(0),lo=Tn||function(Gs){return ut.createElement(ut.Fragment,null,Gs.canvasLayer.children,Gs.textLayer.children,Gs.annotationLayer.children)};return ut.useEffect(function(){Jr(null),cs(!1),us(!1)},[In,$n,ar]),ut.useEffect(function(){ir&&Ur.current&&!Nr&&br(un,Cn).then(function(Gs){Ur.current&&(Zs.current=Nn,Jr(Gs))})},[ir,Nr]),ut.useEffect(function(){ys&&bs&&(Nn!==Zs.current?(Jr(null),cs(!1),us(!1)):es(Cn))},[ys,bs]),ut.createElement("div",{className:xt({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":sr===ot.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":sr===ot.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":sr===ot.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Cn),ref:bn,style:{height:"".concat(Ms,"px"),width:"".concat(Ss,"px")}},Nr?ut.createElement(ut.Fragment,null,lo({annotationLayer:{attrs:{},children:ut.createElement(Ho,{doc:un,outlines:Rn,page:Nr,pageIndex:Cn,plugins:Fn,rotation:Ks,scale:ar,onExecuteNamedAction:xr,onJumpFromLinkAnnotation:cr,onJumpToDest:hr})},canvasLayer:{attrs:{},children:ut.createElement(_l,{canvasLayerRef:Hs,height:Ms,page:Nr,pageIndex:Cn,plugins:Fn,rotation:Ks,scale:ar,width:Ss,onRenderCanvasCompleted:function(){Ur.current&&cs(!0)}})},canvasLayerRendered:ys,doc:un,height:Ms,pageIndex:Cn,rotation:Ks,scale:ar,svgLayer:{attrs:{},children:ut.createElement(No,{height:Ms,page:Nr,rotation:Ks,scale:ar,width:Ss})},textLayer:{attrs:{},children:ut.createElement(_o,{containerRef:Ds,page:Nr,pageIndex:Cn,plugins:Fn,rotation:Ks,scale:ar,onRenderTextCompleted:function(){Ur.current&&us(!0)}})},textLayerRendered:bs,width:Ss,markRendered:es,onRotatePage:function(Gs){return $r(Cn,Gs)}}),Fn.map(function(Gs,ro){return Gs.renderPageLayer?ut.createElement(ut.Fragment,{key:ro},Gs.renderPageLayer({canvasLayerRef:Hs,canvasLayerRendered:ys,doc:un,height:Ms,pageIndex:Cn,rotation:Ks,scale:ar,textLayerRef:Ds,textLayerRendered:bs,width:Ss})):ut.createElement(ut.Fragment,{key:ro})})):ut.createElement(At,{testId:"core__page-layer-loading-".concat(Cn)}))},zl=function(Ht,un){var bn=un.rect;return Ht.height!==bn.height||Ht.width!==bn.width?bn:Ht};(function(Ht){Ht.Horizontal="Horizontal",Ht.Vertical="Vertical",Ht.Both="Both"})(Tr||(Tr={}));var Dl=function(Ht){return 1-Math.pow(1-Ht,4)},zo=1e-4,wl={left:0,top:0},ga={capture:!1,passive:!0},Rl=function(Ht){var un=Ht.elementRef,bn=Ht.enableSmoothScroll,Rn=Ht.isRtl,Cn=Ht.scrollDirection,In=Ht.onSmoothScroll,Bn=ut.useState(wl),Fn=Bn[0],Tn=Bn[1],Nn=ut.useState(un.current),$n=Nn[0],ar=Nn[1],ir=Rn?-1:1,sr=ut.useRef(Cn);sr.current=Cn;var xr=ut.useRef(wl),cr=ut.useRef(!0),hr=ut.useCallback(function(){cr.current=!0,bn&&Tn(xr.current),In(!1)},[]),es=ut.useCallback(function(){if($n){switch(sr.current){case Tr.Horizontal:xr.current={left:ir*$n.scrollLeft,top:0};break;case Tr.Both:xr.current={left:ir*$n.scrollLeft,top:$n.scrollTop};break;case Tr.Vertical:default:xr.current={left:0,top:$n.scrollTop}}bn&&!cr.current||Tn(xr.current)}},[$n]);bt(function(){ar(un.current)}),bt(function(){if($n)return $n.addEventListener("scroll",es,ga),function(){$n.removeEventListener("scroll",es,ga)}},[$n]);var $r=ut.useCallback(function(Ur,Wr){var Nr=un.current;if(!Nr)return Promise.resolve();var Jr={left:0,top:0};switch(sr.current){case Tr.Horizontal:Jr.left=ir*Ur.left;break;case Tr.Both:Jr.left=ir*Ur.left,Jr.top=Ur.top;break;case Tr.Vertical:default:Jr.top=Ur.top}return Wr?(cr.current=!1,In(!0),new Promise(function(qr,ys){(function(cs,xs,bs,us,Hs,Ds){Hs===void 0&&(Hs=function(ro){return ro}),Ds===void 0&&(Ds=function(){});var Ls=0,Ns=0,Fs=!1;switch(xs){case Tr.Horizontal:Ns=cs.scrollLeft,Ls=0;case Tr.Both:Ns=cs.scrollLeft,Ls=cs.scrollTop;break;case Tr.Vertical:default:Ns=0,Ls=cs.scrollTop}var Ss=function(){Fs||(Fs=!0,cs.scrollLeft=bs.left,cs.scrollTop=bs.top,Ds())};if(Math.abs(Ls-bs.top)<=zo&&xs===Tr.Vertical)Ss();else if(Math.abs(Ns-bs.left)<=zo&&xs===Tr.Horizontal)Ss();else{var Ms,Ks=-1,Zs=Ns-bs.left,lo=Ls-bs.top,Gs=function(ro){Ks===-1&&(Ks=ro);var bo=ro-Ks,Gr=Math.min(bo/us,1),Dr=Hs(Gr),Lr={left:Ns-Zs*Dr,top:Ls-lo*Dr};switch(xs){case Tr.Horizontal:cs.scrollLeft=Lr.left;break;case Tr.Both:cs.scrollLeft=Lr.left,cs.scrollTop=Lr.top;break;case Tr.Vertical:default:cs.scrollTop=Lr.top}Math.abs(Lr.top-bs.top)<=zo&&Math.abs(Lr.left-bs.left)<=zo&&!Fs&&(window.cancelAnimationFrame(Ms),Ss()),bo<us?Ms=window.requestAnimationFrame(Gs):window.cancelAnimationFrame(Ms)};Ms=window.requestAnimationFrame(Gs)}})(Nr,sr.current,Jr,400,Dl,function(){hr(),qr()})})):new Promise(function(qr,ys){switch(sr.current){case Tr.Horizontal:Nr.scrollLeft=Jr.left;break;case Tr.Both:Nr.scrollLeft=Jr.left,Nr.scrollTop=Jr.top;break;case Tr.Vertical:default:Nr.scrollTop=Jr.top}qr()})},[un]);return{scrollOffset:Fn,scrollTo:$r}},Mo=function(Ht,un,bn){return Math.max(Ht,Math.min(bn,un))},Nl=function(Ht,un){if(un!==ot.ViewMode.DualPageWithCover)return 0;if(!function(Cn){var In=Cn.length;if(In===1)return!1;for(var Bn=1;Bn<In;Bn++)if(Cn[Bn].height!==Cn[0].height||Cn[Bn].width!==Cn[0].width)return!0;return!1}(Ht))return 2*Ht[0].width;var bn=xn(Ht.slice(1),2).map(function(Cn){return Cn.length===2?Cn[0].width+Cn[1].width:Cn[0].width}),Rn=[Ht[0].width].concat(bn);return Math.max.apply(Math,Rn)},Wl={left:0,top:0},mo={left:0,top:0},to={left:0,top:0},So={left:0,top:0},oo={height:0,width:0},go={left:0,top:0},ao="data-virtual-index",io=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],yo=function(Ht){var un=Ht.enableSmoothScroll,bn=Ht.isRtl,Rn=Ht.numberOfItems,Cn=Ht.parentRef,In=Ht.setRenderRange,Bn=Ht.sizes,Fn=Ht.scrollMode,Tn=Ht.viewMode,Nn=ut.useState(!1),$n=Nn[0],ar=Nn[1],ir=ut.useCallback(function(Gr){return ar(Gr)},[]),sr=ut.useRef(Fn);sr.current=Fn;var xr=ut.useRef(Tn);xr.current=Tn;var cr=Fn===ot.ScrollMode.Wrapped||Tn===ot.ViewMode.DualPageWithCover||Tn===ot.ViewMode.DualPage?Tr.Both:Fn===ot.ScrollMode.Horizontal?Tr.Horizontal:Tr.Vertical,hr=Rl({elementRef:Cn,enableSmoothScroll:un,isRtl:bn,scrollDirection:cr,onSmoothScroll:ir}),es=hr.scrollOffset,$r=hr.scrollTo,Ur=function(Gr){var Dr=Gr.elementRef,Lr=ut.useState(Dr.current),Mr=Lr[0],Cr=Lr[1],vt=ut.useRef(!1),Lt=ut.useReducer(zl,{height:0,width:0}),Ut=Lt[0],ln=Lt[1];return bt(function(){Dr.current!==Mr&&Cr(Dr.current)}),bt(function(){if(Mr&&!vt.current){vt.current=!0;var Mn=Mr.getBoundingClientRect(),Yn=Mn.height,ur=Mn.width;ln({rect:{height:Yn,width:ur}})}},[Mr]),ut.useEffect(function(){if(Mr){var Mn=new ResizeObserver(function(Yn,ur){Yn.forEach(function(ts){if(ts.target===Mr){var _s=ts.contentRect,os=_s.height,jr=_s.width;ln({rect:{height:os,width:jr}})}})});return Mn.observe(Mr),function(){Mn.unobserve(Mr)}}},[Mr]),Ut}({elementRef:Cn}),Wr=ut.useRef({scrollOffset:go,measurements:[]});Wr.current.scrollOffset=es;var Nr=ut.useMemo(function(){return Array(Rn).fill(-1)},[]),Jr=ut.useState(Nr),qr=Jr[0],ys=Jr[1],cs=ut.useMemo(function(){var Gr=new IntersectionObserver(function(Dr){Dr.forEach(function(Lr){var Mr=Lr.isIntersecting?Lr.intersectionRatio:-1,Cr=Lr.target.getAttribute(ao);if(Cr){var vt=parseInt(Cr,10);0<=vt&&vt<Rn&&ys(function(Lt){return Lt[vt]=Mr,function(Ut,ln,Mn){for(var Yn,ur=0,ts=ln.length;ur<ts;ur++)!Yn&&ur in ln||(Yn||(Yn=Array.prototype.slice.call(ln,0,ur)),Yn[ur]=ln[ur]);return Ut.concat(Yn||Array.prototype.slice.call(ln))}([],Lt)})}})},{threshold:io});return Gr},[]),xs=ut.useMemo(function(){return Fn===ot.ScrollMode.Page&&Tn===ot.ViewMode.SinglePage?function(Gr,Dr,Lr){for(var Mr=[],Cr=0;Cr<Gr;Cr++){var vt={height:Math.max(Dr.height,Lr[Cr].height),width:Math.max(Dr.width,Lr[Cr].width)},Lt=Cr===0?So:Mr[Cr-1].end,Ut={left:Lt.left+vt.width,top:Lt.top+vt.height};Mr[Cr]={index:Cr,start:Lt,size:vt,end:Ut,visibility:-1}}return Mr}(Rn,Ur,Bn):Tn===ot.ViewMode.DualPageWithCover?function(Gr,Dr,Lr,Mr){for(var Cr=[],vt=0,Lt=0,Ut=to,ln=0;ln<Gr;ln++){var Mn=ln===0?{height:Mr===ot.ScrollMode.Page?Math.max(Dr.height,Lr[ln].height):Lr[ln].height,width:Mr===ot.ScrollMode.Page?Math.max(Dr.width,Lr[ln].width):Lr[ln].width}:{height:Mr===ot.ScrollMode.Page?Math.max(Dr.height,Lr[ln].height):Lr[ln].height,width:Math.max(Dr.width/2,Lr[ln].width)};Mr===ot.ScrollMode.Page?Ut=ln===0?to:{left:ln%2==0?Mn.width:0,top:Math.floor((ln-1)/2)*Mn.height+Cr[0].end.top}:ln===0?(Ut=to,vt=Lr[0].height,Lt=0):ln%2==1?(Ut={left:0,top:vt+=Lt},Lt=ln===Gr-1?Lr[ln].height:Math.max(Lr[ln].height,Lr[ln+1].height)):Ut={left:Cr[ln-1].end.left,top:vt};var Yn={left:Ut.left+Mn.width,top:Ut.top+Mn.height};Cr[ln]={index:ln,start:Ut,size:Mn,end:Yn,visibility:-1}}return Cr}(Rn,Ur,Bn,Fn):Tn===ot.ViewMode.DualPage?function(Gr,Dr,Lr,Mr){for(var Cr=[],vt=0,Lt=0,Ut=mo,ln=0;ln<Gr;ln++){var Mn={height:Mr===ot.ScrollMode.Page?Math.max(Dr.height,Lr[ln].height):Lr[ln].height,width:Math.max(Dr.width/2,Lr[ln].width)};Mr===ot.ScrollMode.Page?Ut={left:ln%2==0?0:Mn.width,top:Math.floor(ln/2)*Mn.height}:ln%2==0?(Ut={left:0,top:vt+=Lt},Lt=ln===Gr-1?Lr[ln].height:Math.max(Lr[ln].height,Lr[ln+1].height)):Ut={left:Cr[ln-1].end.left,top:vt};var Yn={left:Ut.left+Mn.width,top:Ut.top+Mn.height};Cr[ln]={index:ln,start:Ut,size:Mn,end:Yn,visibility:-1}}return Cr}(Rn,Ur,Bn,Fn):function(Gr,Dr,Lr,Mr){for(var Cr=[],vt=0,Lt={left:0,top:0},Ut=0,ln=Wl,Mn=0;Mn<Gr;Mn++){var Yn=Lr[Mn];if(Mn===0)vt=Yn.width,Lt={left:0,top:0},Ut=Yn.height;else switch(Mr){case ot.ScrollMode.Wrapped:(vt+=Yn.width)<Dr.width?(ln={left:Cr[Mn-1].end.left,top:Lt.top},Ut=Math.max(Ut,Yn.height)):(vt=Yn.width,Lt={left:(ln={left:Lt.left,top:Lt.top+Ut}).left,top:ln.top},Ut=Yn.height);break;case ot.ScrollMode.Horizontal:case ot.ScrollMode.Vertical:default:ln=Cr[Mn-1].end}var ur={left:ln.left+Yn.width,top:ln.top+Yn.height};Cr[Mn]={index:Mn,start:ln,size:Yn,end:ur,visibility:-1}}return Cr}(Rn,Ur,Bn,Fn)},[Fn,Bn,Tn,Ur]),bs=xs[Rn-1]?{height:xs[Rn-1].end.top,width:xs[Rn-1].end.left}:oo;Wr.current.measurements=xs;var us=ut.useMemo(function(){var Gr=function(Mn,Yn,ur,ts){var _s=0;switch(Mn){case Tr.Horizontal:_s=ts.left;break;case Tr.Vertical:default:_s=ts.top}var os=Yn.length-1,jr=function(As,Vo,$o,Gl){for(;As<=Vo;){var _a=(As+Vo)/2|0,Sl=Gl(_a);if(Sl<$o)As=_a+1;else{if(!(Sl>$o))return _a;Vo=_a-1}}return As>0?As-1:0}(0,os,_s,function(As){switch(Mn){case Tr.Horizontal:return Yn[As].start.left;case Tr.Both:case Tr.Vertical:default:return Yn[As].start.top}});if(Mn===Tr.Both)for(var Es=Yn[jr].start.top;jr-1>=0&&Yn[jr-1].start.top===Es&&Yn[jr-1].start.left>=ts.left;)jr--;for(var ws=jr;ws<=os;){var ps={top:Yn[ws].start.top-ts.top,left:Yn[ws].start.left-ts.left},zs={height:ur.height-ps.top,width:ur.width-ps.left};if(Mn===Tr.Horizontal&&zs.width<0||Mn===Tr.Vertical&&zs.height<0||Mn===Tr.Both&&(zs.width<0||zs.height<0))break;ws++}return{start:jr,end:ws}}(cr,xs,Ur,es),Dr=Gr.start,Lr=Gr.end,Mr=qr.slice(Mo(0,Rn,Dr),Mo(0,Rn,Lr)),Cr=Dr+Mr.reduce(function(Mn,Yn,ur,ts){return Yn>ts[Mn]?ur:Mn},0),vt=Cr=Mo(0,Rn-1,Cr),Lt=In({endPage:Lr,numPages:Rn,startPage:Dr}),Ut=Lt.startPage,ln=Lt.endPage;switch(Ut=Math.max(Ut,0),ln=Math.min(ln,Rn-1),Tn){case ot.ViewMode.DualPageWithCover:Cr>0&&(vt=Cr%2==1?Cr:Cr-1),Ut=Ut===0?0:Ut%2==1?Ut:Ut-1,Rn-(ln=ln%2==1?ln-1:ln)<=2&&(ln=Rn-1);break;case ot.ViewMode.DualPage:vt=Cr%2==0?Cr:Cr-1,Ut=Ut%2==0?Ut:Ut-1,ln=ln%2==1?ln:ln-1;break;case ot.ViewMode.SinglePage:default:vt=Cr}return{startPage:Ut,endPage:ln,maxVisbilityIndex:vt}},[xs,Ur,es,Tn,qr]),Hs=us.startPage,Ds=us.endPage,Ls=us.maxVisbilityIndex,Ns=ut.useMemo(function(){for(var Gr=[],Dr=function(Mr){var Cr=xs[Mr],vt=mt(mt({},Cr),{visibility:qr[Mr]!==void 0?qr[Mr]:-1,measureRef:function(Lt){Lt&&(Lt.setAttribute(ao,"".concat(Mr)),cs.observe(Lt))}});Gr.push(vt)},Lr=Hs;Lr<=Ds;Lr++)Dr(Lr);return Gr},[Hs,Ds,qr,xs]),Fs=ut.useCallback(function(Gr,Dr){var Lr=Wr.current.measurements[Mo(0,Rn-1,Gr)],Mr=sr.current===ot.ScrollMode.Page?go:Dr;return Lr?$r({left:Mr.left+Lr.start.left,top:Mr.top+Lr.start.top},un):Promise.resolve()},[$r,un]),Ss=ut.useCallback(function(Gr,Dr){var Lr=Wr.current.measurements,Mr=Lr[Gr].start,Cr=Lr.find(function(Lt){return Lt.start.top-Mr.top>1e-12});if(!Cr)return Promise.resolve();var vt=Cr.index;switch(xr.current){case ot.ViewMode.DualPage:vt=vt%2==0?vt:vt+1;break;case ot.ViewMode.DualPageWithCover:vt=vt%2==1?vt:vt+1}return Fs(vt,Dr)},[]),Ms=ut.useCallback(function(Gr,Dr){for(var Lr=Wr.current.measurements,Mr=Lr[Gr].start,Cr=Gr,vt=!1,Lt=Rn-1;Lt>=0;Lt--)if(Mr.top-Lr[Lt].start.top>1e-12){vt=!0,Cr=Lr[Lt].index;break}if(!vt)return Promise.resolve();switch(xr.current){case ot.ViewMode.DualPage:Cr=Cr%2==0?Cr:Cr-1;break;case ot.ViewMode.DualPageWithCover:Cr=Cr%2==0?Cr-1:Cr}return Cr===Gr&&(Cr=Gr-1),Fs(Cr,Dr)},[]),Ks=ut.useCallback(function(Gr,Dr){if(xr.current===ot.ViewMode.DualPageWithCover||xr.current===ot.ViewMode.DualPage)return Ss(Gr,Dr);switch(sr.current){case ot.ScrollMode.Wrapped:return Ss(Gr,Dr);case ot.ScrollMode.Horizontal:case ot.ScrollMode.Vertical:default:return Fs(Gr+1,Dr)}},[]),Zs=ut.useCallback(function(Gr,Dr){if(xr.current===ot.ViewMode.DualPageWithCover||xr.current===ot.ViewMode.DualPage)return Ms(Gr,Dr);switch(sr.current){case ot.ScrollMode.Wrapped:return Ms(Gr,Dr);case ot.ScrollMode.Horizontal:case ot.ScrollMode.Vertical:default:return Fs(Gr-1,Dr)}},[]),lo=ut.useCallback(function(){return function(Gr,Dr){switch(Dr){case ot.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Gr.width,"px")};case ot.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Gr.height,"px"),width:"100%"}}}(bs,sr.current)},[bs]),Gs=ut.useCallback(function(Gr){return function(Dr,Lr,Mr){return Mr!==ot.ScrollMode.Page?{}:{height:"".concat(Lr.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Dr.start.top,"px)")}}(Gr,Ur,sr.current)},[Ur]),ro=ut.useCallback(function(Gr){return function(Dr,Lr,Mr,Cr,vt){var Lt,Ut,ln,Mn,Yn,ur,ts,_s=Lr?"right":"left",os=Lr?-1:1,jr=Mr.length,Es=Dr.start.left*os,ws=Dr.size,ps=ws.height,zs=ws.width;if(Cr===ot.ViewMode.DualPageWithCover){var As=vt===ot.ScrollMode.Page?0:Dr.start.top;return Dr.index===0||jr%2==0&&Dr.index===jr-1?((Lt={height:"".concat(ps,"px"),minWidth:"".concat(Nl(Mr,Cr),"px"),width:"100%"})[_s]=0,Lt.position="absolute",Lt.top=0,Lt.transform="translate(".concat(Es,"px, ").concat(As,"px)"),Lt):((Ut={height:"".concat(ps,"px"),width:"".concat(zs,"px")})[_s]=0,Ut.position="absolute",Ut.top=0,Ut.transform="translate(".concat(Es,"px, ").concat(As,"px)"),Ut)}if(Cr===ot.ViewMode.DualPage)return(ln={height:"".concat(ps,"px"),width:"".concat(zs,"px")})[_s]=0,ln.position="absolute",ln.top=0,ln.transform="translate(".concat(Es,"px, ").concat(vt===ot.ScrollMode.Page?0:Dr.start.top,"px)"),ln;switch(vt){case ot.ScrollMode.Horizontal:return(Mn={height:"100%",width:"".concat(zs,"px")})[_s]=0,Mn.position="absolute",Mn.top=0,Mn.transform="translateX(".concat(Es,"px)"),Mn;case ot.ScrollMode.Page:return(Yn={height:"".concat(ps,"px"),width:"".concat(zs,"px")})[_s]=0,Yn.position="absolute",Yn.top=0,Yn;case ot.ScrollMode.Wrapped:return(ur={height:"".concat(ps,"px"),width:"".concat(zs,"px")})[_s]=0,ur.position="absolute",ur.top=0,ur.transform="translate(".concat(Es,"px, ").concat(Dr.start.top,"px)"),ur;case ot.ScrollMode.Vertical:default:return(ts={height:"".concat(ps,"px"),width:"100%"})[_s]=0,ts.position="absolute",ts.top=0,ts.transform="translateY(".concat(Dr.start.top,"px)"),ts}}(Gr,bn,Bn,xr.current,sr.current)},[bn,Bn]),bo=ut.useCallback(function(Gr,Dr){var Lr=Wr.current,Mr=Lr.measurements,Cr=Lr.scrollOffset,vt=Mr[Mo(0,Rn-1,Dr)];if(vt){var Lt=sr.current===ot.ScrollMode.Page?{left:vt.start.left,top:vt.start.top}:{left:Cr.left*Gr,top:Cr.top*Gr};return $r(Lt,!1)}return Promise.resolve()},[]);return ut.useEffect(function(){return function(){cs.disconnect()}},[]),{boundingClientRect:Ur,isSmoothScrolling:$n,startPage:Hs,endPage:Ds,maxVisbilityIndex:Ls,virtualItems:Ns,getContainerStyles:lo,getItemContainerStyles:Gs,getItemStyles:ro,scrollToItem:Fs,scrollToNextItem:Ks,scrollToPreviousItem:Zs,zoom:bo}},Oo=function(Ht,un,bn,Rn,Cn,In){var Bn=bn;switch(!0){case(Cn===ot.ViewMode.DualPageWithCover&&In>=3):case(Cn===ot.ViewMode.DualPage&&In>=3):Bn=2*bn;break;default:Bn=bn}switch(Rn){case ot.SpecialZoomLevel.ActualSize:return 1;case ot.SpecialZoomLevel.PageFit:return Math.min((Ht.clientWidth-17)/Bn,(Ht.clientHeight-16)/un);case ot.SpecialZoomLevel.PageWidth:return(Ht.clientWidth-17)/Bn}},Is=function(Ht){var un,bn,Rn=Ht.getCurrentPage,Cn=(un=50,bn=ut.useRef([]),ut.useEffect(function(){return function(){bn.current=[]}},[]),{push:function(Nn){var $n=bn.current;$n.length+1>un&&$n.shift(),$n.push(Nn),bn.current=$n},map:function(Nn){return bn.current.map(function($n){return Nn($n)})},pop:function(){var Nn=bn.current;if(Nn.length===0)return null;var $n=Nn.pop();return bn.current=Nn,$n}}),In=function(Nn){var $n=ut.useRef([]);return ut.useEffect(function(){return function(){$n.current=[]}},[]),{dequeue:function(){var ar=$n.current;if(ar.length===0)return null;var ir=ar.shift();return $n.current=ar,ir||null},enqueue:function(ar){var ir=$n.current;ir.length+1>Nn&&ir.pop(),$n.current=[ar].concat(ir)},map:function(ar){return $n.current.map(function(ir){return ar(ir)})}}}(50),Bn=function(){var Nn=In.dequeue();return Nn&&Cn.push(Nn),Nn&&Nn.pageIndex===Rn()?Bn():Nn},Fn=function(){var Nn=Cn.pop();return Nn&&In.enqueue(Nn),Nn&&Nn.pageIndex===Rn()?Fn():Nn},Tn=ut.useCallback(function(Nn){Cn.push(Nn)},[]);return{getNextDestination:Bn,getPreviousDestination:Fn,markVisitedDestination:Tn}},Lo=function(Ht){var un=[];return Ht.map(function(bn){un=un.concat(bn).concat(function(Rn){var Cn=[];return Rn.items&&Rn.items.length>0&&(Cn=Cn.concat(Lo(Rn.items))),Cn}(bn))}),un},Fo={capture:!1,passive:!0},xo={height:0,width:0},xa={height:0,width:0},Ml=function(Ht){var un=Ht.getCurrentPage,bn=Ht.getCurrentScrollMode,Rn=Ht.jumpToPage,Cn=Ht.targetRef,In=ut.useState(ot.FullScreenMode.Normal),Bn=In[0],Fn=In[1],Tn=function(){var qr=ut.useState(xo),ys=qr[0],cs=qr[1],xs=zt(function(){cs({height:window.innerHeight,width:window.innerWidth})},100);return bt(function(){return window.addEventListener("resize",xs,Fo),function(){window.removeEventListener("resize",xs,Fo)}},[]),ys}(),Nn=ut.useState(xa),$n=Nn[0],ar=Nn[1],ir=ut.useRef(xa),sr=ut.useRef(un()),xr=ut.useRef(xa),cr=ut.useState(Cn.current),hr=cr[0],es=cr[1],$r=ut.useRef();bt(function(){Cn.current!==hr&&es(Cn.current)},[]),bt(function(){if(hr){var qr=new ResizeObserver(function(ys){ys.forEach(function(cs){var xs=cs.target.getBoundingClientRect(),bs=xs.height,us=xs.width;ar({height:bs,width:us})})});return qr.observe(hr),function(){qr.unobserve(hr),qr.disconnect()}}},[hr]);var Ur=ut.useCallback(function(qr){var ys=Mt();return ys&&ys!==qr?(Fn(ot.FullScreenMode.Normal),jt(ys)):Promise.resolve()},[]),Wr=ut.useCallback(function(qr){qr&&Dt()&&(es(qr),Ur(qr).then(function(){$r.current=qr,Fn(ot.FullScreenMode.Entering),function(ys){Ct&&ys[Ot.RequestFullScreen]()}(qr)}))},[]),Nr=ut.useCallback(function(){Mt()&&(Fn(ot.FullScreenMode.Exitting),jt(document))},[]),Jr=ut.useCallback(function(){hr&&Mt()!==hr&&Fn(ot.FullScreenMode.Exitting)},[hr]);return ut.useEffect(function(){switch(Bn){case ot.FullScreenMode.Entering:$r.current&&($r.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),sr.current=un(),ir.current={height:window.innerHeight,width:window.innerWidth};break;case ot.FullScreenMode.Entered:bn()===ot.ScrollMode.Page?Rn(sr.current).then(function(){Fn(ot.FullScreenMode.EnteredCompletely)}):Fn(ot.FullScreenMode.EnteredCompletely);break;case ot.FullScreenMode.Exitting:$r.current&&($r.current.style.backgroundColor="",$r.current=null),sr.current=un();break;case ot.FullScreenMode.Exited:Fn(ot.FullScreenMode.Normal),bn()===ot.ScrollMode.Page&&Rn(sr.current)}},[Bn]),ut.useEffect(function(){if(Bn!==ot.FullScreenMode.Normal)return Bn===ot.FullScreenMode.Entering&&Tn.height===$n.height&&Tn.width===$n.width&&Tn.height>0&&Tn.width>0&&(xr.current.height===0||Tn.height==xr.current.height)?(xr.current={height:window.innerHeight,width:window.innerWidth},void Fn(ot.FullScreenMode.Entered)):void(Bn===ot.FullScreenMode.Exitting&&ir.current.height===Tn.height&&ir.current.width===Tn.width&&Tn.height>0&&Tn.width>0&&Fn(ot.FullScreenMode.Exited))},[Bn,Tn,$n]),ut.useEffect(function(){var qr;return qr=Jr,Ct&&document.addEventListener(Ot.FullScreenChange,qr),function(){(function(ys){Ct&&document.removeEventListener(Ot.FullScreenChange,ys)})(Jr)}},[hr]),{enterFullScreenMode:Wr,exitFullScreenMode:Nr,fullScreenMode:Bn}},Eo={buildPageStyles:function(){return{}},transformSize:function(Ht){return Ht.size}},Wo={left:0,top:0},Co=function(Ht){var un=Ht.currentFile,bn=Ht.defaultScale,Rn=Ht.doc,Cn=Ht.enableSmoothScroll,In=Ht.initialPage,Bn=Ht.initialRotation,Fn=Ht.initialScale,Tn=Ht.pageLayout,Nn=Ht.pageSizes,$n=Ht.plugins,ar=Ht.renderPage,ir=Ht.scrollMode,sr=Ht.setRenderRange,xr=Ht.viewMode,cr=Ht.viewerState,hr=Ht.onDocumentLoad,es=Ht.onOpenFile,$r=Ht.onPageChange,Ur=Ht.onRotate,Wr=Ht.onRotatePage,Nr=Ht.onZoom,Jr=Rn.numPages,qr=Rn.loadingTask.docId,ys=ut.useContext(pn).l10n,cs=ut.useContext(yt),xs=cs.direction===ot.TextDirection.RightToLeft,bs=ut.useRef(),us=ut.useRef(),Hs=ut.useState(In),Ds=Hs[0],Ls=Hs[1],Ns=ut.useRef(null),Fs=Is({getCurrentPage:function(){return jr.current.pageIndex}}),Ss=ut.useState(Bn),Ms=Ss[0],Ks=Ss[1],Zs=qt(Ms),lo=ut.useState(!1),Gs=lo[0],ro=lo[1],bo=ut.useState(new Map),Gr=bo[0],Dr=bo[1],Lr=ut.useState(ir),Mr=Lr[0],Cr=Lr[1],vt=qt(Mr),Lt=ut.useState(xr),Ut=Lt[0],ln=Lt[1],Mn=qt(Ut),Yn=function(fr){var rs=Qt(),fs=ut.useState([]),Ps=fs[0],Cs=fs[1];return ut.useEffect(function(){fr.getOutline().then(function(ms){if(rs.current&&ms!==null){var Ys=Lo(ms);Cs(Ys)}})},[]),Ps}(Rn),ur=ut.useState(Fn),ts=ur[0],_s=ur[1],os=qt(ts),jr=ut.useRef(cr),Es=ut.useRef(typeof bn=="string"?bn:null),ws=ut.useRef(-1),ps=ut.useRef(-1),zs=ut.useRef(In),As=Ml({getCurrentPage:function(){return jr.current.pageIndex},getCurrentScrollMode:function(){return jr.current.scrollMode},jumpToPage:function(fr){return Xo(fr)},targetRef:us}),Vo=ut.useState(-1),$o=Vo[0],Gl=Vo[1],_a=ut.useState(0),Sl=_a[0],_h=_a[1],co=Gt({doc:Rn});ut.useEffect(function(){return function(){Qn.clear(),gr.clear()}},[qr]);var lu=ut.useMemo(function(){return Object.assign({},Eo,Tn)},[]),Au=ut.useMemo(function(){return Array(Jr).fill(0).map(function(fr,rs){var fs=[Nn[rs].pageHeight,Nn[rs].pageWidth],Ps=Math.abs(Ms)%180==0?{height:fs[0],width:fs[1]}:{height:fs[1],width:fs[0]},Cs={height:Ps.height*ts,width:Ps.width*ts};return lu.transformSize({numPages:Jr,pageIndex:rs,size:Cs})})},[Ms,ts]),js=yo({enableSmoothScroll:Cn,isRtl:xs,numberOfItems:Jr,parentRef:us,scrollMode:Mr,setRenderRange:sr,sizes:Au,viewMode:Ut}),Kl=zt(function(){!Es.current||jr.current.fullScreenMode!==ot.FullScreenMode.Normal||In>0&&zs.current===In||$a(Es.current)},200);(function(fr){var rs=fr.targetRef,fs=fr.onResize;bt(function(){var Ps=new ResizeObserver(function(ms){ms.forEach(function(Ys){fs(Ys.target)})}),Cs=rs.current;if(Cs)return Ps.observe(Cs),function(){Ps.unobserve(Cs)}},[])})({targetRef:us,onResize:Kl});var Bo=function(fr){var rs=fr;$n.forEach(function(fs){fs.onViewerStateChange&&(rs=fs.onViewerStateChange(rs))}),jr.current=rs},cu=function(){return us.current},vo=function(){return jr.current},_f=ut.useCallback(function(fr){Fs.markVisitedDestination(fr)},[]),uu=ut.useCallback(function(fr){var rs=fr.pageIndex,fs=fr.bottomOffset,Ps=fr.leftOffset,Cs=fr.scaleTo,ms=us.current,Ys=jr.current;return ms&&Ys?new Promise(function(Qo,To){br(Rn,rs).then(function(Ol){var Jo=Ol.getViewport({scale:1}),Zl=0,ju=(typeof fs=="function"?fs(Jo.width,Jo.height):fs)||0,_c=(typeof Ps=="function"?Ps(Jo.width,Jo.height):Ps)||0,Cl=Ys.scale;switch(Cs){case ot.SpecialZoomLevel.PageFit:Zl=0,_c=0,$a(ot.SpecialZoomLevel.PageFit);break;case ot.SpecialZoomLevel.PageWidth:Cl=Oo(ms,Nn[rs].pageHeight,Nn[rs].pageWidth,ot.SpecialZoomLevel.PageWidth,xr,Jr),Zl=(Jo.height-ju)*Cl,_c*=Cl,$a(Cl);break;default:Zl=(Jo.height-ju)*Cl,_c*=Cl}switch(Ys.scrollMode){case ot.ScrollMode.Horizontal:js.scrollToItem(rs,{left:_c,top:0}).then(function(){Qo()});break;case ot.ScrollMode.Vertical:default:js.scrollToItem(rs,{left:0,top:Zl}).then(function(){Qo()})}})}):Promise.resolve()},[]),du=ut.useCallback(function(fr){return Fs.markVisitedDestination(fr),uu(fr)},[]),Su=ut.useCallback(function(){var fr=Fs.getNextDestination();return fr?uu(fr):Promise.resolve()},[]),ep=ut.useCallback(function(){var fr=Fs.getPreviousDestination();return fr?uu(fr):Promise.resolve()},[]),tp=ut.useCallback(function(){return js.scrollToNextItem(jr.current.pageIndex,Wo)},[]),Xo=ut.useCallback(function(fr){return 0<=fr&&fr<Jr?js.scrollToItem(fr,Wo):Promise.resolve()},[]),np=ut.useCallback(function(){return js.scrollToPreviousItem(jr.current.pageIndex,Wo)},[]),Cu=ut.useCallback(function(fr){var rs,fs;(rs=fr.name,fs=rs.split(/\./).pop(),fs?fs.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(Ps){var Cs=new FileReader;Cs.readAsArrayBuffer(fr),Cs.onload=function(){var ms=new Uint8Array(Cs.result);Ps(ms)}}).then(function(Ps){es(fr.name,Ps)})},[es]),Pu=ut.useCallback(function(fr){var rs=fr===ot.RotateDirection.Backward?-90:90,fs=jr.current.rotation,Ps=fs===360||fs===-360?rs:fs+rs;co.markNotRendered(),Ks(Ps),Bo(mt(mt({},jr.current),{rotation:Ps})),Ur({direction:fr,doc:Rn,rotation:Ps})},[]),Yl=ut.useCallback(function(fr,rs){var fs=rs===ot.RotateDirection.Backward?-90:90,Ps=jr.current.pagesRotation,Cs=(Ps.has(fr)?Ps.get(fr):Bn)+fs,ms=Ps.set(fr,Cs);Dr(ms),ro(function(Ys){return!Ys}),Bo(mt(mt({},jr.current),{pagesRotation:ms,rotatedPage:fr})),Wr({direction:rs,doc:Rn,pageIndex:fr,rotation:Cs}),co.markRendering(fr),Gl(fr)},[]),hu=ut.useCallback(function(fr){Bo(mt(mt({},jr.current),{scrollMode:fr})),Cr(fr)},[]),Xl=ut.useCallback(function(fr){Bo(mt(mt({},jr.current),{viewMode:fr})),ln(fr)},[]),$a=ut.useCallback(function(fr){var rs=us.current,fs=jr.current.pageIndex;if(!(fs<0||fs>=Jr)){var Ps=Nn[fs].pageHeight,Cs=Nn[fs].pageWidth,ms=rs?typeof fr=="string"?Oo(rs,Ps,Cs,fr,jr.current.viewMode,Jr):fr:1;Es.current=typeof fr=="string"?fr:null,ms!==jr.current.scale&&(_h(function(Ys){return Ys+1}),co.markNotRendered(),_s(ms),Nr({doc:Rn,scale:ms}),Bo(mt(mt({},jr.current),{scale:ms})))}},[]),rp=ut.useCallback(function(fr){As.enterFullScreenMode(fr)},[]),yl=ut.useCallback(function(){As.exitFullScreenMode()},[]);ut.useEffect(function(){Bo(mt(mt({},jr.current),{fullScreenMode:As.fullScreenMode}))},[As.fullScreenMode]),ut.useEffect(function(){var fr={enterFullScreenMode:rp,exitFullScreenMode:yl,getPagesContainer:cu,getViewerState:vo,jumpToDestination:du,jumpToNextDestination:Su,jumpToPreviousDestination:ep,jumpToNextPage:tp,jumpToPreviousPage:np,jumpToPage:Xo,openFile:Cu,rotate:Pu,rotatePage:Yl,setViewerState:Bo,switchScrollMode:hu,switchViewMode:Xl,zoom:$a};return $n.forEach(function(rs){rs.install&&rs.install(fr)}),function(){$n.forEach(function(rs){rs.uninstall&&rs.uninstall(fr)})}},[qr]),ut.useEffect(function(){hr({doc:Rn,file:un}),$n.forEach(function(fr){fr.onDocumentLoad&&fr.onDocumentLoad({doc:Rn,file:un})})},[qr]);var Ro,Ql,fu,pu=js.boundingClientRect;Ro=function(){In&&Xo(In)},Ql=pu.height>0&&pu.width>0,fu=ut.useRef(!1),bt(function(){Ql&&!fu.current&&(fu.current=!0,Ro())},[Ro,Ql]),bt(function(){var fr=jr.current.pageIndex;fr>-1&&vt!==Mr&&js.scrollToItem(fr,Wo).then(function(){As.fullScreenMode===ot.FullScreenMode.EnteredCompletely&&(Cn||co.markNotRendered(),ws.current=-1)})},[Mr]),bt(function(){var fr=jr.current.pageIndex;fr>-1&&Zs!==Ms&&js.scrollToItem(fr,Wo)},[Ms]),bt(function(){os!=0&&os!=jr.current.scale&&js.zoom(jr.current.scale/os,jr.current.pageIndex).then(function(){As.fullScreenMode===ot.FullScreenMode.EnteredCompletely&&(ps.current=-1)})},[ts]),bt(function(){if(Mn!==jr.current.viewMode){var fr=js.startPage,rs=js.endPage,fs=js.virtualItems;co.markNotRendered(),co.setRange(fr,rs);for(var Ps=function(ms){var Ys=fs.find(function(Qo){return Qo.index===ms});Ys&&co.setVisibility(ms,Ys.visibility)},Cs=fr;Cs<=rs;Cs++)Ps(Cs);Jl()}},[Ut]),bt(function(){var fr=jr.current.pageIndex;fr>-1&&Mn!==Ut&&js.scrollToItem(fr,Wo)},[Ut]),bt(function(){var fr=jr.current.pageIndex;fr>0&&fr===In&&zs.current===In&&Es.current&&(zs.current=-1,$a(Es.current))},[Ds]),ut.useEffect(function(){js.isSmoothScrolling||Ns.current!==null&&Ns.current===Ds||(Ns.current=Ds,$r({currentPage:Ds,doc:Rn}))},[Ds,js.isSmoothScrolling]),ut.useEffect(function(){As.fullScreenMode===ot.FullScreenMode.Entering&&jr.current.scrollMode===ot.ScrollMode.Page&&(ws.current=jr.current.pageIndex),As.fullScreenMode===ot.FullScreenMode.EnteredCompletely&&jr.current.scrollMode===ot.ScrollMode.Page&&Cn&&(ws.current=-1),As.fullScreenMode===ot.FullScreenMode.EnteredCompletely&&Es.current&&(ps.current=jr.current.pageIndex,$a(Es.current))},[As.fullScreenMode]),ut.useEffect(function(){if(As.fullScreenMode!==ot.FullScreenMode.Entering&&As.fullScreenMode!==ot.FullScreenMode.Exitting&&!js.isSmoothScrolling){var fr=js.startPage,rs=js.endPage,fs=js.maxVisbilityIndex,Ps=js.virtualItems,Cs=fs,ms=As.fullScreenMode===ot.FullScreenMode.Entered||As.fullScreenMode===ot.FullScreenMode.EnteredCompletely;if(!(ms&&Cs!==ws.current&&ws.current>-1||ms&&Cs!==ps.current&&ps.current>-1)){Ls(Cs),Bo(mt(mt({},jr.current),{pageIndex:Cs})),co.setRange(fr,rs);for(var Ys=function(To){var Ol=Ps.find(function(Jo){return Jo.index===To});Ol&&co.setVisibility(To,Ol.visibility)},Qo=fr;Qo<=rs;Qo++)Ys(Qo);Jl()}}},[js.startPage,js.endPage,js.isSmoothScrolling,js.maxVisbilityIndex,As.fullScreenMode,Gs,Ms,ts]);var ku=ut.useCallback(function(fr){co.markRendered(fr),Jl()},[Sl]),Jl=function(){var fr=co.getHighestPriorityPage();fr>-1&&co.isInRange(fr)&&(co.markRendering(fr),Gl(fr))},Iu=function(fr){var rs=Ds-1,fs=Ds+1;switch(fr){case"FirstPage":Xo(0);break;case"LastPage":Xo(Jr-1);break;case"NextPage":fs<Jr&&Xo(fs);break;case"PrevPage":rs>=0&&Xo(rs)}},sp=ut.useCallback(function(){var fr=js.virtualItems,rs=[];switch(Ut){case ot.ViewMode.DualPage:rs=xn(fr,2);break;case ot.ViewMode.DualPageWithCover:fr.length&&(rs=fr[0].index===0?[[fr[0]]].concat(xn(fr.slice(1),2)):xn(fr,2));break;case ot.ViewMode.SinglePage:default:rs=xn(fr,1)}var fs=ys&&ys.core?ys.core.pageLabel:"Page {{pageIndex}}",Ps={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:bs,style:{height:"100%"}},children:ut.createElement(ut.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:xt({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Mr===ot.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":xs,"rpv-core__inner-pages--single":Mr===ot.ScrollMode.Page,"rpv-core__inner-pages--vertical":Mr===ot.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Mr===ot.ScrollMode.Wrapped}),ref:us,style:{height:"100%",position:"relative"}},children:ut.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ds),style:Object.assign({"--scale-factor":ts},js.getContainerStyles())},rs.map(function(Cs){return ut.createElement("div",{className:xt({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Mr===ot.ScrollMode.Page}),style:js.getItemContainerStyles(Cs[0]),key:"".concat(Cs[0].index,"-").concat(Ut)},Cs.map(function(ms){var Ys=Ut===ot.ViewMode.DualPageWithCover&&(ms.index===0||Jr%2==0&&ms.index===Jr-1);return ut.createElement("div",{"aria-label":fs.replace("{{pageIndex}}","".concat(ms.index+1)),className:xt({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Ut===ot.ViewMode.DualPage&&ms.index%2==0,"rpv-core__inner-page--dual-odd":Ut===ot.ViewMode.DualPage&&ms.index%2==1,"rpv-core__inner-page--dual-cover":Ys,"rpv-core__inner-page--dual-cover-even":Ut===ot.ViewMode.DualPageWithCover&&!Ys&&ms.index%2==0,"rpv-core__inner-page--dual-cover-odd":Ut===ot.ViewMode.DualPageWithCover&&!Ys&&ms.index%2==1,"rpv-core__inner-page--single":Ut===ot.ViewMode.SinglePage&&Mr===ot.ScrollMode.Page}),role:"region",key:"".concat(ms.index,"-").concat(Ut),style:Object.assign({},js.getItemStyles(ms),lu.buildPageStyles({numPages:Jr,pageIndex:ms.index,scrollMode:Mr,viewMode:Ut}))},ut.createElement(El,{doc:Rn,measureRef:ms.measureRef,outlines:Yn,pageIndex:ms.index,pageRotation:Gr.has(ms.index)?Gr.get(ms.index):0,pageSize:Nn[ms.index],plugins:$n,renderPage:ar,renderQueueKey:Sl,rotation:Ms,scale:ts,shouldRender:$o===ms.index,viewMode:Ut,onExecuteNamedAction:Iu,onJumpFromLinkAnnotation:_f,onJumpToDest:du,onRenderCompleted:ku,onRotatePage:Yl}))}))}))}};return $n.forEach(function(Cs){Cs.renderViewer&&(Ps=Cs.renderViewer({containerRef:bs,doc:Rn,pagesContainerRef:us,pagesRotation:Gr,pageSizes:Nn,rotation:Ms,slot:Ps,themeContext:cs,jumpToPage:Xo,openFile:Cu,rotate:Pu,rotatePage:Yl,switchScrollMode:hu,switchViewMode:Xl,zoom:$a}))}),Ps},[$n,js]),Du=ut.useCallback(function(fr){return ut.createElement("div",mt({},fr.attrs,{style:fr.attrs&&fr.attrs.style?fr.attrs.style:{}}),fr.children,fr.subSlot&&Du(fr.subSlot))},[]);return Du(sp())},ba=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],qo=function(Ht){var un=Ht.defaultScale,bn=Ht.doc,Rn=Ht.render,Cn=Ht.scrollMode,In=Ht.viewMode,Bn=ut.useRef(),Fn=ut.useState({pageSizes:[],scale:0}),Tn=Fn[0],Nn=Fn[1];return ut.useLayoutEffect(function(){var $n=Array(bn.numPages).fill(0).map(function(ar,ir){return new Promise(function(sr,xr){br(bn,ir).then(function(cr){var hr=cr.getViewport({scale:1});sr({pageHeight:hr.height,pageWidth:hr.width,rotation:hr.rotation})})})});Promise.all($n).then(function(ar){var ir=Bn.current;if(ir&&ar.length!==0){var sr=ar[0].pageWidth,xr=ar[0].pageHeight,cr=ir.parentElement,hr=(cr.clientWidth-45)/sr,es=(cr.clientHeight-45)/xr,$r=hr;switch(Cn){case ot.ScrollMode.Horizontal:$r=Math.min(hr,es);break;case ot.ScrollMode.Vertical:default:$r=hr}var Ur,Wr,Nr=un?typeof un=="string"?Oo(cr,xr,sr,un,In,bn.numPages):un:(Ur=$r,(Wr=ba.findIndex(function(Jr){return Jr>=Ur}))===-1||Wr===0?Ur:ba[Wr-1]);Nn({pageSizes:ar,scale:Nr})}})},[bn.loadingTask.docId]),Tn.pageSizes.length===0||Tn.scale===0?ut.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Bn},ut.createElement(At,null)):Rn(Tn.pageSizes,Tn.scale)},no=function(){},Go=function(Ht){function un(bn,Rn){var Cn=Ht.call(this)||this;return Cn.verifyPassword=bn,Cn.passwordStatus=Rn,Cn}return ft(un,Ht),un}(no),Ko=function(Ht){var un=Ht.passwordStatus,bn=Ht.renderProtectedView,Rn=Ht.verifyPassword,Cn=Ht.onDocumentAskPassword,In=ut.useContext(pn).l10n,Bn=ut.useState(""),Fn=Bn[0],Tn=Bn[1],Nn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,$n=function(){return Rn(Fn)};return ut.useEffect(function(){Cn&&Cn({verifyPassword:Rn})},[]),bn?bn({passwordStatus:un,verifyPassword:Rn}):ut.createElement("div",{className:"rpv-core__asking-password-wrapper"},ut.createElement("div",{className:xt({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":Nn})},ut.createElement("div",{className:"rpv-core__asking-password-message"},un===ot.PasswordStatus.RequiredPassword&&In.core.askingPassword.requirePasswordToOpen,un===ot.PasswordStatus.WrongPassword&&In.core.wrongPassword.tryAgain),ut.createElement("div",{className:"rpv-core__asking-password-body"},ut.createElement("div",{className:xt({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!Nn,"rpv-core__asking-password-input--rtl":Nn})},ut.createElement(kt,{testId:"core__asking-password-input",type:"password",value:Fn,onChange:Tn,onKeyDown:function(ar){ar.key==="Enter"&&$n()}})),ut.createElement(_t,{onClick:$n},In.core.askingPassword.submit))))},Tl=function(Ht){function un(bn){var Rn=Ht.call(this)||this;return Rn.doc=bn,Rn}return ft(un,Ht),un}(no),Po=function(Ht){function un(bn){var Rn=Ht.call(this)||this;return Rn.error=bn,Rn}return ft(un,Ht),un}(no),Al=function(Ht){function un(bn){var Rn=Ht.call(this)||this;return Rn.percentages=bn,Rn}return ft(un,Ht),un}(no),Yo=function(Ht){var un=Ht.characterMap,bn=Ht.file,Rn=Ht.httpHeaders,Cn=Ht.render,In=Ht.renderError,Bn=Ht.renderLoader,Fn=Ht.renderProtectedView,Tn=Ht.transformGetDocumentParams,Nn=Ht.withCredentials,$n=Ht.onDocumentAskPassword,ar=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,ir=ut.useState(new Al(0)),sr=ir[0],xr=ir[1],cr=ut.useRef(""),hr=Qt();return ut.useEffect(function(){cr.current="",xr(new Al(0));var es=new dt.PDFWorker({name:"PDFWorker_".concat(Date.now())}),$r=Object.assign({httpHeaders:Rn,withCredentials:Nn,worker:es},typeof bn=="string"?{url:bn}:{data:bn},un?{cMapUrl:un.url,cMapPacked:un.isCompressed}:{}),Ur=Tn?Tn($r):$r,Wr=dt.getDocument(Ur);return Wr.onPassword=function(Nr,Jr){switch(Jr){case dt.PasswordResponses.NEED_PASSWORD:hr.current&&xr(new Go(Nr,ot.PasswordStatus.RequiredPassword));break;case dt.PasswordResponses.INCORRECT_PASSWORD:hr.current&&xr(new Go(Nr,ot.PasswordStatus.WrongPassword))}},Wr.onProgress=function(Nr){var Jr=Nr.total>0?Math.min(100,100*Nr.loaded/Nr.total):100;hr.current&&cr.current===""&&xr(new Al(Jr))},Wr.promise.then(function(Nr){cr.current=Nr.loadingTask.docId,hr.current&&xr(new Tl(Nr))},function(Nr){return hr.current&&!es.destroyed&&xr(new Po({message:Nr.message||"Cannot load document",name:Nr.name}))}),function(){Wr.destroy(),es.destroy()}},[bn]),sr instanceof Go?ut.createElement(Ko,{passwordStatus:sr.passwordStatus,renderProtectedView:Fn,verifyPassword:sr.verifyPassword,onDocumentAskPassword:$n}):sr instanceof Tl?Cn(sr.doc):sr instanceof Po?In?In(sr.error):ut.createElement("div",{className:xt({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":ar})},ut.createElement("div",{className:"rpv-core__doc-error-text"},sr.error.message)):ut.createElement("div",{"data-testid":"core__doc-loading",className:xt({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":ar})},Bn?Bn(sr.percentages):ut.createElement(At,null))},au=function(Ht,un){var bn=ut.useMemo(function(){return Ht==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Ht},[]),Rn=ut.useState(bn),Cn=Rn[0],In=Rn[1],Bn=qt(Cn);return ut.useEffect(function(){if(Ht==="auto"){var Fn=window.matchMedia("(prefers-color-scheme: dark)"),Tn=function(Nn){In(Nn.matches?"dark":"light")};return Fn.addEventListener("change",Tn),function(){return Fn.removeEventListener("change",Tn)}}},[]),ut.useEffect(function(){Cn!==Bn&&un&&un(Cn)},[Cn]),ut.useEffect(function(){Ht!==Cn&&In(Ht)},[Ht]),{currentTheme:Cn,setCurrentTheme:In}},wo=function(Ht){return{startPage:Ht.startPage-3,endPage:Ht.endPage+3}};ot.Button=function(Ht){var un=Ht.children,bn=Ht.testId,Rn=Ht.onClick,Cn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,In=bn?{"data-testid":bn}:{};return ut.createElement("button",mt({className:xt({"rpv-core__button":!0,"rpv-core__button--rtl":Cn}),type:"button",onClick:Rn},In),un)},ot.Icon=Rt,ot.LazyRender=function(Ht){var un=Ht.attrs,bn=Ht.children,Rn=Ht.testId,Cn=ut.useState(!1),In=Cn[0],Bn=Cn[1],Fn=Rn?mt(mt({},un),{"data-testid":Rn}):un,Tn=Et({once:!0,onVisibilityChanged:function(Nn){Nn.isVisible&&Bn(!0)}});return ut.createElement("div",mt({ref:Tn},Fn),In&&bn)},ot.LocalizationContext=pn,ot.Menu=function(Ht){var un=Ht.children,bn=ut.useRef(),Rn=ut.useRef([]),Cn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,In=function(Fn){if(bn.current)switch(Fn.key){case"Tab":Fn.preventDefault();break;case"ArrowDown":Fn.preventDefault(),Bn(function(Tn,Nn){return Nn+1});break;case"ArrowUp":Fn.preventDefault(),Bn(function(Tn,Nn){return Nn-1});break;case"End":Fn.preventDefault(),Bn(function(Tn,Nn){return Tn.length-1});break;case"Home":Fn.preventDefault(),Bn(function(Tn,Nn){return 0})}},Bn=function(Fn){if(bn.current){var Tn=Rn.current,Nn=Tn.findIndex(function(ar){return ar.getAttribute("tabindex")==="0"}),$n=Math.min(Tn.length-1,Math.max(0,Fn(Tn,Nn)));Nn>=0&&Nn<=Tn.length-1&&Tn[Nn].setAttribute("tabindex","-1"),Tn[$n].setAttribute("tabindex","0"),Tn[$n].focus()}};return bt(function(){var Fn=bn.current;if(Fn){var Tn=function(Nn){var $n=[];return Nn.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(ar){if(ar instanceof HTMLElement){var ir=ar.parentElement;(ir===Nn||window.getComputedStyle(ir).display!=="none")&&$n.push(ar)}}),$n}(Fn);Rn.current=Tn}},[]),bt(function(){return document.addEventListener("keydown",In),function(){document.removeEventListener("keydown",In)}},[]),ut.createElement("div",{ref:bn,"aria-orientation":"vertical",className:xt({"rpv-core__menu":!0,"rpv-core__menu--rtl":Cn}),role:"menu",tabIndex:0},un)},ot.MenuDivider=function(){return ut.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},ot.MenuItem=function(Ht){var un=Ht.checked,bn=un!==void 0&&un,Rn=Ht.children,Cn=Ht.icon,In=Cn===void 0?null:Cn,Bn=Ht.isDisabled,Fn=Bn!==void 0&&Bn,Tn=Ht.testId,Nn=Ht.onClick,$n=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,ar=Tn?{"data-testid":Tn}:{};return ut.createElement("button",mt({className:xt({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":Fn,"rpv-core__menu-item--ltr":!$n,"rpv-core__menu-item--rtl":$n}),role:"menuitem",tabIndex:-1,type:"button",onClick:Nn},ar),ut.createElement("div",{className:xt({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!$n,"rpv-core__menu-item-icon--rtl":$n})},In),ut.createElement("div",{className:xt({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!$n,"rpv-core__menu-item-label--rtl":$n})},Rn),ut.createElement("div",{className:xt({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!$n,"rpv-core__menu-item-check--rtl":$n})},bn&&ut.createElement(wt,null)))},ot.MinimalButton=function(Ht){var un=Ht.ariaLabel,bn=un===void 0?"":un,Rn=Ht.ariaKeyShortcuts,Cn=Rn===void 0?"":Rn,In=Ht.children,Bn=Ht.isDisabled,Fn=Bn!==void 0&&Bn,Tn=Ht.isSelected,Nn=Tn!==void 0&&Tn,$n=Ht.testId,ar=Ht.onClick,ir=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,sr=$n?{"data-testid":$n}:{};return ut.createElement("button",mt({"aria-label":bn},Cn&&{"aria-keyshortcuts":Cn},Fn&&{"aria-disabled":!0},{className:xt({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":Fn,"rpv-core__minimal-button--rtl":ir,"rpv-core__minimal-button--selected":Nn}),type:"button",onClick:ar},sr),In)},ot.Modal=function(Ht){var un=Ht.ariaControlsSuffix,bn=Ht.closeOnClickOutside,Rn=Ht.closeOnEscape,Cn=Ht.content,In=Ht.isOpened,Bn=In!==void 0&&In,Fn=Ht.target,Tn=un||"".concat(Vt());return ut.createElement(_n,{target:Fn?function(Nn,$n){return ut.createElement("div",{"aria-expanded":$n?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Tn)},Fn(Nn,$n))}:null,content:function(Nn){return ut.createElement(Jt,null,ut.createElement(Zt,{ariaControlsSuffix:Tn,closeOnClickOutside:bn,closeOnEscape:Rn,onToggle:Nn},Cn(Nn)))},isOpened:Bn})},ot.Popover=function(Ht){var un=Ht.ariaHasPopup,bn=un===void 0?"dialog":un,Rn=Ht.ariaControlsSuffix,Cn=Ht.closeOnClickOutside,In=Ht.closeOnEscape,Bn=Ht.content,Fn=Ht.lockScroll,Tn=Fn===void 0||Fn,Nn=Ht.offset,$n=Ht.position,ar=Ht.target,ir=gn(!1),sr=ir.opened,xr=ir.toggle,cr=ut.useRef(),hr=ut.useMemo(function(){return Rn||"".concat(Vt())},[]);return ut.createElement("div",{ref:cr,"aria-expanded":sr?"true":"false","aria-haspopup":bn,"aria-controls":"rpv-core__popver-body-".concat(hr)},ar(xr,sr),sr&&ut.createElement(ut.Fragment,null,Tn&&ut.createElement(Un,{closeOnEscape:In,onClose:xr}),ut.createElement(kn,{ariaControlsSuffix:hr,closeOnClickOutside:Cn,offset:Nn,position:$n,targetRef:cr,onClose:xr},Bn(xr))))},ot.PrimaryButton=_t,ot.ProgressBar=function(Ht){var un=Ht.progress,bn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft;return ut.createElement("div",{className:xt({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":bn})},ut.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(un,"%")}},un,"%"))},ot.Separator=function(){return ut.createElement("div",{className:"rpv-core__separator"})},ot.Spinner=At,ot.Splitter=function(Ht){var un=Ht.constrain,bn=ut.useContext(yt).direction===ot.TextDirection.RightToLeft,Rn=ut.useRef(),Cn=ut.useRef(),In=ut.useRef(),Bn=ut.useRef(0),Fn=ut.useRef(0),Tn=ut.useRef(0),Nn=ut.useRef(0),$n={capture:!0},ar=function(sr){var xr=Rn.current,cr=Cn.current,hr=In.current;if(xr&&cr&&hr){var es=Nn.current,$r=sr.clientX-Bn.current,Ur=Tn.current+(bn?-$r:$r),Wr=xr.parentElement.getBoundingClientRect().width,Nr=100*Ur/Wr;if(xr.classList.add("rpv-core__splitter--resizing"),un){var Jr=Wr-Ur-es;if(!un({firstHalfPercentage:Nr,firstHalfSize:Ur,secondHalfPercentage:100*Jr/Wr,secondHalfSize:Jr}))return}cr.style.width="".concat(Nr,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),cr.classList.add("rpv-core__splitter-sibling--resizing"),hr.classList.add("rpv-core__splitter-sibling--resizing")}},ir=function(sr){var xr=Rn.current,cr=Cn.current,hr=In.current;xr&&cr&&hr&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),xr.classList.remove("rpv-core__splitter--resizing"),cr.classList.remove("rpv-core__splitter-sibling--resizing"),hr.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",ar,$n),document.removeEventListener("mouseup",ir,$n))};return ut.useEffect(function(){var sr=Rn.current;sr&&(Nn.current=sr.getBoundingClientRect().width,Cn.current=sr.previousElementSibling,In.current=sr.nextElementSibling)},[]),ut.createElement("div",{ref:Rn,className:"rpv-core__splitter",onMouseDown:function(sr){var xr=Cn.current;xr&&(Bn.current=sr.clientX,Fn.current=sr.clientY,Tn.current=xr.getBoundingClientRect().width,document.addEventListener("mousemove",ar,$n),document.addEventListener("mouseup",ir,$n))}})},ot.TextBox=kt,ot.ThemeContext=yt,ot.Tooltip=function(Ht){var un=Ht.ariaControlsSuffix,bn=Ht.content,Rn=Ht.offset,Cn=Ht.position,In=Ht.target,Bn=gn(!1),Fn=Bn.opened,Tn=Bn.toggle,Nn=ut.useRef(),$n=ut.useRef(),ar=ut.useMemo(function(){return un||"".concat(Vt())},[]);Xt(function(){Nn.current&&document.activeElement&&Nn.current.contains(document.activeElement)&&sr()});var ir=function(){Tn(ot.ToggleStatus.Open)},sr=function(){Tn(ot.ToggleStatus.Close)};return ut.createElement(ut.Fragment,null,ut.createElement("div",{ref:Nn,"aria-describedby":"rpv-core__tooltip-body-".concat(ar),onBlur:function(xr){xr.relatedTarget instanceof HTMLElement&&xr.currentTarget.parentElement&&xr.currentTarget.parentElement.contains(xr.relatedTarget)?$n.current&&($n.current.style.display="none"):sr()},onFocus:ir,onMouseEnter:ir,onMouseLeave:sr},In),Fn&&ut.createElement(Jn,{ariaControlsSuffix:ar,contentRef:$n,offset:Rn,position:Cn,targetRef:Nn},bn()))},ot.Viewer=function(Ht){var un=Ht.characterMap,bn=Ht.defaultScale,Rn=Ht.enableSmoothScroll,Cn=Rn===void 0||Rn,In=Ht.fileUrl,Bn=Ht.httpHeaders,Fn=Bn===void 0?{}:Bn,Tn=Ht.initialPage,Nn=Tn===void 0?0:Tn,$n=Ht.pageLayout,ar=Ht.initialRotation,ir=ar===void 0?0:ar,sr=Ht.localization,xr=Ht.plugins,cr=xr===void 0?[]:xr,hr=Ht.renderError,es=Ht.renderLoader,$r=Ht.renderPage,Ur=Ht.renderProtectedView,Wr=Ht.scrollMode,Nr=Wr===void 0?ot.ScrollMode.Vertical:Wr,Jr=Ht.setRenderRange,qr=Jr===void 0?wo:Jr,ys=Ht.transformGetDocumentParams,cs=Ht.theme,xs=cs===void 0?{direction:ot.TextDirection.LeftToRight,theme:"light"}:cs,bs=Ht.viewMode,us=bs===void 0?ot.ViewMode.SinglePage:bs,Hs=Ht.withCredentials,Ds=Hs!==void 0&&Hs,Ls=Ht.onDocumentAskPassword,Ns=Ht.onDocumentLoad,Fs=Ns===void 0?function(){}:Ns,Ss=Ht.onPageChange,Ms=Ss===void 0?function(){}:Ss,Ks=Ht.onRotate,Zs=Ks===void 0?function(){}:Ks,lo=Ht.onRotatePage,Gs=lo===void 0?function(){}:lo,ro=Ht.onSwitchTheme,bo=ro===void 0?function(){}:ro,Gr=Ht.onZoom,Dr=Gr===void 0?function(){}:Gr,Lr=ut.useState({data:In,name:typeof In=="string"?In:"",shouldLoad:!1}),Mr=Lr[0],Cr=Lr[1],vt=function(ws,ps){Cr({data:ps,name:ws,shouldLoad:!0})},Lt=ut.useState(!1),Ut=Lt[0],ln=Lt[1],Mn=qt(Mr);ut.useEffect(function(){var ws,ps,zs,As;ws=Mn.data,As=typeof(ps=In),(zs=typeof ws)=="string"&&As==="string"&&ws===ps||zs==="object"&&As==="object"&&ws.length===ps.length&&ws.every(function(Vo,$o){return Vo===ps[$o]})||Cr({data:In,name:typeof In=="string"?In:"",shouldLoad:Ut})},[In,Ut]);var Yn=Et({onVisibilityChanged:function(ws){ln(ws.isVisible),ws.isVisible&&Cr(function(ps){return Object.assign({},ps,{shouldLoad:!0})})}}),ur=typeof xs=="string"?{direction:ot.TextDirection.LeftToRight,theme:xs}:xs,ts=ut.useState(sr||Wt),_s=ts[0],os=ts[1],jr={l10n:_s,setL10n:os},Es=Object.assign({},{direction:ur.direction},au(ur.theme||"light",bo));return ut.useEffect(function(){sr&&os(sr)},[sr]),ut.createElement(pn.Provider,{value:jr},ut.createElement(yt.Provider,{value:Es},ut.createElement("div",{ref:Yn,className:"rpv-core__viewer rpv-core__viewer--".concat(Es.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Mr.shouldLoad&&ut.createElement(Yo,{characterMap:un,file:Mr.data,httpHeaders:Fn,render:function(ws){return ut.createElement(qo,{defaultScale:bn,doc:ws,render:function(ps,zs){return ut.createElement(Co,{currentFile:{data:Mr.data,name:Mr.name},defaultScale:bn,doc:ws,enableSmoothScroll:Cn,initialPage:Nn,initialRotation:ir,initialScale:zs,pageLayout:$n,pageSizes:ps,plugins:cr,renderPage:$r,scrollMode:Nr,setRenderRange:qr,viewMode:us,viewerState:{file:Mr,fullScreenMode:ot.FullScreenMode.Normal,pageIndex:-1,pageHeight:ps[0].pageHeight,pageWidth:ps[0].pageWidth,pagesRotation:new Map,rotation:ir,scale:zs,scrollMode:Nr,viewMode:us},onDocumentLoad:Fs,onOpenFile:vt,onPageChange:Ms,onRotate:Zs,onRotatePage:Gs,onZoom:Dr})},scrollMode:Nr,viewMode:us})},renderError:hr,renderLoader:es,renderProtectedView:Ur,transformGetDocumentParams:ys,withCredentials:Ds,onDocumentAskPassword:Ls}))))},ot.Worker=function(Ht){var un=Ht.children,bn=Ht.workerUrl;return dt.GlobalWorkerOptions.workerSrc=bn,ut.createElement(ut.Fragment,null,un)},ot.chunk=xn,ot.classNames=xt,ot.createStore=function(Ht){var un=Ht||{},bn={},Rn=function(In,Bn){var Fn;un=mt(mt({},un),((Fn={})[In]=Bn,Fn)),(bn[In]||[]).forEach(function(Tn){return Tn(un[In])})},Cn=function(In){return un[In]};return{subscribe:function(In,Bn){bn[In]=(bn[In]||[]).concat(Bn)},unsubscribe:function(In,Bn){bn[In]=(bn[In]||[]).filter(function(Fn){return Fn!==Bn})},update:function(In,Bn){Rn(In,Bn)},updateCurrentValue:function(In,Bn){var Fn=Cn(In);Fn!==void 0&&Rn(In,Bn(Fn))},get:function(In){return Cn(In)}}},ot.getDestination=Er,ot.getPage=br,ot.isFullScreenEnabled=Dt,ot.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},ot.useDebounceCallback=zt,ot.useIntersectionObserver=Et,ot.useIsMounted=Qt,ot.useIsomorphicLayoutEffect=bt,ot.usePrevious=qt,ot.useRenderQueue=Gt})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */lib.exports=core_min;var libExports=lib.exports;const Review=()=>{const[ot,rt]=reactExports.useState(!1),[at,lt]=reactExports.useState(""),ct=()=>{lt("https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf"),rt(!0)};return jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["        ",jsxRuntimeExports.jsxs("section",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Review Submissions"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-2 text-gray-700 dark:text-gray-400",children:"Pending thesis submissions for your review."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx("h2",{className:"font-bold mb-4 text-lg text-gray-800",children:"PhD Thesis List"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 p-2 border rounded-lg flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:"Student: John Doe"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Thesis Title: Machine Learning in Healthcare"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Submission Time: 23:59"}),jsxRuntimeExports.jsx(Badge,{color:"warning",className:"mt-1",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",onClick:()=>ct(),children:"View"}),jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"Download"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 border rounded-lg flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:"Student: Jane Smith"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Thesis Title: AI in Financial Modeling"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Submission Time: 18:30"}),jsxRuntimeExports.jsx(Badge,{color:"warning",className:"mt-1",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"View"}),jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"Download"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 border rounded-lg flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:"Student: Michael Brown"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Thesis Title: Data Science in Education"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Submission Time: 14:45"}),jsxRuntimeExports.jsx(Badge,{color:"warning",className:"mt-1",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"View"}),jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"Download"})]})]})]}),jsxRuntimeExports.jsxs(Card$1,{children:[jsxRuntimeExports.jsx("h2",{className:"font-bold mb-4 text-lg text-gray-800",children:"Masters Thesis List"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 p-2 border rounded-lg flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:"Student: Alice Johnson"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Thesis Title: Sustainable Energy Systems"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Submission Time: 12:00"}),jsxRuntimeExports.jsx(Badge,{color:"warning",className:"mt-1",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"View"}),jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"Download"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 border rounded-lg flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:"Student: Michael Brown"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Thesis Title: Data Science in Education"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Submission Time: 14:45"}),jsxRuntimeExports.jsx(Badge,{color:"warning",className:"mt-1",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"View"}),jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"Download"})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 border rounded-lg flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-800",children:"Student: Michael Brown"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Thesis Title: Data Science in Education"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Submission Time: 14:45"}),jsxRuntimeExports.jsx(Badge,{color:"warning",className:"mt-1",children:"Pending Review"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",onClick:()=>ct(),children:"View"}),jsxRuntimeExports.jsx(Button,{gradientDuoTone:"orangeToPink",children:"Download"})]})]})]})]}),jsxRuntimeExports.jsx(Card$1,{className:"flex items-center justify-center bg-white dark:bg-gray-800 p-4",style:{display:"none"},children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Additional resources and feedback tools can be added here."})}),jsxRuntimeExports.jsx(Footer$1,{}),jsxRuntimeExports.jsx(ViewPopupModal,{isOpen:ot,onClose:()=>rt(!1),pdfUrl:at})]})})},ViewPopupModal=({isOpen:ot,onClose:rt,pdfUrl:at})=>jsxRuntimeExports.jsxs(Modal$2,{show:ot,onClose:rt,size:"7xl",children:[jsxRuntimeExports.jsx(Modal$2.Header,{children:"View Thesis Submission"}),jsxRuntimeExports.jsx(Modal$2.Body,{children:jsxRuntimeExports.jsx("div",{className:"h-[75vh] overflow-y-auto",children:jsxRuntimeExports.jsx(libExports.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.7.107/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports.Viewer,{fileUrl:at,renderError:()=>jsxRuntimeExports.jsx("div",{className:"text-center text-red-500",children:"Unable to load the document. Please check the URL or try again later."})})})})}),jsxRuntimeExports.jsx(Modal$2.Footer,{children:jsxRuntimeExports.jsx(Button,{onClick:rt,gradientDuoTone:"purpleToBlue",children:"Close"})})]});var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).slice(1));function unsafeStringify(ot,rt=0){return(byteToHex[ot[rt+0]]+byteToHex[ot[rt+1]]+byteToHex[ot[rt+2]]+byteToHex[ot[rt+3]]+"-"+byteToHex[ot[rt+4]]+byteToHex[ot[rt+5]]+"-"+byteToHex[ot[rt+6]]+byteToHex[ot[rt+7]]+"-"+byteToHex[ot[rt+8]]+byteToHex[ot[rt+9]]+"-"+byteToHex[ot[rt+10]]+byteToHex[ot[rt+11]]+byteToHex[ot[rt+12]]+byteToHex[ot[rt+13]]+byteToHex[ot[rt+14]]+byteToHex[ot[rt+15]]).toLowerCase()}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const native={randomUUID};function v4(ot,rt,at){if(native.randomUUID&&!rt&&!ot)return native.randomUUID();ot=ot||{};var lt=ot.random||(ot.rng||rng)();return lt[6]=lt[6]&15|64,lt[8]=lt[8]&63|128,unsafeStringify(lt)}const HonoursCrs=()=>{const ot=useNavigate(),{researchId:rt}=useParams(),{UserData:at,Loading:lt}=useAuth(),[ct,ut]=reactExports.useState([]),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState(""),[mt,gt]=reactExports.useState(""),[yt,xt]=reactExports.useState(""),[bt,Et]=reactExports.useState([]),[Rt,wt]=reactExports.useState(""),[_t,At]=reactExports.useState(""),[kt,It]=reactExports.useState(!1),[Nt,Pt]=reactExports.useState(null),[Tt,Ct]=reactExports.useState(!1);reactExports.useEffect(()=>{!lt&&at&&(Ot(),Mt())},[lt,at]),reactExports.useEffect(()=>{(async()=>{try{if(!rt)throw new Error("Course ID is undefined or null");const Kt=doc(db$2,"Module",rt),sn=await getDoc(Kt);if(sn.exists()){const Gt=sn.data();Pt({id:rt,name:Gt.ModuleTitle||"Sample Course",instructor:"Dr. Placeholder",description:Gt.ModuleDescription||"Description not available"})}else console.error("No such module!")}catch(Kt){console.error("Error fetching course details:",Kt)}})()},[rt,Pt]);const Ot=async()=>{localStorage.removeItem("assignments");const qt=await Dt(at.CourseID);ut(qt),localStorage.setItem("assignments",JSON.stringify(qt))},Dt=async qt=>{const Kt=[];try{const sn=qt.map(async Gt=>{const Wt=collection(db$2,"Module",Gt,"Assignments"),pn=query(Wt,orderBy("AssignmentCreation","desc")),rn=await getDocs(pn);console.log(`Fetched ${rn.size} assignments for course ID: ${Gt}`),rn.forEach(Vt=>{if(Vt.exists()){const $t=Vt.data();Kt.push({id:Vt.id,...$t})}})});await Promise.all(sn),console.log("Fetched Assignments:",Kt)}catch(sn){console.error("Error fetching course types:",sn)}return Kt},jt=reactExports.useRef(null);reactExports.useEffect(()=>(ct.length>0&&(jt.current&&jt.current.destroy(),setTimeout(()=>{jt.current=new nt("#assignmentsTable",{searchable:!1,sortable:!1,perPageSelect:!1,perPage:10,labels:{placeholder:"Search assignments...",perPage:"{select} assignments per page"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}}),document.querySelectorAll("#assignmentsTable tbody tr").forEach((qt,Kt)=>{qt.addEventListener("click",()=>{ot(`/honours/${at.CourseID[0]}/assignments/${ct[Kt].id}`)})})},1e3)),()=>{jt.current&&jt.current.destroy()}),[ct,ot,at.CourseID]);const Mt=async()=>{try{const qt=ref(storage,"r_topics/topics.json"),Kt=await getDownloadURL(qt),Wt=(await(await fetch(Kt)).json()).filter(pn=>pn.courseId===rt);Array.isArray(Wt)?Et(Wt):(console.error("Fetched topics are not an array"),Et([]))}catch(qt){console.error("Error fetching topics:",qt),Et([])}},zt=async()=>{if(!Rt||!_t){alert("Please fill in both the topic name and description.");return}It(!0);try{const qt=rt;console.log("Adding topic for course ID:",qt);const Kt={id:v4(),topicName:Rt,description:_t,isSelected:!1,selectedBy:null,courseId:qt},sn=[...bt,Kt];Et(sn);const Gt=new Blob([JSON.stringify(sn)],{type:"application/json"}),Wt=ref(storage,"r_topics/topics.json");await uploadBytes(Wt,Gt),wt(""),At(""),await Mt(),B$3.success("Topic added successfully!"),Ct(!1)}catch(qt){console.error("Error adding topic:",qt),B$3.error("Error adding topic. Please try again.")}finally{It(!1)}};reactExports.useEffect(()=>{if(bt.length>0){const qt=new nt("#topicsTable",{searchable:!1,sortable:!1,perPageSelect:!1,perPage:10,labels:{placeholder:"Search topics...",perPage:"{select} topics per page"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}});return()=>qt.destroy()}},[bt]);const Qt=async()=>{if(!ft||!mt||!yt){console.error("Please fill all fields.");return}try{const qt=new Date,Kt=new Date(yt),sn=Timestamp.fromDate(qt),Gt=at.CourseID[0];await addDoc(collection(db$2,"Module",Gt,"Assignments"),{AssignmentTitle:ft,AssignmentDescription:mt,AssignmentDueDate:Timestamp.fromDate(Kt),AssignmentCreation:sn}),await Ot(),ht(!1),pt(""),gt(""),xt(""),B$3.success("Milestone added successfully!")}catch(qt){console.error("Error adding new assignment:",qt),B$3.error("Error adding milestone. Please try again.")}};return Nt?jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("section",{className:"max-h-80 mb-4 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:BannerImg$1,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("h1",{className:"absolute text-4xl font-bold tracking-wider text-white dark:text-gray-200",children:Nt.name}),jsxRuntimeExports.jsxs("button",{className:"absolute top-3 left-3 flex items-center px-4 py-2 bg-[#FF8503] text-white rounded-lg",onClick:()=>ot(-1),children:[jsxRuntimeExports.jsx(HiChevronLeft,{className:"mr-2"}),"Back"]})]}),jsxRuntimeExports.jsxs("section",{className:"mb-6 border-2 border-[#FF8503] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-[#FF8503]",children:"Research Milestones"}),jsxRuntimeExports.jsx("p",{children:"Here are all the milestones you have posted."}),jsxRuntimeExports.jsxs("table",{id:"assignmentsTable",className:"table-auto w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Milestone"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Created On"})]})}),jsxRuntimeExports.jsx("tbody",{children:ct.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"border px-4 py-2 text-center text-gray-500",children:"No assignments have been added yet."})}):ct.map((qt,Kt)=>jsxRuntimeExports.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",children:[jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.AssignmentTitle}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.AssignmentDescription}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:new Date(qt.AssignmentDueDate.seconds*1e3).toLocaleString()}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:new Date(qt.AssignmentCreation.seconds*1e3).toLocaleString()})]},Kt))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(!0),className:"px-4 py-2 mt-4 bg-[#FF8503] text-white rounded",children:"Add New Milestone"})]}),jsxRuntimeExports.jsx(TaskModal$2,{isOpen:dt,onClose:()=>ht(!1),onSave:Qt,setNewTaskName:pt,setNewTaskDescription:gt,setNewTaskDueDate:xt}),jsxRuntimeExports.jsx(TopicModal$2,{isOpen:Tt,onClose:()=>Ct(!1),onSave:zt,setNewTopicName:wt,setNewTopicDescription:At}),jsxRuntimeExports.jsxs("section",{className:"mt-6 border-2 border-[#590098] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-[#590098] dark:text-gray-200",children:"Research Topics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mt-2 text-md dark:text-gray-400",children:"Here are all the research topics available for this course."}),jsxRuntimeExports.jsxs("table",{id:"topicsTable",className:"table-auto w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Topic Name"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Student Number"})]})}),jsxRuntimeExports.jsx("tbody",{children:bt.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"border px-4 py-2 text-center text-gray-500",children:"No topics have been added yet."})}):bt.map((qt,Kt)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.topicName}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.description}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.isSelected?"Selected":"Available"}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.selectedBy||"None"})]},Kt))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ct(!0),className:"px-4 py-2 mt-4 bg-[#590098] text-white rounded",children:"Add New Topic"})]}),jsxRuntimeExports.jsx(Footer$1,{})]})}):jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-screen",children:jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"warning"})})},TaskModal$2=({isOpen:ot,onClose:rt,onSave:at,setNewTaskName:lt,setNewTaskDescription:ct,setNewTaskDueDate:ut})=>{if(!ot)return null;const dt=()=>{at(),lt(""),ct(""),ut("")};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:rt,children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlinePencilAlt,{className:"w-8 h-8 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Milestone"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Title"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter Milestone Title",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>lt(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Description"}),jsxRuntimeExports.jsx("textarea",{placeholder:"Enter Milestone Description",className:"w-full h-14 p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ct(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ut(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"mr-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg focus:ring focus:ring-gray-200",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:ring focus:ring-blue-200",children:"Save"})]})]})})},TopicModal$2=({isOpen:ot,onClose:rt,onSave:at,setNewTopicName:lt,setNewTopicDescription:ct})=>{if(!ot)return null;const ut=()=>{at(),lt(""),ct("")};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs(motion.div,{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:rt,children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlinePencilAlt,{className:"w-8 h-8 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Topic"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter topic name",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:dt=>lt(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{placeholder:"Enter topic description",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:dt=>ct(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"mr-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg focus:ring focus:ring-gray-200",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:ut,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:ring focus:ring-blue-200",children:"Save"})]})]})})},AdminSettings=()=>{const{isDarkMode:ot,toggleTheme:rt}=useTheme(),[at,lt]=reactExports.useState(!1),[ct,ut]=reactExports.useState(!1),dt=()=>{ut(!0)},ht=()=>{ut(!1)},ft=()=>{lt(!0)},pt=()=>{lt(!1)};return jsxRuntimeExports.jsxs("div",{className:`p-4 sm:ml-64 pt-16 ${ot?"bg-gray-900":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700",children:[jsxRuntimeExports.jsxs("section",{className:"mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-gray-800 dark:text-gray-200",children:"Settings"}),jsxRuntimeExports.jsx("p",{className:"text-md mt-2 text-gray-600 dark:text-gray-300",children:"Update your account settings here."})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3 mt-10",children:[jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Change Password"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Update your password"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Secure your account by updating your password"}),jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",onClick:ft,children:"Change Password"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Account Details"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Update your account details"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Update your account details such as email address"}),jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:"Update Account"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Manage your notifications"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Manage your dashboard notification settings"}),jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",onClick:dt,children:"Manage Notifications"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Privacy"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Manage your privacy settings"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Manage your account privacy settings"}),jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:"Manage Privacy"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Theme"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Change your theme"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Change your dashboard theme to dark or light"}),jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",onClick:rt,children:"Change Theme"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-10 pl-6 relative",children:[jsxRuntimeExports.jsx("h3",{className:"flex items-center mb-1 text-lg font-semibold text-gray-900 dark:text-white",children:"Delete Account"}),jsxRuntimeExports.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-gray-400 dark:text-gray-500",children:"Delete your account"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-base font-normal text-gray-500 dark:text-gray-400",children:"Delete your account permanently"}),jsxRuntimeExports.jsx("button",{className:"inline-flex items-center px-4 py-2 mt-2 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:outline-none focus:ring-gray-100 focus:text-blue-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 dark:focus:ring-gray-700",children:"Delete Account"})]})]}),jsxRuntimeExports.jsx(Footer,{})]}),at&&jsxRuntimeExports.jsx(UpdateDetailsModal,{isOpen:at,onClose:pt}),ct&&jsxRuntimeExports.jsx(ManageNotificationsModal,{isOpen:ct,onClose:ht})]})},UpdateDetailsModal=({isOpen:ot,onClose:rt})=>jsxRuntimeExports.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50 ${ot?"block":"hidden"}`,children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-md p-6 bg-white rounded-xl shadow-xl dark:bg-gray-800",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"absolute top-4 right-4 text-gray-400 dark:text-gray-300",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Update Account Details"}),jsxRuntimeExports.jsxs("form",{className:"mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-800 dark:text-gray-200",children:"Email Address"}),jsxRuntimeExports.jsx("input",{type:"email",id:"email",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-800 dark:text-gray-200",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",id:"password",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"block mb-2 text-sm font-medium text-gray-800 dark:text-gray-200",children:"Confirm Password"}),jsxRuntimeExports.jsx("input",{type:"password",id:"confirmPassword",className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 focus:ring-blue-500 focus:border-blue-500"})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full px-3 py-2 text-sm font-medium text-white bg-blue-500 rounded-lg focus:bg-blue-600 focus:outline-none",children:"Update Account"})]})]})}),ManageNotificationsModal=({isOpen:ot,onClose:rt})=>jsxRuntimeExports.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center w-full h-full bg-black bg-opacity-50 ${ot?"block":"hidden"}`,children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-md p-6 bg-white rounded-xl shadow-xl dark:bg-gray-800",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"absolute top-4 right-4 text-gray-400 dark:text-gray-300",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Manage Notifications"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:"General"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Receive email notifications",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Important updates and reminders via email"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Receive push notifications",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Important updates and reminders via push notifications"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:"Activity"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2 mb-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["Tasks and assignment deadlines",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"When a task or assignment is assigned to you and upcoming deadlines"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:["New messages",jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"When you receive a new message"})]}),jsxRuntimeExports.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:"",className:"sr-only peer"}),jsxRuntimeExports.jsx("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end mt-10",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"px-3 py-2 text-sm font-medium text-gray-800 bg-gray-200 rounded-lg hover:bg-gray-300 focus:outline-none",children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"px-3 py-2 text-sm font-medium text-white bg-blue-500 rounded-lg ml-2 hover:bg-blue-600 focus:outline-none",children:"Save"})]})]})}),MastersCrs=()=>{const{UserData:ot,Loading:rt}=useAuth(),{researchId:at}=useParams(),lt=useNavigate(),[ct,ut]=reactExports.useState([]),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState(""),[mt,gt]=reactExports.useState(""),[yt,xt]=reactExports.useState(""),[bt,Et]=reactExports.useState({}),[Rt,wt]=reactExports.useState([]),[_t,At]=reactExports.useState(!1),[kt,It]=reactExports.useState(""),[Nt,Pt]=reactExports.useState(""),[Tt,Ct]=reactExports.useState(!1);reactExports.useEffect(()=>{!rt&&ot&&Ot()},[rt,ot]),reactExports.useEffect(()=>{(async()=>{try{if(!at)throw new Error("Course ID is undefined or null");const Kt=doc(db$2,"Module",at),sn=await getDoc(Kt);if(sn.exists()){const Gt=sn.data();Et({id:at,name:Gt.ModuleTitle||"Sample Course",instructor:"Dr. Placeholder",description:Gt.ModuleDescription||"Description not available"})}else console.error("No such module!")}catch(Kt){console.error("Error fetching course details:",Kt)}})()},[at,Et]);const Ot=async()=>{const qt=localStorage.getItem("mastersAssignments");if(qt)ut(JSON.parse(qt));else{const Kt=await Dt(ot.CourseID);ut(Kt),localStorage.setItem("mastersAssignments",JSON.stringify(Kt))}},Dt=async qt=>{const Kt=[];try{for(const sn of qt){const Gt=collection(db$2,"Module",sn,"Assignments"),Wt=query(Gt,orderBy("AssignmentCreation","desc"));(await getDocs(Wt)).forEach(rn=>{if(rn.exists()){const Vt=rn.data();Kt.push({id:rn.id,...Vt})}})}}catch(sn){console.error("Error fetching course types:",sn)}return Kt},jt=async()=>{if(!ft||!mt||!yt){console.error("Please fill all fields.");return}try{const qt=new Date,Kt=new Date(yt),sn=Timestamp.fromDate(qt),Gt=ot.CourseID[0];await addDoc(collection(db$2,"Module",Gt,"Assignments"),{AssignmentTitle:ft,AssignmentDescription:mt,AssignmentDueDate:Timestamp.fromDate(Kt),AssignmentCreation:sn}),await Ot(),ht(!1),pt(""),gt(""),xt("")}catch(qt){console.error("Error adding new assignment:",qt)}},Mt=reactExports.useRef(null);reactExports.useEffect(()=>(ct.length>0&&(Mt.current&&Mt.current.destroy(),setTimeout(()=>{Mt.current=new nt("#assignmentsTable",{searchable:!1,sortable:!1,perPageSelect:!1,perPage:10,labels:{placeholder:"Search assignments...",perPage:"{select} assignments per page"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}}),document.querySelectorAll("#assignmentsTable tbody tr").forEach((qt,Kt)=>{qt.addEventListener("click",()=>{lt(`/masters/${ot.CourseID[0]}/assignments/${ct[Kt].id}`)})})},1e3)),()=>{Mt.current&&Mt.current.destroy()}),[ct,lt,ot.CourseID]);const zt=async()=>{try{const qt=ref(storage,"r_topics/topics.json"),Kt=await getDownloadURL(qt),Wt=(await(await fetch(Kt)).json()).filter(pn=>pn.courseId===at);Array.isArray(Wt)?wt(Wt):(console.error("Fetched topics are not an array"),wt([]))}catch(qt){console.error("Error fetching topics:",qt),wt([])}},Qt=async()=>{if(!kt||!Nt){alert("Please fill in both the topic name and description.");return}Ct(!0);try{const qt=at;console.log("Adding topic for course ID:",qt);const Kt={id:v4(),topicName:kt,description:Nt,isSelected:!1,selectedBy:null,courseId:qt},sn=[...Rt,Kt];wt(sn);const Gt=new Blob([JSON.stringify(sn)],{type:"application/json"}),Wt=ref(storage,"r_topics/topics.json");await uploadBytes(Wt,Gt),It(""),Pt(""),await zt(),B$3.success("Topic added successfully!"),At(!1)}catch(qt){console.error("Error adding topic:",qt),B$3.error("Error adding topic. Please try again.")}finally{Ct(!1)}};return reactExports.useEffect(()=>{if(Rt.length>0){const qt=new nt("#topicsTable",{searchable:!1,sortable:!1,perPageSelect:!1,perPage:10,labels:{placeholder:"Search topics...",perPage:"{select} topics per page"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}});return()=>qt.destroy()}},[Rt]),bt?jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700 dark:bg-gray-800",children:["                ",jsxRuntimeExports.jsxs("section",{className:"mb-6 flex justify-between items-center",style:{display:"none"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Masters"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-5 text-gray-700 dark:text-gray-400",children:"Here are all the assignments you have posted."})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg",onClick:()=>ht(!0),children:[jsxRuntimeExports.jsx(HiPlus,{className:"mr-2"}),"Add New Milestone"]})]}),jsxRuntimeExports.jsxs("section",{className:"max-h-80 mb-4 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:BannerImg$2,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("h1",{className:"absolute text-4xl font-bold tracking-wider text-white dark:text-gray-200",children:bt.name}),jsxRuntimeExports.jsxs("button",{className:"absolute top-3 left-3 flex items-center px-4 py-2 bg-[#00bfff] text-white rounded-lg",onClick:()=>lt(-1),children:[jsxRuntimeExports.jsx(HiChevronLeft,{className:"mr-2"}),"Back"]})]}),jsxRuntimeExports.jsxs("section",{className:"mb-6 border-2 border-[#00bfff] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-[#00bfff]",children:"Research Milestones"}),jsxRuntimeExports.jsx("p",{children:"Here are all the milestones you have posted."}),jsxRuntimeExports.jsxs("table",{id:"assignmentsTable",className:"table-auto w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Milestone"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Created On"})]})}),jsxRuntimeExports.jsx("tbody",{children:ct.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"border px-4 py-2 text-center text-gray-500",children:"No assignments have been added yet."})}):ct.map((qt,Kt)=>jsxRuntimeExports.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",children:[jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.AssignmentTitle}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.AssignmentDescription}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:new Date(qt.AssignmentDueDate.seconds*1e3).toLocaleString()}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:new Date(qt.AssignmentCreation.seconds*1e3).toLocaleString()})]},Kt))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(!0),className:"px-4 py-2 mt-4 bg-[#00bfff] text-white rounded",children:"Add New Milestone"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-7",style:{display:"none"},children:ct.length>0?ct.map((qt,Kt)=>jsxRuntimeExports.jsx(Link,{to:`/masters/${ot.CourseID[0]}/assignments/${qt.id}`,className:"block w-full",children:jsxRuntimeExports.jsxs(motion.div,{className:"border-2 rounded-lg overflow-hidden shadow-md p-4 w-full",whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"},transition:{type:"spring",stiffness:300},children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:qt.AssignmentTitle}),jsxRuntimeExports.jsx("p",{children:qt.AssignmentDescription}),jsxRuntimeExports.jsxs("p",{children:["Due Date: ",new Date(qt.AssignmentDueDate.seconds*1e3).toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:["Created On: ",new Date(qt.AssignmentCreation.seconds*1e3).toLocaleString()]})]})},Kt)):jsxRuntimeExports.jsx("p",{children:"No assignments available."})}),jsxRuntimeExports.jsxs("section",{className:"mt-6 border-2 border-[#00ad43] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-[#00ad43] dark:text-gray-200",children:"Research Topics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mt-2 text-md dark:text-gray-400",children:"Here are all the research topics available for this course."}),jsxRuntimeExports.jsxs("table",{id:"topicsTable",className:"table-auto w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Topic Name"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Student Number"})]})}),jsxRuntimeExports.jsx("tbody",{children:Rt.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"border px-4 py-2 text-center text-gray-500",children:"No topics have been added yet."})}):Rt.map((qt,Kt)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.topicName}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.description}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.isSelected?"Selected":"Available"}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.selectedBy||"None"})]},Kt))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>At(!0),className:"px-4 py-2 mt-4 bg-[#00ad43] text-white rounded",children:"Add New Topic"})]}),jsxRuntimeExports.jsx(TaskModal$1,{isOpen:dt,onClose:()=>ht(!1),onSave:jt,setNewTaskName:pt,setNewTaskDescription:gt,setNewTaskDueDate:xt}),jsxRuntimeExports.jsx(TopicModal$1,{isOpen:_t,onClose:()=>At(!1),onSave:Qt,setNewTopicName:It,setNewTopicDescription:Pt}),jsxRuntimeExports.jsx(Footer$1,{})]})}):jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-screen",children:jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"warning"})})},TaskModal$1=({isOpen:ot,onClose:rt,onSave:at,setNewTaskName:lt,setNewTaskDescription:ct,setNewTaskDueDate:ut})=>{if(!ot)return null;const dt=()=>{at(),lt(""),ct(""),ut("")};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:rt,children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlinePencilAlt,{className:"w-8 h-8 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Milestone"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Title"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter Milestone Title",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>lt(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Description"}),jsxRuntimeExports.jsx("textarea",{placeholder:"Enter Milestone Description",className:"w-full h-14 p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ct(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ut(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"mr-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg focus:ring focus:ring-gray-200",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:ring focus:ring-blue-200",children:"Save"})]})]})})},TopicModal$1=({isOpen:ot,onClose:rt,onSave:at,setNewTopicName:lt,setNewTopicDescription:ct})=>{if(!ot)return null;const ut=()=>{at(),lt(""),ct("")};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs(motion.div,{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:rt,children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlinePencilAlt,{className:"w-8 h-8 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Topic"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter topic name",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:dt=>lt(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{placeholder:"Enter topic description",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:dt=>ct(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"mr-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg focus:ring focus:ring-gray-200",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:ut,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:ring focus:ring-blue-200",children:"Save"})]})]})})},Students=()=>{const{UserData:ot,Loading:rt}=useAuth(),[at,lt]=reactExports.useState([]);reactExports.useEffect(()=>{!rt&&ot&&ct()},[rt,ot]);const ct=async()=>{const dt=await getDocs(collection(db$2,"Student")),ht=[];dt.forEach(ft=>{const pt=ft.data();ot.CourseID.forEach(mt=>{pt.CourseID.forEach(gt=>{if(gt==mt){let yt=pt.ProfilePicture===""?UserLogo:pt.ProfilePicture,xt=ot.CourseID,bt=pt.CourseID,Et=[];for(let _t=0;_t<xt.length;_t++)bt.forEach(At=>{xt[_t]===At&&Et.push(At)});let Rt=pt.ID+","+Et[0];const wt={Name:pt.Name,Surname:pt.Surname,ProfilePicture:yt,StudentType:pt.StudentType,StudentID:pt.ID,CourseID:Rt};ht.push(wt)}})})}),lt(ht)},ut=["border-[#00ad43]","border-[#00bfff]","border-[#590098]","border-[#FF8503]"];return jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 min-h-screen border-gray-200 rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsx("section",{className:"mb-6 flex justify-between items-center",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"Students"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-2 text-gray-700 dark:text-gray-400",children:"Here is a list of all the students you are a supervisor of."})]})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-7",children:at.map((dt,ht)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ht*.1},className:`flex items-center justify-between p-4 border-2 rounded-lg dark:border-gray-700 dark:bg-gray-700 ${ut[ht%ut.length]}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("img",{src:dt.ProfilePicture,alt:"User",className:"w-12 h-12 rounded-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:[dt.Name," ",dt.Surname]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-400",children:dt.StudentType})]})]}),jsxRuntimeExports.jsx(Link,{to:`/Students/${dt.CourseID}`,className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:"View"})]},ht))})]})})},StudentsData=()=>{const ot=useNavigate(),{UserData:rt,Loading:at}=useAuth(),{StudentID:lt}=useParams();reactExports.useState([]);const[ct,ut]=reactExports.useState([]),[dt,ht]=reactExports.useState({SubmissionPermission:!1}),[ft,pt]=reactExports.useState([]),[mt,gt]=reactExports.useState(!1);reactExports.useEffect(()=>{const xt=lt.split(","),bt=xt[0],Et=xt[1],Rt=async()=>{try{const _t=doc(db$2,"Student",bt),At=await getDoc(_t),kt=doc(db$2,`Module/${Et}/Final Submission/${bt}`),It=await getDoc(kt);if(At.exists()){const Nt=At.data();ut({Name:Nt.Name,Surname:Nt.Surname,StudentType:Nt.StudentType,ID:bt,ProfilePicture:Nt.ProfilePicture||UserLogo,CourseID:Et}),It.exists()?ht(It.data()):ht({SubmissionPermission:!1})}else console.error("No such module!")}catch(_t){console.error("Error fetching course details:",_t)}},wt=async()=>{const _t=collection(db$2,"Module",Et,"Assignments"),kt=(await getDocs(_t)).docs.map(Nt=>({...Nt.data(),AssignmentID:Nt.id}));let It=[];console.log(kt);for(let Nt of kt){const Pt=doc(db$2,`Module/${Et}/Assignments/${Nt.AssignmentID}/StudentID/${bt}`),Tt=await getDoc(Pt);if(Tt.exists()){const Ct={SubmissionTitle:Nt.AssignmentTitle,SubmissionDescription:Nt.AssignmentDescription,SubmissionDownloadLink:Tt.data().downloadURL};It.push(Ct),console.log(Ct)}else console.log("Omar Know that stuff off")}console.log(It),pt(It)};!at&&rt&&(Rt(),wt()),console.log()},[at,rt]);const yt=async()=>{try{const xt=doc(db$2,`Module/${ct.CourseID}/Final Submission/${ct.ID}`);await setDoc(xt,{SubmissionPermission:!dt.SubmissionPermission},{merge:!0}),ht({...dt,SubmissionPermission:!dt.SubmissionPermission}),console.log("Submission permission updated successfully")}catch(xt){console.error("Error updating submission permission:",xt)}};return jsxRuntimeExports.jsxs("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("section",{className:"max-h-80 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:BannerImage$2,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsxs("div",{className:"absolute flex flex-col items-center text-white dark:text-gray-200",children:[jsxRuntimeExports.jsx("img",{src:ct.ProfilePicture,className:"w-24 h-24 rounded-full mb-4",alt:"avatar"}),jsxRuntimeExports.jsxs("h1",{className:"text-4xl font-bold tracking-wider",children:[ct.Name," ",ct.Surname]}),jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold",children:ct.StudentType})]}),jsxRuntimeExports.jsxs("button",{className:"absolute top-3 left-3 flex items-center px-4 py-2 rounded-lg bg-[#FF8503] dark:bg-gray-700 shadow-md text-white font-medium dark:text-gray-200",onClick:()=>ot(-1),children:[jsxRuntimeExports.jsx(HiChevronLeft,{className:"mr-2"}),"Back"]})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6 border-2 border-[#FF8503] rounded-lg p-6 dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[#FF8503] dark:text-gray-200",children:"Student Details"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 mt-4",children:jsxRuntimeExports.jsxs("p",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:["Student ID: ",jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-gray-400",children:ct.ID})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 mt-2",children:jsxRuntimeExports.jsxs("p",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:["Student Type: ",jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-gray-400",children:ct.StudentType})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 mt-2",children:jsxRuntimeExports.jsxs("p",{className:"text-md font-semibold text-gray-800 dark:text-gray-200",children:["Associated Course ID: ",jsxRuntimeExports.jsx("span",{className:"text-gray-700 dark:text-gray-400",children:ct.CourseID})]})})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6",children:[jsxRuntimeExports.jsxs("section",{className:"mt-4 border-2 border-[#590098] rounded-lg p-6 dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-extrabold text-[#590098] mb-4 dark:text-gray-200",children:"Final Submission"}),!dt.SubmissionPermission&&jsxRuntimeExports.jsxs("label",{className:"flex items-center mt-2 space-x-3",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:mt,onChange:xt=>gt(xt.target.checked),className:"h-6 w-6 rounded-lg text-blue-600 focus:ring-blue-500 border-gray-300"}),jsxRuntimeExports.jsxs("span",{className:"text-gray-700 dark:text-gray-400",children:["I confirm I want to enable ",ct.Name," ",ct.Surname,"'s final submission"]})]}),jsxRuntimeExports.jsx("button",{className:`mt-4 px-4 py-2 rounded ${dt.SubmissionPermission?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} text-white`,onClick:yt,disabled:!mt&&!dt.SubmissionPermission,children:dt.SubmissionPermission?"Disable Final Submission":"Enable Final Submission"})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6 border-2 border-[#00bfff] rounded-lg p-6 dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[#00bfff] dark:text-gray-200",children:"Submissions"}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-gray-700 dark:text-gray-400",children:["Here are all the submissions made by ",ct.Name," ",ct.Surname,"."]}),jsxRuntimeExports.jsx("ul",{className:"mt-2 space-y-4",children:ft.length>0?ft.map((xt,bt)=>jsxRuntimeExports.jsxs("li",{className:"p-4 rounded-lg dark:bg-gray-900 dark:border-gray-700",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:xt.SubmissionTitle}),jsxRuntimeExports.jsx("p",{className:" text-gray-700 dark:text-gray-400",children:xt.SubmissionDescription}),jsxRuntimeExports.jsx("a",{href:xt.SubmissionDownloadLink,className:"mt-2 inline-block text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Download Submission"})]},bt)):jsxRuntimeExports.jsx("p",{className:"mt-2 text-gray-700 dark:text-gray-400",children:"They have not completed any of your submissions."})})]})]})]}),jsxRuntimeExports.jsx(Footer$1,{})]})},BannerImg="/PostGradePortal/assets/RegImage5-DfSYyTGG.jpg",PhDCrs=()=>{const{UserData:ot,Loading:rt}=useAuth(),{researchId:at}=useParams(),lt=useNavigate(),[ct,ut]=reactExports.useState([]),[dt,ht]=reactExports.useState(!1),[ft,pt]=reactExports.useState(""),[mt,gt]=reactExports.useState(""),[yt,xt]=reactExports.useState(""),[bt,Et]=reactExports.useState({}),[Rt,wt]=reactExports.useState([]),[_t,At]=reactExports.useState(!1),[kt,It]=reactExports.useState(""),[Nt,Pt]=reactExports.useState(""),[Tt,Ct]=reactExports.useState(!1);reactExports.useEffect(()=>{!rt&&ot&&Ot()},[rt,ot]),reactExports.useEffect(()=>{(async()=>{try{if(!at)throw new Error("Course ID is undefined or null");const Kt=doc(db$2,"Module",at),sn=await getDoc(Kt);if(sn.exists()){const Gt=sn.data();Et({id:at,name:Gt.ModuleTitle||"Sample Course",instructor:"Dr. Placeholder",description:Gt.ModuleDescription||"Description not available"})}else console.error("No such module!")}catch(Kt){console.error("Error fetching course details:",Kt)}})()},[at,Et]);const Ot=async()=>{const qt=localStorage.getItem("phdAssignments");if(qt)ut(JSON.parse(qt));else{const Kt=await Dt(ot.CourseID);ut(Kt),localStorage.setItem("phdAssignments",JSON.stringify(Kt))}},Dt=async qt=>{const Kt=[];try{for(const sn of qt){const Gt=collection(db$2,"Module",sn,"Assignments"),Wt=query(Gt,orderBy("AssignmentCreation","desc"));(await getDocs(Wt)).forEach(rn=>{if(rn.exists()){const Vt=rn.data();Kt.push({id:rn.id,...Vt})}})}}catch(sn){console.error("Error fetching course types:",sn)}return Kt},jt=async()=>{if(!ft||!mt||!yt){console.error("Please fill all fields.");return}try{const qt=new Date,Kt=new Date(yt),sn=Timestamp.fromDate(qt),Gt=ot.CourseID[0];await addDoc(collection(db$2,"Module",Gt,"Assignments"),{AssignmentTitle:ft,AssignmentDescription:mt,AssignmentDueDate:Timestamp.fromDate(Kt),AssignmentCreation:sn}),await Ot(),ht(!1),pt(""),gt(""),xt("")}catch(qt){console.error("Error adding new assignment:",qt)}},Mt=reactExports.useRef(null);reactExports.useEffect(()=>(ct.length>0&&(Mt.current&&Mt.current.destroy(),setTimeout(()=>{Mt.current=new nt("#assignmentsTable",{searchable:!1,sortable:!1,perPageSelect:!1,perPage:10,labels:{placeholder:"Search assignments...",perPage:"{select} assignments per page"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}}),document.querySelectorAll("#assignmentsTable tbody tr").forEach((qt,Kt)=>{qt.addEventListener("click",()=>{lt(`/masters/${ot.CourseID[0]}/assignments/${ct[Kt].id}`)})})},1e3)),()=>{Mt.current&&Mt.current.destroy()}),[ct,lt,ot.CourseID]);const zt=async()=>{try{const qt=ref(storage,"r_topics/topics.json"),Kt=await getDownloadURL(qt),Wt=(await(await fetch(Kt)).json()).filter(pn=>pn.courseId===at);Array.isArray(Wt)?wt(Wt):(console.error("Fetched topics are not an array"),wt([]))}catch(qt){console.error("Error fetching topics:",qt),wt([])}},Qt=async()=>{if(!kt||!Nt){alert("Please fill in both the topic name and description.");return}Ct(!0);try{const qt=at;console.log("Adding topic for course ID:",qt);const Kt={id:v4(),topicName:kt,description:Nt,isSelected:!1,selectedBy:null,courseId:qt},sn=[...Rt,Kt];wt(sn);const Gt=new Blob([JSON.stringify(sn)],{type:"application/json"}),Wt=ref(storage,"r_topics/topics.json");await uploadBytes(Wt,Gt),It(""),Pt(""),await zt(),B$3.success("Topic added successfully!"),At(!1)}catch(qt){console.error("Error adding topic:",qt),B$3.error("Error adding topic. Please try again.")}finally{Ct(!1)}};return reactExports.useEffect(()=>{if(Rt.length>0){const qt=new nt("#topicsTable",{searchable:!1,sortable:!1,perPageSelect:!1,perPage:10,labels:{placeholder:"Search topics...",perPage:"{select} topics per page"},layout:{top:"{select}{search}",bottom:"{info}{pager}"}});return()=>qt.destroy()}},[Rt]),bt?jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-6 sm:mr-6 lg:ml-72 lg:mr-72",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200 rounded-lg dark:border-gray-700 dark:bg-gray-800",children:[jsxRuntimeExports.jsxs("section",{className:"mb-6 flex justify-between items-center",style:{display:"none"},children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold tracking-wider text-gray-800 dark:text-gray-200",children:"PhD"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-normal mt-5 text-gray-700 dark:text-gray-400",children:"Here are all the assignments you have posted."})]}),jsxRuntimeExports.jsxs("button",{className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg",onClick:()=>ht(!0),children:[jsxRuntimeExports.jsx(HiPlus,{className:"mr-2"}),"Add New Milestone"]})]}),jsxRuntimeExports.jsxs("section",{className:"max-h-80 mb-4 flex items-center justify-center w-full overflow-hidden rounded-lg relative",children:[jsxRuntimeExports.jsx("img",{src:BannerImg,alt:"Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("h1",{className:"absolute text-4xl font-bold tracking-wider text-white dark:text-gray-200",children:bt.name}),jsxRuntimeExports.jsxs("button",{className:"absolute top-3 left-3 flex items-center px-4 py-2 bg-[#FF8503] text-white rounded-lg",onClick:()=>lt(-1),children:[jsxRuntimeExports.jsx(HiChevronLeft,{className:"mr-2"}),"Back"]})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6",style:{display:"none"},children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold text-gray-800 dark:text-gray-200",children:"PhD Research"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mt-2 text-lg font-semibold dark:text-gray-400",children:"Here are all the assignments you have posted."})]}),jsxRuntimeExports.jsxs("section",{className:"mb-6 border-2 border-[#590098] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-[#590098]",children:"Research Milestones"}),jsxRuntimeExports.jsx("p",{children:"Here are all the milestones you have posted."}),jsxRuntimeExports.jsxs("table",{id:"assignmentsTable",className:"table-auto w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Milestone"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Created On"})]})}),jsxRuntimeExports.jsx("tbody",{children:ct.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"border px-4 py-2 text-center text-gray-500",children:"No assignments have been added yet."})}):ct.map((qt,Kt)=>jsxRuntimeExports.jsxs("tr",{className:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",children:[jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.AssignmentTitle}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.AssignmentDescription}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:new Date(qt.AssignmentDueDate.seconds*1e3).toLocaleString()}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:new Date(qt.AssignmentCreation.seconds*1e3).toLocaleString()})]},Kt))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>ht(!0),className:"px-4 py-2 mt-4 bg-[#590098] text-white rounded",children:"Add New Milestone"})]}),jsxRuntimeExports.jsxs("section",{className:"mt-6 border-2 border-[#00bfff] rounded-lg p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-[#00bfff] dark:text-gray-200",children:"Research Topics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 mt-2 text-md dark:text-gray-400",children:"Here are all the research topics available for this course."}),jsxRuntimeExports.jsxs("table",{id:"topicsTable",className:"table-auto w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Topic Name"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"border px-4 py-2",children:"Student Number"})]})}),jsxRuntimeExports.jsx("tbody",{children:Rt.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"4",className:"border px-4 py-2 text-center text-gray-500",children:"No topics have been added yet."})}):Rt.map((qt,Kt)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.topicName}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.description}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.isSelected?"Selected":"Available"}),jsxRuntimeExports.jsx("td",{className:"border px-4 py-2",children:qt.selectedBy||"None"})]},Kt))})]}),jsxRuntimeExports.jsx("button",{onClick:()=>At(!0),className:"px-4 py-2 mt-4 bg-[#00bfff] text-white rounded",children:"Add New Topic"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-7",style:{display:"none"},children:[ct.length>0?ct.map((qt,Kt)=>jsxRuntimeExports.jsx(Link,{to:`/PhD/${ot.CourseID[0]}/assignments/${qt.id}`,className:"block w-full",children:jsxRuntimeExports.jsxs(motion.div,{className:"border-2 rounded-lg overflow-hidden shadow-md p-4 w-full",whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(0, 0, 0, 0.2)"},transition:{type:"spring",stiffness:300},children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:qt.AssignmentTitle}),jsxRuntimeExports.jsx("p",{children:qt.AssignmentDescription}),jsxRuntimeExports.jsxs("p",{children:["Due Date: ",new Date(qt.AssignmentDueDate.seconds*1e3).toLocaleString()]}),jsxRuntimeExports.jsxs("p",{children:["Created On: ",new Date(qt.AssignmentCreation.seconds*1e3).toLocaleString()]})]})},Kt)):jsxRuntimeExports.jsx("p",{children:"No assignments available."}),jsxRuntimeExports.jsxs("button",{onClick:()=>ht(!0),className:"flex items-center px-4 py-2 bg-blue-500 text-white rounded-lg",children:[jsxRuntimeExports.jsx(HiPlus,{className:"mr-2"}),"Add New Milestone"]})]}),jsxRuntimeExports.jsx(TaskModal,{isOpen:dt,onClose:()=>ht(!1),onSave:jt,setNewTaskName:pt,setNewTaskDescription:gt,setNewTaskDueDate:xt}),jsxRuntimeExports.jsx(TopicModal,{isOpen:_t,onClose:()=>At(!1),onSave:Qt,setNewTopicName:It,setNewTopicDescription:Pt}),jsxRuntimeExports.jsx(Footer$1,{})]})}):jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center min-h-screen",children:jsxRuntimeExports.jsx(Spinner,{size:"xl",color:"warning"})})},TopicModal=({isOpen:ot,onClose:rt,onSave:at,setNewTopicName:lt,setNewTopicDescription:ct})=>{if(!ot)return null;const ut=()=>{at(),lt(""),ct("")};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs(motion.div,{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:rt,children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlinePencilAlt,{className:"w-8 h-8 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Topic"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Topic Name"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter topic name",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:dt=>lt(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{placeholder:"Enter topic description",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:dt=>ct(dt.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"mr-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg focus:ring focus:ring-gray-200",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:ut,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:ring focus:ring-blue-200",children:"Save"})]})]})})},TaskModal=({isOpen:ot,onClose:rt,onSave:at,setNewTaskName:lt,setNewTaskDescription:ct,setNewTaskDueDate:ut})=>{if(!ot)return null;const dt=()=>{at(),lt(""),ct(""),ut("")};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:jsxRuntimeExports.jsxs("div",{className:"relative bg-white p-6 rounded-lg shadow-xl w-full max-w-lg",children:[jsxRuntimeExports.jsx("button",{className:"absolute top-2 right-2 text-gray-500 hover:text-gray-700 focus:outline-none",onClick:rt,children:jsxRuntimeExports.jsx(HiOutlineXCircle,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4",children:[jsxRuntimeExports.jsx(HiOutlinePencilAlt,{className:"w-8 h-8 text-blue-600 mr-2"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Add New Milestone"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Title"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter Milestone Title",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>lt(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Milestone Description"}),jsxRuntimeExports.jsx("textarea",{placeholder:"Enter Milestone Description",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ct(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),jsxRuntimeExports.jsx("input",{type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",onChange:ht=>ut(ht.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end",children:[jsxRuntimeExports.jsx("button",{onClick:rt,className:"mr-2 bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg focus:ring focus:ring-gray-200",children:"Close"}),jsxRuntimeExports.jsx("button",{onClick:dt,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg focus:ring focus:ring-blue-200",children:"Save"})]})]})})},MemoizedSidebarComponent=reactExports.memo(SidebarComponent),MemoizedRightSidebar=reactExports.memo(RightSidebar),PageRoutes=()=>{const[ot,rt]=reactExports.useState(!1),[at,lt]=reactExports.useState("Student"),ct=useLocation();reactExports.useEffect(()=>{(()=>{const pt=localStorage.getItem("userRole")||"Student";lt(pt),console.log("This is the current role right now:",pt)})(),console.log("This is the current role right now:",at)},[]);const ut=reactExports.useMemo(()=>at==="Admin"?jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/admin/dashboard",element:jsxRuntimeExports.jsx(AdminDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/*",element:jsxRuntimeExports.jsx(Navigate,{to:"/admin/dashboard"})})," "]}):jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(Dashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/courses",element:jsxRuntimeExports.jsx(Courses,{})}),jsxRuntimeExports.jsx(Route,{path:"/courses/course/:courseId",element:jsxRuntimeExports.jsx(Course,{})}),jsxRuntimeExports.jsx(Route,{path:"/honours/:courseId/assignments/:assignmentId",element:jsxRuntimeExports.jsx(Assignments,{})}),jsxRuntimeExports.jsx(Route,{path:"/courses/course/:courseId/topic/:topicId",element:jsxRuntimeExports.jsx(TopicContent,{})}),jsxRuntimeExports.jsx(Route,{path:"/research",element:jsxRuntimeExports.jsx(Research,{})}),jsxRuntimeExports.jsx(Route,{path:"/research/:researchId",element:jsxRuntimeExports.jsx(ResearchCourse,{})}),jsxRuntimeExports.jsx(Route,{path:"/honours",element:jsxRuntimeExports.jsx(Honours,{})}),jsxRuntimeExports.jsx(Route,{path:"/honours/:researchId",element:jsxRuntimeExports.jsx(HonoursCrs,{})}),jsxRuntimeExports.jsx(Route,{path:"/phd",element:jsxRuntimeExports.jsx(PhD,{})}),jsxRuntimeExports.jsx(Route,{path:"/phd/:researchId",element:jsxRuntimeExports.jsx(PhDCrs,{})}),jsxRuntimeExports.jsx(Route,{path:"/phd/:courseId/assignments/:assignmentId",element:jsxRuntimeExports.jsx(Assignments,{})}),jsxRuntimeExports.jsx(Route,{path:"/masters",element:jsxRuntimeExports.jsx(Masters,{})}),jsxRuntimeExports.jsx(Route,{path:"/masters/:researchId",element:jsxRuntimeExports.jsx(MastersCrs,{})}),jsxRuntimeExports.jsx(Route,{path:"/masters/:courseId/assignments/:assignmentId",element:jsxRuntimeExports.jsx(Assignments,{})}),jsxRuntimeExports.jsx(Route,{path:"/tasks",element:jsxRuntimeExports.jsx(Tasks,{})}),jsxRuntimeExports.jsx(Route,{path:"/students",element:jsxRuntimeExports.jsx(Students,{})}),jsxRuntimeExports.jsx(Route,{path:"/students/:StudentID",element:jsxRuntimeExports.jsx(StudentsData,{})}),jsxRuntimeExports.jsx(Route,{path:"/inbox",element:jsxRuntimeExports.jsx(Inbox,{})}),jsxRuntimeExports.jsx(Route,{path:"/milestones",element:jsxRuntimeExports.jsx(Milestones,{})}),jsxRuntimeExports.jsx(Route,{path:"/settings",element:jsxRuntimeExports.jsx(Settings,{})}),jsxRuntimeExports.jsx(Route,{path:"/review-submissions",element:jsxRuntimeExports.jsx(Review,{})})]}),[at]),dt=reactExports.useCallback(()=>rt(!0),[]),ht=reactExports.useCallback(()=>rt(!1),[]);return reactExports.useEffect(()=>{dt();const ft=setTimeout(()=>{ht()},3e3);return()=>clearTimeout(ft)},[ct,dt,ht]),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx(MemoizedSidebarComponent,{}),jsxRuntimeExports.jsx("main",{className:"flex-1 relative",children:ot?jsxRuntimeExports.jsx(LogoLoader,{}):jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:ut})}),jsxRuntimeExports.jsx(MemoizedRightSidebar,{})]})},AdminAnalytics=()=>jsxRuntimeExports.jsx("div",{className:"p-4 sm:ml-64 pt-16",children:jsxRuntimeExports.jsxs("div",{className:"p-4 border-2 border-gray-200  rounded-lg dark:border-gray-700",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold text-gray-800 dark:text-white",children:"Analytics"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mt-2 dark:text-gray-300",children:"View the analytics for students per supervisor"}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between"})}),jsxRuntimeExports.jsx(Footer,{})]})}),AdminPageRoutes=()=>jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/admin/dashboard",element:jsxRuntimeExports.jsx(AdminDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/settings",element:jsxRuntimeExports.jsx(AdminSettings,{})}),jsxRuntimeExports.jsx(Route,{path:"/admin/analytics",element:jsxRuntimeExports.jsx(AdminAnalytics,{})})]}),ForgotPassword=()=>{const[ot,rt]=reactExports.useState(""),[at,lt]=reactExports.useState(""),[ct,ut]=reactExports.useState(""),[dt,ht]=reactExports.useState(!1),ft=useNavigate();reactExports.useEffect(()=>{const mt=localStorage.getItem("rememberedEmail");mt&&rt(mt)},[]);const pt=async mt=>{mt.preventDefault(),ht(!0),lt(""),ut("");try{await sendPasswordResetEmail(auth,ot),ut("Password reset email sent! Check your inbox."),setTimeout(()=>ft("/login"),3e3)}catch{lt("Error sending password reset email. Please try again.")}finally{ht(!1)}};return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`linear-gradient(rgba(0,0,0,0.1),rgba(0,0,0,0.1)),url(${LoginImage})`},children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-7 left-7 flex items-center space-x-4",children:[jsxRuntimeExports.jsx("img",{src:Logo$1,alt:"University of Johannesburg Logo",className:"w-24 h-w-24 rounded-xl"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white dark:text-gray-200 mb-2",children:"PostGrade Portal"}),jsxRuntimeExports.jsx("p",{className:"text-md font-normal text-white dark:text-gray-300",children:"University of Johannesburg"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-sm bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center rounded-xl h-20 -mt-16 mb-6 p-4 bg-[#FF8503] dark:bg-gray-700",children:jsxRuntimeExports.jsx("h1",{className:"text-3xl font-extrabold text-white text-center",children:"Forgot Password"})}),jsxRuntimeExports.jsxs("form",{className:"space-y-6",onSubmit:pt,children:[jsxRuntimeExports.jsx("header",{className:"text-center mb-4 dark:text-gray-200",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Enter your email to receive a password reset link"})}),at&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-center",children:at}),ct&&jsxRuntimeExports.jsx("div",{className:"text-green-500 text-center",children:ct}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"email",id:"email",value:ot,onChange:mt=>rt(mt.target.value),className:"block px-2.5 pb-2.5 pt-4 w-full text-sm text-gray-900 bg-transparent rounded-lg border-1 border-gray-300 dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"absolute text-base text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-gray-800 px-2 peer-focus:px-2 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:top-1/2 peer-focus:top-2 peer-focus:scale-75 peer-focus:-translate-y-4 start-1",children:"Email"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-sm text-blue-500 dark:text-blue-400 hover:no-underline",children:"Back to login"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full mt-10 px-4 py-2 text-base font-medium text-white bg-[#FF8503] rounded-lg hover:bg-[#FF8503] dark:bg-gray-700 dark:hover:bg-gray-600",disabled:dt,children:dt?jsxRuntimeExports.jsx(Spinner,{className:"fill-white",size:"md"}):"Send Reset Link"})})]})]}),jsxRuntimeExports.jsx("footer",{className:"absolute bottom-0 w-full p-4 text-center text-gray-700 dark:text-gray-400",children:jsxRuntimeExports.jsxs("p",{className:"text-sm font-normal text-center text-white dark:text-gray-400",children:["© 2024 All Rights Reserved. ",jsxRuntimeExports.jsx("br",{})," ",jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"PostGrade Portal"})," is a product of the ",jsxRuntimeExports.jsx("span",{className:"text-blue-500",children:"University of Johannesburg"})]})})]})};function App(){const ot=localStorage.getItem("userRole");return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Navigate,{to:"/login"})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/forgot-password",element:jsxRuntimeExports.jsx(ForgotPassword,{})}),ot==="Admin"?jsxRuntimeExports.jsx(Route,{path:"/admin/*",element:jsxRuntimeExports.jsx(AdminPageRoutes,{})}):jsxRuntimeExports.jsx(Route,{path:"/*",element:jsxRuntimeExports.jsx(PageRoutes,{})})]}),jsxRuntimeExports.jsx(Q$2,{})]})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{basename:"/PostGradePortal/",children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(ThemeProvider,{children:jsxRuntimeExports.jsx(App,{})})})})}));
